{"ast":null,"code":"/*! For license information please see selphid-widget-web.min.js.LICENSE.txt */\nvar e = {\n  871: (e, t, i) => {\n    i.d(t, {\n      k: () => l\n    }), e = i.hmd(e);\n\n    class l {\n      constructor(e, t, i) {\n        this.graphUrl = e, this.graphReadyEvent = t, this.graphNewStateEvent = i, this.xmlHttpWidget = new XMLHttpRequest(), this.xmlHttpWidget.onreadystatechange = this.readyEvent.bind(this), this.xmlHttpWidget.open(\"GET\", this.graphUrl), this.xmlHttpWidget.send(null);\n      }\n\n      readyEvent(e) {\n        if (4 == e.target.readyState && 200 == e.target.status) {\n          var t = new DOMParser();\n          this.xmlDoc = t.parseFromString(e.target.responseText, \"text/xml\"), this.graphReadyEvent();\n        }\n      }\n\n      setInitialState(e) {\n        null != this.xmlDoc.querySelector(\"[name='\" + e + \"']\") && (this.state = e, this.graphNewStateEvent(this.state));\n      }\n\n      sendMessage(e) {\n        var t = this.xmlDoc.querySelector(\"[name='\" + this.state + \"']\");\n\n        if (null != t) {\n          var i = t.querySelector(\"[message='\" + e + \"']\");\n\n          if (null != i || (e = e.split(\"//\")[0], null != (i = t.querySelector(\"[message='\" + e + \"']\")))) {\n            var l = i.getAttribute(\"to\");\n            this.state = l, this.graphNewStateEvent(this.state);\n          }\n        }\n      }\n\n    }\n\n    !function (t) {\n      \"object\" == typeof exports ? e.exports = t() : \"function\" == typeof define && i.amdO ? define([], t) : (\"undefined\" != typeof window ? window : void 0 !== i.g ? i.g : \"undefined\" != typeof self ? self : this).Animated_GIF = t();\n    }(function () {\n      return function e(t, i, l) {\n        function a(s, d) {\n          if (!i[s]) {\n            if (!t[s]) {\n              if (n) return n(s, !0);\n              var c = new Error(\"Cannot find module '\" + s + \"'\");\n              throw c.code = \"MODULE_NOT_FOUND\", c;\n            }\n\n            var h = i[s] = {\n              exports: {}\n            };\n            t[s][0].call(h.exports, function (e) {\n              return a(t[s][1][e] || e);\n            }, h, h.exports, e, t, i, l);\n          }\n\n          return i[s].exports;\n        }\n\n        for (var n = void 0, s = 0; s < l.length; s++) a(l[s]);\n\n        return a;\n      }({\n        1: [function (e, t, i) {\n          function l(e, t, i, l) {\n            for (var a = e[t++], n = 1 << a, s = n + 1, d = s + 1, c = a + 1, h = (1 << c) - 1, o = 0, r = 0, m = 0, I = e[t++], Z = new Int32Array(4096), b = null;;) {\n              for (; o < 16 && 0 !== I;) r |= e[t++] << o, o += 8, 1 === I ? I = e[t++] : --I;\n\n              if (o < c) break;\n              var R = r & h;\n\n              if (r >>= c, o -= c, R !== n) {\n                if (R === s) break;\n\n                for (var u = R < d ? R : b, g = 0, W = u; W > n;) W = Z[W] >> 8, ++g;\n\n                var V = W;\n                if (m + g + (u !== R ? 1 : 0) > l) return void console.log(\"Warning, gif stream longer than expected.\");\n                i[m++] = V;\n                var p = m += g;\n\n                for (u !== R && (i[m++] = V), W = u; g--;) W = Z[W], i[--p] = 255 & W, W >>= 8;\n\n                null !== b && d < 4096 && (Z[d++] = b << 8 | V, d >= h + 1 && c < 12 && (++c, h = h << 1 | 1)), b = R;\n              } else d = s + 1, h = (1 << (c = a + 1)) - 1, b = null;\n            }\n\n            return m !== l && console.log(\"Warning, gif stream shorter than expected.\"), i;\n          }\n\n          try {\n            i.GifWriter = function (e, t, i, l) {\n              function a(e) {\n                var t = e.length;\n                if (t < 2 || t > 256 || t & t - 1) throw \"Invalid code/color length, must be power of 2 and 2 .. 256.\";\n                return t;\n              }\n\n              var n = 0,\n                  s = void 0 === (l = void 0 === l ? {} : l).loop ? null : l.loop,\n                  d = void 0 === l.palette ? null : l.palette;\n              if (t <= 0 || i <= 0 || t > 65535 || i > 65535) throw \"Width/Height invalid.\";\n              e[n++] = 71, e[n++] = 73, e[n++] = 70, e[n++] = 56, e[n++] = 57, e[n++] = 97;\n              var c = 0,\n                  h = 0;\n\n              if (null !== d) {\n                for (var o = a(d); o >>= 1;) ++c;\n\n                if (o = 1 << c, --c, void 0 !== l.background) {\n                  if ((h = l.background) >= o) throw \"Background index out of range.\";\n                  if (0 === h) throw \"Background index explicitly passed as 0.\";\n                }\n              }\n\n              if (e[n++] = 255 & t, e[n++] = t >> 8 & 255, e[n++] = 255 & i, e[n++] = i >> 8 & 255, e[n++] = (null !== d ? 128 : 0) | c, e[n++] = h, e[n++] = 0, null !== d) for (var r = 0, m = d.length; r < m; ++r) {\n                var I = d[r];\n                e[n++] = I >> 16 & 255, e[n++] = I >> 8 & 255, e[n++] = 255 & I;\n              }\n\n              if (null !== s) {\n                if (s < 0 || s > 65535) throw \"Loop count invalid.\";\n                e[n++] = 33, e[n++] = 255, e[n++] = 11, e[n++] = 78, e[n++] = 69, e[n++] = 84, e[n++] = 83, e[n++] = 67, e[n++] = 65, e[n++] = 80, e[n++] = 69, e[n++] = 50, e[n++] = 46, e[n++] = 48, e[n++] = 3, e[n++] = 1, e[n++] = 255 & s, e[n++] = s >> 8 & 255, e[n++] = 0;\n              }\n\n              var Z = !1;\n              this.addFrame = function (t, i, l, s, c, h) {\n                if (!0 === Z && (--n, Z = !1), h = void 0 === h ? {} : h, t < 0 || i < 0 || t > 65535 || i > 65535) throw \"x/y invalid.\";\n                if (l <= 0 || s <= 0 || l > 65535 || s > 65535) throw \"Width/Height invalid.\";\n                if (c.length < l * s) throw \"Not enough pixels for the frame size.\";\n                var o = !0,\n                    r = h.palette;\n                if (null != r || (o = !1, r = d), null == r) throw \"Must supply either a local or global palette.\";\n\n                for (var m = a(r), I = 0; m >>= 1;) ++I;\n\n                m = 1 << I;\n                var b = void 0 === h.delay ? 0 : h.delay,\n                    R = void 0 === h.disposal ? 0 : h.disposal;\n                if (R < 0 || R > 3) throw \"Disposal out of range.\";\n                var u = !1,\n                    g = 0;\n                if (void 0 !== h.transparent && null !== h.transparent && (u = !0, (g = h.transparent) < 0 || g >= m)) throw \"Transparent color index.\";\n                if ((0 !== R || u || 0 !== b) && (e[n++] = 33, e[n++] = 249, e[n++] = 4, e[n++] = R << 2 | (!0 === u ? 1 : 0), e[n++] = 255 & b, e[n++] = b >> 8 & 255, e[n++] = g, e[n++] = 0), e[n++] = 44, e[n++] = 255 & t, e[n++] = t >> 8 & 255, e[n++] = 255 & i, e[n++] = i >> 8 & 255, e[n++] = 255 & l, e[n++] = l >> 8 & 255, e[n++] = 255 & s, e[n++] = s >> 8 & 255, e[n++] = !0 === o ? 128 | I - 1 : 0, !0 === o) for (var W = 0, V = r.length; W < V; ++W) {\n                  var p = r[W];\n                  e[n++] = p >> 16 & 255, e[n++] = p >> 8 & 255, e[n++] = 255 & p;\n                }\n\n                n = function (e, t, i, l) {\n                  function a(i) {\n                    for (; m >= i;) e[t++] = 255 & I, I >>= 8, m -= 8, t === s + 256 && (e[s] = 255, s = t++);\n                  }\n\n                  function n(e) {\n                    I |= e << m, m += r, a(8);\n                  }\n\n                  e[t++] = i;\n                  var s = t++,\n                      d = 1 << i,\n                      c = d - 1,\n                      h = d + 1,\n                      o = h + 1,\n                      r = i + 1,\n                      m = 0,\n                      I = 0,\n                      Z = l[0] & c,\n                      b = {};\n                  n(d);\n\n                  for (var R = 1, u = l.length; R < u; ++R) {\n                    var g = l[R] & c,\n                        W = Z << 8 | g,\n                        V = b[W];\n\n                    if (void 0 === V) {\n                      for (I |= Z << m, m += r; m >= 8;) e[t++] = 255 & I, I >>= 8, m -= 8, t === s + 256 && (e[s] = 255, s = t++);\n\n                      4096 === o ? (n(d), o = h + 1, r = i + 1, b = {}) : (o >= 1 << r && ++r, b[W] = o++), Z = g;\n                    } else Z = V;\n                  }\n\n                  return n(Z), n(h), a(1), s + 1 === t ? e[s] = 0 : (e[s] = t - s - 1, e[t++] = 0), t;\n                }(e, n, I < 2 ? 2 : I, c);\n              }, this.end = function () {\n                return !1 === Z && (e[n++] = 59, Z = !0), n;\n              };\n            }, i.GifReader = function (e) {\n              var t = 0;\n              if (71 !== e[t++] || 73 !== e[t++] || 70 !== e[t++] || 56 !== e[t++] || 56 != (e[t++] + 1 & 253) || 97 !== e[t++]) throw \"Invalid GIF 87a/89a header.\";\n              var i = e[t++] | e[t++] << 8,\n                  a = e[t++] | e[t++] << 8,\n                  n = e[t++],\n                  s = n >> 7,\n                  d = 1 << 1 + (7 & n);\n              e[t++], e[t++];\n              var c = null;\n              s && (c = t, t += 3 * d);\n              var h = !0,\n                  o = [],\n                  r = 0,\n                  m = null,\n                  I = 0,\n                  Z = null;\n\n              for (this.width = i, this.height = a; h && t < e.length;) switch (e[t++]) {\n                case 33:\n                  switch (e[t++]) {\n                    case 255:\n                      if (11 !== e[t] || 78 == e[t + 1] && 69 == e[t + 2] && 84 == e[t + 3] && 83 == e[t + 4] && 67 == e[t + 5] && 65 == e[t + 6] && 80 == e[t + 7] && 69 == e[t + 8] && 50 == e[t + 9] && 46 == e[t + 10] && 48 == e[t + 11] && 3 == e[t + 12] && 1 == e[t + 13] && 0 == e[t + 16]) t += 14, Z = e[t++] | e[t++] << 8, t++;else for (t += 12; 0 !== (C = e[t++]);) t += C;\n                      break;\n\n                    case 249:\n                      if (4 !== e[t++] || 0 !== e[t + 4]) throw \"Invalid graphics extension block.\";\n                      var b = e[t++];\n                      r = e[t++] | e[t++] << 8, m = e[t++], 0 == (1 & b) && (m = null), I = b >> 2 & 7, t++;\n                      break;\n\n                    case 254:\n                      for (; 0 !== (C = e[t++]);) t += C;\n\n                      break;\n\n                    default:\n                      throw \"Unknown graphic control label: 0x\" + e[t - 1].toString(16);\n                  }\n\n                  break;\n\n                case 44:\n                  var R = e[t++] | e[t++] << 8,\n                      u = e[t++] | e[t++] << 8,\n                      g = e[t++] | e[t++] << 8,\n                      W = e[t++] | e[t++] << 8,\n                      V = e[t++],\n                      p = V >> 6 & 1,\n                      G = c,\n                      X = !1;\n                  V >> 7 && (X = !0, G = t, t += 3 * (1 << 1 + (7 & V)));\n                  var y = t;\n\n                  for (t++;;) {\n                    var C;\n                    if (0 === (C = e[t++])) break;\n                    t += C;\n                  }\n\n                  o.push({\n                    x: R,\n                    y: u,\n                    width: g,\n                    height: W,\n                    has_local_palette: X,\n                    palette_offset: G,\n                    data_offset: y,\n                    data_length: t - y,\n                    transparent_index: m,\n                    interlaced: !!p,\n                    delay: r,\n                    disposal: I\n                  });\n                  break;\n\n                case 59:\n                  h = !1;\n                  break;\n\n                default:\n                  throw \"Unknown gif block: 0x\" + e[t - 1].toString(16);\n              }\n\n              this.numFrames = function () {\n                return o.length;\n              }, this.loopCount = function () {\n                return Z;\n              }, this.frameInfo = function (e) {\n                if (e < 0 || e >= o.length) throw \"Frame index out of range.\";\n                return o[e];\n              }, this.decodeAndBlitFrameBGRA = function (t, a) {\n                var n = this.frameInfo(t),\n                    s = n.width * n.height,\n                    d = new Uint8Array(s);\n                l(e, n.data_offset, d, s);\n                var c = n.palette_offset,\n                    h = n.transparent_index;\n                null === h && (h = 256);\n                var o = n.width,\n                    r = i - o,\n                    m = o,\n                    I = 4 * (n.y * i + n.x),\n                    Z = 4 * ((n.y + n.height) * i + n.x),\n                    b = I,\n                    R = 4 * r;\n                !0 === n.interlaced && (R += 4 * i * 7);\n\n                for (var u = 8, g = 0, W = d.length; g < W; ++g) {\n                  var V = d[g];\n                  if (0 === m && (m = o, (b += R) >= Z && (R = 4 * r + 4 * i * (u - 1), b = I + (o + r) * (u << 1), u >>= 1)), V === h) b += 4;else {\n                    var p = e[c + 3 * V],\n                        G = e[c + 3 * V + 1],\n                        X = e[c + 3 * V + 2];\n                    a[b++] = X, a[b++] = G, a[b++] = p, a[b++] = 255;\n                  }\n                  --m;\n                }\n              }, this.decodeAndBlitFrameRGBA = function (t, a) {\n                var n = this.frameInfo(t),\n                    s = n.width * n.height,\n                    d = new Uint8Array(s);\n                l(e, n.data_offset, d, s);\n                var c = n.palette_offset,\n                    h = n.transparent_index;\n                null === h && (h = 256);\n                var o = n.width,\n                    r = i - o,\n                    m = o,\n                    I = 4 * (n.y * i + n.x),\n                    Z = 4 * ((n.y + n.height) * i + n.x),\n                    b = I,\n                    R = 4 * r;\n                !0 === n.interlaced && (R += 4 * i * 7);\n\n                for (var u = 8, g = 0, W = d.length; g < W; ++g) {\n                  var V = d[g];\n                  if (0 === m && (m = o, (b += R) >= Z && (R = 4 * r + 4 * i * (u - 1), b = I + (o + r) * (u << 1), u >>= 1)), V === h) b += 4;else {\n                    var p = e[c + 3 * V],\n                        G = e[c + 3 * V + 1],\n                        X = e[c + 3 * V + 2];\n                    a[b++] = p, a[b++] = G, a[b++] = X, a[b++] = 255;\n                  }\n                  --m;\n                }\n              };\n            };\n          } catch (e) {}\n        }, {}],\n        2: [function (e, t, i) {\n          t.exports = function (t) {\n            function i(e) {\n              g.length, V = e;\n\n              for (var t = 0; t < c && t < g.length; t++) l(t);\n            }\n\n            function l(e) {\n              var t, i;\n              return (t = g[e]).beingProcessed || t.done ? (console.error(\"Frame already being processed or done!\", t.position), void n()) : (t.sampleInterval = d, t.beingProcessed = !0, (i = function () {\n                if (0 === X.length) throw \"No workers left!\";\n                return X.pop();\n              }()).onmessage = function (e) {\n                var l = e.data;\n                delete t.data, t.pixels = Array.prototype.slice.call(l.pixels), t.palette = Array.prototype.slice.call(l.palette), t.done = !0, t.beingProcessed = !1, function (e) {\n                  X.push(e);\n                }(i), n();\n              }, void i.postMessage(t));\n            }\n\n            function a() {\n              for (var e = -1, t = 0; t < g.length; t++) {\n                var i = g[t];\n\n                if (!i.done && !i.beingProcessed) {\n                  e = t;\n                  break;\n                }\n              }\n\n              e >= 0 && l(e);\n            }\n\n            function n() {\n              var e = g.every(function (e) {\n                return !e.beingProcessed && e.done;\n              });\n              W++, p(.75 * W / g.length), e ? y || function (e, t) {\n                var i,\n                    l = [],\n                    a = {\n                  loop: R\n                };\n                null !== m && null !== I && (i = I, a.palette = i);\n                var n = new h(l, o, r, a);\n                y = !0, e.forEach(function (t, l) {\n                  var a;\n                  i || (a = t.palette), p(.75 + .25 * t.position * 1 / e.length), n.addFrame(0, 0, o, r, t.pixels, {\n                    palette: a,\n                    delay: u\n                  });\n                }), n.end(), p(1), e = [], y = !1, t(l);\n              }(g, V) : setTimeout(a, 1);\n            }\n\n            function s(e) {\n              return 0 !== e && 0 == (e & e - 1);\n            }\n\n            t = t || {};\n\n            var d,\n                c,\n                h = e(\"omggif\").GifWriter,\n                o = t.width || 160,\n                r = t.height || 120,\n                m = t.dithering || null,\n                I = t.palette || null,\n                Z = null,\n                b = null,\n                R = 0,\n                u = 250,\n                g = [],\n                W = 0,\n                V = function () {},\n                p = function () {},\n                G = [],\n                X = [],\n                y = !1;\n\n            if (I) {\n              if (!(I instanceof Array)) throw I;\n\n              if (I.length < 2 || I.length > 256) {\n                for (console.error(\"Palette must hold only between 2 and 256 colours\"); I.length < 2;) I.push(0);\n\n                I.length > 256 && (I = I.slice(0, 256));\n              }\n\n              if (!s(I.length)) for (console.error(\"Palette must have a power of two number of colours\"); !s(I.length);) I.splice(I.length - 1, 1);\n            }\n\n            d = (t = t || {}).sampleInterval || 10, c = t.numWorkers || 2;\n\n            for (var C = 0; C < c; C++) {\n              var N = new Worker(window.URL.createObjectURL(new Blob(['(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module \\'\"+o+\"\\'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\\n\\nfunction colorClamp(value) {\\n\\tif(value < 0) return 0;\\n\\telse if(value > 255) return 255;\\n\\n\\treturn value;\\n}\\n\\nvar bayerMatrix8x8 = [\\n\\t[  1, 49, 13, 61,  4, 52, 16, 64 ],\\n\\t[ 33, 17, 45, 29, 36, 20, 48, 32 ],\\n\\t[  9, 57,  5, 53, 12, 60,  8, 56 ],\\n\\t[ 41, 25, 37, 21, 44, 28, 40, 24 ],\\n\\t[  3, 51, 15, 63,  2, 50, 14, 62 ],\\n\\t[ 35, 19, 47, 31, 34, 18, 46, 30 ],\\n\\t[ 11, 59,  7, 55, 10, 58,  6, 54 ],\\n\\t[ 43, 27, 39, 23, 42, 26, 38, 22 ]\\n\\t];\\n\\n\\t// int r, int g, int b, int[][] palette, int paletteLength\\n\\tfunction getClosestPaletteColorIndex(r, g, b, palette, paletteLength) {\\n\\t\\tvar minDistance = 195076;\\n\\t\\tvar diffR, diffG, diffB;\\n\\t\\tvar distanceSquared;\\n\\t\\tvar bestIndex = 0;\\n\\t\\tvar paletteChannels;\\n\\n\\t\\tfor(var i = 0; i < paletteLength; i++) {\\n\\n\\t\\t\\tpaletteChannels = palette[i];\\n\\t\\t\\tdiffR = r - paletteChannels[0];\\n\\t\\t\\tdiffG = g - paletteChannels[1];\\n\\t\\t\\tdiffB = b - paletteChannels[2];\\n\\n\\t\\t\\tdistanceSquared = diffR*diffR + diffG*diffG + diffB*diffB;\\n\\n\\t\\t\\tif(distanceSquared < minDistance) {\\n\\t\\t\\t\\tbestIndex = i;\\n\\t\\t\\t\\tminDistance = distanceSquared;\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\treturn bestIndex;\\n\\t}\\n\\n// TODO: inPixels -> inComponents or inColors or something more accurate\\nfunction BayerDithering(inPixels, width, height, palette) {\\n\\tvar offset = 0;\\n\\tvar indexedOffset = 0;\\n\\tvar r, g, b;\\n\\tvar pixel, threshold, index;\\n\\tvar paletteLength = palette.length;\\n\\tvar matrix = bayerMatrix8x8;\\n\\tvar indexedPixels = new Uint8Array( width * height );\\n\\n\\tvar modI = 8;\\n\\tvar modJ = 8;\\n\\n\\tfor(var j = 0; j < height; j++) {\\n\\t\\tvar modj = j % modJ;\\n\\n\\t\\tfor(var i = 0; i < width; i++) {\\n\\n\\t\\t\\tthreshold = matrix[i % modI][modj];\\n\\n\\t\\t\\tr = colorClamp( inPixels[offset++] + threshold );\\n\\t\\t\\tg = colorClamp( inPixels[offset++] + threshold );\\n\\t\\t\\tb = colorClamp( inPixels[offset++] + threshold );\\n\\n\\t\\t\\tindex = getClosestPaletteColorIndex(r, g, b, palette, paletteLength);\\n\\t\\t\\tindexedPixels[indexedOffset++] = index;\\n\\n\\t\\t}\\n\\t}\\n\\n\\treturn indexedPixels;\\n}\\n\\n\\nfunction ClosestDithering(inPixels, width, height, palette) {\\n\\n\\tvar offset = 0;\\n\\tvar indexedOffset = 0;\\n\\tvar r, g, b;\\n\\tvar index;\\n\\tvar paletteLength = palette.length;\\n\\tvar matrix = bayerMatrix8x8;\\n\\tvar numPixels = width * height;\\n\\tvar indexedPixels = new Uint8Array( numPixels );\\n\\n\\tfor(var i = 0; i < numPixels; i++) {\\n\\n\\t\\tr = inPixels[offset++];\\n\\t\\tg = inPixels[offset++];\\n\\t\\tb = inPixels[offset++];\\n\\n\\t\\tindexedPixels[i] = getClosestPaletteColorIndex(r, g, b, palette, paletteLength);\\n\\n\\t}\\n\\n\\treturn indexedPixels;\\n\\n}\\n\\n\\nfunction FloydSteinberg(inPixels, width, height, palette) {\\n\\tvar paletteLength = palette.length;\\n\\tvar offset = 0;\\n\\tvar indexedOffset = 0;\\n\\tvar r, g, b;\\n\\tvar widthLimit = width - 1;\\n\\tvar heightLimit = height - 1;\\n\\tvar offsetNextI, offsetNextJ;\\n\\tvar offsetPrevINextJ;\\n\\tvar channels, nextChannels;\\n\\tvar indexedPixels = new Uint8Array( width * height );\\n\\n\\tfor(var j = 0; j < height; j++) {\\n\\t\\tfor(var i = 0; i < width; i++) {\\n\\n\\t\\t\\tr = colorClamp(inPixels[offset++]);\\n\\t\\t\\tg = colorClamp(inPixels[offset++]);\\n\\t\\t\\tb = colorClamp(inPixels[offset++]);\\n\\n\\t\\t\\tvar colorIndex = getClosestPaletteColorIndex(r, g, b, palette, paletteLength);\\n\\t\\t\\tvar paletteColor = palette[colorIndex];\\n\\t\\t\\tvar closestColor = paletteColor[3];\\n\\n\\t\\t\\t// We are done with finding the best value for this pixel\\n\\t\\t\\tindexedPixels[indexedOffset] = colorIndex;\\n\\n\\t\\t\\t// Now find difference between assigned value and original color\\n\\t\\t\\t// and propagate that error forward\\n\\t\\t\\tvar errorR = r - paletteColor[0];\\n\\t\\t\\tvar errorG = g - paletteColor[1];\\n\\t\\t\\tvar errorB = b - paletteColor[2];\\n\\n\\t\\t\\tif(i < widthLimit) {\\n\\n\\t\\t\\t\\toffsetNextI = offset + 1;\\n\\n\\t\\t\\t\\tinPixels[offsetNextI++] += (errorR * 7) >> 4;\\n\\t\\t\\t\\tinPixels[offsetNextI++] += (errorG * 7) >> 4;\\n\\t\\t\\t\\tinPixels[offsetNextI++] += (errorB * 7) >> 4;\\n\\n\\t\\t\\t}\\n\\n\\n\\t\\t\\tif(j < heightLimit) {\\n\\n\\t\\t\\t\\tif(i > 0) {\\n\\n\\t\\t\\t\\t\\toffsetPrevINextJ = offset - 1 + width;\\n\\n\\t\\t\\t\\t\\tinPixels[offsetPrevINextJ++] += (errorR * 3) >> 4;\\n\\t\\t\\t\\t\\tinPixels[offsetPrevINextJ++] += (errorG * 3) >> 4;\\n\\t\\t\\t\\t\\tinPixels[offsetPrevINextJ++] += (errorB * 3) >> 4;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\toffsetNextJ = offset + width;\\n\\n\\t\\t\\t\\tinPixels[offsetNextJ++] += (errorR * 5) >> 4;\\n\\t\\t\\t\\tinPixels[offsetNextJ++] += (errorG * 5) >> 4;\\n\\t\\t\\t\\tinPixels[offsetNextJ++] += (errorB * 5) >> 4;\\n\\n\\n\\t\\t\\t\\tif(i < widthLimit) {\\n\\n\\t\\t\\t\\t\\tinPixels[offsetNextJ++] += errorR >> 4;\\n\\t\\t\\t\\t\\tinPixels[offsetNextJ++] += errorG >> 4;\\n\\t\\t\\t\\t\\tinPixels[offsetNextJ++] += errorB >> 4;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tindexedOffset++;\\n\\t\\t}\\n\\t}\\n\\n\\treturn indexedPixels;\\n}\\n\\nmodule.exports = {\\n\\tBayer: BayerDithering,\\n\\tClosest: ClosestDithering,\\n\\tFloydSteinberg: FloydSteinberg\\n};\\n\\n\\n},{}],2:[function(require,module,exports){\\nvar NeuQuant = require(\\'./lib/NeuQuant\\');\\nvar Dithering = require(\\'node-dithering\\');\\n\\nfunction channelizePalette( palette ) {\\n    var channelizedPalette = [];\\n\\n    for(var i = 0; i < palette.length; i++) {\\n        var color = palette[i];\\n\\n        var r = (color & 0xFF0000) >> 16;\\n        var g = (color & 0x00FF00) >>  8;\\n        var b = (color & 0x0000FF);\\n\\n        channelizedPalette.push([ r, g, b, color ]);\\n    }\\n\\n    return channelizedPalette;\\n\\n}\\n\\n\\nfunction dataToRGB( data, width, height ) {\\n    var i = 0;\\n    var length = width * height * 4;\\n    var rgb = [];\\n\\n    while(i < length) {\\n        rgb.push( data[i++] );\\n        rgb.push( data[i++] );\\n        rgb.push( data[i++] );\\n        i++; // for the alpha channel which we don\\'t care about\\n    }\\n\\n    return rgb;\\n}\\n\\n\\nfunction componentizedPaletteToArray(paletteRGB) {\\n\\n    var paletteArray = [];\\n\\n    for(var i = 0; i < paletteRGB.length; i += 3) {\\n        var r = paletteRGB[ i ];\\n        var g = paletteRGB[ i + 1 ];\\n        var b = paletteRGB[ i + 2 ];\\n        paletteArray.push(r << 16 | g << 8 | b);\\n    }\\n\\n    return paletteArray;\\n}\\n\\n\\n// This is the \"traditional\" Animated_GIF style of going from RGBA to indexed color frames\\nfunction processFrameWithQuantizer(imageData, width, height, sampleInterval) {\\n\\n    var rgbComponents = dataToRGB( imageData, width, height );\\n    var nq = new NeuQuant(rgbComponents, rgbComponents.length, sampleInterval);\\n    var paletteRGB = nq.process();\\n    var paletteArray = new Uint32Array(componentizedPaletteToArray(paletteRGB));\\n\\n    var numberPixels = width * height;\\n    var indexedPixels = new Uint8Array(numberPixels);\\n\\n    var k = 0;\\n    for(var i = 0; i < numberPixels; i++) {\\n        r = rgbComponents[k++];\\n        g = rgbComponents[k++];\\n        b = rgbComponents[k++];\\n        indexedPixels[i] = nq.map(r, g, b);\\n    }\\n\\n    return {\\n        pixels: indexedPixels,\\n        palette: paletteArray\\n    };\\n\\n}\\n\\n\\n// And this is a version that uses dithering against of quantizing\\n// It can also use a custom palette if provided, or will build one otherwise\\nfunction processFrameWithDithering(imageData, width, height, ditheringType, palette) {\\n\\n    // Extract component values from data\\n    var rgbComponents = dataToRGB( imageData, width, height );\\n\\n\\n    // Build palette if none provided\\n    if(palette === null) {\\n\\n        var nq = new NeuQuant(rgbComponents, rgbComponents.length, 16);\\n        var paletteRGB = nq.process();\\n        palette = componentizedPaletteToArray(paletteRGB);\\n\\n    }\\n\\n    var paletteArray = new Uint32Array( palette );\\n    var paletteChannels = channelizePalette( palette );\\n\\n    // Convert RGB image to indexed image\\n    var ditheringFunction;\\n\\n    if(ditheringType === \\'closest\\') {\\n        ditheringFunction = Dithering.Closest;\\n    } else if(ditheringType === \\'floyd\\') {\\n        ditheringFunction = Dithering.FloydSteinberg;\\n    } else {\\n        ditheringFunction = Dithering.Bayer;\\n    }\\n\\n    pixels = ditheringFunction(rgbComponents, width, height, paletteChannels);\\n\\n    return ({\\n        pixels: pixels,\\n        palette: paletteArray\\n    });\\n\\n}\\n\\n\\n// ~~~\\n\\nfunction run(frame) {\\n    var width = frame.width;\\n    var height = frame.height;\\n    var imageData = frame.data;\\n    var dithering = frame.dithering;\\n    var palette = frame.palette;\\n    var sampleInterval = frame.sampleInterval;\\n\\n    if(dithering) {\\n        return processFrameWithDithering(imageData, width, height, dithering, palette);\\n    } else {\\n        return processFrameWithQuantizer(imageData, width, height, sampleInterval);\\n    }\\n\\n}\\n\\n\\nself.onmessage = function(ev) {\\n    var data = ev.data;\\n    var response = run(data);\\n    postMessage(response);\\n};\\n\\n},{\"./lib/NeuQuant\":3,\"node-dithering\":1}],3:[function(require,module,exports){\\n/*\\n* NeuQuant Neural-Net Quantization Algorithm\\n* ------------------------------------------\\n*\\n* Copyright (c) 1994 Anthony Dekker\\n*\\n* NEUQUANT Neural-Net quantization algorithm by Anthony Dekker, 1994. See\\n* \"Kohonen neural networks for optimal colour quantization\" in \"Network:\\n* Computation in Neural Systems\" Vol. 5 (1994) pp 351-367. for a discussion of\\n* the algorithm.\\n*\\n* Any party obtaining a copy of these files from the author, directly or\\n* indirectly, is granted, free of charge, a full and unrestricted irrevocable,\\n* world-wide, paid up, royalty-free, nonexclusive right and license to deal in\\n* this software and documentation files (the \"Software\"), including without\\n* limitation the rights to use, copy, modify, merge, publish, distribute,\\n* sublicense, and/or sell copies of the Software, and to permit persons who\\n* receive copies from any such party to do so, with the only requirement being\\n* that this copyright notice remain intact.\\n*/\\n\\n/*\\n* This class handles Neural-Net quantization algorithm\\n* @author Kevin Weiner (original Java version - kweiner@fmsware.com)\\n* @author Thibault Imbert (AS3 version - bytearray.org)\\n* @version 0.1 AS3 implementation\\n* @version 0.2 JS->AS3 \"translation\" by antimatter15\\n* @version 0.3 JS clean up + using modern JS idioms by sole - http://soledadpenades.com\\n* Also implement fix in color conversion described at http://stackoverflow.com/questions/16371712/neuquant-js-javascript-color-quantization-hidden-bug-in-js-conversion\\n*/\\n\\nmodule.exports = function NeuQuant() {\\n\\n    var netsize = 256; // number of colours used\\n\\n    // four primes near 500 - assume no image has a length so large\\n    // that it is divisible by all four primes\\n    var prime1 = 499;\\n    var prime2 = 491;\\n    var prime3 = 487;\\n    var prime4 = 503;\\n\\n    // minimum size for input image\\n    var minpicturebytes = (3 * prime4);\\n\\n    // Network Definitions\\n\\n    var maxnetpos = (netsize - 1);\\n    var netbiasshift = 4; // bias for colour values\\n    var ncycles = 100; // no. of learning cycles\\n\\n    // defs for freq and bias\\n    var intbiasshift = 16; // bias for fractions\\n    var intbias = (1 << intbiasshift);\\n    var gammashift = 10; // gamma = 1024\\n    var gamma = (1 << gammashift);\\n    var betashift = 10;\\n    var beta = (intbias >> betashift); // beta = 1/1024\\n    var betagamma = (intbias << (gammashift - betashift));\\n\\n    // defs for decreasing radius factor\\n    // For 256 colors, radius starts at 32.0 biased by 6 bits\\n    // and decreases by a factor of 1/30 each cycle\\n    var initrad = (netsize >> 3);\\n    var radiusbiasshift = 6;\\n    var radiusbias = (1 << radiusbiasshift);\\n    var initradius = (initrad * radiusbias);\\n    var radiusdec = 30;\\n\\n    // defs for decreasing alpha factor\\n    // Alpha starts at 1.0 biased by 10 bits\\n    var alphabiasshift = 10;\\n    var initalpha = (1 << alphabiasshift);\\n    var alphadec;\\n\\n    // radbias and alpharadbias used for radpower calculation\\n    var radbiasshift = 8;\\n    var radbias = (1 << radbiasshift);\\n    var alpharadbshift = (alphabiasshift + radbiasshift);\\n    var alpharadbias = (1 << alpharadbshift);\\n\\n\\n    // Input image\\n    var thepicture;\\n    // Height * Width * 3\\n    var lengthcount;\\n    // Sampling factor 1..30\\n    var samplefac;\\n\\n    // The network itself\\n    var network;\\n    var netindex = [];\\n\\n    // for network lookup - really 256\\n    var bias = [];\\n\\n    // bias and freq arrays for learning\\n    var freq = [];\\n    var radpower = [];\\n\\n    function NeuQuantConstructor(thepic, len, sample) {\\n\\n        var i;\\n        var p;\\n\\n        thepicture = thepic;\\n        lengthcount = len;\\n        samplefac = sample;\\n\\n        network = new Array(netsize);\\n\\n        for (i = 0; i < netsize; i++) {\\n            network[i] = new Array(4);\\n            p = network[i];\\n            p[0] = p[1] = p[2] = ((i << (netbiasshift + 8)) / netsize) | 0;\\n            freq[i] = (intbias / netsize) | 0; // 1 / netsize\\n            bias[i] = 0;\\n        }\\n\\n    }\\n\\n    function colorMap() {\\n        var map = [];\\n        var index = new Array(netsize);\\n        for (var i = 0; i < netsize; i++)\\n            index[network[i][3]] = i;\\n        var k = 0;\\n        for (var l = 0; l < netsize; l++) {\\n            var j = index[l];\\n            map[k++] = (network[j][0]);\\n            map[k++] = (network[j][1]);\\n            map[k++] = (network[j][2]);\\n        }\\n        return map;\\n    }\\n\\n    // Insertion sort of network and building of netindex[0..255]\\n    // (to do after unbias)\\n    function inxbuild() {\\n        var i;\\n        var j;\\n        var smallpos;\\n        var smallval;\\n        var p;\\n        var q;\\n        var previouscol;\\n        var startpos;\\n\\n        previouscol = 0;\\n        startpos = 0;\\n\\n        for (i = 0; i < netsize; i++)\\n        {\\n\\n            p = network[i];\\n            smallpos = i;\\n            smallval = p[1]; // index on g\\n            // find smallest in i..netsize-1\\n            for (j = i + 1; j < netsize; j++) {\\n\\n                q = network[j];\\n\\n                if (q[1] < smallval) { // index on g\\n                    smallpos = j;\\n                    smallval = q[1]; // index on g\\n                }\\n            }\\n\\n            q = network[smallpos];\\n\\n            // swap p (i) and q (smallpos) entries\\n            if (i != smallpos) {\\n                j = q[0];\\n                q[0] = p[0];\\n                p[0] = j;\\n                j = q[1];\\n                q[1] = p[1];\\n                p[1] = j;\\n                j = q[2];\\n                q[2] = p[2];\\n                p[2] = j;\\n                j = q[3];\\n                q[3] = p[3];\\n                p[3] = j;\\n            }\\n\\n            // smallval entry is now in position i\\n            if (smallval != previouscol) {\\n\\n                netindex[previouscol] = (startpos + i) >> 1;\\n\\n                for (j = previouscol + 1; j < smallval; j++) {\\n                    netindex[j] = i;\\n                }\\n\\n                previouscol = smallval;\\n                startpos = i;\\n\\n            }\\n\\n        }\\n\\n        netindex[previouscol] = (startpos + maxnetpos) >> 1;\\n        for (j = previouscol + 1; j < 256; j++) {\\n            netindex[j] = maxnetpos; // really 256\\n        }\\n\\n    }\\n\\n\\n    // Main Learning Loop\\n\\n    function learn() {\\n        var i;\\n        var j;\\n        var b;\\n        var g;\\n        var r;\\n        var radius;\\n        var rad;\\n        var alpha;\\n        var step;\\n        var delta;\\n        var samplepixels;\\n        var p;\\n        var pix;\\n        var lim;\\n\\n        if (lengthcount < minpicturebytes) {\\n            samplefac = 1;\\n        }\\n\\n        alphadec = 30 + ((samplefac - 1) / 3);\\n        p = thepicture;\\n        pix = 0;\\n        lim = lengthcount;\\n        samplepixels = lengthcount / (3 * samplefac);\\n        delta = (samplepixels / ncycles) | 0;\\n        alpha = initalpha;\\n        radius = initradius;\\n\\n        rad = radius >> radiusbiasshift;\\n        if (rad <= 1) {\\n            rad = 0;\\n        }\\n\\n        for (i = 0; i < rad; i++) {\\n            radpower[i] = alpha * (((rad * rad - i * i) * radbias) / (rad * rad));\\n        }\\n\\n\\n        if (lengthcount < minpicturebytes) {\\n            step = 3;\\n        } else if ((lengthcount % prime1) !== 0) {\\n            step = 3 * prime1;\\n        } else {\\n\\n            if ((lengthcount % prime2) !== 0) {\\n                step = 3 * prime2;\\n            } else {\\n                if ((lengthcount % prime3) !== 0) {\\n                    step = 3 * prime3;\\n                } else {\\n                    step = 3 * prime4;\\n                }\\n            }\\n\\n        }\\n\\n        i = 0;\\n\\n        while (i < samplepixels) {\\n\\n            b = (p[pix + 0] & 0xff) << netbiasshift;\\n            g = (p[pix + 1] & 0xff) << netbiasshift;\\n            r = (p[pix + 2] & 0xff) << netbiasshift;\\n            j = contest(b, g, r);\\n\\n            altersingle(alpha, j, b, g, r);\\n\\n            if (rad !== 0) {\\n                // Alter neighbours\\n                alterneigh(rad, j, b, g, r);\\n            }\\n\\n            pix += step;\\n\\n            if (pix >= lim) {\\n                pix -= lengthcount;\\n            }\\n\\n            i++;\\n\\n            if (delta === 0) {\\n                delta = 1;\\n            }\\n\\n            if (i % delta === 0) {\\n                alpha -= alpha / alphadec;\\n                radius -= radius / radiusdec;\\n                rad = radius >> radiusbiasshift;\\n\\n                if (rad <= 1) {\\n                    rad = 0;\\n                }\\n\\n                for (j = 0; j < rad; j++) {\\n                    radpower[j] = alpha * (((rad * rad - j * j) * radbias) / (rad * rad));\\n                }\\n\\n            }\\n\\n        }\\n\\n    }\\n\\n    // Search for BGR values 0..255 (after net is unbiased) and return colour index\\n    function map(b, g, r) {\\n        var i;\\n        var j;\\n        var dist;\\n        var a;\\n        var bestd;\\n        var p;\\n        var best;\\n\\n        // Biggest possible distance is 256 * 3\\n        bestd = 1000;\\n        best = -1;\\n        i = netindex[g]; // index on g\\n        j = i - 1; // start at netindex[g] and work outwards\\n\\n        while ((i < netsize) || (j >= 0)) {\\n\\n            if (i < netsize) {\\n\\n                p = network[i];\\n\\n                dist = p[1] - g; // inx key\\n\\n                if (dist >= bestd) {\\n                    i = netsize; // stop iter\\n                } else {\\n\\n                    i++;\\n\\n                    if (dist < 0) {\\n                        dist = -dist;\\n                    }\\n\\n                    a = p[0] - b;\\n\\n                    if (a < 0) {\\n                        a = -a;\\n                    }\\n\\n                    dist += a;\\n\\n                    if (dist < bestd) {\\n                        a = p[2] - r;\\n\\n                        if (a < 0) {\\n                            a = -a;\\n                        }\\n\\n                        dist += a;\\n\\n                        if (dist < bestd) {\\n                            bestd = dist;\\n                            best = p[3];\\n                        }\\n                    }\\n\\n                }\\n\\n            }\\n\\n            if (j >= 0) {\\n\\n                p = network[j];\\n\\n                dist = g - p[1]; // inx key - reverse dif\\n\\n                if (dist >= bestd) {\\n                    j = -1; // stop iter\\n                } else {\\n\\n                    j--;\\n                    if (dist < 0) {\\n                        dist = -dist;\\n                    }\\n                    a = p[0] - b;\\n                    if (a < 0) {\\n                        a = -a;\\n                    }\\n                    dist += a;\\n\\n                    if (dist < bestd) {\\n                        a = p[2] - r;\\n                        if (a < 0) {\\n                            a = -a;\\n                        }\\n                        dist += a;\\n                        if (dist < bestd) {\\n                            bestd = dist;\\n                            best = p[3];\\n                        }\\n                    }\\n\\n                }\\n\\n            }\\n\\n        }\\n\\n        return (best);\\n\\n    }\\n\\n    function process() {\\n        learn();\\n        unbiasnet();\\n        inxbuild();\\n        return colorMap();\\n    }\\n\\n    // Unbias network to give byte values 0..255 and record position i\\n    // to prepare for sort\\n    function unbiasnet() {\\n        var i;\\n        var j;\\n\\n        for (i = 0; i < netsize; i++) {\\n            network[i][0] >>= netbiasshift;\\n            network[i][1] >>= netbiasshift;\\n            network[i][2] >>= netbiasshift;\\n            network[i][3] = i; // record colour no\\n        }\\n    }\\n\\n    // Move adjacent neurons by precomputed alpha*(1-((i-j)^2/[r]^2))\\n    // in radpower[|i-j|]\\n    function alterneigh(rad, i, b, g, r) {\\n\\n        var j;\\n        var k;\\n        var lo;\\n        var hi;\\n        var a;\\n        var m;\\n\\n        var p;\\n\\n        lo = i - rad;\\n        if (lo < -1) {\\n            lo = -1;\\n        }\\n\\n        hi = i + rad;\\n\\n        if (hi > netsize) {\\n            hi = netsize;\\n        }\\n\\n        j = i + 1;\\n        k = i - 1;\\n        m = 1;\\n\\n        while ((j < hi) || (k > lo)) {\\n\\n            a = radpower[m++];\\n\\n            if (j < hi) {\\n\\n                p = network[j++];\\n\\n                try {\\n\\n                    p[0] -= ((a * (p[0] - b)) / alpharadbias) | 0;\\n                    p[1] -= ((a * (p[1] - g)) / alpharadbias) | 0;\\n                    p[2] -= ((a * (p[2] - r)) / alpharadbias) | 0;\\n\\n                } catch (e) {}\\n\\n            }\\n\\n            if (k > lo) {\\n\\n                p = network[k--];\\n\\n                try {\\n\\n                    p[0] -= ((a * (p[0] - b)) / alpharadbias) | 0;\\n                    p[1] -= ((a * (p[1] - g)) / alpharadbias) | 0;\\n                    p[2] -= ((a * (p[2] - r)) / alpharadbias) | 0;\\n\\n                } catch (e) {}\\n\\n            }\\n\\n        }\\n\\n    }\\n\\n\\n    // Move neuron i towards biased (b,g,r) by factor alpha\\n    function altersingle(alpha, i, b, g, r) {\\n\\n        // alter hit neuron\\n        var n = network[i];\\n        var alphaMult = alpha / initalpha;\\n        n[0] -= ((alphaMult * (n[0] - b))) | 0;\\n        n[1] -= ((alphaMult * (n[1] - g))) | 0;\\n        n[2] -= ((alphaMult * (n[2] - r))) | 0;\\n\\n    }\\n\\n    // Search for biased BGR values\\n    function contest(b, g, r) {\\n\\n        // finds closest neuron (min dist) and updates freq\\n        // finds best neuron (min dist-bias) and returns position\\n        // for frequently chosen neurons, freq[i] is high and bias[i] is negative\\n        // bias[i] = gamma*((1/netsize)-freq[i])\\n\\n        var i;\\n        var dist;\\n        var a;\\n        var biasdist;\\n        var betafreq;\\n        var bestpos;\\n        var bestbiaspos;\\n        var bestd;\\n        var bestbiasd;\\n        var n;\\n\\n        bestd = ~(1 << 31);\\n        bestbiasd = bestd;\\n        bestpos = -1;\\n        bestbiaspos = bestpos;\\n\\n        for (i = 0; i < netsize; i++) {\\n\\n            n = network[i];\\n            dist = n[0] - b;\\n\\n            if (dist < 0) {\\n                dist = -dist;\\n            }\\n\\n            a = n[1] - g;\\n\\n            if (a < 0) {\\n                a = -a;\\n            }\\n\\n            dist += a;\\n\\n            a = n[2] - r;\\n\\n            if (a < 0) {\\n                a = -a;\\n            }\\n\\n            dist += a;\\n\\n            if (dist < bestd) {\\n                bestd = dist;\\n                bestpos = i;\\n            }\\n\\n            biasdist = dist - ((bias[i]) >> (intbiasshift - netbiasshift));\\n\\n            if (biasdist < bestbiasd) {\\n                bestbiasd = biasdist;\\n                bestbiaspos = i;\\n            }\\n\\n            betafreq = (freq[i] >> betashift);\\n            freq[i] -= betafreq;\\n            bias[i] += (betafreq << gammashift);\\n\\n        }\\n\\n        freq[bestpos] += beta;\\n        bias[bestpos] -= betagamma;\\n        return (bestbiaspos);\\n\\n    }\\n\\n    NeuQuantConstructor.apply(this, arguments);\\n\\n    var exports = {};\\n    exports.map = map;\\n    exports.process = process;\\n\\n    return exports;\\n}\\n\\n},{}]},{},[2])'], {\n                type: \"text/javascript\"\n              })));\n              G.push(N), X.push(N);\n            }\n\n            var S = function () {\n              for (var e = [], t = 0; t < 256; t++) e[t] = String.fromCharCode(t);\n\n              return function (t) {\n                for (var i = t.length, l = \"\", a = 0; a < i; a++) l += e[t[a]];\n\n                return l;\n              };\n            }();\n\n            this.setSize = function (e, t) {\n              o = e, r = t, (Z = document.createElement(\"canvas\")).width = e, Z.height = t, b = Z.getContext(\"2d\");\n            }, this.setDelay = function (e) {\n              u = .1 * e;\n            }, this.setRepeat = function (e) {\n              R = e;\n            }, this.addFrame = function (e) {\n              null === b && this.setSize(o, r), b.drawImage(e, 0, 0, o, r);\n              var t = b.getImageData(0, 0, o, r);\n              this.addFrameImageData(t);\n            }, this.addFrameImageData = function (e) {\n              var t = (e.length, new Uint8Array(e.data));\n              g.push({\n                data: t,\n                width: e.width,\n                height: e.height,\n                palette: I,\n                dithering: m,\n                done: !1,\n                beingProcessed: !1,\n                position: g.length\n              });\n            }, this.onRenderProgress = function (e) {\n              p = e;\n            }, this.isRendering = function () {\n              return y;\n            }, this.getBase64GIF = function (e) {\n              i(function (t) {\n                var i = S(t),\n                    l = \"data:image/gif;base64,\" + btoa(i);\n                e(l);\n              });\n            }, this.getBlobGIF = function (e) {\n              i(function (t) {\n                var i = new Uint8Array(t),\n                    l = new Blob([i], {\n                  type: \"image/gif\"\n                });\n                e(l);\n              });\n            }, this.destroy = function () {\n              G.forEach(function (e) {\n                e.terminate();\n              });\n            };\n          };\n        }, {\n          omggif: 1\n        }]\n      }, {}, [2])(2);\n    });\n  }\n},\n    t = {};\n\nfunction i(l) {\n  var a = t[l];\n  if (void 0 !== a) return a.exports;\n  var n = t[l] = {\n    id: l,\n    loaded: !1,\n    exports: {}\n  };\n  return e[l](n, n.exports, i), n.loaded = !0, n.exports;\n}\n\ni.amdO = {}, i.d = (e, t) => {\n  for (var l in t) i.o(t, l) && !i.o(e, l) && Object.defineProperty(e, l, {\n    enumerable: !0,\n    get: t[l]\n  });\n}, i.g = function () {\n  if (\"object\" == typeof globalThis) return globalThis;\n\n  try {\n    return this || new Function(\"return this\")();\n  } catch (e) {\n    if (\"object\" == typeof window) return window;\n  }\n}(), i.hmd = e => ((e = Object.create(e)).children || (e.children = []), Object.defineProperty(e, \"exports\", {\n  enumerable: !0,\n  set: () => {\n    throw new Error(\"ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: \" + e.id);\n  }\n}), e), i.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t);\nvar l = {};\n\n(() => {\n  i.d(l, {\n    l: () => Ne\n  });\n  let e = {\n    Mode: {\n      Front: 0,\n      Back: 1,\n      Full: 2\n    },\n    CaptureMode: {\n      SingleSide: 0,\n      DoubleSide: 1\n    },\n    TrackStatus: {\n      ChangeState: 0,\n      Tap: 1,\n      DocumentBorder: 2,\n      AccessibilityData: 3,\n      Diagnostic: 4\n    },\n    ModeStr: [\"Front\", \"Back\", \"Full\"],\n    CaptureSensibilityStr: [\"Low\", \"Normal\", \"High\", \"Auto\"],\n    SimpleModeStates: {\n      InfoFront: 0,\n      PreviewFront: 1,\n      InfoBack: 2,\n      PreviewBack: 3\n    },\n    DocumentType: {\n      IDCard: 0,\n      Passport: 1,\n      DriversLicense: 2,\n      ForeignCard: 3,\n      CreditCard: 4,\n      Custom: 5\n    },\n    ScanMode: {\n      Generic: 0,\n      Specific: 1,\n      Search: 2\n    },\n    SimpleModeStatesStr: [\"InfoFront\", \"PreviewFront\", \"InfoBack\", \"PreviewBack\"],\n    Version: \"4.1.1\"\n  };\n  var t = i(871);\n\n  class a {\n    constructor(e, t, i, l, a, n, s) {\n      var d = \"\";\n      this.status = 0, this.logDebug = !1, this.eventStatus = l, this.caller = i, this.baseURL = e, t.length > 0 && (d = t + \".\"), this.widgetLoaded = 0, this.languageCustomLoaded = 0, this.languageDefaultLoaded = 0, this.urlWidget = e + \"/widget.xml\", this.urlLanguageCustom = e + \"/strings/strings.\" + d + \"xml\", this.resourceDict = {}, this.dpiList = a, this.browserDpi = n, this.scaleFactor = s;\n\n      for (var c = 163 * n * s, h = this.dpiList.length - 1, o = 0; o < this.dpiList.length; o++) if (this.dpiList[o] > c) {\n        h = o;\n        break;\n      }\n\n      this.dpi = this.dpiList[h], this.imageScale = 163 / this.dpi, this.xmlHttpWidget = new XMLHttpRequest(), this.xmlHttpWidget.rm = this, this.xmlHttpWidget.onreadystatechange = e => {\n        if (4 == e.target.readyState && 200 == e.target.status) {\n          var t = new DOMParser();\n          e.target.rm.widgetLoaded = 1, e.target.rm.xmlDoc = t.parseFromString(e.target.responseText, \"text/xml\");\n        } else 4 == e.target.readyState && 200 != e.target.status && (e.target.rm.widgetLoaded = -1);\n\n        e.target.rm.readyEvent(e);\n      }, this.xmlHttpWidget.open(\"GET\", this.urlWidget), this.xmlHttpWidget.send(null), this.xmlHttpLanguageCustom = new XMLHttpRequest(), this.xmlHttpLanguageCustom.rm = this, this.xmlHttpLanguageCustom.onreadystatechange = e => {\n        4 == e.target.readyState && 200 == e.target.status ? e.target.rm.languageCustomLoaded = 1 : 4 == e.target.readyState && 200 != e.target.status && (e.target.rm.languageCustomLoaded = -1), e.target.rm.readyEvent(e);\n      }, this.xmlHttpLanguageCustom.open(\"GET\", this.urlLanguageCustom), this.xmlHttpLanguageCustom.send(null);\n    }\n\n    readyEvent(e) {\n      if (0 !== e.target.rm.widgetLoaded && (0 !== e.target.rm.languageCustomLoaded || 0 !== e.target.rm.languageDefaultLoaded)) {\n        if (-1 == e.target.rm.widgetLoaded) e.target.rm.status = -1;else if (1 == e.target.rm.languageCustomLoaded) {\n          var t = e.target.rm.xmlHttpLanguageCustom.responseText,\n              i = new DOMParser();\n          e.target.rm.xmlLang = i.parseFromString(t, \"text/xml\"), e.target.rm.status = 1;\n        } else 1 == e.target.rm.languageDefaultLoaded ? (t = e.target.rm.xmlHttpLanguageDefault.responseText, i = new DOMParser(), e.target.rm.xmlLang = i.parseFromString(t, \"text/xml\"), e.target.rm.status = 1) : e.target.rm.status = -1;\n\n        if (1 == e.target.rm.status) {\n          for (var l, a = {}, n = e.target.rm.xmlDoc.querySelectorAll(\"[font]\"), s = 0; s < n.length; s++) (l = n[s].getAttribute(\"font\")).length > 0 && (a[l] = l);\n\n          if (e.target.rm.fontRequestVector = [], null == document.getElementById(\"FPhi_Widget_style\")) {\n            var d,\n                c = document.createElement(\"style\");\n\n            for (d in c.id = \"FPhi_Widget_style\", a) {\n              var h = e.target.rm.getResourceUrlBase(a[d]),\n                  o = a[d],\n                  r = new XMLHttpRequest();\n              r.open(\"GET\", h, !1), r.send(), 200 == r.status && c.appendChild(document.createTextNode(\"@font-face { font-family: '\" + o + \"'; src: url('\" + h + \"'); }\"));\n            }\n\n            document.head.appendChild(c);\n          }\n\n          e.target.rm.eventStatus(e.target.rm.caller, !0);\n        } else e.target.rm.eventStatus(e.target.rm.caller, !1);\n      }\n    }\n\n    static httpGet(e, t) {\n      var i = new XMLHttpRequest();\n      return i.onreadystatechange = t, i.open(\"GET\", e), i.send(null), 200 != i.status ? \"\" : i.responseText;\n    }\n\n    getElement(e, t, i) {\n      if (\"facephi-widget-conf\" == e) return this.xmlDoc.getElementsByTagName(\"facephi-widget-conf\")[0];\n      var l = \"_portrait\";\n      i && (l = \"_landscape\");\n      var a = this.xmlDoc.querySelector(\"[id=\" + e + l + \"]\");\n\n      if (null != a && null != a || (a = this.xmlDoc.querySelector(\"[id=\" + e + \"]\")), this.logDebug && console.log(a), null != a) {\n        var n = a.querySelector(\"[id=\" + t + \"]\");\n        return this.logDebug && console.log(n), null == n ? void console.log(\"ResourceManager::getElement Error. elementId=\" + t + \" undefined. Please verify resource's bundle.\") : n;\n      }\n\n      console.log(\"ResourceManager::getElement Error. viewId=\" + e + \" undefined. Please verify resource's bundle.\");\n    }\n\n    getElements(e, t) {\n      var i = \"_portrait\";\n      t && (i = \"_landscape\");\n      var l = this.xmlDoc.querySelector(\"[id=\" + e + i + \"]\");\n      null != l && null != l || (l = this.xmlDoc.querySelector(\"[id=\" + e + \"]\"));\n      var a = [];\n      if (l) for (var n = 0; n < l.childNodes.length; n++) if (l.childNodes[n].nodeType == Node.ELEMENT_NODE) {\n        var s = null;\n        void 0 !== l.childNodes[n].attributes.mode && (s = l.childNodes[n].attributes.mode.value), a.push({\n          type: l.childNodes[n].nodeName,\n          id: l.childNodes[n].attributes.id.value,\n          mode: s\n        });\n      }\n      return 0 == a.length && console.log(\"FPhi.ResourceManager: No elements for view=\" + e), a;\n    }\n\n    isAttributeAvailable(e, t, i, l) {\n      var a = null;\n      if (\"facephi-widget-conf\" == e) a = this.xmlDoc.getElementsByTagName(\"facephi-widget-conf\")[0];else {\n        var n = \"_portrait\";\n        i && (n = \"_landscape\");\n        var s = this.xmlDoc.querySelector(\"[id=\" + e + n + \"]\");\n\n        if (null != s && null != s || (s = this.xmlDoc.querySelector(\"[id=\" + e + \"]\")), null != s) {\n          var d = s.querySelector(\"[id=\" + t + \"]\");\n          null != d && (a = d);\n        }\n      }\n      if (null == a || null == a) return !1;\n      var c = a.getAttribute(l);\n      return null != c && null != c;\n    }\n\n    getSetupColor(e, t, i, l) {\n      var a = this.getElement(e, t, i);\n      if (null == a || null == a) return null;\n      var n,\n          s,\n          d,\n          c,\n          h = a.getAttribute(l);\n      return null == h || null == h ? null : (9 == h.length && (n = parseInt(h.substring(1, 3), 16), s = parseInt(h.substring(3, 5), 16), d = parseInt(h.substring(5, 7), 16), c = parseInt(h.substring(7, 9), 16), h = \"rgba(\" + n + \", \" + s + \", \" + d + \", \" + (c /= 255).toFixed(3) + \")\"), h);\n    }\n\n    getSetupColorWithAlpha(e, t, i, l, a) {\n      var n = this.getElement(e, t, i).getAttribute(l);\n      return \"rgba(\" + parseInt(n.substring(1, 3), 16) + \", \" + parseInt(n.substring(3, 5), 16) + \", \" + parseInt(n.substring(5, 7), 16) + \", \" + a.toFixed(3) + \")\";\n    }\n\n    getSetupFloat(e, t, i, l) {\n      var a = this.getElement(e, t, i).getAttribute(l);\n      return parseFloat(a);\n    }\n\n    getSetupAlign(e, t, i, l) {\n      return this.getElement(e, t, i).getAttribute(l);\n    }\n\n    getSetupResourceId(e, t, i, l) {\n      var a = this.getElement(e, t, i).getAttribute(l),\n          n = a.split(\",\");\n      return n && n.length > 1 ? n[Math.floor(Math.random() * n.length)].trim() : a;\n    }\n\n    getSetupTextId(e, t, i, l) {\n      return this.getElement(e, t, i).getAttribute(l);\n    }\n\n    getSetupNodeType(e, t, i) {\n      return this.getElement(e, t, i).getAttribute(\"content_type\");\n    }\n\n    getResourceUrl(e) {\n      return this.baseURL + \"/resources/\" + this.dpi + \"dpi/\" + e;\n    }\n\n    getResourceUrlBase(e) {\n      return this.baseURL + \"/resources/\" + this.dpiList[0] + \"dpi/\" + e;\n    }\n\n    getImageScale() {\n      return this.imageScale;\n    }\n\n    getImage(e) {\n      if (!(e in this.resourceDict)) {\n        var t = this.getResourceUrl(e),\n            i = document.createElement(\"img\");\n        i.src = t, this.resourceDict[e] = i;\n      }\n\n      return this.resourceDict[e];\n    }\n\n    translate(e) {\n      var t = e,\n          i = this.xmlLang.querySelector(\"[id=\" + e + \"]\");\n      return this.logDebug && console.log(i), null != i && (t = i.textContent), t;\n    }\n\n  }\n\n  if (!n) var n = {};\n  n.SelphID = e;\n\n  class s extends class {\n    constructor(e) {\n      this.width = 0, this.height = 0, this.landscape = !1;\n    }\n\n    cacheResources() {}\n\n    setCanvasSize(e, t) {\n      this.width = e, this.height = t, this.landscape = this.width >= this.height;\n    }\n\n    getCameraRect(e, t, i, l) {\n      this.setCanvasSize(e.canvas.clientWidth, e.canvas.clientHeight);\n      var a = this.scaleRect({\n        width: t,\n        height: i\n      }, {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height\n      });\n      return a.visible = !0, a;\n    }\n\n    getResourceIdForState(e) {\n      throw new Error(\"FPhi.Widget.drawer.abstract.js: Can't instantiate abstract class\");\n    }\n\n    onMouseMove(e, t, i, l, a) {\n      e.style.cursor = \"button\" == a || \"buttonImage\" == a ? \"pointer\" : \"default\";\n    }\n\n    draw(e, t, i, l, a, n, s, d, c) {\n      throw new Error(\"Can't instantiate abstract class\");\n    }\n\n    getLayout(e, t, i, l, a, n, s) {\n      throw new Error(\"Can't instantiate abstract class\");\n    }\n\n    cacheAnimation(e, t) {\n      if (this.rm.isAttributeAvailable(e, t, this.landscape, \"id\")) for (var i = this.rm.getSetupResourceId(e, t, this.landscape, \"name\"), l = this.rm.getSetupResourceId(e, t, this.landscape, \"ext\"), a = parseInt(this.rm.getSetupResourceId(e, t, this.landscape, \"start\")), n = parseInt(this.rm.getSetupResourceId(e, t, this.landscape, \"end\")), s = a; s <= n; s++) {\n        var d = i + (\"0\" + s).slice(-2) + \".\" + l;\n        this.rm.getImage(d);\n      }\n    }\n\n    scaleRect(e, t, i) {\n      var l = t.x + t.width / 2,\n          a = t.y + t.height / 2,\n          n = t.width / e.width,\n          s = t.height / e.height,\n          d = e.width * n,\n          c = e.height * n;\n      return null == i ? c < t.height && (d = e.width * s, c = e.height * s) : c >= t.height && (d = e.width * s, c = e.height * s), {\n        x: l - d / 2,\n        y: a - c / 2,\n        width: d,\n        height: c\n      };\n    }\n\n    drawButtonImage(e, t, i, l, a, n, s, d) {\n      var c = this.rm.getSetupResourceId(i, l, this.landscape, \"value\"),\n          h = this.rm.getImage(c),\n          o = this.canvasSizeFactor * this.rm.getImageScale(),\n          r = h.width * o,\n          m = h.height * o;\n      e.drawImage(h, t.x + t.width / 2 - r / 2, t.y + t.height / 2 - m / 2, r, m);\n    }\n\n    fillRoundRect(e, t, i, l, a, n) {\n      l < 2 * n && (n = l / 2), a < 2 * n && (n = a / 2), e.beginPath(), e.moveTo(t + n, i), e.arcTo(t + l, i, t + l, i + a, n), e.arcTo(t + l, i + a, t, i + a, n), e.arcTo(t, i + a, t, i, n), e.arcTo(t, i, t + l, i, n), e.closePath(), e.fill();\n    }\n\n    drawButton(e, t, i, l) {\n      if (this.rm.isAttributeAvailable(i, l, this.landscape, \"radius\")) {\n        let a = this.rm.getSetupFloat(i, l, this.landscape, \"radius\");\n        e.fillStyle = this.rm.getSetupColor(i, l, this.landscape, \"decorator\"), this.fillRoundRect(e, t.x, t.y + 4, t.width, t.height - 4, a), e.fillStyle = this.rm.getSetupColor(i, l, this.landscape, \"background\"), this.fillRoundRect(e, t.x, t.y, t.width, t.height - 4, a);\n      } else e.fillStyle = this.rm.getSetupColor(i, l, this.landscape, \"decorator\"), e.fillRect(t.x, t.y + 4, t.width, t.height - 4), e.fillStyle = this.rm.getSetupColor(i, l, this.landscape, \"background\"), e.fillRect(t.x, t.y, t.width, t.height - 4);\n\n      var a = this.rm.getSetupAlign(i, l, this.landscape, \"align\"),\n          n = this.rm.getSetupNodeType(i, l),\n          s = 10 * this.canvasSizeFactor;\n\n      if (\"TEXT_ID\" == n) {\n        var d = this.rm.getSetupTextId(i, l, this.landscape, \"content\"),\n            c = this.rm.translate(d),\n            h = this.rm.getSetupFloat(i, l, this.landscape, \"font_size\");\n        h = Math.round(h * this.fontSizeFactor);\n        var o = this.rm.getSetupResourceId(i, l, this.landscape, \"font\");\n        e.font = h + \"px '\" + o + \"'\", e.fillStyle = this.rm.getSetupColor(i, l, this.landscape, \"foreground\");\n        var r = e.measureText(c);\n        \"LEFT\" == a ? e.fillText(c, t.x + s, t.y + t.height / 2) : \"RIGHT\" == a ? e.fillText(c, t.x + t.width - r.width - s, t.y + t.height / 2) : e.fillText(c, t.x + t.width / 2 - r.width / 2, t.y + t.height / 2);\n      } else {\n        d = this.rm.getSetupResourceId(i, l, this.landscape, \"content\");\n        var m = this.rm.getImage(d),\n            I = this.canvasSizeFactor * this.rm.getImageScale();\n        \"LEFT\" == a ? e.drawImage(m, t.x + s, t.y + t.height / 2 - m.height * I / 2, m.width * I, m.height * I) : \"RIGHT\" == a ? e.drawImage(m, t.x + t.width - m.width * I - s, t.y + t.height / 2 - m.height * I / 2, m.width * I, m.height * I) : e.drawImage(m, t.x + t.width / 2 - m.width * I / 2, t.y + t.height / 2 - m.height * I / 2, m.width * I, m.height * I);\n      }\n    }\n\n    drawImage(e, t, i, l, a, n, s, d) {\n      var c = this.rm.getSetupResourceId(i, l, this.landscape, \"value\"),\n          h = this.rm.getImage(c),\n          o = !1;\n      if (this.rm.isAttributeAvailable(i, l, this.landscape, \"scale\") && \"CONTAINER\" == this.rm.getSetupResourceId(i, l, this.landscape, \"scale\") && (o = !0), o) e.drawImage(h, t.x, t.y, t.width, t.height);else {\n        var r = this.canvasSizeFactor * this.rm.getImageScale(),\n            m = h.width * r,\n            I = h.height * r;\n        e.drawImage(h, t.x + t.width / 2 - m / 2, t.y + t.height / 2 - I / 2, m, I);\n      }\n    }\n\n    drawImageWithClippingCircle(e, t, i, l, a, n) {\n      e.save(), e.beginPath(), e.arc(l, a, n, 0, 2 * Math.PI, !1), e.clip(), e.drawImage(i, t.x, t.y, t.width, t.height), e.restore();\n    }\n\n    drawStringMultiline(e, t, i, l, a, n, s, d, c) {\n      var h = t.split(\"\\n\");\n      e.imageSmoothingEnabled = !1, n = Math.round(n * this.fontSizeFactor), e.font = n + \"px '\" + a + \"'\", e.fillStyle = l, e.textBaseline = \"middle\";\n      var o = i.y;\n\n      if (\"CENTER\" == c) {\n        var r = h.length * s;\n        o = i.y + i.height / 2 - r / 2 + n / 2;\n      } else \"BOTTOM\" == c && (r = h.length * s, o = i.y + i.height - r);\n\n      for (var m = 0; m < h.length; m++) {\n        var I = e.measureText(h[m]),\n            Z = i.width / 2 - I.width / 2;\n        \"LEFT\" == d ? Z = 0 : \"RIGHT\" == d && (Z = i.width - I.width), e.fillText(h[m], i.x + Z, o + m * s);\n      }\n    }\n\n  } {\n    constructor(e) {\n      super(e), this.mode = e.mode, this.preview = e.preview, this.canvasSizeFactor = 1, this.fontSizeFactor = 1, this.enableButtonCamera = e.enableButtonCamera, this.documentAspectRatio = e.documentAspectRatio, this.documentRect = {\n        x: 0,\n        y: 0,\n        width: 100 * this.documentAspectRatio,\n        height: 100\n      }, this.searchingTextMode = 1, this.searchingTextModeTime = 0, this.cameraCount = 0;\n    }\n\n    setCanvasSize(e, t) {\n      this.width = e, this.height = t, this.landscape = this.width >= this.height, this.statusHeight = 50, this.rm.isAttributeAvailable(\"facephi-widget-conf\", \"facephi-widget-conf\", this.landscape, \"status_height\") && (this.statusHeight = this.rm.getSetupFloat(\"facephi-widget-conf\", \"facephi-widget-conf\", this.landscape, \"status_height\")), this.documentPadding = 30, this.buttonWidth = 216, this.buttonHeight = 55;\n    }\n\n    fromScreenToCamera(e, t, i, l, a, n, s) {\n      var d = this.getCameraRect(e, t, i, l, a),\n          c = s.x - d.x,\n          h = s.y - d.y,\n          o = s.width,\n          r = s.height,\n          m = {\n        x: c / d.width * t,\n        y: h / d.height * i,\n        width: o / d.width * t,\n        height: r / d.height * i\n      };\n      return 1 == n && (m.x = t - m.x - m.width), m;\n    }\n\n    getCameraRect(e, t, i, l, a, n) {\n      var s = this.scaleRect({\n        width: t,\n        height: i\n      }, {\n        x: 0,\n        y: 0,\n        width: l,\n        height: a\n      });\n      return s.visible = !0, \"UCTutorial1\" != n && \"UCTutorial2\" != n && \"UCTutorial3\" != n && \"UCPreview\" != n && \"Error\" != n || (s.visible = !1), s;\n    }\n\n    getDocRectScreenSpace(e, t, i) {\n      var l = {\n        x: this.documentPadding,\n        y: this.statusHeight + this.documentPadding,\n        width: e - 2 * this.documentPadding,\n        height: t - this.statusHeight - 2 * this.documentPadding\n      },\n          a = this.scaleRect(this.documentRect, l, \"inner\");\n      return this.cameraCount > 1 && a.x + a.width > e - 60 && a.y + a.height > t - 60 && (l = {\n        x: this.documentPadding,\n        y: this.statusHeight + this.documentPadding,\n        width: e - 60 - this.documentPadding,\n        height: t - this.statusHeight - 2 * this.documentPadding\n      }, a = this.scaleRect(this.documentRect, l, \"inner\")), i && (a.x += i, a.y += i, a.width -= 2 * i, a.height -= 2 * i), a;\n    }\n\n    getDocRect(e, t, i, l, a, n, s) {\n      var d = this.getDocRectScreenSpace(l, a, s);\n      return this.fromScreenToCamera(e, t, i, l, a, n, d);\n    }\n\n    getResourceIdForState(e) {\n      return \"UCWaitingFaceStart\" == e ? \"StartExtractor\" : \"UCCapture\" == e || \"UCCaptureCameraSwitch\" == e || \"UCCaptureTip\" == e ? \"UCCapture\" : \"UCCaptureStatus\" == e ? \"UCCaptureStatus\" : \"UCPreview\" == e ? \"UCPreview\" : \"UCTimeoutPreview\" == e ? \"UCTimeoutPreview\" : \"UCFlip\" == e ? \"UCFlip\" : \"UCTutorial1\" == e ? \"UCTutorial1\" : \"UCTutorial2\" == e ? \"UCTutorial2\" : \"UCTutorial3\" == e ? \"UCTutorial3\" : \"UCWaitRecording\" == e ? \"WaitRecording\" : \"UCError\" == e ? \"Error\" : \"InfoFront\" == e || \"PreviewFront\" == e || \"InfoBack\" == e || \"PreviewBack\" == e ? e : null;\n    }\n\n    onMouseMove(e, t, i, l, a) {\n      e.style.cursor = \"button\" == a || \"buttonImage\" == a ? \"pointer\" : \"default\";\n    }\n\n    draw(e, t, i, l, a, n, s, d, c) {\n      if (e.imageSmoothingEnabled = !0, \"background\" == a) this.drawBackground(e, t, i, l);else if (\"clearRect\" == a) this.clearRect(e, t, i, l);else if (\"imageProc\" == a) this.drawImageProc(e, t, i, l, n, s, d, c);else if (\"button\" == a) this.drawButton(e, t, i, l);else if (\"buttonGradient\" == a) this.drawButtonGradient(e, t, i, l);else if (\"buttonImage\" == a) this.drawButtonImage(e, t, i, l, n, s, d, c);else if (\"image\" == a) this.drawImage(e, t, i, l, n, s, d, c);else if (\"text\" == a) this.drawText(e, t, i, l, n, s, d, c);else if (\"documentBorder\" == a) this.drawDocumentBorder(e, t, i, l, n, s, d, c);else if (\"documentFlipper\" == a) this.drawDocumentFlipper(e, t, i, l, n, s, d, c);else if (\"video\" == a) null != c.player && e.drawImage(c.player, t.x, t.y, t.width, t.height);else if (\"animation\" == a) {\n        var h = 0;\n        \"UCLivenessMoveDetecting\" == c.state && (h = c.livenessMoveDirection), this.drawAnimation(e, t, i, l, n, s, d, c, h);\n      } else if (\"initialTip\" == a) this.drawInitialTip(e, t, i, l, n, s, d, c);else if (\"progressRecord\" == l) {\n        e.fillStyle = this.rm.getSetupColor(i, l, this.landscape, \"background_color\"), e.fillRect(t.x, t.y, t.width, t.height), e.fillStyle = this.rm.getSetupColor(i, l, this.landscape, \"progress_color\");\n        let a = .2 * t.width,\n            n = s % 2 / 1.6,\n            d = t.width * n - a,\n            c = d + a;\n        d < 0 && (d = 0), d > t.width && (d = t.width), c > t.width && (c = t.width), e.fillRect(t.x + d, t.y, c - d, t.height);\n      } else \"rectangle\" == a && (e.fillStyle = this.rm.getSetupColor(i, l, this.landscape, \"color\"), e.fillRect(t.x, t.y, t.width, t.height));\n    }\n\n    getLayout(e, t, i, l, a, n, s, d) {\n      if (\"document\" == i) return {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height\n      };\n      if (\"documentFlipper\" == i) return {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height\n      };\n\n      if (\"logo\" == i) {\n        var c = this.rm.getSetupResourceId(t, i, this.landscape, \"value\"),\n            h = this.rm.getImage(c),\n            o = this.canvasSizeFactor * this.rm.getImageScale(),\n            r = h.width * o,\n            m = h.height * o;\n        return {\n          x: this.width / 2 - r / 2,\n          y: this.height - m - 16,\n          width: r,\n          height: m\n        };\n      }\n\n      if (\"background\" == i) return {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height\n      };\n\n      if (\"preview\" == i || \"previewFail\" == i) {\n        let e,\n            t = 0;\n\n        if (\"UCPreview\" == d.state || \"PreviewFront\" == d.state || \"PreviewBack\" == d.state) {\n          this.landscape && (t = 64);\n          let i = {\n            x: this.documentPadding,\n            y: this.statusHeight + this.documentPadding,\n            width: this.width - 2 * this.documentPadding,\n            height: this.height - this.statusHeight - 2 * this.documentPadding - t\n          };\n          e = this.scaleRect(this.documentRect, i, \"inner\");\n        } else e = this.getDocRectScreenSpace(this.width, this.height, 0);\n\n        if ((\"UCPreview\" == d.state || \"PreviewFront\" == d.state || \"PreviewBack\" == d.state) && 0 == this.landscape) {\n          let t = this.height - 50 - 100 - 39 - 12;\n          e.y = 50 + t / 2 - e.height / 2;\n        }\n\n        return e;\n      }\n\n      if (\"button_ok\" == i) {\n        if (this.landscape) {\n          var I = 300;\n          return this.width / 2 < 364 && (I = this.width / 2 - 16 - 16), {\n            x: this.width - I - 16,\n            y: this.height - 14 - 50,\n            width: I,\n            height: 50\n          };\n        }\n\n        {\n          let e = 50,\n              t = {\n            x: this.documentPadding,\n            y: this.statusHeight + this.documentPadding,\n            width: this.width - 2 * this.documentPadding,\n            height: this.height - this.statusHeight - 2 * this.documentPadding\n          },\n              i = this.scaleRect(this.documentRect, t, \"inner\"),\n              l = this.height - e - 2 * e - 39 - 12;\n          return i.y = e + l / 2 - i.height / 2, i.y, i.height, {\n            x: this.documentPadding,\n            y: this.height - 14 - 50,\n            width: this.width - 2 * this.documentPadding,\n            height: e\n          };\n        }\n      }\n\n      if (\"button_repeat\" == i) {\n        if (this.landscape) return I = 300, this.width / 2 < 364 && (I = this.width / 2 - 16 - 16), {\n          x: 16,\n          y: this.height - 14 - 50,\n          width: I,\n          height: 50\n        };\n        {\n          let e = 50,\n              t = {\n            x: this.documentPadding,\n            y: this.statusHeight + this.documentPadding,\n            width: this.width - 2 * this.documentPadding,\n            height: this.height - this.statusHeight - 2 * this.documentPadding\n          },\n              i = this.scaleRect(this.documentRect, t, \"inner\"),\n              l = this.height - e - 2 * e - 39 - 12;\n          return i.y = e + l / 2 - i.height / 2, i.y, i.height, {\n            x: this.documentPadding,\n            y: this.height - 28 - 100,\n            width: this.width - 2 * this.documentPadding,\n            height: e\n          };\n        }\n      }\n\n      if (\"button_start\" == i) {\n        if (\"InfoFront\" == d.state || \"InfoBack\" == d.state) return {\n          x: this.width / 2 - 134,\n          y: this.height - 66 - 58,\n          width: 268,\n          height: 66\n        };\n        if (this.landscape) return {\n          x: this.width / 2 - 75,\n          y: this.height / 2 - 25,\n          width: 150,\n          height: 50\n        };\n        {\n          let e = {\n            x: this.documentPadding,\n            y: this.statusHeight + this.documentPadding,\n            width: this.width - 2 * this.documentPadding,\n            height: this.height - this.statusHeight - 2 * this.documentPadding\n          },\n              t = this.scaleRect(this.documentRect, e, \"inner\"),\n              i = this.height - 50 - 100 - 39 - 12;\n          t.y = 50 + i / 2 - t.height / 2;\n          let l = t.y + t.height + 20;\n          return {\n            x: this.documentPadding,\n            y: l,\n            width: this.width - 2 * this.documentPadding,\n            height: 50\n          };\n        }\n      }\n\n      if (\"text\" == i) {\n        if (this.landscape) {\n          if (\"UCCaptureStatus\" == d.state) {\n            var Z = 0,\n                b = {\n              x: this.documentPadding,\n              y: this.statusHeight + this.documentPadding,\n              width: this.width - 2 * this.documentPadding,\n              height: this.height - this.statusHeight - 2 * this.documentPadding - Z\n            };\n            return {\n              x: (R = this.scaleRect(this.documentRect, b, \"inner\")).x + .4 * R.width,\n              y: R.y,\n              width: .6 * R.width,\n              height: R.height\n            };\n          }\n\n          return \"UCWaitRecording\" == d.state ? {\n            x: 0,\n            y: .6 * this.height,\n            width: this.width,\n            height: 50\n          } : \"InfoFront\" == d.state ? {\n            x: 0,\n            y: 374 * this.height / 640,\n            width: this.width,\n            height: 50\n          } : \"UCTimeoutPreview\" == d.state ? {\n            x: 0,\n            y: 0,\n            width: this.width,\n            height: 70\n          } : {\n            x: 0,\n            y: 0,\n            width: this.width,\n            height: 50\n          };\n        }\n\n        return \"UCCapture\" == d.state ? {\n          x: 0,\n          y: (R = this.getDocRectScreenSpace(this.width, this.height, 0)).y - 35,\n          width: this.width,\n          height: R.y\n        } : \"UCCaptureStatus\" == d.state ? (Z = 0, b = {\n          x: this.documentPadding,\n          y: this.statusHeight + this.documentPadding,\n          width: this.width - 2 * this.documentPadding,\n          height: this.height - this.statusHeight - 2 * this.documentPadding - Z\n        }, {\n          x: (R = this.scaleRect(this.documentRect, b, \"inner\")).x + .4 * R.width,\n          y: R.y,\n          width: .6 * R.width,\n          height: R.height\n        }) : \"UCWaitRecording\" == d.state ? {\n          x: 0,\n          y: .6 * this.height,\n          width: this.width,\n          height: 50\n        } : \"InfoFront\" == d.state ? {\n          x: 0,\n          y: 374 * this.height / 640,\n          width: this.width,\n          height: 50\n        } : \"UCTimeoutPreview\" == d.state ? {\n          x: 0,\n          y: 0,\n          width: this.width,\n          height: 70\n        } : {\n          x: 0,\n          y: 0,\n          width: this.width,\n          height: 50\n        };\n      }\n\n      if (\"diagnostic\" == i) return {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height\n      };\n\n      if (\"text_detail\" == i) {\n        if (\"UCTimeoutPreview\" == d.state) return this.landscape ? {\n          x: this.width / 2,\n          y: 330 * this.height / 640,\n          width: this.width / 2,\n          height: 50\n        } : {\n          x: 0,\n          y: 374 * this.height / 640,\n          width: this.width,\n          height: 50\n        };\n        if (0 == this.landscape) return {\n          x: 0,\n          y: (R = this.getDocRectScreenSpace(this.width, this.height, 0)).y + R.height + 15 + 7,\n          width: this.width,\n          height: this.height\n        };\n      } else {\n        if (\"text_detail2\" == i) return this.landscape ? {\n          x: this.width / 2,\n          y: 280 * this.height / 640,\n          width: this.width / 2,\n          height: 50\n        } : {\n          x: 0,\n          y: 320 * this.height / 640,\n          width: this.width,\n          height: 50\n        };\n\n        if (\"previewImgOk\" == i || \"previewImgFail\" == i) {\n          Z = 0, \"UCPreview\" == d.state && this.landscape && (Z = 64), b = {\n            x: this.documentPadding,\n            y: this.statusHeight + this.documentPadding,\n            width: this.width - 2 * this.documentPadding,\n            height: this.height - this.statusHeight - 2 * this.documentPadding - Z\n          };\n          var R = this.scaleRect(this.documentRect, b, \"inner\");\n\n          if (\"UCPreview\" == d.state && 0 == this.landscape) {\n            var u = this.height - 50 - 100 - 39 - 12;\n            R.y = 50 + u / 2 - R.height / 2;\n          }\n\n          return c = this.rm.getSetupResourceId(t, i, this.landscape, \"value\"), h = this.rm.getImage(c), o = this.canvasSizeFactor * this.rm.getImageScale(), r = h.width * o, m = h.height * o, {\n            x: R.x + R.width / 3.5 - r / 2,\n            y: R.y + R.height / 2 - m / 2,\n            width: r,\n            height: m\n          };\n        }\n\n        if (\"tip\" == i) return this.landscape ? {\n          x: 0,\n          y: 30,\n          width: this.width,\n          height: 200\n        } : {\n          x: 0,\n          y: 50,\n          width: this.width,\n          height: 200\n        };\n        if (\"tip_detail\" == i) return this.landscape ? {\n          x: this.width / 2,\n          y: 0,\n          width: this.width / 2,\n          height: this.height\n        } : {\n          x: 0,\n          y: this.height / 2 - 60,\n          width: this.width,\n          height: this.height - this.documentPadding - 15 - 2 * this.buttonHeight - (this.height / 2 - 60 - 95)\n        };\n        if (\"background\" == i) return {\n          x: 0,\n          y: 0,\n          width: this.width,\n          height: this.height\n        };\n\n        if (\"button_skip\" == i) {\n          if (this.landscape) {\n            var g = this.buttonWidth;\n            return this.width < 800 && ((W = (this.width - 600) / 200) < 0 && (W = 0), g -= g / 2 * (W = 1 - W)), {\n              x: this.documentPadding,\n              y: this.height - this.documentPadding - this.buttonHeight,\n              width: g,\n              height: this.buttonHeight\n            };\n          }\n\n          {\n            let e = this.width - 2 * this.documentPadding;\n            return e > 262 && (e = 262), {\n              x: this.width / 2 - e / 2,\n              y: this.height - this.documentPadding - this.buttonHeight,\n              width: e,\n              height: this.buttonHeight\n            };\n          }\n        }\n\n        if (\"button_next\" == i) {\n          if (this.landscape) return g = this.buttonWidth, this.width < 800 && ((W = (this.width - 600) / 200) < 0 && (W = 0), g -= g / 2 * (W = 1 - W)), {\n            x: this.width - this.documentPadding - g,\n            y: this.height - this.documentPadding - this.buttonHeight,\n            width: g,\n            height: this.buttonHeight\n          };\n          {\n            let e = this.width - 2 * this.documentPadding;\n            return e > 262 && (e = 262), {\n              x: this.width / 2 - e / 2,\n              y: this.height - this.documentPadding - 15 - 2 * this.buttonHeight,\n              width: e,\n              height: this.buttonHeight\n            };\n          }\n        }\n\n        if (\"button_finish\" == i) {\n          var W;\n          if (this.landscape) return g = this.buttonWidth, this.width < 800 && ((W = (this.width - 600) / 200) < 0 && (W = 0), g -= g / 2 * (W = 1 - W)), {\n            x: this.width - this.documentPadding - g,\n            y: this.height - this.documentPadding - this.buttonHeight,\n            width: g,\n            height: this.buttonHeight\n          };\n          {\n            let e = this.width - 2 * this.documentPadding;\n            return e > 262 && (e = 262), {\n              x: this.width / 2 - e / 2,\n              y: this.height - this.documentPadding - 15 - 2 * this.buttonHeight,\n              width: e,\n              height: this.buttonHeight\n            };\n          }\n        }\n\n        if (\"button_back\" == i) {\n          let e = this.width - 2 * this.documentPadding;\n          return e > 262 && (e = 262), {\n            x: 5,\n            y: 0,\n            width: e,\n            height: this.buttonHeight\n          };\n        }\n\n        if (\"video\" == i) return this.landscape ? (b = {\n          x: this.documentPadding,\n          y: 60,\n          width: this.width / 2 - 2 * this.documentPadding,\n          height: this.height - this.buttonHeight - 2 * this.documentPadding - 50\n        }, this.scaleRect(this.documentRect, b, \"inner\")) : (b = {\n          x: this.documentPadding,\n          y: 95,\n          width: this.width - 2 * this.documentPadding,\n          height: this.height / 2 - 60\n        }, this.scaleRect(this.documentRect, b, \"inner\"));\n\n        if (\"initial_tip\" == i) {\n          if (\"UCCaptureTip\" == d.state) return {\n            x: 0,\n            y: 0,\n            width: this.width,\n            height: this.height\n          };\n        } else if (\"button_initial_tip\" == i) {\n          if (\"UCCaptureTip\" == d.state) return {\n            x: this.width / 2 - 113,\n            y: this.height / 2 - 79 + 92,\n            width: 226,\n            height: 45\n          };\n        } else {\n          if (\"progressRecord\" == i) return {\n            x: .146 * this.width,\n            y: .52 * this.height,\n            width: .7 * this.width,\n            height: 18\n          };\n          if (\"imageFront\" == i || \"imageBack\" == i) return \"UCTimeoutPreview\" == d.state ? this.landscape ? (I = this.height - 70 - 70, {\n            x: 0,\n            y: 75,\n            width: this.width / 2,\n            height: I\n          }) : (I = 220 * this.height / 640, {\n            x: this.width / 2 - I / 2,\n            y: 75,\n            width: I,\n            height: I\n          }) : (I = 177 * this.height / 640, {\n            x: this.width / 2 - I / 2,\n            y: 103 * this.height / 640,\n            width: I,\n            height: I\n          });\n          if (\"titleBox\" == i) return {\n            x: 0,\n            y: 0,\n            width: this.width,\n            height: 70\n          };\n          if (\"tip_video\" == i) return {\n            x: this.circleX - this.circleRadius,\n            y: this.circleY - this.circleRadius,\n            width: 2 * this.circleRadius,\n            height: 2 * this.circleRadius\n          };\n          if (\"video_success\" == i) return {\n            x: this.circleX - this.circleRadius,\n            y: this.circleY - this.circleRadius,\n            width: 2 * this.circleRadius,\n            height: 2 * this.circleRadius\n          };\n          if (\"extraction_video\" == i) return {\n            x: this.width / 2 - .1 * this.width,\n            y: .73 * this.height,\n            width: .2 * this.width,\n            height: .2 * this.width\n          };\n          if (\"button_finish\" == i) return {\n            x: .55 * this.width,\n            y: this.height - this.buttonHeight,\n            width: .4 * this.width,\n            height: this.buttonHeight\n          };\n          if (\"button_exit\" == i) return c = this.rm.getSetupResourceId(t, i, this.landscape, \"value\"), h = this.rm.getImage(c), o = this.canvasSizeFactor * this.rm.getImageScale(), r = h.width * o, m = h.height * o, \"UCTimeoutPreview\" == d.state ? {\n            x: this.width - r - 30,\n            y: 0,\n            width: r + 30,\n            height: 70\n          } : {\n            x: this.width - r - 30,\n            y: 0,\n            width: r + 30,\n            height: 50\n          };\n          if (\"button_info\" == i) return c = this.rm.getSetupResourceId(t, i, this.landscape, \"value\"), h = this.rm.getImage(c), o = this.canvasSizeFactor * this.rm.getImageScale(), r = h.width * o, m = h.height * o, {\n            x: 0,\n            y: 0,\n            width: r + 30,\n            height: 50\n          };\n          if (\"button_camera\" == i) return this.cameraCount < 2 ? null : this.enableButtonCamera ? (c = this.rm.getSetupResourceId(t, i, this.landscape, \"value\"), h = this.rm.getImage(c), o = this.canvasSizeFactor * this.rm.getImageScale(), r = h.width * o, m = h.height * o, {\n            x: this.width - r - 16,\n            y: this.height - m - 12,\n            width: r + 16,\n            height: m + 12\n          }) : null;\n          if (\"button_rotate\" == i) return c = this.rm.getSetupResourceId(t, i, this.landscape, \"value\"), h = this.rm.getImage(c), o = this.canvasSizeFactor * this.rm.getImageScale(), r = h.width * o, m = h.height * o, R = this.getDocRectScreenSpace(this.width, this.height, 0), \"UCPreview\" != d.state && \"PreviewFront\" != d.state && \"PreviewBack\" != d.state || (b = {\n            x: this.documentPadding,\n            y: this.statusHeight + this.documentPadding,\n            width: this.width - 2 * this.documentPadding,\n            height: this.height - this.statusHeight - 2 * this.documentPadding - Z\n          }, R = this.scaleRect(this.documentRect, b, \"inner\"), 0 == this.landscape && (u = this.height - 50 - 100 - 39 - 12, R.y = 50 + u / 2 - R.height / 2)), {\n            x: R.x,\n            y: 30,\n            width: r + 16,\n            height: m + 12\n          };\n          if (\"warning\" == i) return {\n            x: 0,\n            y: .91 * this.height,\n            width: this.width,\n            height: .1 * this.height\n          };\n          if (\"warningTooFar\" == i) return {\n            x: 0,\n            y: .89 * this.height,\n            width: this.width,\n            height: .1 * this.height\n          };\n          if (\"camera\" == l) return {\n            x: this.circleX - this.circleRadius,\n            y: this.circleY - this.circleRadius,\n            width: 2 * this.circleRadius,\n            height: 2 * this.circleRadius\n          };\n          if (\"results\" == l) return {\n            x: this.circleX - this.circleRadius,\n            y: this.circleY - this.circleRadius,\n            width: 2 * this.circleRadius,\n            height: 2 * this.circleRadius\n          };\n          if (\"liveness_move_text\" == i) return \"UCLivenessMoveStabilizing\" == d.state || \"UCLivenessMoveStabilized\" == d.state || \"UCLivenessMoveDetecting\" == d.state ? {\n            x: 0,\n            y: .89 * this.height,\n            width: this.width,\n            height: .1 * this.height\n          } : null;\n          if (\"liveness_move_tip_text\" == i) return 800 == this.width ? null : {\n            x: this.circleX - this.circleRadius,\n            y: this.circleY - .39 * this.circleRadius,\n            width: 2 * this.circleRadius,\n            height: 2 * this.circleRadius\n          };\n          if (\"liveness_move_tip_text_challenge\" == i) return 800 != this.width ? null : {\n            x: this.circleX - this.circleRadius,\n            y: this.circleY - .39 * this.circleRadius,\n            width: 2 * this.circleRadius,\n            height: 2 * this.circleRadius\n          };\n          if (\"livenessInfo_text\" == i) return {\n            x: 0,\n            y: .89 * this.height,\n            width: this.width,\n            height: .1 * this.height\n          };\n\n          if (\"liveness_move_left\" == i || \"liveness_move_right\" == i || \"liveness_move_top\" == i || \"liveness_move_bottom\" == i) {\n            if (-1 == d.livenessMoveDirection) return null;\n\n            if (\"UCLivenessMoveDetecting\" == d.state && n >= .25 && n < 1.75) {\n              if (0 == d.livenessMoveDirection && \"liveness_move_top\" != i) return null;\n              if (2 == d.livenessMoveDirection && \"liveness_move_bottom\" != i) return null;\n              if (1 == d.livenessMoveDirection && \"liveness_move_right\" != i) return null;\n              if (3 == d.livenessMoveDirection && \"liveness_move_left\" != i) return null;\n              var V = !1;\n              return this.rm.isAttributeAvailable(t, i, \"fullscreen\") && \"true\" == this.rm.getSetupResourceId(t, i, this.landscape, \"fullscreen\") && (V = !0), V ? {\n                x: 0,\n                y: 0,\n                width: this.width,\n                height: this.height\n              } : {\n                x: this.circleX - this.circleRadius,\n                y: this.circleY - this.circleRadius,\n                width: 2 * this.circleRadius,\n                height: 2 * this.circleRadius\n              };\n            }\n\n            return null;\n          }\n\n          if (\"face_searcher\" == i) return {\n            x: 0,\n            y: 0,\n            width: this.width,\n            height: this.height\n          };\n\n          if (\"livenessMoveGlasses\" == i) {\n            if (2 == d.livenessMoveFailReason) return {\n              x: this.circleX - this.circleRadius,\n              y: this.circleY - this.circleRadius,\n              width: 2 * this.circleRadius,\n              height: 2 * this.circleRadius\n            };\n          } else if (\"livenessMoveSunGlasses\" == i) {\n            if (0 == d.livenessMoveFailReason) return {\n              x: this.circleX - this.circleRadius,\n              y: this.circleY - this.circleRadius,\n              width: 2 * this.circleRadius,\n              height: 2 * this.circleRadius\n            };\n          } else if (\"livenessMoveInfo\" == i) {\n            if (1 == d.livenessMoveFailReason) return {\n              x: this.circleX - this.circleRadius,\n              y: this.circleY - this.circleRadius,\n              width: 2 * this.circleRadius,\n              height: 2 * this.circleRadius\n            };\n          } else {\n            if (\"animation\" == l) return i != d.state ? null : (V = !1, this.rm.isAttributeAvailable(t, i, \"fullscreen\") && \"true\" == this.rm.getSetupResourceId(t, i, this.landscape, \"fullscreen\") && (V = !0), V ? {\n              x: 0,\n              y: 0,\n              width: this.width,\n              height: this.height\n            } : {\n              x: this.circleX - this.circleRadius,\n              y: this.circleY - this.circleRadius,\n              width: 2 * this.circleRadius,\n              height: 2 * this.circleRadius\n            });\n            if ((\"liveness_ok\" == i || \"liveness_nok\" == i) && \"UCLivenessMoveStabilizing\" == d.state) return {\n              x: this.circleX - this.circleRadius,\n              y: this.circleY - this.circleRadius,\n              width: 2 * this.circleRadius,\n              height: 2 * this.circleRadius\n            };\n          }\n        }\n      }\n\n      return null;\n    }\n\n    drawBackground(e, t, i, l) {\n      e.fillStyle = this.rm.getSetupColor(i, l, this.landscape, \"color\"), e.fillRect(t.x, t.y, t.width, t.height);\n    }\n\n    clearRect(e, t, i, l) {\n      e.clearRect(t.x, t.y, t.width, t.height);\n    }\n\n    drawPoint(e, t, i, l, a) {\n      e.fillStyle = a, e.beginPath(), e.arc(t, i, l, 0, 2 * Math.PI), e.fill();\n    }\n\n    drawLine(e, t, i, l, a, n) {\n      e.lineWidth = 1, e.strokeStyle = n, e.beginPath(), e.moveTo(t, i), e.lineTo(l, a), e.stroke();\n    }\n\n    drawButtonImage(e, t, i, l, a, n, s, d) {\n      var c = this.rm.getSetupResourceId(i, l, this.landscape, \"value\"),\n          h = this.rm.getImage(c),\n          o = this.canvasSizeFactor * this.rm.getImageScale(),\n          r = h.width * o,\n          m = h.height * o;\n      e.drawImage(h, t.x + t.width / 2 - r / 2, t.y + t.height / 2 - m / 2, r, m);\n    }\n\n    drawButton(e, t, i, l) {\n      let a = 0;\n      this.rm.isAttributeAvailable(i, l, this.landscape, \"radius\") && (a = this.rm.getSetupFloat(i, l, this.landscape, \"radius\"));\n      var n = this.rm.getSetupColor(i, l, this.landscape, \"background\");\n      this.fillRoundedRect(e, t, a, 1, 1, n);\n      var s = this.rm.getSetupColor(i, l, this.landscape, \"decorator\");\n      this.drawRoundedRectProgressive(e, t, a, 1, 1, s, 1);\n      var d = this.rm.getSetupAlign(i, l, this.landscape, \"align\"),\n          c = this.rm.getSetupNodeType(i, l, this.landscape),\n          h = 10 * this.canvasSizeFactor;\n\n      if (\"TEXT_ID\" == c) {\n        var o = this.rm.getSetupTextId(i, l, this.landscape, \"content\"),\n            r = this.rm.translate(o),\n            m = this.rm.getSetupFloat(i, l, this.landscape, \"font_size\");\n        m = Math.round(m * this.fontSizeFactor);\n        var I = this.rm.getSetupResourceId(i, l, this.landscape, \"font\");\n        e.font = m + \"px '\" + I + \"'\", e.textBaseline = \"alphabetic\", e.fillStyle = this.rm.getSetupColor(i, l, this.landscape, \"foreground\");\n        var Z = e.measureText(r);\n        \"LEFT\" == d ? e.fillText(r, t.x + h, t.y + t.height / 2 + m / 2) : \"RIGHT\" == d ? e.fillText(r, t.x + t.width - Z.width - h, t.y + t.height / 2 + m / 2) : e.fillText(r, t.x + t.width / 2 - Z.width / 2, t.y + t.height / 2 + m / 2);\n      } else {\n        o = this.rm.getSetupResourceId(i, l, this.landscape, \"content\");\n        var b = this.rm.getImage(o),\n            R = this.canvasSizeFactor * this.rm.getImageScale();\n        \"LEFT\" == d ? e.drawImage(b, t.x + h, t.y + t.height / 2 - b.height * R / 2, b.width * R, b.height * R) : \"RIGHT\" == d ? e.drawImage(b, t.x + t.width - b.width * R - h, t.y + t.height / 2 - b.height * R / 2, b.width * R, b.height * R) : e.drawImage(b, t.x + t.width / 2 - b.width * R / 2, t.y + t.height / 2 - b.height * R / 2, b.width * R, b.height * R);\n      }\n    }\n\n    drawButtonGradient(e, t, i, l) {\n      let a = 0;\n      this.rm.isAttributeAvailable(i, l, this.landscape, \"radius\") && (a = this.rm.getSetupFloat(i, l, this.landscape, \"radius\"));\n      var n = this.rm.getSetupColor(i, l, this.landscape, \"colorFrom\"),\n          s = this.rm.getSetupColor(i, l, this.landscape, \"colorTo\");\n      this.fillRoundedRectGradient(e, t, a, 1, 1, n, s);\n      var d = this.rm.getSetupColor(i, l, this.landscape, \"decorator\");\n      this.drawRoundedRectProgressive(e, t, a, 1, 1, d, 1);\n      var c = this.rm.getSetupAlign(i, l, this.landscape, \"align\"),\n          h = this.rm.getSetupNodeType(i, l, this.landscape),\n          o = 10 * this.canvasSizeFactor;\n\n      if (\"TEXT_ID\" == h) {\n        var r = this.rm.getSetupTextId(i, l, this.landscape, \"content\"),\n            m = this.rm.translate(r),\n            I = this.rm.getSetupFloat(i, l, this.landscape, \"font_size\");\n        I = Math.round(I * this.fontSizeFactor);\n        var Z = this.rm.getSetupResourceId(i, l, this.landscape, \"font\");\n        e.font = I + \"px '\" + Z + \"'\", e.textBaseline = \"alphabetic\", e.fillStyle = this.rm.getSetupColor(i, l, this.landscape, \"foreground\");\n        var b = e.measureText(m);\n        \"LEFT\" == c ? e.fillText(m, t.x + o, t.y + t.height / 2 + I / 2) : \"RIGHT\" == c ? e.fillText(m, t.x + t.width - b.width - o, t.y + t.height / 2 + I / 2) : e.fillText(m, t.x + t.width / 2 - b.width / 2, t.y + t.height / 2 + I / 2);\n      } else {\n        r = this.rm.getSetupResourceId(i, l, this.landscape, \"content\");\n        var R = this.rm.getImage(r),\n            u = this.canvasSizeFactor * this.rm.getImageScale();\n        \"LEFT\" == c ? e.drawImage(R, t.x + o, t.y + t.height / 2 - R.height * u / 2, R.width * u, R.height * u) : \"RIGHT\" == c ? e.drawImage(R, t.x + t.width - R.width * u - o, t.y + t.height / 2 - R.height * u / 2, R.width * u, R.height * u) : e.drawImage(R, t.x + t.width / 2 - R.width * u / 2, t.y + t.height / 2 - R.height * u / 2, R.width * u, R.height * u);\n      }\n    }\n\n    drawImageProc(e, t, i, l, a, n, s, d) {\n      if (null != d.previewImage) {\n        let a = \"#ffffff\";\n        this.rm.isAttributeAvailable(i, l, this.landscape, \"backgroundColor\") && (a = this.rm.getSetupColor(i, l, this.landscape, \"backgroundColor\")), e.fillStyle = a, e.fillRect(t.x, t.y, t.width, t.height);\n        var c = d.previewImage,\n            h = this.canvasSizeFactor * this.rm.getImageScale(),\n            o = {\n          x: 0,\n          y: 0,\n          width: c.width * h,\n          height: c.height * h\n        },\n            r = this.scaleRect(o, t, \"inner\");\n        e.drawImage(c, r.x, r.y, r.width, r.height);\n      }\n\n      this.rm.isAttributeAvailable(i, l, this.landscape, \"overlay\") && this.fillRoundedRect(e, t, 6, 1, 1, this.rm.getSetupColor(i, l, this.landscape, \"overlay\"));\n    }\n\n    drawImage(e, t, i, l, a, n, s, d) {\n      var c = this.rm.getSetupResourceId(i, l, this.landscape, \"value\"),\n          h = this.rm.getImage(c),\n          o = !1;\n      if (this.rm.isAttributeAvailable(i, l, this.landscape, \"scale\") && \"CONTAINER\" == this.rm.getSetupResourceId(i, l, this.landscape, \"scale\") && (o = !0), o) e.drawImage(h, t.x, t.y, t.width, t.height);else {\n        var r = this.canvasSizeFactor * this.rm.getImageScale(),\n            m = h.width * r,\n            I = h.height * r;\n        e.drawImage(h, t.x + t.width / 2 - m / 2, t.y + t.height / 2 - I / 2, m, I);\n      }\n    }\n\n    drawImageWithClippingCircle(e, t, i, l, a, n) {\n      e.save(), e.beginPath(), e.arc(l, a, n, 0, 2 * Math.PI, !1), e.clip(), e.drawImage(i, t.x, t.y, t.width, t.height), e.restore();\n    }\n\n    cacheAnimation(e, t) {\n      for (var i = this.rm.getSetupResourceId(e, t, this.landscape, \"name\"), l = this.rm.getSetupResourceId(e, t, this.landscape, \"ext\"), a = parseInt(this.rm.getSetupResourceId(e, t, this.landscape, \"start\")), n = parseInt(this.rm.getSetupResourceId(e, t, this.landscape, \"end\")), s = a; s <= n; s++) {\n        var d = i + (\"0\" + s).slice(-2) + \".\" + l;\n        this.rm.getImage(d);\n      }\n    }\n\n    drawAnimation(e, t, i, l, a, n, s, d, c) {\n      var h = .1;\n      this.rm.isAttributeAvailable(i, l, \"rate\") && (h = 1 / parseFloat(this.rm.getSetupResourceId(i, l, this.landscape, \"rate\")));\n      var o = \"FINISH\";\n      this.rm.isAttributeAvailable(i, l, this.landscape, \"animMode\") && (o = this.rm.getSetupResourceId(i, l, this.landscape, \"animMode\"));\n      var r,\n          m = this.rm.getSetupResourceId(i, l, this.landscape, \"name\"),\n          I = this.rm.getSetupResourceId(i, l, this.landscape, \"ext\"),\n          Z = parseInt(this.rm.getSetupResourceId(i, l, this.landscape, \"start\")),\n          b = parseInt(this.rm.getSetupResourceId(i, l, this.landscape, \"end\")),\n          R = h * (b - Z + 1);\n      if (\"FINISH\" == o) (r = Math.floor(n / h + Z)) > b && (r = b);else {\n        var u = n % R / R;\n        r = Math.floor((b - Z) * u + Z);\n      }\n      r < Z && (r = Z), r > b && (r = b);\n      var g = m + (\"0\" + r).slice(-2) + \".\" + I,\n          W = this.rm.getImage(g);\n      e.drawImage(W, t.x, t.y, t.width, t.height);\n    }\n\n    drawInitialTip(e, t, i, l, a, n, s, d) {\n      e.fillStyle = \"rgba(0,0,0,0.7)\", e.fillRect(t.x, t.y, t.width, t.height);\n      let c = this.rm.getSetupColor(i, l, this.landscape, \"backgroundColor\"),\n          h = {\n        x: this.width / 2 - 160,\n        y: this.height / 2 - 79,\n        width: 320,\n        height: 158\n      };\n      this.fillRoundedRect(e, h, 6, 1, 1, c);\n      var o = this.rm.getSetupResourceId(i, l, this.landscape, \"image\"),\n          r = this.rm.getImage(o),\n          m = this.canvasSizeFactor * this.rm.getImageScale(),\n          I = r.width * m,\n          Z = r.height * m;\n      e.drawImage(r, h.x + 16, h.y + 31, I, Z);\n      var b = this.rm.getSetupFloat(i, l, this.landscape, \"font_size\"),\n          R = b + 1;\n      this.rm.isAttributeAvailable(i, l, this.landscape, \"line_height\") && (R = this.rm.getSetupFloat(i, l, this.landscape, \"line_height\"));\n      var u = this.rm.getSetupColor(i, l, this.landscape, \"color\"),\n          g = this.rm.getSetupResourceId(i, l, this.landscape, \"font\"),\n          W = {\n        x: h.x + 50,\n        y: h.y,\n        width: h.width - 35,\n        height: 92\n      },\n          V = this.rm.translate(\"capture_tip_text\");\n      this.drawStringMultiline(e, V, W, u, g, b, R, \"LEFT\", \"CENTER\");\n    }\n\n    drawDocumentBorder(e, t, i, l, a, n, s, d) {\n      var c = this.rm.getSetupColor(i, l, this.landscape, \"documentBorderColor\"),\n          h = this.rm.getSetupColor(i, l, this.landscape, \"documentBorderDetectedColor\"),\n          o = 0;\n      \"UCPreview\" != d.state && \"PreviewFront\" != d.state && \"PreviewBack\" != d.state || this.landscape && (o = 64);\n      let r = this.rm.getSetupColor(i, l, this.landscape, \"statusColor\");\n      0 == d.cameraOverflow && (r = this.rm.getSetupColor(i, l, this.landscape, \"statusColorVariant\")), e.fillStyle = r, e.fillRect(t.x, t.y, t.width, this.statusHeight);\n      var m = this.getDocRectScreenSpace(t.width, t.height, 0);\n\n      if (\"UCPreview\" == d.state || \"PreviewFront\" == d.state || \"PreviewBack\" == d.state) {\n        var I = {\n          x: t.x + this.documentPadding,\n          y: t.y + this.statusHeight + this.documentPadding,\n          width: t.width - 2 * this.documentPadding,\n          height: t.height - this.statusHeight - 2 * this.documentPadding - o\n        };\n\n        if (m = this.scaleRect(this.documentRect, I, \"inner\"), 0 == this.landscape) {\n          var Z = this.height - 50 - 100 - 39 - 12;\n          m.y = 50 + Z / 2 - m.height / 2;\n        }\n      }\n\n      e.save(), e.beginPath(), e.rect(t.x, t.y + this.statusHeight, t.width, t.height - this.statusHeight), e.rect(m.x, m.y, m.width, m.height), e.closePath(), e.clip(\"evenodd\");\n      let b = this.rm.getSetupColor(i, l, this.landscape, \"backgroundColor\");\n      0 == d.cameraOverflow && (b = this.rm.getSetupColor(i, l, this.landscape, \"backgroundColorVariant\")), e.fillStyle = b, e.fillRect(t.x, t.y + this.statusHeight, t.width, t.height - this.statusHeight), e.restore();\n      var R = this.rm.getSetupFloat(i, l, this.landscape, \"documentBorder\");\n\n      if (this.drawRoundedRectProgressive(e, m, 6, R, 2 * R, c, 1), \"UCCapture\" == d.state) {\n        var u = 0;\n        1 == d.contour[0] && u++, 1 == d.contour[1] && u++, 1 == d.contour[2] && u++, 1 == d.contour[3] && u++, u >= 2 ? a - this.searchingTextModeTime > .5 && (this.searchingTextMode = 2, this.searchingTextModeTime = a) : a - this.searchingTextModeTime > .5 && (this.searchingTextMode = 1, this.searchingTextModeTime = a);\n        var g,\n            W = this.rm.getSetupFloat(i, l, this.landscape, \"font_size\"),\n            V = this.rm.getSetupColor(i, l, this.landscape, \"font_color\"),\n            p = this.rm.getSetupResourceId(i, l, this.landscape, \"font\");\n        g = 1 == this.searchingTextMode ? this.rm.translate(\"searching1_text\") : this.rm.translate(\"searching2_text\"), this.drawStringMultiline(e, g, m, V, p, W, \"CENTER\", \"CENTER\");\n      }\n\n      e.lineWidth = this.rm.getSetupFloat(i, l, this.landscape, \"documentBorder\");\n      var G = .15 * m.width,\n          X = .15 * m.height;\n      1 == d.contour[0] && (e.beginPath(), e.strokeStyle = 1 == d.contour[0] ? h : c, e.moveTo(m.x + G, m.y + 6), e.lineTo(m.x + m.width - G, m.y + 6), e.stroke()), 1 == d.contour[1] && (e.beginPath(), e.strokeStyle = 1 == d.contour[1] ? h : c, e.moveTo(m.x + m.width - 6, m.y + X), e.lineTo(m.x + m.width - 6, m.y + m.height - X), e.stroke()), 1 == d.contour[2] && (e.beginPath(), e.strokeStyle = 1 == d.contour[2] ? h : c, e.moveTo(m.x + m.width - G, m.y + m.height - 6), e.lineTo(m.x + G, m.y + m.height - 6), e.stroke()), 1 == d.contour[3] && (e.beginPath(), e.strokeStyle = 1 == d.contour[3] ? h : c, e.moveTo(m.x + 6, m.y + m.height - X), e.lineTo(m.x + 6, m.y + X), e.stroke());\n    }\n\n    drawDocumentFlipper(e, t, i, l, a, n, s, d) {\n      var c = this.rm.getSetupColor(i, l, this.landscape, \"documentBorderColor\");\n      this.rm.getSetupColor(i, l, this.landscape, \"documentBorderDetectedColor\");\n      let h = this.rm.getSetupColor(i, l, this.landscape, \"statusColor\");\n      0 == d.cameraOverflow && (h = this.rm.getSetupColor(i, l, this.landscape, \"statusColorVariant\")), e.fillStyle = h, e.fillRect(t.x, t.y, t.width, this.statusHeight);\n      var o,\n          r = this.getDocRectScreenSpace(this.width, this.height, 0),\n          m = r.x + r.width / 2,\n          I = .5;\n      n < I ? (o = 1 - (1 - (o = 1 - n / I)) * (1 - o) * (1 - o), r.width = r.width * o, r.x = m - r.width / 2) : (o = 1 - (1 - (o = (n - I) / I)) * (1 - o) * (1 - o), r.width = r.width * o, r.x = m - r.width / 2), e.save(), e.beginPath(), e.rect(t.x, t.y + this.statusHeight, t.width, t.height - this.statusHeight), e.rect(r.x, r.y, r.width, r.height), e.closePath(), e.clip(\"evenodd\");\n      let Z = this.rm.getSetupColor(i, l, this.landscape, \"backgroundColor\");\n\n      if (0 == d.cameraOverflow && (Z = this.rm.getSetupColor(i, l, this.landscape, \"backgroundColorVariant\")), e.fillStyle = Z, e.fillRect(t.x, t.y + this.statusHeight, t.width, t.height - this.statusHeight), e.restore(), e.lineWidth = this.rm.getSetupFloat(i, l, this.landscape, \"documentBorder\"), e.strokeStyle = c, e.strokeRect(r.x, r.y, r.width, r.height), n < I) {\n        var b = d.previewImage;\n        e.drawImage(b, r.x, r.y, r.width, r.height);\n      }\n    }\n\n    drawText(e, t, i, l, a, s, d, c) {\n      var h = this.rm.getSetupFloat(i, l, this.landscape, \"font_size\"),\n          o = h + 1;\n      this.rm.isAttributeAvailable(i, l, this.landscape, \"line_height\") && (o = this.rm.getSetupFloat(i, l, this.landscape, \"line_height\"));\n      var r = this.rm.getSetupColor(i, l, this.landscape, \"color\"),\n          m = this.rm.getSetupResourceId(i, l, this.landscape, \"font\"),\n          I = \"CENTER\";\n      this.rm.isAttributeAvailable(i, l, this.landscape, \"align\") && (I = this.rm.getSetupAlign(i, l, this.landscape, \"align\"));\n      var Z = \"TOP\";\n      this.rm.isAttributeAvailable(i, l, this.landscape, \"valign\") && (Z = this.rm.getSetupAlign(i, l, this.landscape, \"valign\"));\n      var b = \"\";\n      this.rm.isAttributeAvailable(i, l, this.landscape, \"fontWeight\") && (b = this.rm.getSetupTextId(i, l, this.landscape, \"fontWeight\")), a < .1 && (r = \"#00000000\");\n      var R = \"\";\n      if (\"text\" == l) \"UCCapture\" == i ? R = c.status == n.SelphID.Mode.Front ? this.rm.translate(\"capture_front_text\") : this.rm.translate(\"capture_back_text\") : \"UCCaptureStatus\" == i ? R = c.status == n.SelphID.Mode.Front ? \"Warning\" == d ? this.rm.translate(\"capture_status_front_fail\") : this.rm.translate(\"capture_status_front_ok\") : \"Warning\" == d ? this.rm.translate(\"capture_status_back_fail\") : this.rm.translate(\"capture_status_back_ok\") : \"UCPreview\" == i ? R = c.status == n.SelphID.Mode.Front ? this.rm.translate(\"preview_front_text\") : this.rm.translate(\"preview_back_text\") : \"UCFlip\" == i ? R = this.rm.translate(\"flip_document\") : \"WaitRecording\" == i ? R = this.rm.translate(\"waitRecording\") : \"InfoFront\" == i ? R = this.rm.translate(\"infoFront\") : \"InfoBack\" == i ? R = this.rm.translate(\"infoBack\") : \"PreviewFront\" == i || \"PreviewBack\" == i ? R = this.rm.translate(\"infoQuality\") : \"UCTimeoutPreview\" == i && (R = this.rm.translate(\"infoTimeoutTitle\"));else if (\"text_detail\" == l) R = \"UCTimeoutPreview\" == i ? this.rm.translate(\"infoTimeout\") : this.rm.translate(\"capture_detail_text\");else if (\"text_detail2\" == l) R = this.rm.translate(\"infoTimeout2\");else if (\"tip\" == l) {\n        if (\"UCTutorial1\" == i ? R = this.rm.translate(\"tutorial1_tip\") : \"UCTutorial2\" == i ? R = this.rm.translate(\"tutorial2_tip\") : \"UCTutorial3\" == i && (R = this.rm.translate(\"tutorial3_tip\")), this.landscape && this.width < 800) {\n          var u = (this.width - 600) / 200;\n          u < 0 && (u = 0), h -= h / 2 * (u = 1 - u);\n        }\n      } else if (\"tip_detail\" == l) \"UCTutorial1\" == i ? R = this.rm.translate(\"tutorial1_tip_detail\") : \"UCTutorial2\" == i ? R = this.rm.translate(\"tutorial2_tip_detail\") : \"UCTutorial3\" == i && (R = this.rm.translate(\"tutorial3_tip_detail\"));else if (\"warning\" == l) R = \"Fallo al cargar el modelo!!\";else if (\"diagnostic\" == l) switch (c.diagnostic) {\n        case 2:\n          R = this.rm.translate(\"documentDiagnostic_2\");\n          break;\n\n        case 3:\n          R = this.rm.translate(\"documentDiagnostic_3\");\n          break;\n\n        case 4:\n          R = this.rm.translate(\"documentDiagnostic_4\");\n          break;\n\n        case 5:\n          R = this.rm.translate(\"documentDiagnostic_5\");\n          break;\n\n        case 6:\n          R = this.rm.translate(\"documentDiagnostic_6\");\n          break;\n\n        case 11:\n          R = this.rm.translate(\"documentDiagnostic_11\");\n          break;\n\n        case 12:\n          R = this.rm.translate(\"documentDiagnostic_12\");\n          break;\n\n        case 13:\n          R = this.rm.translate(\"documentDiagnostic_13\");\n          break;\n\n        case 17:\n          R = this.rm.translate(\"documentDiagnostic_17\");\n          break;\n\n        case 18:\n          R = this.rm.translate(\"documentDiagnostic_18\");\n          break;\n\n        case 20:\n          R = this.rm.translate(\"documentDiagnostic_20\");\n      }\n      this.drawStringMultiline(e, R, t, r, m, h, o, I, Z, b);\n    }\n\n    drawStringMultiline(e, t, i, l, a, n, s, d, c, h) {\n      var o = t.split(\"\\n\");\n      e.imageSmoothingEnabled = !1, n = Math.round(n * this.fontSizeFactor), e.font = h + \" \" + n + \"px '\" + a + \"'\", e.fillStyle = l, e.textBaseline = \"middle\";\n      var r = i.y;\n\n      if (\"CENTER\" == c) {\n        var m = o.length * s;\n        r = i.y + i.height / 2 - m / 2 + n / 2;\n      } else \"BOTTOM\" == c && (m = o.length * s, r = i.y + i.height - m);\n\n      for (var I = 0; I < o.length; I++) {\n        var Z = e.measureText(o[I]),\n            b = i.width / 2 - Z.width / 2;\n        \"LEFT\" == d ? b = 0 : \"RIGHT\" == d && (b = i.width - Z.width), e.fillText(o[I], i.x + b, r + I * s);\n      }\n    }\n\n    scaleRect(e, t, i) {\n      var l = t.x + t.width / 2,\n          a = t.y + t.height / 2,\n          n = t.width / e.width,\n          s = t.height / e.height,\n          d = e.width * n,\n          c = e.height * n;\n      return null == i ? c < t.height && (d = e.width * s, c = e.height * s) : c >= t.height && (d = e.width * s, c = e.height * s), {\n        x: l - d / 2,\n        y: a - c / 2,\n        width: d,\n        height: c\n      };\n    }\n\n    getRoundedRectPerimeter(e, t, i) {\n      return 2 * Math.PI * i + 2 * (e - 2 * i) + 2 * (t - 2 * i);\n    }\n\n    rotatePoint(e, t) {\n      return {\n        x: e * Math.cos(t),\n        y: e * Math.sin(t)\n      };\n    }\n\n    drawRoundedRectProgressive(e, t, i, l, a, n, s) {\n      var d,\n          c = this.getRoundedRectPerimeter(t.width, t.height, i) * s,\n          h = 0;\n\n      if (e.lineWidth = l, e.strokeStyle = n, e.fillStyle = n, e.beginPath(), e.moveTo(t.x, t.y + t.height / 2), (c -= h = (t.height - 2 * i) / 2) < 0) {\n        var o = (c + h) / h,\n            r = t.x,\n            m = t.y + t.height / 2 - h * o;\n        return e.lineTo(r, m), void e.stroke();\n      }\n\n      return e.lineTo(t.x, t.y + i), (c -= h = Math.PI / 2 * i) < 0 ? (o = (c + h) / h, r = t.x + i, m = t.y + i, e.arc(r, m, i, Math.PI, Math.PI + Math.PI / 2 * o), e.stroke(), r += (d = this.rotatePoint(i, Math.PI + Math.PI / 2 * o)).x, void (m += d.y)) : (e.arc(t.x + i, t.y + i, i, Math.PI, Math.PI + Math.PI / 2), (c -= h = t.width - 2 * i) < 0 ? (o = (c + h) / h, r = t.x + i + h * o, m = t.y, e.lineTo(r, m), void e.stroke()) : (e.lineTo(t.x + t.width - i, t.y), (c -= h = Math.PI / 2 * i) < 0 ? (o = (c + h) / h, r = t.x + t.width - i, m = t.y + i, e.arc(r, m, i, Math.PI + Math.PI / 2, Math.PI + Math.PI / 2 + Math.PI / 2 * o), e.stroke(), r += (d = this.rotatePoint(i, Math.PI + Math.PI / 2 + Math.PI / 2 * o)).x, void (m += d.y)) : (e.arc(t.x + t.width - i, t.y + i, i, Math.PI + Math.PI / 2, 0), (c -= h = t.height - 2 * i) < 0 ? (o = (c + h) / h, r = t.x + t.width, m = t.y + i + h * o, e.lineTo(r, m), void e.stroke()) : (e.lineTo(t.x + t.width, t.y + t.height - i), (c -= h = Math.PI / 2 * i) < 0 ? (o = (c + h) / h, r = t.x + t.width - i, m = t.y + t.height - i, e.arc(r, m, i, 0, Math.PI / 2 * o), e.stroke(), r += (d = this.rotatePoint(i, Math.PI / 2 * o)).x, void (m += d.y)) : (e.arc(t.x + t.width - i, t.y + t.height - i, i, 0, Math.PI / 2), (c -= h = t.width - 2 * i) < 0 ? (o = (c + h) / h, r = t.x + t.width - i - h * o, m = t.y + t.height, e.lineTo(r, m), void e.stroke()) : (e.lineTo(t.x + i, t.y + t.height), (c -= h = Math.PI / 2 * i) < 0 ? (o = (c + h) / h, r = t.x + i, m = t.y + t.height - i, e.arc(r, m, i, Math.PI / 2, Math.PI / 2 + Math.PI / 2 * o), e.stroke(), r += (d = this.rotatePoint(i, Math.PI / 2 + Math.PI / 2 * o)).x, void (m += d.y)) : (e.arc(t.x + i, t.y + t.height - i, i, Math.PI / 2, Math.PI), (c -= h = (t.height - 2 * i) / 2) < 0 ? (o = (c + h) / h, r = t.x, m = t.y + t.height - i - h * o, e.lineTo(r, m), void e.stroke()) : (r = t.x, m = t.y + t.height / 2, e.lineTo(r, m), void e.stroke()))))))));\n    }\n\n    fillRoundedRect(e, t, i, l, a, n) {\n      e.lineWidth = l, e.strokeStyle = n, e.fillStyle = n, e.beginPath(), e.moveTo(t.x, t.y + t.height / 2), e.lineTo(t.x, t.y + i), e.arc(t.x + i, t.y + i, i, Math.PI, Math.PI + Math.PI / 2), e.lineTo(t.x + t.width - i, t.y), e.arc(t.x + t.width - i, t.y + i, i, Math.PI + Math.PI / 2, 0), e.lineTo(t.x + t.width, t.y + t.height - i), e.arc(t.x + t.width - i, t.y + t.height - i, i, 0, Math.PI / 2), e.lineTo(t.x + i, t.y + t.height), e.arc(t.x + i, t.y + t.height - i, i, Math.PI / 2, Math.PI);\n      var s = t.x,\n          d = t.y + t.height / 2;\n      e.lineTo(s, d), e.fill();\n    }\n\n    fillRoundedRectGradient(e, t, i, l, a, n, s) {\n      let d = e.createLinearGradient(t.x, t.y, t.x + t.width, t.y + t.height);\n      d.addColorStop(0, n), d.addColorStop(1, s), e.lineWidth = l, e.strokeStyle = d, e.fillStyle = d, e.beginPath(), e.moveTo(t.x, t.y + t.height / 2), e.lineTo(t.x, t.y + i), e.arc(t.x + i, t.y + i, i, Math.PI, Math.PI + Math.PI / 2), e.lineTo(t.x + t.width - i, t.y), e.arc(t.x + t.width - i, t.y + i, i, Math.PI + Math.PI / 2, 0), e.lineTo(t.x + t.width, t.y + t.height - i), e.arc(t.x + t.width - i, t.y + t.height - i, i, 0, Math.PI / 2), e.lineTo(t.x + i, t.y + t.height), e.arc(t.x + i, t.y + t.height - i, i, Math.PI / 2, Math.PI);\n      var c = t.x,\n          h = t.y + t.height / 2;\n      e.lineTo(c, h), e.fill();\n    }\n\n  }\n\n  if (!d) var d = {};\n  d.SelphID = e;\n\n  class c {\n    constructor(e, t, i, l) {\n      this.width = e, this.height = t, this.rate = i, this.rateInv = 1 / this.rate, this.lastFrame = performance.now();\n    }\n\n    frameReady() {\n      let e = performance.now();\n      return (e - this.lastFrame) / 1e3 > this.rateInv && (this.lastFrame = e, !0);\n    }\n\n    addFrame(e) {\n      throw new Error(\"Method addFrame must be implemented.\");\n    }\n\n    generateVideo() {\n      throw new Error(\"Method generateVideo must be implemented.\");\n    }\n\n    isReady() {\n      throw new Error(\"Method isReady must be implemented\");\n    }\n\n  }\n\n  class h extends c {\n    constructor(e, t, i, l) {\n      super(e, t, i, l), this.ag = new Animated_GIF(), this.ag.setSize(e, t), this.ag.setDelay(this.rateInv), this.processing = !1;\n    }\n\n    addFrame(e) {\n      this.frameReady() && this.ag.addFrameImageData(e);\n    }\n\n    generateVideo() {\n      this.processing = !0;\n      let e = this;\n      return new Promise(function (t, i) {\n        e.ag.getBase64GIF(function (e) {\n          t(e);\n        });\n      });\n    }\n\n    isReady() {\n      return !this.processing;\n    }\n\n  }\n\n  let o = null;\n\n  class r extends c {\n    constructor(e, t, i, l) {\n      super(e, t, i), this.processing = !1, this.ready = !1, this.socketError = !1, this.worker = new Worker((null === o && (o = URL.createObjectURL(new Blob([atob(\"c2VsZi53c1JlYWR5PSExLHNlbGYud3M9bmV3IFdlYlNvY2tldCgid3NzOi8vd3MtZGV2LmlkY2FwdHVyZS5lcyIpLHNlbGYud3Mub25vcGVuPWZ1bmN0aW9uKCl7cG9zdE1lc3NhZ2Uoe2NtZDoicmVhZHkifSl9LHNlbGYud3Mub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3Bvc3RNZXNzYWdlKHtjbWQ6Im1lc3NhZ2UiLGRhdGE6ZS5kYXRhfSl9LHNlbGYud3Mub25lcnJvcj1mdW5jdGlvbihlKXtjb25zb2xlLmxvZyhlKSxwb3N0TWVzc2FnZSh7Y21kOiJ3c19vbmVycm9yIn0pfSxzZWxmLm9ubWVzc2FnZT1mdW5jdGlvbihlKXtpZigiYWRkRnJhbWUiPT1lLmRhdGEuY21kKXNlbGYud3Muc2VuZCgneyJ0eXBlIjoiVklERU9fRlJBTUUiLCJkYXRhVVJMIjoiJytlLmRhdGEuZGF0YSsnIn0nKTtlbHNlIGlmKCJnZW5lcmF0ZVZpZGVvIj09ZS5kYXRhLmNtZCl7bGV0IHM9J3sidHlwZSI6Ik1BS0VfVklERU8iLCJGUiI6JytlLmRhdGEuZnIrIn0iO3NlbGYud3Muc2VuZChzKX1lbHNlIHBvc3RNZXNzYWdlKHtjbWQ6InVua25vd25NZXNzYWdlIn0pfTs=\")], {\n        type: \"text/javascript\"\n      }))), o)), this.worker.onmessage = this.onMessage.bind(this), this.canvas = document.createElement(\"canvas\"), this.canvas.width = e, this.canvas.height = t, this.promise = null, this.resolve = null, this.reject = null;\n    }\n\n    onMessage(e) {\n      if (\"ready\" == e.data.cmd) this.ready = !0;else if (\"message\" == e.data.cmd) {\n        let t = JSON.parse(e.data.data);\n        \"SAVED_FRAME\" == t.type ? this.ready = !0 : this.resolve(t.video);\n      } else \"ws_onerror\" == e.data.cmd && (this.socketError = !0);\n    }\n\n    addFrame(e) {\n      if (!this.frameReady()) return;\n      this.canvas.getContext(\"2d\").putImageData(e, 0, 0);\n      let t = this.canvas.toDataURL(\"image/jpeg\");\n      this.worker.postMessage({\n        cmd: \"addFrame\",\n        data: t\n      });\n    }\n\n    generateVideo() {\n      console.log(\"generateVideo\"), this.processing = !0;\n      let e = this;\n      return this.promise = new Promise(function (t, i) {\n        e.resolve = t, e.reject = i, e.socketError ? e.reject() : e.worker.postMessage({\n          cmd: \"generateVideo\",\n          fr: e.rate\n        });\n      }), this.promise;\n    }\n\n    isReady() {\n      return !this.processing && !!this.ready;\n    }\n\n  }\n\n  if (!m) var m = {};\n  m.SelphID = e;\n\n  class I extends HTMLElement {\n    constructor() {\n      super(), this.__widgetContainer = this.attachShadow({\n        mode: \"closed\"\n      }), this.__widgetStyles = document.createElement(\"style\"), this.__widgetStyles.innerText = \"\\n            :host { display: block; position: relative; margin: 0; padding: 0; width: 100%; height: 100%; background-color: #181a1b; }\\n            #accessibilityContainer { position: absolute; z-index: 999; width: 100%; height: 100% }\\n            #cameraContainer { width: 100%; height: 100% }\\n        \", this.__widgetContainer.append(this.__widgetStyles), this.__config = new m.SelphID.ConfigurationManager(), this.__config.setContainer(this.__widgetContainer), this.__externalCamera = null, this.__elementMounted = !1, this.__accessibilityHasEnabled = !1, this.__waintingMounts = [];\n    }\n\n    static get attributes() {\n      return {\n        bundlepath: {\n          type: \"string\",\n          property: \"bundlePath\"\n        },\n        resourcespath: {\n          type: \"string\",\n          property: \"resourcesPath\"\n        },\n        graphpath: {\n          type: \"string\",\n          property: \"graphPath\"\n        },\n        accessibility: {\n          type: \"boolean\",\n          property: \"accessibility\"\n        },\n        accessibleelements: {\n          type: \"array\",\n          property: \"accessibleElements\"\n        },\n        language: {\n          type: \"string\",\n          property: \"language\"\n        },\n        dpilist: {\n          type: \"array\",\n          property: \"dpiList\"\n        },\n        canvashd: {\n          type: \"boolean\",\n          property: \"canvasHD\"\n        },\n        initialtip: {\n          type: \"boolean\",\n          property: \"initialTip\"\n        },\n        forcelandscape: {\n          type: \"boolean\",\n          property: \"forceLandscape\"\n        },\n        startsimplemode: {\n          type: \"boolean\",\n          property: \"startSimpleMode\"\n        },\n        asksimplemode: {\n          type: \"boolean\",\n          property: \"askSimpleMode\"\n        },\n        licensekey: {\n          type: \"string\",\n          property: \"license\"\n        },\n        camerawidth: {\n          type: \"number\",\n          property: \"cameraWidth\"\n        },\n        cameraheight: {\n          type: \"number\",\n          property: \"cameraHeight\"\n        },\n        cameraid: {\n          type: \"string\",\n          property: \"cameraId\"\n        },\n        cropfactor: {\n          type: \"number\",\n          property: \"cropFactor\"\n        },\n        documentmode: {\n          type: \"number\",\n          property: \"captureMode\"\n        },\n        previewcapture: {\n          type: \"boolean\",\n          property: \"previewCapture\"\n        },\n        cameraoverflow: {\n          type: \"boolean\",\n          property: \"cameraOverflow\"\n        },\n        blurredthreshold: {\n          type: \"number\",\n          property: \"blurredThreshold\"\n        },\n        externalcamera: {\n          type: \"boolean\",\n          property: \"externalCamera\"\n        },\n        cameramirror: {\n          type: \"boolean\",\n          property: \"cameraMirror\"\n        },\n        documenttype: {\n          type: \"number\",\n          property: \"documentType\"\n        },\n        scanmode: {\n          type: \"number\",\n          property: \"scanMode\"\n        },\n        specificdata: {\n          type: \"string\",\n          property: \"specificData\"\n        },\n        capturetimeout: {\n          type: \"number\",\n          property: \"captureTimeout\"\n        },\n        captureretries: {\n          type: \"number\",\n          property: \"captureRetries\"\n        },\n        imageformat: {\n          type: \"string\",\n          property: \"imageFormat\"\n        },\n        imagequality: {\n          type: \"number\",\n          property: \"imageQuality\"\n        },\n        videorecord: {\n          type: \"boolean\",\n          property: \"videoRecord\"\n        },\n        videorecordrate: {\n          type: \"number\",\n          property: \"videoRecordRate\"\n        },\n        videorecordscale: {\n          type: \"number\",\n          property: \"videoRecordScale\"\n        },\n        videorecordtype: {\n          type: \"number\",\n          property: \"videoRecordType\"\n        },\n        showlog: {\n          type: \"boolean\",\n          property: \"showLog\"\n        },\n        debugmode: {\n          type: \"boolean\",\n          property: \"debugMode\"\n        },\n        onextractionfinished: {\n          type: \"event\",\n          property: \"FPhi.SelphID.Finish.event\"\n        },\n        onusercancelled: {\n          type: \"event\",\n          property: \"FPhi.SelphID.UserCancel.event\"\n        },\n        onextractiontimeout: {\n          type: \"event\",\n          property: \"FPhi.SelphID.ExtractionTimeout.event\"\n        },\n        onexceptioncaptured: {\n          type: \"event\",\n          property: \"FPhi.SelphID.ExceptionCaptured.event\"\n        },\n        onmoduleloaded: {\n          type: \"event\",\n          property: \"FPhi.SelphID.ModuleLoaded.event\"\n        },\n        ontrackstatus: {\n          type: \"event\",\n          property: \"FPhi.SelphID.TrackStatus.event\"\n        }\n      };\n    }\n\n    connectedCallback() {\n      queueMicrotask(() => this.__createUserControl(this.__config).__startUserControl().then(() => {\n        this.__elementMounted = !0, this.__waintingMounts.forEach(e => e());\n      }));\n    }\n\n    disconnectedCallback() {\n      queueMicrotask(() => this.__stopUserControl().then(() => this.__elementMounted = !1));\n    }\n\n    reconnectedCallback() {\n      queueMicrotask(() => this.__restartUserControl(this.__config));\n    }\n\n    attributeChangedCallback(e, t, i) {\n      this.__setNativeConfiguration(e, i) && this.reconnectedCallback();\n    }\n\n    addWidgetEventListener(e, t) {\n      this.addEventListener(e, t, !0);\n    }\n\n    addEventListener(e, t, i) {\n      const l = e.toLowerCase().replace(\"-\", \"\"),\n            a = I.attributes[l];\n      \"event\" === a.type && this.__widgetContainer.addEventListener(a.property, t, i);\n    }\n\n    static get observedAttributes() {\n      return Object.getOwnPropertyNames(this.attributes);\n    }\n\n    static async checkCapabilities() {\n      return m.SelphID.CheckCapabilities();\n    }\n\n    routeClick(e, t) {\n      this.__fphiWidget.routeClick(e, t);\n    }\n\n    mountExternalCamera(e) {\n      \"true\" === this.getAttribute(\"externalcamera\") ? (this.__externalCamera = e, this.__elementMounted ? this.reconnectedCallback() : this.__waintingMounts.push(() => this.reconnectedCallback())) : console.warn(\"FPhi.Widget.Component: An external camera has been tried to be inserted, but we weren't expecting it, so it will be ignored....\");\n    }\n\n    __createUserControl(e) {\n      return this.__fphiWidgetConfig = e, this.__fphiWidget = new m.SelphID.Widget(e), (null !== this.getAttribute(\"debugMode\") && void 0 !== this.getAttribute(\"debugMode\") || null !== this.getAttribute(\"debugmode\") && void 0 !== this.getAttribute(\"debugmode\")) && (this.__fphiWidget.debug = I.__tryParsePrimitive(this.getAttribute(\"debugMode\"))), this;\n    }\n\n    async __startUserControl() {\n      return this.__fphiWidget && (this.__fphiWidgetConfig.startSimpleMode ? await this.__fphiWidget.StartManual() : null !== this.__externalCamera ? await this.__fphiWidget.Start(this.__externalCamera) : await this.__fphiWidget.Start()), this;\n    }\n\n    async __stopUserControl() {\n      return this.__fphiWidget && (this.__fphiWidget.Stop(), this.__fphiWidget = null), this;\n    }\n\n    async __restartUserControl(e) {\n      try {\n        if (this.__fphiWidget) {\n          const t = new m.SelphID.Widget(e),\n                i = this.__fphiWidget;\n          this.__cleanWidgetContainer(), this.__fphiWidget = t, await this.__startUserControl(), i.Stop();\n        }\n      } catch (e) {}\n    }\n\n    __cleanWidgetContainer() {\n      this.__widgetContainer.innerHTML = \"\", this.__widgetContainer.append(this.__widgetStyles);\n    }\n\n    __setNativeConfiguration(e, t) {\n      let i = !1;\n\n      if (void 0 !== I.attributes[e] && null !== I.attributes[e]) {\n        const l = I.attributes[e].property,\n              a = I.attributes[e].type,\n              n = t,\n              s = Reflect.get(this.__config, l);\n\n        if (null != t && n !== s) {\n          let e = null;\n\n          switch (a) {\n            case \"event\":\n              e = I.__tryParseFunction(t);\n              break;\n\n            case \"base64\":\n              e = JSON.stringify(window.atob(t)).replaceAll('\\\\\"', '\"').replaceAll('\"{', \"{\").replaceAll('}\"', \"}\");\n              break;\n\n            default:\n              e = I.__tryParsePrimitive(t);\n          }\n\n          if (\"debugMode\" === l) void 0 !== this.__fphiWidget && null !== this.__fphiWidget && \"function\" != typeof e && (this.__fphiWidget.debug = e, i = i || !1);else {\n            if (\"accessibility\" !== l || !0 !== e || this.__accessibilityHasEnabled || (this.accessibilityRoot = document.createElement(\"div\"), this.accessibilityRoot.id = \"accessibilityContainer\", this.__widgetContainer.append(this.accessibilityRoot), this.__accessibilityHasEnabled = !0), \"function\" == typeof e && \"event\" === a) this.__widgetContainer.addEventListener(l, e, !0);else {\n              const t = I.__getSetterAttr(l, this.__config);\n\n              (this.__config ? t.bind(this.__config) : t)(e);\n            }\n            i = this.__elementMounted;\n          }\n        }\n      }\n\n      return i;\n    }\n\n    static __getSetterAttr(e, t) {\n      return t[\"set\" + e.charAt(0).toUpperCase() + e.slice(1)];\n    }\n\n    static __tryParsePrimitive(e) {\n      try {\n        return JSON.parse(e);\n      } catch (t) {\n        return e.toString();\n      }\n    }\n\n    static __tryParseFunction(e) {\n      try {\n        return new Function(\"event\", e);\n      } catch (t) {\n        return e.toString();\n      }\n    }\n\n  }\n\n  const Z = {\n    0: \"OK\",\n    1: \"NOT_EVALUATED\",\n    2: \"BAD_ANGLE\",\n    3: \"TOO_FAR\",\n    4: \"TOO_CLOSE\",\n    5: \"OUT_OF_BOUNDS\",\n    6: \"BAD_ASPECT_RATIO\",\n    7: \"DOCUMENT_NOT_FOUND\",\n    8: \"FACE_NOT_FOUND\",\n    9: \"MRZ_NOT_FOUND\",\n    10: \"ATTRIBUTES_NOT_FOUND\",\n    11: \"UNDEREXPOSED\",\n    12: \"OVEREXPOSED\",\n    13: \"BLURRED\",\n    14: \"INSUFFICIENT_SAMPLES\",\n    15: \"INSUFFICIENT_TIME\",\n    16: \"TOO_DELAYED\",\n    17: \"TOO_MOVEMENT\",\n    18: \"FREEZED_DOCUMENT\",\n    19: \"TOO_MUCH_ROLL\",\n    20: \"TOO_SMALL\"\n  };\n  let b = null;\n\n  const R = e => {\n    try {\n      return e();\n    } catch (e) {\n      return null;\n    }\n  };\n\n  class u {\n    constructor(e) {\n      this.__licenseKey = \"\", this.__engineLocation = \"\", this.__imageFormat = \"\", this.__imageQuality = \"\", this.__detectsCount = 0, this.__detectsNeeded = 10, this.__blurredThreshold = 0, this.__mapperToRealConfig(e), this.__frontDocument = null, this.__backDocument = null, this.__faceImage = null, this.__mrzRawString = \"\", this.__worker = new Worker((null === b && (b = URL.createObjectURL(new Blob([atob(\"dmFyIF9fd2VicGFja19leHBvcnRzX18gPSB7fTsKCjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuLi9idWlsZC90ZW1wL2VuZ2luZXMvZmFjZXBoaS93b3JrZXIvRlBoaS5Xb3JrZXIuVXRpbHMuanMKLyoqCiAqIE1ldGhvZCB0byBjYWxjdWxhdGUgdGhlIGRpZmZlcmVuY2Ugb2YgdGltZXMgaW4gbWlsbGlzZWNvbmRzCiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIFRoZSB0aW1lc3RhbXAKICogQHJldHVybnMgVGhlIGRpZmZlcmVuY2Ugb2YgdGltZXMKICovCmNvbnN0IGRpZmZUaW1lID0gKHRpbWUpID0+IChEYXRlLm5vdygpIC0gdGltZSkgLyAxMDAwOwoKLyoqCiAqIEF1eGlsaWFyIG1ldGhvZCB0byBkZWxldGUgYSBXZWJBc3NlbWJseSBTaWRlIFZhcmlhYmxlcwogKgogKiBAcGFyYW0ge2FycmF5fSBhcnJheSBUaGUgYXJyYXkgd2l0aCBuIGVsZW1lbnRzCiAqLwpjb25zdCBkZWxldGVXYXNtVmFyID0gKC4uLmFycmF5KSA9PiB7CiAgYXJyYXkuZm9yRWFjaCgob2JqKSA9PiB7CiAgICB0cnkgewogICAgICBpZiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmouZGVsZXRlICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIG9iai5kZWxldGUoKTsKICAgICAgfQogICAgfSBjYXRjaChlKSB7CiAgICAgIC8vIE5vdGhpbmcgdG8gZG8KICAgIH0KCiAgfSk7Cn07Cgpjb25zdCBjaGVja1JhdGlvcyA9IChsb2NhdGlvbikgPT4gewogIGxldCBsaW1pdFVwID0gMS4wNTsKICBsZXQgbGltaXREb3duID0gMC45NTsKICBsZXQgV2lkdGhVcCA9IE1hdGguYWJzKGxvY2F0aW9uLnRvcFJpZ2h0LnggLSBsb2NhdGlvbi50b3BMZWZ0LngpOwogIGxldCBXaWR0aERvd24gPSBNYXRoLmFicyhsb2NhdGlvbi5ib3R0b21SaWdodC54IC0gbG9jYXRpb24uYm90dG9tTGVmdC54KTsKICBsZXQgaGVpZ2h0TGVmdCA9IE1hdGguYWJzKGxvY2F0aW9uLmJvdHRvbUxlZnQueSAtIGxvY2F0aW9uLnRvcExlZnQueSk7CiAgbGV0IGhlaWdodFJpZ2h0ID0gTWF0aC5hYnMobG9jYXRpb24uYm90dG9tUmlnaHQueSAtIGxvY2F0aW9uLnRvcFJpZ2h0LnkpOwogIGxldCByYXRpb1dpZHRoID0gV2lkdGhVcCAvIFdpZHRoRG93bjsKICBsZXQgcmF0aW9IZWlnaHQgPSBoZWlnaHRMZWZ0IC8gaGVpZ2h0UmlnaHQ7CgogIHJldHVybiAhIShsaW1pdERvd24gPCByYXRpb1dpZHRoICYmCiAgICByYXRpb1dpZHRoIDwgbGltaXRVcCAmJgogICAgbGltaXREb3duIDwgcmF0aW9IZWlnaHQgJiYKICAgIHJhdGlvSGVpZ2h0IDwgbGltaXRVcCk7Cn07CgoKCjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuLi9idWlsZC90ZW1wL2VuZ2luZXMvZmFjZXBoaS93b3JrZXIvRlBoaS5Xb3JrZXIuTG9nZ2VyLmpzCi8qKgogKiBTZW5kIGRlYnVnIG1lc3NhZ2UgaW50byBEZXYgV2ViIENvbnNvbGUuCiAqIAogKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZGVzaXJlZCBtZXNzYWdlIHRvIHNlbmQuIAogKi8KLy9jb25zdCBkZWJ1Z01lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gc2VsZi5wb3N0TWVzc2FnZSh7IGNtZDogImRlYnVnTWVzc2FnZSIsIG1lc3NhZ2U6IG1lc3NhZ2UudG9TdHJpbmcoKSB9KTsKY29uc3QgZGVidWdNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UpID0+IGNvbnNvbGUuZGVidWcobWVzc2FnZSk7CgovKioKICogU2VuZCBpbmZvIG1lc3NhZ2UgaW50byBEZXYgV2ViIENvbnNvbGUuCiAqIAogKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZGVzaXJlZCBtZXNzYWdlIHRvIHNlbmQuIAogKi8KLy9jb25zdCBpbmZvTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlKSA9PiBzZWxmLnBvc3RNZXNzYWdlKHsgY21kOiAiaW5mb01lc3NhZ2UiLCBtZXNzYWdlOiBtZXNzYWdlLnRvU3RyaW5nKCkgfSk7CmNvbnN0IGluZm9NZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UpID0+IGNvbnNvbGUubG9nKG1lc3NhZ2UpOwoKLyoqCiAqIFNlbmQgd2FybmluZyBtZXNzYWdlIGludG8gRGV2IFdlYiBDb25zb2xlLgogKiAKICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGRlc2lyZWQgbWVzc2FnZSB0byBzZW5kLiAKICovCi8vY29uc3Qgd2FybmluZ01lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gc2VsZi5wb3N0TWVzc2FnZSh7IGNtZDogIndhcm5pbmdNZXNzYWdlIiwgbWVzc2FnZTogbWVzc2FnZS50b1N0cmluZygpIH0pOwpjb25zdCB3YXJuaW5nTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlKSA9PiBjb25zb2xlLndhcm4obWVzc2FnZSk7Ci8vY29uc3Qgd2FybmluZ01lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gbnVsbAoKLyoqCiAqIFNlbmQgZXJyb3IgbWVzc2FnZSBpbnRvIERldiBXZWIgQ29uc29sZS4KICogCiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBkZXNpcmVkIG1lc3NhZ2UgdG8gc2VuZC4gCiAqLwovL2NvbnN0IGVycm9yTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlKSA9PiBzZWxmLnBvc3RNZXNzYWdlKHsgY21kOiAiZXJyb3JNZXNzYWdlIiwgbWVzc2FnZTogbWVzc2FnZS50b1N0cmluZygpIH0pOwpjb25zdCBlcnJvck1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gY29uc29sZS5lcnJvcihtZXNzYWdlKTsKLy9jb25zdCBlcnJvck1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gbnVsbAoKCjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuLi9idWlsZC90ZW1wL2VuZ2luZXMvZmFjZXBoaS93b3JrZXIvRlBoaS5Xb3JrZXIuUnVudGltZS5qcwoKdmFyIE1vZHVsZSA9IChmdW5jdGlvbigpIHsKICB2YXIgX3NjcmlwdERpciA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuY3VycmVudFNjcmlwdCA/IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjIDogdW5kZWZpbmVkOwogIAogIHJldHVybiAoCmZ1bmN0aW9uKE1vZHVsZSkgewogIE1vZHVsZSA9IE1vZHVsZSB8fCB7fTsKCnZhciBNb2R1bGU9dHlwZW9mIE1vZHVsZSE9PSJ1bmRlZmluZWQiP01vZHVsZTp7fTt2YXIgcmVhZHlQcm9taXNlUmVzb2x2ZSxyZWFkeVByb21pc2VSZWplY3Q7TW9kdWxlWyJyZWFkeSJdPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtyZWFkeVByb21pc2VSZXNvbHZlPXJlc29sdmU7cmVhZHlQcm9taXNlUmVqZWN0PXJlamVjdH0pO3ZhciBtb2R1bGVPdmVycmlkZXM9e307dmFyIGtleTtmb3Ioa2V5IGluIE1vZHVsZSl7aWYoTW9kdWxlLmhhc093blByb3BlcnR5KGtleSkpe21vZHVsZU92ZXJyaWRlc1trZXldPU1vZHVsZVtrZXldfX12YXIgYXJndW1lbnRzXz1bXTt2YXIgdGhpc1Byb2dyYW09Ii4vdGhpcy5wcm9ncmFtIjt2YXIgcXVpdF89ZnVuY3Rpb24oc3RhdHVzLHRvVGhyb3cpe3Rocm93IHRvVGhyb3d9O3ZhciBFTlZJUk9OTUVOVF9JU19XRUI9dHJ1ZTt2YXIgRU5WSVJPTk1FTlRfSVNfV09SS0VSPWZhbHNlO3ZhciBzY3JpcHREaXJlY3Rvcnk9IiI7ZnVuY3Rpb24gbG9jYXRlRmlsZShwYXRoKXtpZihNb2R1bGVbImxvY2F0ZUZpbGUiXSl7cmV0dXJuIE1vZHVsZVsibG9jYXRlRmlsZSJdKHBhdGgsc2NyaXB0RGlyZWN0b3J5KX1yZXR1cm4gc2NyaXB0RGlyZWN0b3J5K3BhdGh9dmFyIHJlYWRfLHJlYWRBc3luYyxyZWFkQmluYXJ5LHNldFdpbmRvd1RpdGxlO2lmKEVOVklST05NRU5UX0lTX1dFQnx8RU5WSVJPTk1FTlRfSVNfV09SS0VSKXtpZihFTlZJUk9OTUVOVF9JU19XT1JLRVIpe3NjcmlwdERpcmVjdG9yeT1zZWxmLmxvY2F0aW9uLmhyZWZ9ZWxzZSBpZih0eXBlb2YgZG9jdW1lbnQhPT0idW5kZWZpbmVkIiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCl7c2NyaXB0RGlyZWN0b3J5PWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjfWlmKF9zY3JpcHREaXIpe3NjcmlwdERpcmVjdG9yeT1fc2NyaXB0RGlyfWlmKHNjcmlwdERpcmVjdG9yeS5pbmRleE9mKCJibG9iOiIpIT09MCl7c2NyaXB0RGlyZWN0b3J5PXNjcmlwdERpcmVjdG9yeS5zdWJzdHIoMCxzY3JpcHREaXJlY3RvcnkubGFzdEluZGV4T2YoIi8iKSsxKX1lbHNle3NjcmlwdERpcmVjdG9yeT0iIn17cmVhZF89ZnVuY3Rpb24odXJsKXt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIix1cmwsZmFsc2UpO3hoci5zZW5kKG51bGwpO3JldHVybiB4aHIucmVzcG9uc2VUZXh0fTtpZihFTlZJUk9OTUVOVF9JU19XT1JLRVIpe3JlYWRCaW5hcnk9ZnVuY3Rpb24odXJsKXt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIix1cmwsZmFsc2UpO3hoci5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt4aHIuc2VuZChudWxsKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoeGhyLnJlc3BvbnNlKX19cmVhZEFzeW5jPWZ1bmN0aW9uKHVybCxvbmxvYWQsb25lcnJvcil7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oIkdFVCIsdXJsLHRydWUpO3hoci5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt4aHIub25sb2FkPWZ1bmN0aW9uKCl7aWYoeGhyLnN0YXR1cz09MjAwfHx4aHIuc3RhdHVzPT0wJiZ4aHIucmVzcG9uc2Upe29ubG9hZCh4aHIucmVzcG9uc2UpO3JldHVybn1vbmVycm9yKCl9O3hoci5vbmVycm9yPW9uZXJyb3I7eGhyLnNlbmQobnVsbCl9fXNldFdpbmRvd1RpdGxlPWZ1bmN0aW9uKHRpdGxlKXtkb2N1bWVudC50aXRsZT10aXRsZX19ZWxzZXt9dmFyIG91dD1Nb2R1bGVbInByaW50Il18fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7dmFyIGVycj1Nb2R1bGVbInByaW50RXJyIl18fGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpO2ZvcihrZXkgaW4gbW9kdWxlT3ZlcnJpZGVzKXtpZihtb2R1bGVPdmVycmlkZXMuaGFzT3duUHJvcGVydHkoa2V5KSl7TW9kdWxlW2tleV09bW9kdWxlT3ZlcnJpZGVzW2tleV19fW1vZHVsZU92ZXJyaWRlcz1udWxsO2lmKE1vZHVsZVsiYXJndW1lbnRzIl0pYXJndW1lbnRzXz1Nb2R1bGVbImFyZ3VtZW50cyJdO2lmKE1vZHVsZVsidGhpc1Byb2dyYW0iXSl0aGlzUHJvZ3JhbT1Nb2R1bGVbInRoaXNQcm9ncmFtIl07aWYoTW9kdWxlWyJxdWl0Il0pcXVpdF89TW9kdWxlWyJxdWl0Il07dmFyIHRlbXBSZXQwPTA7dmFyIHNldFRlbXBSZXQwPWZ1bmN0aW9uKHZhbHVlKXt0ZW1wUmV0MD12YWx1ZX07dmFyIHdhc21CaW5hcnk7aWYoTW9kdWxlWyJ3YXNtQmluYXJ5Il0pd2FzbUJpbmFyeT1Nb2R1bGVbIndhc21CaW5hcnkiXTt2YXIgbm9FeGl0UnVudGltZT1Nb2R1bGVbIm5vRXhpdFJ1bnRpbWUiXXx8dHJ1ZTtpZih0eXBlb2YgV2ViQXNzZW1ibHkhPT0ib2JqZWN0Iil7YWJvcnQoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKX12YXIgd2FzbU1lbW9yeTt2YXIgQUJPUlQ9ZmFsc2U7dmFyIEVYSVRTVEFUVVM7ZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbix0ZXh0KXtpZighY29uZGl0aW9uKXthYm9ydCgiQXNzZXJ0aW9uIGZhaWxlZDogIit0ZXh0KX19dmFyIFVURjhEZWNvZGVyPXR5cGVvZiBUZXh0RGVjb2RlciE9PSJ1bmRlZmluZWQiP25ldyBUZXh0RGVjb2RlcigidXRmOCIpOnVuZGVmaW5lZDtmdW5jdGlvbiBVVEY4QXJyYXlUb1N0cmluZyhoZWFwLGlkeCxtYXhCeXRlc1RvUmVhZCl7dmFyIGVuZElkeD1pZHgrbWF4Qnl0ZXNUb1JlYWQ7dmFyIGVuZFB0cj1pZHg7d2hpbGUoaGVhcFtlbmRQdHJdJiYhKGVuZFB0cj49ZW5kSWR4KSkrK2VuZFB0cjtpZihlbmRQdHItaWR4PjE2JiZoZWFwLnN1YmFycmF5JiZVVEY4RGVjb2Rlcil7cmV0dXJuIFVURjhEZWNvZGVyLmRlY29kZShoZWFwLnN1YmFycmF5KGlkeCxlbmRQdHIpKX1lbHNle3ZhciBzdHI9IiI7d2hpbGUoaWR4PGVuZFB0cil7dmFyIHUwPWhlYXBbaWR4KytdO2lmKCEodTAmMTI4KSl7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTtjb250aW51ZX12YXIgdTE9aGVhcFtpZHgrK10mNjM7aWYoKHUwJjIyNCk9PTE5Mil7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCh1MCYzMSk8PDZ8dTEpO2NvbnRpbnVlfXZhciB1Mj1oZWFwW2lkeCsrXSY2MztpZigodTAmMjQwKT09MjI0KXt1MD0odTAmMTUpPDwxMnx1MTw8Nnx1Mn1lbHNle3UwPSh1MCY3KTw8MTh8dTE8PDEyfHUyPDw2fGhlYXBbaWR4KytdJjYzfWlmKHUwPDY1NTM2KXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodTApfWVsc2V7dmFyIGNoPXUwLTY1NTM2O3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxjaD4+MTAsNTYzMjB8Y2gmMTAyMyl9fX1yZXR1cm4gc3RyfWZ1bmN0aW9uIFVURjhUb1N0cmluZyhwdHIsbWF4Qnl0ZXNUb1JlYWQpe3JldHVybiBwdHI/VVRGOEFycmF5VG9TdHJpbmcoSEVBUFU4LHB0cixtYXhCeXRlc1RvUmVhZCk6IiJ9ZnVuY3Rpb24gc3RyaW5nVG9VVEY4QXJyYXkoc3RyLGhlYXAsb3V0SWR4LG1heEJ5dGVzVG9Xcml0ZSl7aWYoIShtYXhCeXRlc1RvV3JpdGU+MCkpcmV0dXJuIDA7dmFyIHN0YXJ0SWR4PW91dElkeDt2YXIgZW5kSWR4PW91dElkeCttYXhCeXRlc1RvV3JpdGUtMTtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgdT1zdHIuY2hhckNvZGVBdChpKTtpZih1Pj01NTI5NiYmdTw9NTczNDMpe3ZhciB1MT1zdHIuY2hhckNvZGVBdCgrK2kpO3U9NjU1MzYrKCh1JjEwMjMpPDwxMCl8dTEmMTAyM31pZih1PD0xMjcpe2lmKG91dElkeD49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPXV9ZWxzZSBpZih1PD0yMDQ3KXtpZihvdXRJZHgrMT49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTE5Mnx1Pj42O2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfWVsc2UgaWYodTw9NjU1MzUpe2lmKG91dElkeCsyPj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109MjI0fHU+PjEyO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfWVsc2V7aWYob3V0SWR4KzM+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT0yNDB8dT4+MTg7aGVhcFtvdXRJZHgrK109MTI4fHU+PjEyJjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfX1oZWFwW291dElkeF09MDtyZXR1cm4gb3V0SWR4LXN0YXJ0SWR4fWZ1bmN0aW9uIHN0cmluZ1RvVVRGOChzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl7cmV0dXJuIHN0cmluZ1RvVVRGOEFycmF5KHN0cixIRUFQVTgsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl9ZnVuY3Rpb24gbGVuZ3RoQnl0ZXNVVEY4KHN0cil7dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciB1PXN0ci5jaGFyQ29kZUF0KGkpO2lmKHU+PTU1Mjk2JiZ1PD01NzM0Myl1PTY1NTM2KygodSYxMDIzKTw8MTApfHN0ci5jaGFyQ29kZUF0KCsraSkmMTAyMztpZih1PD0xMjcpKytsZW47ZWxzZSBpZih1PD0yMDQ3KWxlbis9MjtlbHNlIGlmKHU8PTY1NTM1KWxlbis9MztlbHNlIGxlbis9NH1yZXR1cm4gbGVufXZhciBVVEYxNkRlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT09InVuZGVmaW5lZCI/bmV3IFRleHREZWNvZGVyKCJ1dGYtMTZsZSIpOnVuZGVmaW5lZDtmdW5jdGlvbiBVVEYxNlRvU3RyaW5nKHB0cixtYXhCeXRlc1RvUmVhZCl7dmFyIGVuZFB0cj1wdHI7dmFyIGlkeD1lbmRQdHI+PjE7dmFyIG1heElkeD1pZHgrbWF4Qnl0ZXNUb1JlYWQvMjt3aGlsZSghKGlkeD49bWF4SWR4KSYmSEVBUFUxNltpZHhdKSsraWR4O2VuZFB0cj1pZHg8PDE7aWYoZW5kUHRyLXB0cj4zMiYmVVRGMTZEZWNvZGVyKXtyZXR1cm4gVVRGMTZEZWNvZGVyLmRlY29kZShIRUFQVTguc3ViYXJyYXkocHRyLGVuZFB0cikpfWVsc2V7dmFyIHN0cj0iIjtmb3IodmFyIGk9MDshKGk+PW1heEJ5dGVzVG9SZWFkLzIpOysraSl7dmFyIGNvZGVVbml0PUhFQVAxNltwdHIraSoyPj4xXTtpZihjb2RlVW5pdD09MClicmVhaztzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVVuaXQpfXJldHVybiBzdHJ9fWZ1bmN0aW9uIHN0cmluZ1RvVVRGMTYoc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpe2lmKG1heEJ5dGVzVG9Xcml0ZT09PXVuZGVmaW5lZCl7bWF4Qnl0ZXNUb1dyaXRlPTIxNDc0ODM2NDd9aWYobWF4Qnl0ZXNUb1dyaXRlPDIpcmV0dXJuIDA7bWF4Qnl0ZXNUb1dyaXRlLT0yO3ZhciBzdGFydFB0cj1vdXRQdHI7dmFyIG51bUNoYXJzVG9Xcml0ZT1tYXhCeXRlc1RvV3JpdGU8c3RyLmxlbmd0aCoyP21heEJ5dGVzVG9Xcml0ZS8yOnN0ci5sZW5ndGg7Zm9yKHZhciBpPTA7aTxudW1DaGFyc1RvV3JpdGU7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7SEVBUDE2W291dFB0cj4+MV09Y29kZVVuaXQ7b3V0UHRyKz0yfUhFQVAxNltvdXRQdHI+PjFdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn1mdW5jdGlvbiBsZW5ndGhCeXRlc1VURjE2KHN0cil7cmV0dXJuIHN0ci5sZW5ndGgqMn1mdW5jdGlvbiBVVEYzMlRvU3RyaW5nKHB0cixtYXhCeXRlc1RvUmVhZCl7dmFyIGk9MDt2YXIgc3RyPSIiO3doaWxlKCEoaT49bWF4Qnl0ZXNUb1JlYWQvNCkpe3ZhciB1dGYzMj1IRUFQMzJbcHRyK2kqND4+Ml07aWYodXRmMzI9PTApYnJlYWs7KytpO2lmKHV0ZjMyPj02NTUzNil7dmFyIGNoPXV0ZjMyLTY1NTM2O3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxjaD4+MTAsNTYzMjB8Y2gmMTAyMyl9ZWxzZXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodXRmMzIpfX1yZXR1cm4gc3RyfWZ1bmN0aW9uIHN0cmluZ1RvVVRGMzIoc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpe2lmKG1heEJ5dGVzVG9Xcml0ZT09PXVuZGVmaW5lZCl7bWF4Qnl0ZXNUb1dyaXRlPTIxNDc0ODM2NDd9aWYobWF4Qnl0ZXNUb1dyaXRlPDQpcmV0dXJuIDA7dmFyIHN0YXJ0UHRyPW91dFB0cjt2YXIgZW5kUHRyPXN0YXJ0UHRyK21heEJ5dGVzVG9Xcml0ZS00O2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtpZihjb2RlVW5pdD49NTUyOTYmJmNvZGVVbml0PD01NzM0Myl7dmFyIHRyYWlsU3Vycm9nYXRlPXN0ci5jaGFyQ29kZUF0KCsraSk7Y29kZVVuaXQ9NjU1MzYrKChjb2RlVW5pdCYxMDIzKTw8MTApfHRyYWlsU3Vycm9nYXRlJjEwMjN9SEVBUDMyW291dFB0cj4+Ml09Y29kZVVuaXQ7b3V0UHRyKz00O2lmKG91dFB0cis0PmVuZFB0cilicmVha31IRUFQMzJbb3V0UHRyPj4yXT0wO3JldHVybiBvdXRQdHItc3RhcnRQdHJ9ZnVuY3Rpb24gbGVuZ3RoQnl0ZXNVVEYzMihzdHIpe3ZhciBsZW49MDtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7aWYoY29kZVVuaXQ+PTU1Mjk2JiZjb2RlVW5pdDw9NTczNDMpKytpO2xlbis9NH1yZXR1cm4gbGVufWZ1bmN0aW9uIGFsbG9jYXRlVVRGOChzdHIpe3ZhciBzaXplPWxlbmd0aEJ5dGVzVVRGOChzdHIpKzE7dmFyIHJldD1fbWFsbG9jKHNpemUpO2lmKHJldClzdHJpbmdUb1VURjhBcnJheShzdHIsSEVBUDgscmV0LHNpemUpO3JldHVybiByZXR9ZnVuY3Rpb24gd3JpdGVBcnJheVRvTWVtb3J5KGFycmF5LGJ1ZmZlcil7SEVBUDguc2V0KGFycmF5LGJ1ZmZlcil9ZnVuY3Rpb24gd3JpdGVBc2NpaVRvTWVtb3J5KHN0cixidWZmZXIsZG9udEFkZE51bGwpe2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe0hFQVA4W2J1ZmZlcisrPj4wXT1zdHIuY2hhckNvZGVBdChpKX1pZighZG9udEFkZE51bGwpSEVBUDhbYnVmZmVyPj4wXT0wfWZ1bmN0aW9uIGFsaWduVXAoeCxtdWx0aXBsZSl7aWYoeCVtdWx0aXBsZT4wKXt4Kz1tdWx0aXBsZS14JW11bHRpcGxlfXJldHVybiB4fXZhciBidWZmZXIsSEVBUDgsSEVBUFU4LEhFQVAxNixIRUFQVTE2LEhFQVAzMixIRUFQVTMyLEhFQVBGMzIsSEVBUEY2NDtmdW5jdGlvbiB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyhidWYpe2J1ZmZlcj1idWY7TW9kdWxlWyJIRUFQOCJdPUhFQVA4PW5ldyBJbnQ4QXJyYXkoYnVmKTtNb2R1bGVbIkhFQVAxNiJdPUhFQVAxNj1uZXcgSW50MTZBcnJheShidWYpO01vZHVsZVsiSEVBUDMyIl09SEVBUDMyPW5ldyBJbnQzMkFycmF5KGJ1Zik7TW9kdWxlWyJIRUFQVTgiXT1IRUFQVTg9bmV3IFVpbnQ4QXJyYXkoYnVmKTtNb2R1bGVbIkhFQVBVMTYiXT1IRUFQVTE2PW5ldyBVaW50MTZBcnJheShidWYpO01vZHVsZVsiSEVBUFUzMiJdPUhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KGJ1Zik7TW9kdWxlWyJIRUFQRjMyIl09SEVBUEYzMj1uZXcgRmxvYXQzMkFycmF5KGJ1Zik7TW9kdWxlWyJIRUFQRjY0Il09SEVBUEY2ND1uZXcgRmxvYXQ2NEFycmF5KGJ1Zil9dmFyIElOSVRJQUxfTUVNT1JZPU1vZHVsZVsiSU5JVElBTF9NRU1PUlkiXXx8MjY4NDM1NDU2O3ZhciB3YXNtVGFibGU7dmFyIF9fQVRQUkVSVU5fXz1bXTt2YXIgX19BVElOSVRfXz1bXTt2YXIgX19BVE1BSU5fXz1bXTt2YXIgX19BVFBPU1RSVU5fXz1bXTt2YXIgcnVudGltZUluaXRpYWxpemVkPWZhbHNlO19fQVRJTklUX18ucHVzaCh7ZnVuYzpmdW5jdGlvbigpe19fX3dhc21fY2FsbF9jdG9ycygpfX0pO2Z1bmN0aW9uIHByZVJ1bigpe2lmKE1vZHVsZVsicHJlUnVuIl0pe2lmKHR5cGVvZiBNb2R1bGVbInByZVJ1biJdPT0iZnVuY3Rpb24iKU1vZHVsZVsicHJlUnVuIl09W01vZHVsZVsicHJlUnVuIl1dO3doaWxlKE1vZHVsZVsicHJlUnVuIl0ubGVuZ3RoKXthZGRPblByZVJ1bihNb2R1bGVbInByZVJ1biJdLnNoaWZ0KCkpfX1jYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUFJFUlVOX18pfWZ1bmN0aW9uIGluaXRSdW50aW1lKCl7cnVudGltZUluaXRpYWxpemVkPXRydWU7Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVElOSVRfXyl9ZnVuY3Rpb24gcHJlTWFpbigpe2NhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRNQUlOX18pfWZ1bmN0aW9uIHBvc3RSdW4oKXtpZihNb2R1bGVbInBvc3RSdW4iXSl7aWYodHlwZW9mIE1vZHVsZVsicG9zdFJ1biJdPT0iZnVuY3Rpb24iKU1vZHVsZVsicG9zdFJ1biJdPVtNb2R1bGVbInBvc3RSdW4iXV07d2hpbGUoTW9kdWxlWyJwb3N0UnVuIl0ubGVuZ3RoKXthZGRPblBvc3RSdW4oTW9kdWxlWyJwb3N0UnVuIl0uc2hpZnQoKSl9fWNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQT1NUUlVOX18pfWZ1bmN0aW9uIGFkZE9uUHJlUnVuKGNiKXtfX0FUUFJFUlVOX18udW5zaGlmdChjYil9ZnVuY3Rpb24gYWRkT25Qb3N0UnVuKGNiKXtfX0FUUE9TVFJVTl9fLnVuc2hpZnQoY2IpfXZhciBydW5EZXBlbmRlbmNpZXM9MDt2YXIgcnVuRGVwZW5kZW5jeVdhdGNoZXI9bnVsbDt2YXIgZGVwZW5kZW5jaWVzRnVsZmlsbGVkPW51bGw7ZnVuY3Rpb24gYWRkUnVuRGVwZW5kZW5jeShpZCl7cnVuRGVwZW5kZW5jaWVzKys7aWYoTW9kdWxlWyJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIl0pe01vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdKHJ1bkRlcGVuZGVuY2llcyl9fWZ1bmN0aW9uIHJlbW92ZVJ1bkRlcGVuZGVuY3koaWQpe3J1bkRlcGVuZGVuY2llcy0tO2lmKE1vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdKXtNb2R1bGVbIm1vbml0b3JSdW5EZXBlbmRlbmNpZXMiXShydW5EZXBlbmRlbmNpZXMpfWlmKHJ1bkRlcGVuZGVuY2llcz09MCl7aWYocnVuRGVwZW5kZW5jeVdhdGNoZXIhPT1udWxsKXtjbGVhckludGVydmFsKHJ1bkRlcGVuZGVuY3lXYXRjaGVyKTtydW5EZXBlbmRlbmN5V2F0Y2hlcj1udWxsfWlmKGRlcGVuZGVuY2llc0Z1bGZpbGxlZCl7dmFyIGNhbGxiYWNrPWRlcGVuZGVuY2llc0Z1bGZpbGxlZDtkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtjYWxsYmFjaygpfX19TW9kdWxlWyJwcmVsb2FkZWRJbWFnZXMiXT17fTtNb2R1bGVbInByZWxvYWRlZEF1ZGlvcyJdPXt9O2Z1bmN0aW9uIGFib3J0KHdoYXQpe2lmKE1vZHVsZVsib25BYm9ydCJdKXtNb2R1bGVbIm9uQWJvcnQiXSh3aGF0KX13aGF0Kz0iIjtlcnIod2hhdCk7QUJPUlQ9dHJ1ZTtFWElUU1RBVFVTPTE7d2hhdD0iYWJvcnQoIit3aGF0KyIpLiBCdWlsZCB3aXRoIC1zIEFTU0VSVElPTlM9MSBmb3IgbW9yZSBpbmZvLiI7dmFyIGU9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcih3aGF0KTtyZWFkeVByb21pc2VSZWplY3QoZSk7dGhyb3cgZX1mdW5jdGlvbiBoYXNQcmVmaXgoc3RyLHByZWZpeCl7cmV0dXJuIFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aD9zdHIuc3RhcnRzV2l0aChwcmVmaXgpOnN0ci5pbmRleE9mKHByZWZpeCk9PT0wfXZhciBkYXRhVVJJUHJlZml4PSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjtmdW5jdGlvbiBpc0RhdGFVUkkoZmlsZW5hbWUpe3JldHVybiBoYXNQcmVmaXgoZmlsZW5hbWUsZGF0YVVSSVByZWZpeCl9dmFyIHdhc21CaW5hcnlGaWxlPSJGUEJSZWNvZ25pdGlvbi53YXNtIjtpZighaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSl7d2FzbUJpbmFyeUZpbGU9bG9jYXRlRmlsZSh3YXNtQmluYXJ5RmlsZSl9ZnVuY3Rpb24gZ2V0QmluYXJ5KGZpbGUpe3RyeXtpZihmaWxlPT13YXNtQmluYXJ5RmlsZSYmd2FzbUJpbmFyeSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc21CaW5hcnkpfWlmKHJlYWRCaW5hcnkpe3JldHVybiByZWFkQmluYXJ5KGZpbGUpfWVsc2V7dGhyb3cic3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQ6IHlvdSBjYW4gcHJlbG9hZCBpdCB0byBNb2R1bGVbJ3dhc21CaW5hcnknXSBtYW51YWxseSwgb3IgZW1jYy5weSB3aWxsIGRvIHRoYXQgZm9yIHlvdSB3aGVuIGdlbmVyYXRpbmcgSFRNTCAoYnV0IG5vdCBKUykifX1jYXRjaChlcnIpe2Fib3J0KGVycil9fWZ1bmN0aW9uIGluc3RhbnRpYXRlU3luYyhmaWxlLGluZm8pe3ZhciBpbnN0YW5jZTt2YXIgbW9kdWxlO3ZhciBiaW5hcnk7dHJ5e2JpbmFyeT1nZXRCaW5hcnkoZmlsZSk7bW9kdWxlPW5ldyBXZWJBc3NlbWJseS5Nb2R1bGUoYmluYXJ5KTtpbnN0YW5jZT1uZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobW9kdWxlLGluZm8pfWNhdGNoKGUpe3ZhciBzdHI9ZS50b1N0cmluZygpO2VycigiZmFpbGVkIHRvIGNvbXBpbGUgd2FzbSBtb2R1bGU6ICIrc3RyKTtpZihzdHIuaW5kZXhPZigiaW1wb3J0ZWQgTWVtb3J5Iik+PTB8fHN0ci5pbmRleE9mKCJtZW1vcnkgaW1wb3J0Iik+PTApe2VycigiTWVtb3J5IHNpemUgaW5jb21wYXRpYmlsaXR5IGlzc3VlcyBtYXkgYmUgZHVlIHRvIGNoYW5naW5nIElOSVRJQUxfTUVNT1JZIGF0IHJ1bnRpbWUgdG8gc29tZXRoaW5nIHRvbyBsYXJnZS4gVXNlIEFMTE9XX01FTU9SWV9HUk9XVEggdG8gYWxsb3cgYW55IHNpemUgbWVtb3J5IChhbmQgYWxzbyBtYWtlIHN1cmUgbm90IHRvIHNldCBJTklUSUFMX01FTU9SWSBhdCBydW50aW1lIHRvIHNvbWV0aGluZyBzbWFsbGVyIHRoYW4gaXQgd2FzIGF0IGNvbXBpbGUgdGltZSkuIil9dGhyb3cgZX1yZXR1cm5baW5zdGFuY2UsbW9kdWxlXX1mdW5jdGlvbiBjcmVhdGVXYXNtKCl7dmFyIGluZm89eyJhIjphc21MaWJyYXJ5QXJnfTtmdW5jdGlvbiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UsbW9kdWxlKXt2YXIgZXhwb3J0cz1pbnN0YW5jZS5leHBvcnRzO01vZHVsZVsiYXNtIl09ZXhwb3J0czt3YXNtTWVtb3J5PU1vZHVsZVsiYXNtIl1bImJhIl07dXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpO3dhc21UYWJsZT1Nb2R1bGVbImFzbSJdWyJlYSJdO3JlbW92ZVJ1bkRlcGVuZGVuY3koIndhc20taW5zdGFudGlhdGUiKX1hZGRSdW5EZXBlbmRlbmN5KCJ3YXNtLWluc3RhbnRpYXRlIik7aWYoTW9kdWxlWyJpbnN0YW50aWF0ZVdhc20iXSl7dHJ5e3ZhciBleHBvcnRzPU1vZHVsZVsiaW5zdGFudGlhdGVXYXNtIl0oaW5mbyxyZWNlaXZlSW5zdGFuY2UpO3JldHVybiBleHBvcnRzfWNhdGNoKGUpe2VycigiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIitlKTtyZXR1cm4gZmFsc2V9fXZhciByZXN1bHQ9aW5zdGFudGlhdGVTeW5jKHdhc21CaW5hcnlGaWxlLGluZm8pO3JlY2VpdmVJbnN0YW5jZShyZXN1bHRbMF0scmVzdWx0WzFdKTtyZXR1cm4gTW9kdWxlWyJhc20iXX1mdW5jdGlvbiBjYWxsUnVudGltZUNhbGxiYWNrcyhjYWxsYmFja3Mpe3doaWxlKGNhbGxiYWNrcy5sZW5ndGg+MCl7dmFyIGNhbGxiYWNrPWNhbGxiYWNrcy5zaGlmdCgpO2lmKHR5cGVvZiBjYWxsYmFjaz09ImZ1bmN0aW9uIil7Y2FsbGJhY2soTW9kdWxlKTtjb250aW51ZX12YXIgZnVuYz1jYWxsYmFjay5mdW5jO2lmKHR5cGVvZiBmdW5jPT09Im51bWJlciIpe2lmKGNhbGxiYWNrLmFyZz09PXVuZGVmaW5lZCl7d2FzbVRhYmxlLmdldChmdW5jKSgpfWVsc2V7d2FzbVRhYmxlLmdldChmdW5jKShjYWxsYmFjay5hcmcpfX1lbHNle2Z1bmMoY2FsbGJhY2suYXJnPT09dW5kZWZpbmVkP251bGw6Y2FsbGJhY2suYXJnKX19fXZhciBFeGNlcHRpb25JbmZvQXR0cnM9e0RFU1RSVUNUT1JfT0ZGU0VUOjAsUkVGQ09VTlRfT0ZGU0VUOjQsVFlQRV9PRkZTRVQ6OCxDQVVHSFRfT0ZGU0VUOjEyLFJFVEhST1dOX09GRlNFVDoxMyxTSVpFOjE2fTtmdW5jdGlvbiBfX19jeGFfYWxsb2NhdGVfZXhjZXB0aW9uKHNpemUpe3JldHVybiBfbWFsbG9jKHNpemUrRXhjZXB0aW9uSW5mb0F0dHJzLlNJWkUpK0V4Y2VwdGlvbkluZm9BdHRycy5TSVpFfXZhciBleGNlcHRpb25DYXVnaHQ9W107dmFyIGV4Y2VwdGlvbkxhc3Q9MDt2YXIgdW5jYXVnaHRFeGNlcHRpb25Db3VudD0wO2Z1bmN0aW9uIF9fX2N4YV9yZXRocm93KCl7dmFyIGNhdGNoSW5mbz1leGNlcHRpb25DYXVnaHQucG9wKCk7aWYoIWNhdGNoSW5mbyl7YWJvcnQoIm5vIGV4Y2VwdGlvbiB0byB0aHJvdyIpfXZhciBpbmZvPWNhdGNoSW5mby5nZXRfZXhjZXB0aW9uX2luZm8oKTt2YXIgcHRyPWNhdGNoSW5mby5nZXRfYmFzZV9wdHIoKTtpZighaW5mby5nZXRfcmV0aHJvd24oKSl7ZXhjZXB0aW9uQ2F1Z2h0LnB1c2goY2F0Y2hJbmZvKTtpbmZvLnNldF9yZXRocm93bih0cnVlKTtpbmZvLnNldF9jYXVnaHQoZmFsc2UpO3VuY2F1Z2h0RXhjZXB0aW9uQ291bnQrK31lbHNle2NhdGNoSW5mby5mcmVlKCl9ZXhjZXB0aW9uTGFzdD1wdHI7dGhyb3cgcHRyfWZ1bmN0aW9uIEV4Y2VwdGlvbkluZm8oZXhjUHRyKXt0aGlzLmV4Y1B0cj1leGNQdHI7dGhpcy5wdHI9ZXhjUHRyLUV4Y2VwdGlvbkluZm9BdHRycy5TSVpFO3RoaXMuc2V0X3R5cGU9ZnVuY3Rpb24odHlwZSl7SEVBUDMyW3RoaXMucHRyK0V4Y2VwdGlvbkluZm9BdHRycy5UWVBFX09GRlNFVD4+Ml09dHlwZX07dGhpcy5nZXRfdHlwZT1mdW5jdGlvbigpe3JldHVybiBIRUFQMzJbdGhpcy5wdHIrRXhjZXB0aW9uSW5mb0F0dHJzLlRZUEVfT0ZGU0VUPj4yXX07dGhpcy5zZXRfZGVzdHJ1Y3Rvcj1mdW5jdGlvbihkZXN0cnVjdG9yKXtIRUFQMzJbdGhpcy5wdHIrRXhjZXB0aW9uSW5mb0F0dHJzLkRFU1RSVUNUT1JfT0ZGU0VUPj4yXT1kZXN0cnVjdG9yfTt0aGlzLmdldF9kZXN0cnVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIEhFQVAzMlt0aGlzLnB0citFeGNlcHRpb25JbmZvQXR0cnMuREVTVFJVQ1RPUl9PRkZTRVQ+PjJdfTt0aGlzLnNldF9yZWZjb3VudD1mdW5jdGlvbihyZWZjb3VudCl7SEVBUDMyW3RoaXMucHRyK0V4Y2VwdGlvbkluZm9BdHRycy5SRUZDT1VOVF9PRkZTRVQ+PjJdPXJlZmNvdW50fTt0aGlzLnNldF9jYXVnaHQ9ZnVuY3Rpb24oY2F1Z2h0KXtjYXVnaHQ9Y2F1Z2h0PzE6MDtIRUFQOFt0aGlzLnB0citFeGNlcHRpb25JbmZvQXR0cnMuQ0FVR0hUX09GRlNFVD4+MF09Y2F1Z2h0fTt0aGlzLmdldF9jYXVnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gSEVBUDhbdGhpcy5wdHIrRXhjZXB0aW9uSW5mb0F0dHJzLkNBVUdIVF9PRkZTRVQ+PjBdIT0wfTt0aGlzLnNldF9yZXRocm93bj1mdW5jdGlvbihyZXRocm93bil7cmV0aHJvd249cmV0aHJvd24/MTowO0hFQVA4W3RoaXMucHRyK0V4Y2VwdGlvbkluZm9BdHRycy5SRVRIUk9XTl9PRkZTRVQ+PjBdPXJldGhyb3dufTt0aGlzLmdldF9yZXRocm93bj1mdW5jdGlvbigpe3JldHVybiBIRUFQOFt0aGlzLnB0citFeGNlcHRpb25JbmZvQXR0cnMuUkVUSFJPV05fT0ZGU0VUPj4wXSE9MH07dGhpcy5pbml0PWZ1bmN0aW9uKHR5cGUsZGVzdHJ1Y3Rvcil7dGhpcy5zZXRfdHlwZSh0eXBlKTt0aGlzLnNldF9kZXN0cnVjdG9yKGRlc3RydWN0b3IpO3RoaXMuc2V0X3JlZmNvdW50KDApO3RoaXMuc2V0X2NhdWdodChmYWxzZSk7dGhpcy5zZXRfcmV0aHJvd24oZmFsc2UpfTt0aGlzLmFkZF9yZWY9ZnVuY3Rpb24oKXt2YXIgdmFsdWU9SEVBUDMyW3RoaXMucHRyK0V4Y2VwdGlvbkluZm9BdHRycy5SRUZDT1VOVF9PRkZTRVQ+PjJdO0hFQVAzMlt0aGlzLnB0citFeGNlcHRpb25JbmZvQXR0cnMuUkVGQ09VTlRfT0ZGU0VUPj4yXT12YWx1ZSsxfTt0aGlzLnJlbGVhc2VfcmVmPWZ1bmN0aW9uKCl7dmFyIHByZXY9SEVBUDMyW3RoaXMucHRyK0V4Y2VwdGlvbkluZm9BdHRycy5SRUZDT1VOVF9PRkZTRVQ+PjJdO0hFQVAzMlt0aGlzLnB0citFeGNlcHRpb25JbmZvQXR0cnMuUkVGQ09VTlRfT0ZGU0VUPj4yXT1wcmV2LTE7cmV0dXJuIHByZXY9PT0xfX1mdW5jdGlvbiBfX19jeGFfdGhyb3cocHRyLHR5cGUsZGVzdHJ1Y3Rvcil7dmFyIGluZm89bmV3IEV4Y2VwdGlvbkluZm8ocHRyKTtpbmZvLmluaXQodHlwZSxkZXN0cnVjdG9yKTtleGNlcHRpb25MYXN0PXB0cjt1bmNhdWdodEV4Y2VwdGlvbkNvdW50Kys7dGhyb3cgcHRyfWZ1bmN0aW9uIHNldEVyck5vKHZhbHVlKXtIRUFQMzJbX19fZXJybm9fbG9jYXRpb24oKT4+Ml09dmFsdWU7cmV0dXJuIHZhbHVlfXZhciBTWVNDQUxMUz17bWFwcGluZ3M6e30sYnVmZmVyczpbbnVsbCxbXSxbXV0scHJpbnRDaGFyOmZ1bmN0aW9uKHN0cmVhbSxjdXJyKXt2YXIgYnVmZmVyPVNZU0NBTExTLmJ1ZmZlcnNbc3RyZWFtXTtpZihjdXJyPT09MHx8Y3Vycj09PTEwKXsoc3RyZWFtPT09MT9vdXQ6ZXJyKShVVEY4QXJyYXlUb1N0cmluZyhidWZmZXIsMCkpO2J1ZmZlci5sZW5ndGg9MH1lbHNle2J1ZmZlci5wdXNoKGN1cnIpfX0sdmFyYXJnczp1bmRlZmluZWQsZ2V0OmZ1bmN0aW9uKCl7U1lTQ0FMTFMudmFyYXJncys9NDt2YXIgcmV0PUhFQVAzMltTWVNDQUxMUy52YXJhcmdzLTQ+PjJdO3JldHVybiByZXR9LGdldFN0cjpmdW5jdGlvbihwdHIpe3ZhciByZXQ9VVRGOFRvU3RyaW5nKHB0cik7cmV0dXJuIHJldH0sZ2V0NjQ6ZnVuY3Rpb24obG93LGhpZ2gpe3JldHVybiBsb3d9fTtmdW5jdGlvbiBfX19zeXNfZmNudGw2NChmZCxjbWQsdmFyYXJncyl7U1lTQ0FMTFMudmFyYXJncz12YXJhcmdzO3JldHVybiAwfWZ1bmN0aW9uIF9fX3N5c19nZXRwaWQoKXtyZXR1cm4gNDJ9ZnVuY3Rpb24gX19fc3lzX2lvY3RsKGZkLG9wLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJncztyZXR1cm4gMH1mdW5jdGlvbiBfX19zeXNfb3BlbihwYXRoLGZsYWdzLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnc31mdW5jdGlvbiBnZXRTaGlmdEZyb21TaXplKHNpemUpe3N3aXRjaChzaXplKXtjYXNlIDE6cmV0dXJuIDA7Y2FzZSAyOnJldHVybiAxO2Nhc2UgNDpyZXR1cm4gMjtjYXNlIDg6cmV0dXJuIDM7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIHR5cGUgc2l6ZTogIitzaXplKX19ZnVuY3Rpb24gZW1iaW5kX2luaXRfY2hhckNvZGVzKCl7dmFyIGNvZGVzPW5ldyBBcnJheSgyNTYpO2Zvcih2YXIgaT0wO2k8MjU2OysraSl7Y29kZXNbaV09U3RyaW5nLmZyb21DaGFyQ29kZShpKX1lbWJpbmRfY2hhckNvZGVzPWNvZGVzfXZhciBlbWJpbmRfY2hhckNvZGVzPXVuZGVmaW5lZDtmdW5jdGlvbiByZWFkTGF0aW4xU3RyaW5nKHB0cil7dmFyIHJldD0iIjt2YXIgYz1wdHI7d2hpbGUoSEVBUFU4W2NdKXtyZXQrPWVtYmluZF9jaGFyQ29kZXNbSEVBUFU4W2MrK11dfXJldHVybiByZXR9dmFyIGF3YWl0aW5nRGVwZW5kZW5jaWVzPXt9O3ZhciByZWdpc3RlcmVkVHlwZXM9e307dmFyIHR5cGVEZXBlbmRlbmNpZXM9e307dmFyIGNoYXJfMD00ODt2YXIgY2hhcl85PTU3O2Z1bmN0aW9uIG1ha2VMZWdhbEZ1bmN0aW9uTmFtZShuYW1lKXtpZih1bmRlZmluZWQ9PT1uYW1lKXtyZXR1cm4iX3Vua25vd24ifW5hbWU9bmFtZS5yZXBsYWNlKC9bXmEtekEtWjAtOV9dL2csIiQiKTt2YXIgZj1uYW1lLmNoYXJDb2RlQXQoMCk7aWYoZj49Y2hhcl8wJiZmPD1jaGFyXzkpe3JldHVybiJfIituYW1lfWVsc2V7cmV0dXJuIG5hbWV9fWZ1bmN0aW9uIGNyZWF0ZU5hbWVkRnVuY3Rpb24obmFtZSxib2R5KXtuYW1lPW1ha2VMZWdhbEZ1bmN0aW9uTmFtZShuYW1lKTtyZXR1cm4gbmV3IEZ1bmN0aW9uKCJib2R5IiwicmV0dXJuIGZ1bmN0aW9uICIrbmFtZSsiKCkge1xuIisnICAgICJ1c2Ugc3RyaWN0IjsnKyIgICAgcmV0dXJuIGJvZHkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiIrIn07XG4iKShib2R5KX1mdW5jdGlvbiBleHRlbmRFcnJvcihiYXNlRXJyb3JUeXBlLGVycm9yTmFtZSl7dmFyIGVycm9yQ2xhc3M9Y3JlYXRlTmFtZWRGdW5jdGlvbihlcnJvck5hbWUsZnVuY3Rpb24obWVzc2FnZSl7dGhpcy5uYW1lPWVycm9yTmFtZTt0aGlzLm1lc3NhZ2U9bWVzc2FnZTt2YXIgc3RhY2s9bmV3IEVycm9yKG1lc3NhZ2UpLnN0YWNrO2lmKHN0YWNrIT09dW5kZWZpbmVkKXt0aGlzLnN0YWNrPXRoaXMudG9TdHJpbmcoKSsiXG4iK3N0YWNrLnJlcGxhY2UoL15FcnJvcig6W15cbl0qKT9cbi8sIiIpfX0pO2Vycm9yQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYmFzZUVycm9yVHlwZS5wcm90b3R5cGUpO2Vycm9yQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yPWVycm9yQ2xhc3M7ZXJyb3JDbGFzcy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLm1lc3NhZ2U9PT11bmRlZmluZWQpe3JldHVybiB0aGlzLm5hbWV9ZWxzZXtyZXR1cm4gdGhpcy5uYW1lKyI6ICIrdGhpcy5tZXNzYWdlfX07cmV0dXJuIGVycm9yQ2xhc3N9dmFyIEJpbmRpbmdFcnJvcj11bmRlZmluZWQ7ZnVuY3Rpb24gdGhyb3dCaW5kaW5nRXJyb3IobWVzc2FnZSl7dGhyb3cgbmV3IEJpbmRpbmdFcnJvcihtZXNzYWdlKX12YXIgSW50ZXJuYWxFcnJvcj11bmRlZmluZWQ7ZnVuY3Rpb24gdGhyb3dJbnRlcm5hbEVycm9yKG1lc3NhZ2Upe3Rocm93IG5ldyBJbnRlcm5hbEVycm9yKG1lc3NhZ2UpfWZ1bmN0aW9uIHdoZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKG15VHlwZXMsZGVwZW5kZW50VHlwZXMsZ2V0VHlwZUNvbnZlcnRlcnMpe215VHlwZXMuZm9yRWFjaChmdW5jdGlvbih0eXBlKXt0eXBlRGVwZW5kZW5jaWVzW3R5cGVdPWRlcGVuZGVudFR5cGVzfSk7ZnVuY3Rpb24gb25Db21wbGV0ZSh0eXBlQ29udmVydGVycyl7dmFyIG15VHlwZUNvbnZlcnRlcnM9Z2V0VHlwZUNvbnZlcnRlcnModHlwZUNvbnZlcnRlcnMpO2lmKG15VHlwZUNvbnZlcnRlcnMubGVuZ3RoIT09bXlUeXBlcy5sZW5ndGgpe3Rocm93SW50ZXJuYWxFcnJvcigiTWlzbWF0Y2hlZCB0eXBlIGNvbnZlcnRlciBjb3VudCIpfWZvcih2YXIgaT0wO2k8bXlUeXBlcy5sZW5ndGg7KytpKXtyZWdpc3RlclR5cGUobXlUeXBlc1tpXSxteVR5cGVDb252ZXJ0ZXJzW2ldKX19dmFyIHR5cGVDb252ZXJ0ZXJzPW5ldyBBcnJheShkZXBlbmRlbnRUeXBlcy5sZW5ndGgpO3ZhciB1bnJlZ2lzdGVyZWRUeXBlcz1bXTt2YXIgcmVnaXN0ZXJlZD0wO2RlcGVuZGVudFR5cGVzLmZvckVhY2goZnVuY3Rpb24oZHQsaSl7aWYocmVnaXN0ZXJlZFR5cGVzLmhhc093blByb3BlcnR5KGR0KSl7dHlwZUNvbnZlcnRlcnNbaV09cmVnaXN0ZXJlZFR5cGVzW2R0XX1lbHNle3VucmVnaXN0ZXJlZFR5cGVzLnB1c2goZHQpO2lmKCFhd2FpdGluZ0RlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eShkdCkpe2F3YWl0aW5nRGVwZW5kZW5jaWVzW2R0XT1bXX1hd2FpdGluZ0RlcGVuZGVuY2llc1tkdF0ucHVzaChmdW5jdGlvbigpe3R5cGVDb252ZXJ0ZXJzW2ldPXJlZ2lzdGVyZWRUeXBlc1tkdF07KytyZWdpc3RlcmVkO2lmKHJlZ2lzdGVyZWQ9PT11bnJlZ2lzdGVyZWRUeXBlcy5sZW5ndGgpe29uQ29tcGxldGUodHlwZUNvbnZlcnRlcnMpfX0pfX0pO2lmKDA9PT11bnJlZ2lzdGVyZWRUeXBlcy5sZW5ndGgpe29uQ29tcGxldGUodHlwZUNvbnZlcnRlcnMpfX1mdW5jdGlvbiByZWdpc3RlclR5cGUocmF3VHlwZSxyZWdpc3RlcmVkSW5zdGFuY2Usb3B0aW9ucyl7b3B0aW9ucz1vcHRpb25zfHx7fTtpZighKCJhcmdQYWNrQWR2YW5jZSJpbiByZWdpc3RlcmVkSW5zdGFuY2UpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWdpc3RlclR5cGUgcmVnaXN0ZXJlZEluc3RhbmNlIHJlcXVpcmVzIGFyZ1BhY2tBZHZhbmNlIil9dmFyIG5hbWU9cmVnaXN0ZXJlZEluc3RhbmNlLm5hbWU7aWYoIXJhd1R5cGUpe3Rocm93QmluZGluZ0Vycm9yKCd0eXBlICInK25hbWUrJyIgbXVzdCBoYXZlIGEgcG9zaXRpdmUgaW50ZWdlciB0eXBlaWQgcG9pbnRlcicpfWlmKHJlZ2lzdGVyZWRUeXBlcy5oYXNPd25Qcm9wZXJ0eShyYXdUeXBlKSl7aWYob3B0aW9ucy5pZ25vcmVEdXBsaWNhdGVSZWdpc3RyYXRpb25zKXtyZXR1cm59ZWxzZXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJyIrbmFtZSsiJyB0d2ljZSIpfX1yZWdpc3RlcmVkVHlwZXNbcmF3VHlwZV09cmVnaXN0ZXJlZEluc3RhbmNlO2RlbGV0ZSB0eXBlRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2lmKGF3YWl0aW5nRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KHJhd1R5cGUpKXt2YXIgY2FsbGJhY2tzPWF3YWl0aW5nRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2RlbGV0ZSBhd2FpdGluZ0RlcGVuZGVuY2llc1tyYXdUeXBlXTtjYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbihjYil7Y2IoKX0pfX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9ib29sKHJhd1R5cGUsbmFtZSxzaXplLHRydWVWYWx1ZSxmYWxzZVZhbHVlKXt2YXIgc2hpZnQ9Z2V0U2hpZnRGcm9tU2l6ZShzaXplKTtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbih3dCl7cmV0dXJuISF3dH0sInRvV2lyZVR5cGUiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLG8pe3JldHVybiBvP3RydWVWYWx1ZTpmYWxzZVZhbHVlfSwiYXJnUGFja0FkdmFuY2UiOjgsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpmdW5jdGlvbihwb2ludGVyKXt2YXIgaGVhcDtpZihzaXplPT09MSl7aGVhcD1IRUFQOH1lbHNlIGlmKHNpemU9PT0yKXtoZWFwPUhFQVAxNn1lbHNlIGlmKHNpemU9PT00KXtoZWFwPUhFQVAzMn1lbHNle3Rocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gYm9vbGVhbiB0eXBlIHNpemU6ICIrbmFtZSl9cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKGhlYXBbcG9pbnRlcj4+c2hpZnRdKX0sZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9pc0FsaWFzT2Yob3RoZXIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIENsYXNzSGFuZGxlKSl7cmV0dXJuIGZhbHNlfWlmKCEob3RoZXIgaW5zdGFuY2VvZiBDbGFzc0hhbmRsZSkpe3JldHVybiBmYWxzZX12YXIgbGVmdENsYXNzPXRoaXMuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIGxlZnQ9dGhpcy4kJC5wdHI7dmFyIHJpZ2h0Q2xhc3M9b3RoZXIuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIHJpZ2h0PW90aGVyLiQkLnB0cjt3aGlsZShsZWZ0Q2xhc3MuYmFzZUNsYXNzKXtsZWZ0PWxlZnRDbGFzcy51cGNhc3QobGVmdCk7bGVmdENsYXNzPWxlZnRDbGFzcy5iYXNlQ2xhc3N9d2hpbGUocmlnaHRDbGFzcy5iYXNlQ2xhc3Mpe3JpZ2h0PXJpZ2h0Q2xhc3MudXBjYXN0KHJpZ2h0KTtyaWdodENsYXNzPXJpZ2h0Q2xhc3MuYmFzZUNsYXNzfXJldHVybiBsZWZ0Q2xhc3M9PT1yaWdodENsYXNzJiZsZWZ0PT09cmlnaHR9ZnVuY3Rpb24gc2hhbGxvd0NvcHlJbnRlcm5hbFBvaW50ZXIobyl7cmV0dXJue2NvdW50Om8uY291bnQsZGVsZXRlU2NoZWR1bGVkOm8uZGVsZXRlU2NoZWR1bGVkLHByZXNlcnZlUG9pbnRlck9uRGVsZXRlOm8ucHJlc2VydmVQb2ludGVyT25EZWxldGUscHRyOm8ucHRyLHB0clR5cGU6by5wdHJUeXBlLHNtYXJ0UHRyOm8uc21hcnRQdHIsc21hcnRQdHJUeXBlOm8uc21hcnRQdHJUeXBlfX1mdW5jdGlvbiB0aHJvd0luc3RhbmNlQWxyZWFkeURlbGV0ZWQob2JqKXtmdW5jdGlvbiBnZXRJbnN0YW5jZVR5cGVOYW1lKGhhbmRsZSl7cmV0dXJuIGhhbmRsZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcy5uYW1lfXRocm93QmluZGluZ0Vycm9yKGdldEluc3RhbmNlVHlwZU5hbWUob2JqKSsiIGluc3RhbmNlIGFscmVhZHkgZGVsZXRlZCIpfXZhciBmaW5hbGl6YXRpb25Hcm91cD1mYWxzZTtmdW5jdGlvbiBkZXRhY2hGaW5hbGl6ZXIoaGFuZGxlKXt9ZnVuY3Rpb24gcnVuRGVzdHJ1Y3RvcigkJCl7aWYoJCQuc21hcnRQdHIpeyQkLnNtYXJ0UHRyVHlwZS5yYXdEZXN0cnVjdG9yKCQkLnNtYXJ0UHRyKX1lbHNleyQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLnJhd0Rlc3RydWN0b3IoJCQucHRyKX19ZnVuY3Rpb24gcmVsZWFzZUNsYXNzSGFuZGxlKCQkKXskJC5jb3VudC52YWx1ZS09MTt2YXIgdG9EZWxldGU9MD09PSQkLmNvdW50LnZhbHVlO2lmKHRvRGVsZXRlKXtydW5EZXN0cnVjdG9yKCQkKX19ZnVuY3Rpb24gYXR0YWNoRmluYWxpemVyKGhhbmRsZSl7aWYoInVuZGVmaW5lZCI9PT10eXBlb2YgRmluYWxpemF0aW9uR3JvdXApe2F0dGFjaEZpbmFsaXplcj1mdW5jdGlvbihoYW5kbGUpe3JldHVybiBoYW5kbGV9O3JldHVybiBoYW5kbGV9ZmluYWxpemF0aW9uR3JvdXA9bmV3IEZpbmFsaXphdGlvbkdyb3VwKGZ1bmN0aW9uKGl0ZXIpe2Zvcih2YXIgcmVzdWx0PWl0ZXIubmV4dCgpOyFyZXN1bHQuZG9uZTtyZXN1bHQ9aXRlci5uZXh0KCkpe3ZhciAkJD1yZXN1bHQudmFsdWU7aWYoISQkLnB0cil7Y29uc29sZS53YXJuKCJvYmplY3QgYWxyZWFkeSBkZWxldGVkOiAiKyQkLnB0cil9ZWxzZXtyZWxlYXNlQ2xhc3NIYW5kbGUoJCQpfX19KTthdHRhY2hGaW5hbGl6ZXI9ZnVuY3Rpb24oaGFuZGxlKXtmaW5hbGl6YXRpb25Hcm91cC5yZWdpc3RlcihoYW5kbGUsaGFuZGxlLiQkLGhhbmRsZS4kJCk7cmV0dXJuIGhhbmRsZX07ZGV0YWNoRmluYWxpemVyPWZ1bmN0aW9uKGhhbmRsZSl7ZmluYWxpemF0aW9uR3JvdXAudW5yZWdpc3RlcihoYW5kbGUuJCQpfTtyZXR1cm4gYXR0YWNoRmluYWxpemVyKGhhbmRsZSl9ZnVuY3Rpb24gQ2xhc3NIYW5kbGVfY2xvbmUoKXtpZighdGhpcy4kJC5wdHIpe3Rocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZCh0aGlzKX1pZih0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlKXt0aGlzLiQkLmNvdW50LnZhbHVlKz0xO3JldHVybiB0aGlzfWVsc2V7dmFyIGNsb25lPWF0dGFjaEZpbmFsaXplcihPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSx7JCQ6e3ZhbHVlOnNoYWxsb3dDb3B5SW50ZXJuYWxQb2ludGVyKHRoaXMuJCQpfX0pKTtjbG9uZS4kJC5jb3VudC52YWx1ZSs9MTtjbG9uZS4kJC5kZWxldGVTY2hlZHVsZWQ9ZmFsc2U7cmV0dXJuIGNsb25lfX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9kZWxldGUoKXtpZighdGhpcy4kJC5wdHIpe3Rocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZCh0aGlzKX1pZih0aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZCYmIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUpe3Rocm93QmluZGluZ0Vycm9yKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIil9ZGV0YWNoRmluYWxpemVyKHRoaXMpO3JlbGVhc2VDbGFzc0hhbmRsZSh0aGlzLiQkKTtpZighdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSl7dGhpcy4kJC5zbWFydFB0cj11bmRlZmluZWQ7dGhpcy4kJC5wdHI9dW5kZWZpbmVkfX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9pc0RlbGV0ZWQoKXtyZXR1cm4hdGhpcy4kJC5wdHJ9dmFyIGRlbGF5RnVuY3Rpb249dW5kZWZpbmVkO3ZhciBkZWxldGlvblF1ZXVlPVtdO2Z1bmN0aW9uIGZsdXNoUGVuZGluZ0RlbGV0ZXMoKXt3aGlsZShkZWxldGlvblF1ZXVlLmxlbmd0aCl7dmFyIG9iaj1kZWxldGlvblF1ZXVlLnBvcCgpO29iai4kJC5kZWxldGVTY2hlZHVsZWQ9ZmFsc2U7b2JqWyJkZWxldGUiXSgpfX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9kZWxldGVMYXRlcigpe2lmKCF0aGlzLiQkLnB0cil7dGhyb3dJbnN0YW5jZUFscmVhZHlEZWxldGVkKHRoaXMpfWlmKHRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkJiYhdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSl7dGhyb3dCaW5kaW5nRXJyb3IoIk9iamVjdCBhbHJlYWR5IHNjaGVkdWxlZCBmb3IgZGVsZXRpb24iKX1kZWxldGlvblF1ZXVlLnB1c2godGhpcyk7aWYoZGVsZXRpb25RdWV1ZS5sZW5ndGg9PT0xJiZkZWxheUZ1bmN0aW9uKXtkZWxheUZ1bmN0aW9uKGZsdXNoUGVuZGluZ0RlbGV0ZXMpfXRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkPXRydWU7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gaW5pdF9DbGFzc0hhbmRsZSgpe0NsYXNzSGFuZGxlLnByb3RvdHlwZVsiaXNBbGlhc09mIl09Q2xhc3NIYW5kbGVfaXNBbGlhc09mO0NsYXNzSGFuZGxlLnByb3RvdHlwZVsiY2xvbmUiXT1DbGFzc0hhbmRsZV9jbG9uZTtDbGFzc0hhbmRsZS5wcm90b3R5cGVbImRlbGV0ZSJdPUNsYXNzSGFuZGxlX2RlbGV0ZTtDbGFzc0hhbmRsZS5wcm90b3R5cGVbImlzRGVsZXRlZCJdPUNsYXNzSGFuZGxlX2lzRGVsZXRlZDtDbGFzc0hhbmRsZS5wcm90b3R5cGVbImRlbGV0ZUxhdGVyIl09Q2xhc3NIYW5kbGVfZGVsZXRlTGF0ZXJ9ZnVuY3Rpb24gQ2xhc3NIYW5kbGUoKXt9dmFyIHJlZ2lzdGVyZWRQb2ludGVycz17fTtmdW5jdGlvbiBlbnN1cmVPdmVybG9hZFRhYmxlKHByb3RvLG1ldGhvZE5hbWUsaHVtYW5OYW1lKXtpZih1bmRlZmluZWQ9PT1wcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlKXt2YXIgcHJldkZ1bmM9cHJvdG9bbWV0aG9kTmFtZV07cHJvdG9bbWV0aG9kTmFtZV09ZnVuY3Rpb24oKXtpZighcHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZS5oYXNPd25Qcm9wZXJ0eShhcmd1bWVudHMubGVuZ3RoKSl7dGhyb3dCaW5kaW5nRXJyb3IoIkZ1bmN0aW9uICciK2h1bWFuTmFtZSsiJyBjYWxsZWQgd2l0aCBhbiBpbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMgKCIrYXJndW1lbnRzLmxlbmd0aCsiKSAtIGV4cGVjdHMgb25lIG9mICgiK3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGUrIikhIil9cmV0dXJuIHByb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbYXJndW1lbnRzLmxlbmd0aF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfTtwcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlPVtdO3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbcHJldkZ1bmMuYXJnQ291bnRdPXByZXZGdW5jfX1mdW5jdGlvbiBleHBvc2VQdWJsaWNTeW1ib2wobmFtZSx2YWx1ZSxudW1Bcmd1bWVudHMpe2lmKE1vZHVsZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSl7aWYodW5kZWZpbmVkPT09bnVtQXJndW1lbnRzfHx1bmRlZmluZWQhPT1Nb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZSYmdW5kZWZpbmVkIT09TW9kdWxlW25hbWVdLm92ZXJsb2FkVGFibGVbbnVtQXJndW1lbnRzXSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCByZWdpc3RlciBwdWJsaWMgbmFtZSAnIituYW1lKyInIHR3aWNlIil9ZW5zdXJlT3ZlcmxvYWRUYWJsZShNb2R1bGUsbmFtZSxuYW1lKTtpZihNb2R1bGUuaGFzT3duUHJvcGVydHkobnVtQXJndW1lbnRzKSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCByZWdpc3RlciBtdWx0aXBsZSBvdmVybG9hZHMgb2YgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIG51bWJlciBvZiBhcmd1bWVudHMgKCIrbnVtQXJndW1lbnRzKyIpISIpfU1vZHVsZVtuYW1lXS5vdmVybG9hZFRhYmxlW251bUFyZ3VtZW50c109dmFsdWV9ZWxzZXtNb2R1bGVbbmFtZV09dmFsdWU7aWYodW5kZWZpbmVkIT09bnVtQXJndW1lbnRzKXtNb2R1bGVbbmFtZV0ubnVtQXJndW1lbnRzPW51bUFyZ3VtZW50c319fWZ1bmN0aW9uIFJlZ2lzdGVyZWRDbGFzcyhuYW1lLGNvbnN0cnVjdG9yLGluc3RhbmNlUHJvdG90eXBlLHJhd0Rlc3RydWN0b3IsYmFzZUNsYXNzLGdldEFjdHVhbFR5cGUsdXBjYXN0LGRvd25jYXN0KXt0aGlzLm5hbWU9bmFtZTt0aGlzLmNvbnN0cnVjdG9yPWNvbnN0cnVjdG9yO3RoaXMuaW5zdGFuY2VQcm90b3R5cGU9aW5zdGFuY2VQcm90b3R5cGU7dGhpcy5yYXdEZXN0cnVjdG9yPXJhd0Rlc3RydWN0b3I7dGhpcy5iYXNlQ2xhc3M9YmFzZUNsYXNzO3RoaXMuZ2V0QWN0dWFsVHlwZT1nZXRBY3R1YWxUeXBlO3RoaXMudXBjYXN0PXVwY2FzdDt0aGlzLmRvd25jYXN0PWRvd25jYXN0O3RoaXMucHVyZVZpcnR1YWxGdW5jdGlvbnM9W119ZnVuY3Rpb24gdXBjYXN0UG9pbnRlcihwdHIscHRyQ2xhc3MsZGVzaXJlZENsYXNzKXt3aGlsZShwdHJDbGFzcyE9PWRlc2lyZWRDbGFzcyl7aWYoIXB0ckNsYXNzLnVwY2FzdCl7dGhyb3dCaW5kaW5nRXJyb3IoIkV4cGVjdGVkIG51bGwgb3IgaW5zdGFuY2Ugb2YgIitkZXNpcmVkQ2xhc3MubmFtZSsiLCBnb3QgYW4gaW5zdGFuY2Ugb2YgIitwdHJDbGFzcy5uYW1lKX1wdHI9cHRyQ2xhc3MudXBjYXN0KHB0cik7cHRyQ2xhc3M9cHRyQ2xhc3MuYmFzZUNsYXNzfXJldHVybiBwdHJ9ZnVuY3Rpb24gY29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGUoZGVzdHJ1Y3RvcnMsaGFuZGxlKXtpZihoYW5kbGU9PT1udWxsKXtpZih0aGlzLmlzUmVmZXJlbmNlKXt0aHJvd0JpbmRpbmdFcnJvcigibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSl9cmV0dXJuIDB9aWYoIWhhbmRsZS4kJCl7dGhyb3dCaW5kaW5nRXJyb3IoJ0Nhbm5vdCBwYXNzICInK19lbWJpbmRfcmVwcihoYW5kbGUpKyciIGFzIGEgJyt0aGlzLm5hbWUpfWlmKCFoYW5kbGUuJCQucHRyKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgIit0aGlzLm5hbWUpfXZhciBoYW5kbGVDbGFzcz1oYW5kbGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIHB0cj11cGNhc3RQb2ludGVyKGhhbmRsZS4kJC5wdHIsaGFuZGxlQ2xhc3MsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBwdHJ9ZnVuY3Rpb24gZ2VuZXJpY1BvaW50ZXJUb1dpcmVUeXBlKGRlc3RydWN0b3JzLGhhbmRsZSl7dmFyIHB0cjtpZihoYW5kbGU9PT1udWxsKXtpZih0aGlzLmlzUmVmZXJlbmNlKXt0aHJvd0JpbmRpbmdFcnJvcigibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSl9aWYodGhpcy5pc1NtYXJ0UG9pbnRlcil7cHRyPXRoaXMucmF3Q29uc3RydWN0b3IoKTtpZihkZXN0cnVjdG9ycyE9PW51bGwpe2Rlc3RydWN0b3JzLnB1c2godGhpcy5yYXdEZXN0cnVjdG9yLHB0cil9cmV0dXJuIHB0cn1lbHNle3JldHVybiAwfX1pZighaGFuZGxlLiQkKXt0aHJvd0JpbmRpbmdFcnJvcignQ2Fubm90IHBhc3MgIicrX2VtYmluZF9yZXByKGhhbmRsZSkrJyIgYXMgYSAnK3RoaXMubmFtZSl9aWYoIWhhbmRsZS4kJC5wdHIpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSl9aWYoIXRoaXMuaXNDb25zdCYmaGFuZGxlLiQkLnB0clR5cGUuaXNDb25zdCl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgIisoaGFuZGxlLiQkLnNtYXJ0UHRyVHlwZT9oYW5kbGUuJCQuc21hcnRQdHJUeXBlLm5hbWU6aGFuZGxlLiQkLnB0clR5cGUubmFtZSkrIiB0byBwYXJhbWV0ZXIgdHlwZSAiK3RoaXMubmFtZSl9dmFyIGhhbmRsZUNsYXNzPWhhbmRsZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcztwdHI9dXBjYXN0UG9pbnRlcihoYW5kbGUuJCQucHRyLGhhbmRsZUNsYXNzLHRoaXMucmVnaXN0ZXJlZENsYXNzKTtpZih0aGlzLmlzU21hcnRQb2ludGVyKXtpZih1bmRlZmluZWQ9PT1oYW5kbGUuJCQuc21hcnRQdHIpe3Rocm93QmluZGluZ0Vycm9yKCJQYXNzaW5nIHJhdyBwb2ludGVyIHRvIHNtYXJ0IHBvaW50ZXIgaXMgaWxsZWdhbCIpfXN3aXRjaCh0aGlzLnNoYXJpbmdQb2xpY3kpe2Nhc2UgMDppZihoYW5kbGUuJCQuc21hcnRQdHJUeXBlPT09dGhpcyl7cHRyPWhhbmRsZS4kJC5zbWFydFB0cn1lbHNle3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIrKGhhbmRsZS4kJC5zbWFydFB0clR5cGU/aGFuZGxlLiQkLnNtYXJ0UHRyVHlwZS5uYW1lOmhhbmRsZS4kJC5wdHJUeXBlLm5hbWUpKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpfWJyZWFrO2Nhc2UgMTpwdHI9aGFuZGxlLiQkLnNtYXJ0UHRyO2JyZWFrO2Nhc2UgMjppZihoYW5kbGUuJCQuc21hcnRQdHJUeXBlPT09dGhpcyl7cHRyPWhhbmRsZS4kJC5zbWFydFB0cn1lbHNle3ZhciBjbG9uZWRIYW5kbGU9aGFuZGxlWyJjbG9uZSJdKCk7cHRyPXRoaXMucmF3U2hhcmUocHRyLF9fZW12YWxfcmVnaXN0ZXIoZnVuY3Rpb24oKXtjbG9uZWRIYW5kbGVbImRlbGV0ZSJdKCl9KSk7aWYoZGVzdHJ1Y3RvcnMhPT1udWxsKXtkZXN0cnVjdG9ycy5wdXNoKHRoaXMucmF3RGVzdHJ1Y3RvcixwdHIpfX1icmVhaztkZWZhdWx0OnRocm93QmluZGluZ0Vycm9yKCJVbnN1cHBvcnRpbmcgc2hhcmluZyBwb2xpY3kiKX19cmV0dXJuIHB0cn1mdW5jdGlvbiBub25Db25zdE5vU21hcnRQdHJSYXdQb2ludGVyVG9XaXJlVHlwZShkZXN0cnVjdG9ycyxoYW5kbGUpe2lmKGhhbmRsZT09PW51bGwpe2lmKHRoaXMuaXNSZWZlcmVuY2Upe3Rocm93QmluZGluZ0Vycm9yKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKX1yZXR1cm4gMH1pZighaGFuZGxlLiQkKXt0aHJvd0JpbmRpbmdFcnJvcignQ2Fubm90IHBhc3MgIicrX2VtYmluZF9yZXByKGhhbmRsZSkrJyIgYXMgYSAnK3RoaXMubmFtZSl9aWYoIWhhbmRsZS4kJC5wdHIpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSl9aWYoaGFuZGxlLiQkLnB0clR5cGUuaXNDb25zdCl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgIitoYW5kbGUuJCQucHRyVHlwZS5uYW1lKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpfXZhciBoYW5kbGVDbGFzcz1oYW5kbGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIHB0cj11cGNhc3RQb2ludGVyKGhhbmRsZS4kJC5wdHIsaGFuZGxlQ2xhc3MsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBwdHJ9ZnVuY3Rpb24gc2ltcGxlUmVhZFZhbHVlRnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKEhFQVBVMzJbcG9pbnRlcj4+Ml0pfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyX2dldFBvaW50ZWUocHRyKXtpZih0aGlzLnJhd0dldFBvaW50ZWUpe3B0cj10aGlzLnJhd0dldFBvaW50ZWUocHRyKX1yZXR1cm4gcHRyfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyX2Rlc3RydWN0b3IocHRyKXtpZih0aGlzLnJhd0Rlc3RydWN0b3Ipe3RoaXMucmF3RGVzdHJ1Y3RvcihwdHIpfX1mdW5jdGlvbiBSZWdpc3RlcmVkUG9pbnRlcl9kZWxldGVPYmplY3QoaGFuZGxlKXtpZihoYW5kbGUhPT1udWxsKXtoYW5kbGVbImRlbGV0ZSJdKCl9fWZ1bmN0aW9uIGRvd25jYXN0UG9pbnRlcihwdHIscHRyQ2xhc3MsZGVzaXJlZENsYXNzKXtpZihwdHJDbGFzcz09PWRlc2lyZWRDbGFzcyl7cmV0dXJuIHB0cn1pZih1bmRlZmluZWQ9PT1kZXNpcmVkQ2xhc3MuYmFzZUNsYXNzKXtyZXR1cm4gbnVsbH12YXIgcnY9ZG93bmNhc3RQb2ludGVyKHB0cixwdHJDbGFzcyxkZXNpcmVkQ2xhc3MuYmFzZUNsYXNzKTtpZihydj09PW51bGwpe3JldHVybiBudWxsfXJldHVybiBkZXNpcmVkQ2xhc3MuZG93bmNhc3QocnYpfWZ1bmN0aW9uIGdldEluaGVyaXRlZEluc3RhbmNlQ291bnQoKXtyZXR1cm4gT2JqZWN0LmtleXMocmVnaXN0ZXJlZEluc3RhbmNlcykubGVuZ3RofWZ1bmN0aW9uIGdldExpdmVJbmhlcml0ZWRJbnN0YW5jZXMoKXt2YXIgcnY9W107Zm9yKHZhciBrIGluIHJlZ2lzdGVyZWRJbnN0YW5jZXMpe2lmKHJlZ2lzdGVyZWRJbnN0YW5jZXMuaGFzT3duUHJvcGVydHkoaykpe3J2LnB1c2gocmVnaXN0ZXJlZEluc3RhbmNlc1trXSl9fXJldHVybiBydn1mdW5jdGlvbiBzZXREZWxheUZ1bmN0aW9uKGZuKXtkZWxheUZ1bmN0aW9uPWZuO2lmKGRlbGV0aW9uUXVldWUubGVuZ3RoJiZkZWxheUZ1bmN0aW9uKXtkZWxheUZ1bmN0aW9uKGZsdXNoUGVuZGluZ0RlbGV0ZXMpfX1mdW5jdGlvbiBpbml0X2VtYmluZCgpe01vZHVsZVsiZ2V0SW5oZXJpdGVkSW5zdGFuY2VDb3VudCJdPWdldEluaGVyaXRlZEluc3RhbmNlQ291bnQ7TW9kdWxlWyJnZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzIl09Z2V0TGl2ZUluaGVyaXRlZEluc3RhbmNlcztNb2R1bGVbImZsdXNoUGVuZGluZ0RlbGV0ZXMiXT1mbHVzaFBlbmRpbmdEZWxldGVzO01vZHVsZVsic2V0RGVsYXlGdW5jdGlvbiJdPXNldERlbGF5RnVuY3Rpb259dmFyIHJlZ2lzdGVyZWRJbnN0YW5jZXM9e307ZnVuY3Rpb24gZ2V0QmFzZXN0UG9pbnRlcihjbGFzc18scHRyKXtpZihwdHI9PT11bmRlZmluZWQpe3Rocm93QmluZGluZ0Vycm9yKCJwdHIgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQiKX13aGlsZShjbGFzc18uYmFzZUNsYXNzKXtwdHI9Y2xhc3NfLnVwY2FzdChwdHIpO2NsYXNzXz1jbGFzc18uYmFzZUNsYXNzfXJldHVybiBwdHJ9ZnVuY3Rpb24gZ2V0SW5oZXJpdGVkSW5zdGFuY2UoY2xhc3NfLHB0cil7cHRyPWdldEJhc2VzdFBvaW50ZXIoY2xhc3NfLHB0cik7cmV0dXJuIHJlZ2lzdGVyZWRJbnN0YW5jZXNbcHRyXX1mdW5jdGlvbiBtYWtlQ2xhc3NIYW5kbGUocHJvdG90eXBlLHJlY29yZCl7aWYoIXJlY29yZC5wdHJUeXBlfHwhcmVjb3JkLnB0cil7dGhyb3dJbnRlcm5hbEVycm9yKCJtYWtlQ2xhc3NIYW5kbGUgcmVxdWlyZXMgcHRyIGFuZCBwdHJUeXBlIil9dmFyIGhhc1NtYXJ0UHRyVHlwZT0hIXJlY29yZC5zbWFydFB0clR5cGU7dmFyIGhhc1NtYXJ0UHRyPSEhcmVjb3JkLnNtYXJ0UHRyO2lmKGhhc1NtYXJ0UHRyVHlwZSE9PWhhc1NtYXJ0UHRyKXt0aHJvd0ludGVybmFsRXJyb3IoIkJvdGggc21hcnRQdHJUeXBlIGFuZCBzbWFydFB0ciBtdXN0IGJlIHNwZWNpZmllZCIpfXJlY29yZC5jb3VudD17dmFsdWU6MX07cmV0dXJuIGF0dGFjaEZpbmFsaXplcihPYmplY3QuY3JlYXRlKHByb3RvdHlwZSx7JCQ6e3ZhbHVlOnJlY29yZH19KSl9ZnVuY3Rpb24gUmVnaXN0ZXJlZFBvaW50ZXJfZnJvbVdpcmVUeXBlKHB0cil7dmFyIHJhd1BvaW50ZXI9dGhpcy5nZXRQb2ludGVlKHB0cik7aWYoIXJhd1BvaW50ZXIpe3RoaXMuZGVzdHJ1Y3RvcihwdHIpO3JldHVybiBudWxsfXZhciByZWdpc3RlcmVkSW5zdGFuY2U9Z2V0SW5oZXJpdGVkSW5zdGFuY2UodGhpcy5yZWdpc3RlcmVkQ2xhc3MscmF3UG9pbnRlcik7aWYodW5kZWZpbmVkIT09cmVnaXN0ZXJlZEluc3RhbmNlKXtpZigwPT09cmVnaXN0ZXJlZEluc3RhbmNlLiQkLmNvdW50LnZhbHVlKXtyZWdpc3RlcmVkSW5zdGFuY2UuJCQucHRyPXJhd1BvaW50ZXI7cmVnaXN0ZXJlZEluc3RhbmNlLiQkLnNtYXJ0UHRyPXB0cjtyZXR1cm4gcmVnaXN0ZXJlZEluc3RhbmNlWyJjbG9uZSJdKCl9ZWxzZXt2YXIgcnY9cmVnaXN0ZXJlZEluc3RhbmNlWyJjbG9uZSJdKCk7dGhpcy5kZXN0cnVjdG9yKHB0cik7cmV0dXJuIHJ2fX1mdW5jdGlvbiBtYWtlRGVmYXVsdEhhbmRsZSgpe2lmKHRoaXMuaXNTbWFydFBvaW50ZXIpe3JldHVybiBtYWtlQ2xhc3NIYW5kbGUodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcy5wb2ludGVlVHlwZSxwdHI6cmF3UG9pbnRlcixzbWFydFB0clR5cGU6dGhpcyxzbWFydFB0cjpwdHJ9KX1lbHNle3JldHVybiBtYWtlQ2xhc3NIYW5kbGUodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcyxwdHI6cHRyfSl9fXZhciBhY3R1YWxUeXBlPXRoaXMucmVnaXN0ZXJlZENsYXNzLmdldEFjdHVhbFR5cGUocmF3UG9pbnRlcik7dmFyIHJlZ2lzdGVyZWRQb2ludGVyUmVjb3JkPXJlZ2lzdGVyZWRQb2ludGVyc1thY3R1YWxUeXBlXTtpZighcmVnaXN0ZXJlZFBvaW50ZXJSZWNvcmQpe3JldHVybiBtYWtlRGVmYXVsdEhhbmRsZS5jYWxsKHRoaXMpfXZhciB0b1R5cGU7aWYodGhpcy5pc0NvbnN0KXt0b1R5cGU9cmVnaXN0ZXJlZFBvaW50ZXJSZWNvcmQuY29uc3RQb2ludGVyVHlwZX1lbHNle3RvVHlwZT1yZWdpc3RlcmVkUG9pbnRlclJlY29yZC5wb2ludGVyVHlwZX12YXIgZHA9ZG93bmNhc3RQb2ludGVyKHJhd1BvaW50ZXIsdGhpcy5yZWdpc3RlcmVkQ2xhc3MsdG9UeXBlLnJlZ2lzdGVyZWRDbGFzcyk7aWYoZHA9PT1udWxsKXtyZXR1cm4gbWFrZURlZmF1bHRIYW5kbGUuY2FsbCh0aGlzKX1pZih0aGlzLmlzU21hcnRQb2ludGVyKXtyZXR1cm4gbWFrZUNsYXNzSGFuZGxlKHRvVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dG9UeXBlLHB0cjpkcCxzbWFydFB0clR5cGU6dGhpcyxzbWFydFB0cjpwdHJ9KX1lbHNle3JldHVybiBtYWtlQ2xhc3NIYW5kbGUodG9UeXBlLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZSx7cHRyVHlwZTp0b1R5cGUscHRyOmRwfSl9fWZ1bmN0aW9uIGluaXRfUmVnaXN0ZXJlZFBvaW50ZXIoKXtSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGUuZ2V0UG9pbnRlZT1SZWdpc3RlcmVkUG9pbnRlcl9nZXRQb2ludGVlO1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZS5kZXN0cnVjdG9yPVJlZ2lzdGVyZWRQb2ludGVyX2Rlc3RydWN0b3I7UmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlWyJhcmdQYWNrQWR2YW5jZSJdPTg7UmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlWyJyZWFkVmFsdWVGcm9tUG9pbnRlciJdPXNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyO1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZVsiZGVsZXRlT2JqZWN0Il09UmVnaXN0ZXJlZFBvaW50ZXJfZGVsZXRlT2JqZWN0O1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZVsiZnJvbVdpcmVUeXBlIl09UmVnaXN0ZXJlZFBvaW50ZXJfZnJvbVdpcmVUeXBlfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyKG5hbWUscmVnaXN0ZXJlZENsYXNzLGlzUmVmZXJlbmNlLGlzQ29uc3QsaXNTbWFydFBvaW50ZXIscG9pbnRlZVR5cGUsc2hhcmluZ1BvbGljeSxyYXdHZXRQb2ludGVlLHJhd0NvbnN0cnVjdG9yLHJhd1NoYXJlLHJhd0Rlc3RydWN0b3Ipe3RoaXMubmFtZT1uYW1lO3RoaXMucmVnaXN0ZXJlZENsYXNzPXJlZ2lzdGVyZWRDbGFzczt0aGlzLmlzUmVmZXJlbmNlPWlzUmVmZXJlbmNlO3RoaXMuaXNDb25zdD1pc0NvbnN0O3RoaXMuaXNTbWFydFBvaW50ZXI9aXNTbWFydFBvaW50ZXI7dGhpcy5wb2ludGVlVHlwZT1wb2ludGVlVHlwZTt0aGlzLnNoYXJpbmdQb2xpY3k9c2hhcmluZ1BvbGljeTt0aGlzLnJhd0dldFBvaW50ZWU9cmF3R2V0UG9pbnRlZTt0aGlzLnJhd0NvbnN0cnVjdG9yPXJhd0NvbnN0cnVjdG9yO3RoaXMucmF3U2hhcmU9cmF3U2hhcmU7dGhpcy5yYXdEZXN0cnVjdG9yPXJhd0Rlc3RydWN0b3I7aWYoIWlzU21hcnRQb2ludGVyJiZyZWdpc3RlcmVkQ2xhc3MuYmFzZUNsYXNzPT09dW5kZWZpbmVkKXtpZihpc0NvbnN0KXt0aGlzWyJ0b1dpcmVUeXBlIl09Y29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGU7dGhpcy5kZXN0cnVjdG9yRnVuY3Rpb249bnVsbH1lbHNle3RoaXNbInRvV2lyZVR5cGUiXT1ub25Db25zdE5vU21hcnRQdHJSYXdQb2ludGVyVG9XaXJlVHlwZTt0aGlzLmRlc3RydWN0b3JGdW5jdGlvbj1udWxsfX1lbHNle3RoaXNbInRvV2lyZVR5cGUiXT1nZW5lcmljUG9pbnRlclRvV2lyZVR5cGV9fWZ1bmN0aW9uIHJlcGxhY2VQdWJsaWNTeW1ib2wobmFtZSx2YWx1ZSxudW1Bcmd1bWVudHMpe2lmKCFNb2R1bGUuaGFzT3duUHJvcGVydHkobmFtZSkpe3Rocm93SW50ZXJuYWxFcnJvcigiUmVwbGFjaW5nIG5vbmV4aXN0YW50IHB1YmxpYyBzeW1ib2wiKX1pZih1bmRlZmluZWQhPT1Nb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZSYmdW5kZWZpbmVkIT09bnVtQXJndW1lbnRzKXtNb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZVtudW1Bcmd1bWVudHNdPXZhbHVlfWVsc2V7TW9kdWxlW25hbWVdPXZhbHVlO01vZHVsZVtuYW1lXS5hcmdDb3VudD1udW1Bcmd1bWVudHN9fWZ1bmN0aW9uIGR5bkNhbGxMZWdhY3koc2lnLHB0cixhcmdzKXt2YXIgZj1Nb2R1bGVbImR5bkNhbGxfIitzaWddO3JldHVybiBhcmdzJiZhcmdzLmxlbmd0aD9mLmFwcGx5KG51bGwsW3B0cl0uY29uY2F0KGFyZ3MpKTpmLmNhbGwobnVsbCxwdHIpfWZ1bmN0aW9uIGR5bkNhbGwoc2lnLHB0cixhcmdzKXtpZihzaWcuaW5kZXhPZigiaiIpIT0tMSl7cmV0dXJuIGR5bkNhbGxMZWdhY3koc2lnLHB0cixhcmdzKX1yZXR1cm4gd2FzbVRhYmxlLmdldChwdHIpLmFwcGx5KG51bGwsYXJncyl9ZnVuY3Rpb24gZ2V0RHluQ2FsbGVyKHNpZyxwdHIpe3ZhciBhcmdDYWNoZT1bXTtyZXR1cm4gZnVuY3Rpb24oKXthcmdDYWNoZS5sZW5ndGg9YXJndW1lbnRzLmxlbmd0aDtmb3IodmFyIGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXthcmdDYWNoZVtpXT1hcmd1bWVudHNbaV19cmV0dXJuIGR5bkNhbGwoc2lnLHB0cixhcmdDYWNoZSl9fWZ1bmN0aW9uIGVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKHNpZ25hdHVyZSxyYXdGdW5jdGlvbil7c2lnbmF0dXJlPXJlYWRMYXRpbjFTdHJpbmcoc2lnbmF0dXJlKTtmdW5jdGlvbiBtYWtlRHluQ2FsbGVyKCl7aWYoc2lnbmF0dXJlLmluZGV4T2YoImoiKSE9LTEpe3JldHVybiBnZXREeW5DYWxsZXIoc2lnbmF0dXJlLHJhd0Z1bmN0aW9uKX1yZXR1cm4gd2FzbVRhYmxlLmdldChyYXdGdW5jdGlvbil9dmFyIGZwPW1ha2VEeW5DYWxsZXIoKTtpZih0eXBlb2YgZnAhPT0iZnVuY3Rpb24iKXt0aHJvd0JpbmRpbmdFcnJvcigidW5rbm93biBmdW5jdGlvbiBwb2ludGVyIHdpdGggc2lnbmF0dXJlICIrc2lnbmF0dXJlKyI6ICIrcmF3RnVuY3Rpb24pfXJldHVybiBmcH12YXIgVW5ib3VuZFR5cGVFcnJvcj11bmRlZmluZWQ7ZnVuY3Rpb24gZ2V0VHlwZU5hbWUodHlwZSl7dmFyIHB0cj1fX19nZXRUeXBlTmFtZSh0eXBlKTt2YXIgcnY9cmVhZExhdGluMVN0cmluZyhwdHIpO19mcmVlKHB0cik7cmV0dXJuIHJ2fWZ1bmN0aW9uIHRocm93VW5ib3VuZFR5cGVFcnJvcihtZXNzYWdlLHR5cGVzKXt2YXIgdW5ib3VuZFR5cGVzPVtdO3ZhciBzZWVuPXt9O2Z1bmN0aW9uIHZpc2l0KHR5cGUpe2lmKHNlZW5bdHlwZV0pe3JldHVybn1pZihyZWdpc3RlcmVkVHlwZXNbdHlwZV0pe3JldHVybn1pZih0eXBlRGVwZW5kZW5jaWVzW3R5cGVdKXt0eXBlRGVwZW5kZW5jaWVzW3R5cGVdLmZvckVhY2godmlzaXQpO3JldHVybn11bmJvdW5kVHlwZXMucHVzaCh0eXBlKTtzZWVuW3R5cGVdPXRydWV9dHlwZXMuZm9yRWFjaCh2aXNpdCk7dGhyb3cgbmV3IFVuYm91bmRUeXBlRXJyb3IobWVzc2FnZSsiOiAiK3VuYm91bmRUeXBlcy5tYXAoZ2V0VHlwZU5hbWUpLmpvaW4oWyIsICJdKSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfY2xhc3MocmF3VHlwZSxyYXdQb2ludGVyVHlwZSxyYXdDb25zdFBvaW50ZXJUeXBlLGJhc2VDbGFzc1Jhd1R5cGUsZ2V0QWN0dWFsVHlwZVNpZ25hdHVyZSxnZXRBY3R1YWxUeXBlLHVwY2FzdFNpZ25hdHVyZSx1cGNhc3QsZG93bmNhc3RTaWduYXR1cmUsZG93bmNhc3QsbmFtZSxkZXN0cnVjdG9yU2lnbmF0dXJlLHJhd0Rlc3RydWN0b3Ipe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtnZXRBY3R1YWxUeXBlPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKGdldEFjdHVhbFR5cGVTaWduYXR1cmUsZ2V0QWN0dWFsVHlwZSk7aWYodXBjYXN0KXt1cGNhc3Q9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24odXBjYXN0U2lnbmF0dXJlLHVwY2FzdCl9aWYoZG93bmNhc3Qpe2Rvd25jYXN0PWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKGRvd25jYXN0U2lnbmF0dXJlLGRvd25jYXN0KX1yYXdEZXN0cnVjdG9yPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKGRlc3RydWN0b3JTaWduYXR1cmUscmF3RGVzdHJ1Y3Rvcik7dmFyIGxlZ2FsRnVuY3Rpb25OYW1lPW1ha2VMZWdhbEZ1bmN0aW9uTmFtZShuYW1lKTtleHBvc2VQdWJsaWNTeW1ib2wobGVnYWxGdW5jdGlvbk5hbWUsZnVuY3Rpb24oKXt0aHJvd1VuYm91bmRUeXBlRXJyb3IoIkNhbm5vdCBjb25zdHJ1Y3QgIituYW1lKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLFtiYXNlQ2xhc3NSYXdUeXBlXSl9KTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbcmF3VHlwZSxyYXdQb2ludGVyVHlwZSxyYXdDb25zdFBvaW50ZXJUeXBlXSxiYXNlQ2xhc3NSYXdUeXBlP1tiYXNlQ2xhc3NSYXdUeXBlXTpbXSxmdW5jdGlvbihiYXNlKXtiYXNlPWJhc2VbMF07dmFyIGJhc2VDbGFzczt2YXIgYmFzZVByb3RvdHlwZTtpZihiYXNlQ2xhc3NSYXdUeXBlKXtiYXNlQ2xhc3M9YmFzZS5yZWdpc3RlcmVkQ2xhc3M7YmFzZVByb3RvdHlwZT1iYXNlQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGV9ZWxzZXtiYXNlUHJvdG90eXBlPUNsYXNzSGFuZGxlLnByb3RvdHlwZX12YXIgY29uc3RydWN0b3I9Y3JlYXRlTmFtZWRGdW5jdGlvbihsZWdhbEZ1bmN0aW9uTmFtZSxmdW5jdGlvbigpe2lmKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSE9PWluc3RhbmNlUHJvdG90eXBlKXt0aHJvdyBuZXcgQmluZGluZ0Vycm9yKCJVc2UgJ25ldycgdG8gY29uc3RydWN0ICIrbmFtZSl9aWYodW5kZWZpbmVkPT09cmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHkpe3Rocm93IG5ldyBCaW5kaW5nRXJyb3IobmFtZSsiIGhhcyBubyBhY2Nlc3NpYmxlIGNvbnN0cnVjdG9yIil9dmFyIGJvZHk9cmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbYXJndW1lbnRzLmxlbmd0aF07aWYodW5kZWZpbmVkPT09Ym9keSl7dGhyb3cgbmV3IEJpbmRpbmdFcnJvcigiVHJpZWQgdG8gaW52b2tlIGN0b3Igb2YgIituYW1lKyIgd2l0aCBpbnZhbGlkIG51bWJlciBvZiBwYXJhbWV0ZXJzICgiK2FyZ3VtZW50cy5sZW5ndGgrIikgLSBleHBlY3RlZCAoIitPYmplY3Qua2V5cyhyZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keSkudG9TdHJpbmcoKSsiKSBwYXJhbWV0ZXJzIGluc3RlYWQhIil9cmV0dXJuIGJvZHkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7dmFyIGluc3RhbmNlUHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYmFzZVByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmNvbnN0cnVjdG9yfX0pO2NvbnN0cnVjdG9yLnByb3RvdHlwZT1pbnN0YW5jZVByb3RvdHlwZTt2YXIgcmVnaXN0ZXJlZENsYXNzPW5ldyBSZWdpc3RlcmVkQ2xhc3MobmFtZSxjb25zdHJ1Y3RvcixpbnN0YW5jZVByb3RvdHlwZSxyYXdEZXN0cnVjdG9yLGJhc2VDbGFzcyxnZXRBY3R1YWxUeXBlLHVwY2FzdCxkb3duY2FzdCk7dmFyIHJlZmVyZW5jZUNvbnZlcnRlcj1uZXcgUmVnaXN0ZXJlZFBvaW50ZXIobmFtZSxyZWdpc3RlcmVkQ2xhc3MsdHJ1ZSxmYWxzZSxmYWxzZSk7dmFyIHBvaW50ZXJDb252ZXJ0ZXI9bmV3IFJlZ2lzdGVyZWRQb2ludGVyKG5hbWUrIioiLHJlZ2lzdGVyZWRDbGFzcyxmYWxzZSxmYWxzZSxmYWxzZSk7dmFyIGNvbnN0UG9pbnRlckNvbnZlcnRlcj1uZXcgUmVnaXN0ZXJlZFBvaW50ZXIobmFtZSsiIGNvbnN0KiIscmVnaXN0ZXJlZENsYXNzLGZhbHNlLHRydWUsZmFsc2UpO3JlZ2lzdGVyZWRQb2ludGVyc1tyYXdUeXBlXT17cG9pbnRlclR5cGU6cG9pbnRlckNvbnZlcnRlcixjb25zdFBvaW50ZXJUeXBlOmNvbnN0UG9pbnRlckNvbnZlcnRlcn07cmVwbGFjZVB1YmxpY1N5bWJvbChsZWdhbEZ1bmN0aW9uTmFtZSxjb25zdHJ1Y3Rvcik7cmV0dXJuW3JlZmVyZW5jZUNvbnZlcnRlcixwb2ludGVyQ29udmVydGVyLGNvbnN0UG9pbnRlckNvbnZlcnRlcl19KX1mdW5jdGlvbiBuZXdfKGNvbnN0cnVjdG9yLGFyZ3VtZW50TGlzdCl7aWYoIShjb25zdHJ1Y3RvciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigibmV3XyBjYWxsZWQgd2l0aCBjb25zdHJ1Y3RvciB0eXBlICIrdHlwZW9mIGNvbnN0cnVjdG9yKyIgd2hpY2ggaXMgbm90IGEgZnVuY3Rpb24iKX12YXIgZHVtbXk9Y3JlYXRlTmFtZWRGdW5jdGlvbihjb25zdHJ1Y3Rvci5uYW1lfHwidW5rbm93bkZ1bmN0aW9uTmFtZSIsZnVuY3Rpb24oKXt9KTtkdW1teS5wcm90b3R5cGU9Y29uc3RydWN0b3IucHJvdG90eXBlO3ZhciBvYmo9bmV3IGR1bW15O3ZhciByPWNvbnN0cnVjdG9yLmFwcGx5KG9iaixhcmd1bWVudExpc3QpO3JldHVybiByIGluc3RhbmNlb2YgT2JqZWN0P3I6b2JqfWZ1bmN0aW9uIHJ1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKXt3aGlsZShkZXN0cnVjdG9ycy5sZW5ndGgpe3ZhciBwdHI9ZGVzdHJ1Y3RvcnMucG9wKCk7dmFyIGRlbD1kZXN0cnVjdG9ycy5wb3AoKTtkZWwocHRyKX19ZnVuY3Rpb24gY3JhZnRJbnZva2VyRnVuY3Rpb24oaHVtYW5OYW1lLGFyZ1R5cGVzLGNsYXNzVHlwZSxjcHBJbnZva2VyRnVuYyxjcHBUYXJnZXRGdW5jKXt2YXIgYXJnQ291bnQ9YXJnVHlwZXMubGVuZ3RoO2lmKGFyZ0NvdW50PDIpe3Rocm93QmluZGluZ0Vycm9yKCJhcmdUeXBlcyBhcnJheSBzaXplIG1pc21hdGNoISBNdXN0IGF0IGxlYXN0IGdldCByZXR1cm4gdmFsdWUgYW5kICd0aGlzJyB0eXBlcyEiKX12YXIgaXNDbGFzc01ldGhvZEZ1bmM9YXJnVHlwZXNbMV0hPT1udWxsJiZjbGFzc1R5cGUhPT1udWxsO3ZhciBuZWVkc0Rlc3RydWN0b3JTdGFjaz1mYWxzZTtmb3IodmFyIGk9MTtpPGFyZ1R5cGVzLmxlbmd0aDsrK2kpe2lmKGFyZ1R5cGVzW2ldIT09bnVsbCYmYXJnVHlwZXNbaV0uZGVzdHJ1Y3RvckZ1bmN0aW9uPT09dW5kZWZpbmVkKXtuZWVkc0Rlc3RydWN0b3JTdGFjaz10cnVlO2JyZWFrfX12YXIgcmV0dXJucz1hcmdUeXBlc1swXS5uYW1lIT09InZvaWQiO3ZhciBhcmdzTGlzdD0iIjt2YXIgYXJnc0xpc3RXaXJlZD0iIjtmb3IodmFyIGk9MDtpPGFyZ0NvdW50LTI7KytpKXthcmdzTGlzdCs9KGkhPT0wPyIsICI6IiIpKyJhcmciK2k7YXJnc0xpc3RXaXJlZCs9KGkhPT0wPyIsICI6IiIpKyJhcmciK2krIldpcmVkIn12YXIgaW52b2tlckZuQm9keT0icmV0dXJuIGZ1bmN0aW9uICIrbWFrZUxlZ2FsRnVuY3Rpb25OYW1lKGh1bWFuTmFtZSkrIigiK2FyZ3NMaXN0KyIpIHtcbiIrImlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAiKyhhcmdDb3VudC0yKSsiKSB7XG4iKyJ0aHJvd0JpbmRpbmdFcnJvcignZnVuY3Rpb24gIitodW1hbk5hbWUrIiBjYWxsZWQgd2l0aCAnICsgYXJndW1lbnRzLmxlbmd0aCArICcgYXJndW1lbnRzLCBleHBlY3RlZCAiKyhhcmdDb3VudC0yKSsiIGFyZ3MhJyk7XG4iKyJ9XG4iO2lmKG5lZWRzRGVzdHJ1Y3RvclN0YWNrKXtpbnZva2VyRm5Cb2R5Kz0idmFyIGRlc3RydWN0b3JzID0gW107XG4ifXZhciBkdG9yU3RhY2s9bmVlZHNEZXN0cnVjdG9yU3RhY2s/ImRlc3RydWN0b3JzIjoibnVsbCI7dmFyIGFyZ3MxPVsidGhyb3dCaW5kaW5nRXJyb3IiLCJpbnZva2VyIiwiZm4iLCJydW5EZXN0cnVjdG9ycyIsInJldFR5cGUiLCJjbGFzc1BhcmFtIl07dmFyIGFyZ3MyPVt0aHJvd0JpbmRpbmdFcnJvcixjcHBJbnZva2VyRnVuYyxjcHBUYXJnZXRGdW5jLHJ1bkRlc3RydWN0b3JzLGFyZ1R5cGVzWzBdLGFyZ1R5cGVzWzFdXTtpZihpc0NsYXNzTWV0aG9kRnVuYyl7aW52b2tlckZuQm9keSs9InZhciB0aGlzV2lyZWQgPSBjbGFzc1BhcmFtLnRvV2lyZVR5cGUoIitkdG9yU3RhY2srIiwgdGhpcyk7XG4ifWZvcih2YXIgaT0wO2k8YXJnQ291bnQtMjsrK2kpe2ludm9rZXJGbkJvZHkrPSJ2YXIgYXJnIitpKyJXaXJlZCA9IGFyZ1R5cGUiK2krIi50b1dpcmVUeXBlKCIrZHRvclN0YWNrKyIsIGFyZyIraSsiKTsgLy8gIithcmdUeXBlc1tpKzJdLm5hbWUrIlxuIjthcmdzMS5wdXNoKCJhcmdUeXBlIitpKTthcmdzMi5wdXNoKGFyZ1R5cGVzW2krMl0pfWlmKGlzQ2xhc3NNZXRob2RGdW5jKXthcmdzTGlzdFdpcmVkPSJ0aGlzV2lyZWQiKyhhcmdzTGlzdFdpcmVkLmxlbmd0aD4wPyIsICI6IiIpK2FyZ3NMaXN0V2lyZWR9aW52b2tlckZuQm9keSs9KHJldHVybnM/InZhciBydiA9ICI6IiIpKyJpbnZva2VyKGZuIisoYXJnc0xpc3RXaXJlZC5sZW5ndGg+MD8iLCAiOiIiKSthcmdzTGlzdFdpcmVkKyIpO1xuIjtpZihuZWVkc0Rlc3RydWN0b3JTdGFjayl7aW52b2tlckZuQm9keSs9InJ1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKTtcbiJ9ZWxzZXtmb3IodmFyIGk9aXNDbGFzc01ldGhvZEZ1bmM/MToyO2k8YXJnVHlwZXMubGVuZ3RoOysraSl7dmFyIHBhcmFtTmFtZT1pPT09MT8idGhpc1dpcmVkIjoiYXJnIisoaS0yKSsiV2lyZWQiO2lmKGFyZ1R5cGVzW2ldLmRlc3RydWN0b3JGdW5jdGlvbiE9PW51bGwpe2ludm9rZXJGbkJvZHkrPXBhcmFtTmFtZSsiX2R0b3IoIitwYXJhbU5hbWUrIik7IC8vICIrYXJnVHlwZXNbaV0ubmFtZSsiXG4iO2FyZ3MxLnB1c2gocGFyYW1OYW1lKyJfZHRvciIpO2FyZ3MyLnB1c2goYXJnVHlwZXNbaV0uZGVzdHJ1Y3RvckZ1bmN0aW9uKX19fWlmKHJldHVybnMpe2ludm9rZXJGbkJvZHkrPSJ2YXIgcmV0ID0gcmV0VHlwZS5mcm9tV2lyZVR5cGUocnYpO1xuIisicmV0dXJuIHJldDtcbiJ9ZWxzZXt9aW52b2tlckZuQm9keSs9In1cbiI7YXJnczEucHVzaChpbnZva2VyRm5Cb2R5KTt2YXIgaW52b2tlckZ1bmN0aW9uPW5ld18oRnVuY3Rpb24sYXJnczEpLmFwcGx5KG51bGwsYXJnczIpO3JldHVybiBpbnZva2VyRnVuY3Rpb259ZnVuY3Rpb24gaGVhcDMyVmVjdG9yVG9BcnJheShjb3VudCxmaXJzdEVsZW1lbnQpe3ZhciBhcnJheT1bXTtmb3IodmFyIGk9MDtpPGNvdW50O2krKyl7YXJyYXkucHVzaChIRUFQMzJbKGZpcnN0RWxlbWVudD4+MikraV0pfXJldHVybiBhcnJheX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19jbGFzc19mdW5jdGlvbihyYXdDbGFzc1R5cGUsbWV0aG9kTmFtZSxhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIsaW52b2tlclNpZ25hdHVyZSxyYXdJbnZva2VyLGZuKXt2YXIgcmF3QXJnVHlwZXM9aGVhcDMyVmVjdG9yVG9BcnJheShhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIpO21ldGhvZE5hbWU9cmVhZExhdGluMVN0cmluZyhtZXRob2ROYW1lKTtyYXdJbnZva2VyPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKGludm9rZXJTaWduYXR1cmUscmF3SW52b2tlcik7d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10sW3Jhd0NsYXNzVHlwZV0sZnVuY3Rpb24oY2xhc3NUeXBlKXtjbGFzc1R5cGU9Y2xhc3NUeXBlWzBdO3ZhciBodW1hbk5hbWU9Y2xhc3NUeXBlLm5hbWUrIi4iK21ldGhvZE5hbWU7ZnVuY3Rpb24gdW5ib3VuZFR5cGVzSGFuZGxlcigpe3Rocm93VW5ib3VuZFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgIitodW1hbk5hbWUrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIscmF3QXJnVHlwZXMpfXZhciBwcm90bz1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yO2lmKHVuZGVmaW5lZD09PXByb3RvW21ldGhvZE5hbWVdKXt1bmJvdW5kVHlwZXNIYW5kbGVyLmFyZ0NvdW50PWFyZ0NvdW50LTE7cHJvdG9bbWV0aG9kTmFtZV09dW5ib3VuZFR5cGVzSGFuZGxlcn1lbHNle2Vuc3VyZU92ZXJsb2FkVGFibGUocHJvdG8sbWV0aG9kTmFtZSxodW1hbk5hbWUpO3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbYXJnQ291bnQtMV09dW5ib3VuZFR5cGVzSGFuZGxlcn13aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxyYXdBcmdUeXBlcyxmdW5jdGlvbihhcmdUeXBlcyl7dmFyIGludm9rZXJBcmdzQXJyYXk9W2FyZ1R5cGVzWzBdLG51bGxdLmNvbmNhdChhcmdUeXBlcy5zbGljZSgxKSk7dmFyIGZ1bmM9Y3JhZnRJbnZva2VyRnVuY3Rpb24oaHVtYW5OYW1lLGludm9rZXJBcmdzQXJyYXksbnVsbCxyYXdJbnZva2VyLGZuKTtpZih1bmRlZmluZWQ9PT1wcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlKXtmdW5jLmFyZ0NvdW50PWFyZ0NvdW50LTE7cHJvdG9bbWV0aG9kTmFtZV09ZnVuY31lbHNle3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbYXJnQ291bnQtMV09ZnVuY31yZXR1cm5bXX0pO3JldHVybltdfSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfY29uc3RydWN0b3IocmF3Q2xhc3NUeXBlLGFyZ0NvdW50LHJhd0FyZ1R5cGVzQWRkcixpbnZva2VyU2lnbmF0dXJlLGludm9rZXIscmF3Q29uc3RydWN0b3Ipe2Fzc2VydChhcmdDb3VudD4wKTt2YXIgcmF3QXJnVHlwZXM9aGVhcDMyVmVjdG9yVG9BcnJheShhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIpO2ludm9rZXI9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oaW52b2tlclNpZ25hdHVyZSxpbnZva2VyKTt2YXIgYXJncz1bcmF3Q29uc3RydWN0b3JdO3ZhciBkZXN0cnVjdG9ycz1bXTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxbcmF3Q2xhc3NUeXBlXSxmdW5jdGlvbihjbGFzc1R5cGUpe2NsYXNzVHlwZT1jbGFzc1R5cGVbMF07dmFyIGh1bWFuTmFtZT0iY29uc3RydWN0b3IgIitjbGFzc1R5cGUubmFtZTtpZih1bmRlZmluZWQ9PT1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHkpe2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keT1bXX1pZih1bmRlZmluZWQhPT1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbYXJnQ291bnQtMV0pe3Rocm93IG5ldyBCaW5kaW5nRXJyb3IoIkNhbm5vdCByZWdpc3RlciBtdWx0aXBsZSBjb25zdHJ1Y3RvcnMgd2l0aCBpZGVudGljYWwgbnVtYmVyIG9mIHBhcmFtZXRlcnMgKCIrKGFyZ0NvdW50LTEpKyIpIGZvciBjbGFzcyAnIitjbGFzc1R5cGUubmFtZSsiJyEgT3ZlcmxvYWQgcmVzb2x1dGlvbiBpcyBjdXJyZW50bHkgb25seSBwZXJmb3JtZWQgdXNpbmcgdGhlIHBhcmFtZXRlciBjb3VudCwgbm90IGFjdHVhbCB0eXBlIGluZm8hIil9Y2xhc3NUeXBlLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W2FyZ0NvdW50LTFdPWZ1bmN0aW9uIHVuYm91bmRUeXBlSGFuZGxlcigpe3Rocm93VW5ib3VuZFR5cGVFcnJvcigiQ2Fubm90IGNvbnN0cnVjdCAiK2NsYXNzVHlwZS5uYW1lKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLHJhd0FyZ1R5cGVzKX07d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10scmF3QXJnVHlwZXMsZnVuY3Rpb24oYXJnVHlwZXMpe2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keVthcmdDb3VudC0xXT1mdW5jdGlvbiBjb25zdHJ1Y3Rvcl9ib2R5KCl7aWYoYXJndW1lbnRzLmxlbmd0aCE9PWFyZ0NvdW50LTEpe3Rocm93QmluZGluZ0Vycm9yKGh1bWFuTmFtZSsiIGNhbGxlZCB3aXRoICIrYXJndW1lbnRzLmxlbmd0aCsiIGFyZ3VtZW50cywgZXhwZWN0ZWQgIisoYXJnQ291bnQtMSkpfWRlc3RydWN0b3JzLmxlbmd0aD0wO2FyZ3MubGVuZ3RoPWFyZ0NvdW50O2Zvcih2YXIgaT0xO2k8YXJnQ291bnQ7KytpKXthcmdzW2ldPWFyZ1R5cGVzW2ldWyJ0b1dpcmVUeXBlIl0oZGVzdHJ1Y3RvcnMsYXJndW1lbnRzW2ktMV0pfXZhciBwdHI9aW52b2tlci5hcHBseShudWxsLGFyZ3MpO3J1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKTtyZXR1cm4gYXJnVHlwZXNbMF1bImZyb21XaXJlVHlwZSJdKHB0cil9O3JldHVybltdfSk7cmV0dXJuW119KX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19mdW5jdGlvbihyYXdDbGFzc1R5cGUsbWV0aG9kTmFtZSxhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIsaW52b2tlclNpZ25hdHVyZSxyYXdJbnZva2VyLGNvbnRleHQsaXNQdXJlVmlydHVhbCl7dmFyIHJhd0FyZ1R5cGVzPWhlYXAzMlZlY3RvclRvQXJyYXkoYXJnQ291bnQscmF3QXJnVHlwZXNBZGRyKTttZXRob2ROYW1lPXJlYWRMYXRpbjFTdHJpbmcobWV0aG9kTmFtZSk7cmF3SW52b2tlcj1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihpbnZva2VyU2lnbmF0dXJlLHJhd0ludm9rZXIpO3doZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLFtyYXdDbGFzc1R5cGVdLGZ1bmN0aW9uKGNsYXNzVHlwZSl7Y2xhc3NUeXBlPWNsYXNzVHlwZVswXTt2YXIgaHVtYW5OYW1lPWNsYXNzVHlwZS5uYW1lKyIuIittZXRob2ROYW1lO2lmKGlzUHVyZVZpcnR1YWwpe2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MucHVyZVZpcnR1YWxGdW5jdGlvbnMucHVzaChtZXRob2ROYW1lKX1mdW5jdGlvbiB1bmJvdW5kVHlwZXNIYW5kbGVyKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKCJDYW5ub3QgY2FsbCAiK2h1bWFuTmFtZSsiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixyYXdBcmdUeXBlcyl9dmFyIHByb3RvPWNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGU7dmFyIG1ldGhvZD1wcm90b1ttZXRob2ROYW1lXTtpZih1bmRlZmluZWQ9PT1tZXRob2R8fHVuZGVmaW5lZD09PW1ldGhvZC5vdmVybG9hZFRhYmxlJiZtZXRob2QuY2xhc3NOYW1lIT09Y2xhc3NUeXBlLm5hbWUmJm1ldGhvZC5hcmdDb3VudD09PWFyZ0NvdW50LTIpe3VuYm91bmRUeXBlc0hhbmRsZXIuYXJnQ291bnQ9YXJnQ291bnQtMjt1bmJvdW5kVHlwZXNIYW5kbGVyLmNsYXNzTmFtZT1jbGFzc1R5cGUubmFtZTtwcm90b1ttZXRob2ROYW1lXT11bmJvdW5kVHlwZXNIYW5kbGVyfWVsc2V7ZW5zdXJlT3ZlcmxvYWRUYWJsZShwcm90byxtZXRob2ROYW1lLGh1bWFuTmFtZSk7cHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZVthcmdDb3VudC0yXT11bmJvdW5kVHlwZXNIYW5kbGVyfXdoZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLHJhd0FyZ1R5cGVzLGZ1bmN0aW9uKGFyZ1R5cGVzKXt2YXIgbWVtYmVyRnVuY3Rpb249Y3JhZnRJbnZva2VyRnVuY3Rpb24oaHVtYW5OYW1lLGFyZ1R5cGVzLGNsYXNzVHlwZSxyYXdJbnZva2VyLGNvbnRleHQpO2lmKHVuZGVmaW5lZD09PXByb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGUpe21lbWJlckZ1bmN0aW9uLmFyZ0NvdW50PWFyZ0NvdW50LTI7cHJvdG9bbWV0aG9kTmFtZV09bWVtYmVyRnVuY3Rpb259ZWxzZXtwcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlW2FyZ0NvdW50LTJdPW1lbWJlckZ1bmN0aW9ufXJldHVybltdfSk7cmV0dXJuW119KX1mdW5jdGlvbiB2YWxpZGF0ZVRoaXModGhpc18sY2xhc3NUeXBlLGh1bWFuTmFtZSl7aWYoISh0aGlzXyBpbnN0YW5jZW9mIE9iamVjdCkpe3Rocm93QmluZGluZ0Vycm9yKGh1bWFuTmFtZSsnIHdpdGggaW52YWxpZCAidGhpcyI6ICcrdGhpc18pfWlmKCEodGhpc18gaW5zdGFuY2VvZiBjbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yKSl7dGhyb3dCaW5kaW5nRXJyb3IoaHVtYW5OYW1lKycgaW5jb21wYXRpYmxlIHdpdGggInRoaXMiIG9mIHR5cGUgJyt0aGlzXy5jb25zdHJ1Y3Rvci5uYW1lKX1pZighdGhpc18uJCQucHRyKXt0aHJvd0JpbmRpbmdFcnJvcigiY2Fubm90IGNhbGwgZW1zY3JpcHRlbiBiaW5kaW5nIG1ldGhvZCAiK2h1bWFuTmFtZSsiIG9uIGRlbGV0ZWQgb2JqZWN0Iil9cmV0dXJuIHVwY2FzdFBvaW50ZXIodGhpc18uJCQucHRyLHRoaXNfLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLGNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MpfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX3Byb3BlcnR5KGNsYXNzVHlwZSxmaWVsZE5hbWUsZ2V0dGVyUmV0dXJuVHlwZSxnZXR0ZXJTaWduYXR1cmUsZ2V0dGVyLGdldHRlckNvbnRleHQsc2V0dGVyQXJndW1lbnRUeXBlLHNldHRlclNpZ25hdHVyZSxzZXR0ZXIsc2V0dGVyQ29udGV4dCl7ZmllbGROYW1lPXJlYWRMYXRpbjFTdHJpbmcoZmllbGROYW1lKTtnZXR0ZXI9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oZ2V0dGVyU2lnbmF0dXJlLGdldHRlcik7d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10sW2NsYXNzVHlwZV0sZnVuY3Rpb24oY2xhc3NUeXBlKXtjbGFzc1R5cGU9Y2xhc3NUeXBlWzBdO3ZhciBodW1hbk5hbWU9Y2xhc3NUeXBlLm5hbWUrIi4iK2ZpZWxkTmFtZTt2YXIgZGVzYz17Z2V0OmZ1bmN0aW9uKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKCJDYW5ub3QgYWNjZXNzICIraHVtYW5OYW1lKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLFtnZXR0ZXJSZXR1cm5UeXBlLHNldHRlckFyZ3VtZW50VHlwZV0pfSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9O2lmKHNldHRlcil7ZGVzYy5zZXQ9ZnVuY3Rpb24oKXt0aHJvd1VuYm91bmRUeXBlRXJyb3IoIkNhbm5vdCBhY2Nlc3MgIitodW1hbk5hbWUrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsW2dldHRlclJldHVyblR5cGUsc2V0dGVyQXJndW1lbnRUeXBlXSl9fWVsc2V7ZGVzYy5zZXQ9ZnVuY3Rpb24odil7dGhyb3dCaW5kaW5nRXJyb3IoaHVtYW5OYW1lKyIgaXMgYSByZWFkLW9ubHkgcHJvcGVydHkiKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUsZmllbGROYW1lLGRlc2MpO3doZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLHNldHRlcj9bZ2V0dGVyUmV0dXJuVHlwZSxzZXR0ZXJBcmd1bWVudFR5cGVdOltnZXR0ZXJSZXR1cm5UeXBlXSxmdW5jdGlvbih0eXBlcyl7dmFyIGdldHRlclJldHVyblR5cGU9dHlwZXNbMF07dmFyIGRlc2M9e2dldDpmdW5jdGlvbigpe3ZhciBwdHI9dmFsaWRhdGVUaGlzKHRoaXMsY2xhc3NUeXBlLGh1bWFuTmFtZSsiIGdldHRlciIpO3JldHVybiBnZXR0ZXJSZXR1cm5UeXBlWyJmcm9tV2lyZVR5cGUiXShnZXR0ZXIoZ2V0dGVyQ29udGV4dCxwdHIpKX0sZW51bWVyYWJsZTp0cnVlfTtpZihzZXR0ZXIpe3NldHRlcj1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihzZXR0ZXJTaWduYXR1cmUsc2V0dGVyKTt2YXIgc2V0dGVyQXJndW1lbnRUeXBlPXR5cGVzWzFdO2Rlc2Muc2V0PWZ1bmN0aW9uKHYpe3ZhciBwdHI9dmFsaWRhdGVUaGlzKHRoaXMsY2xhc3NUeXBlLGh1bWFuTmFtZSsiIHNldHRlciIpO3ZhciBkZXN0cnVjdG9ycz1bXTtzZXR0ZXIoc2V0dGVyQ29udGV4dCxwdHIsc2V0dGVyQXJndW1lbnRUeXBlWyJ0b1dpcmVUeXBlIl0oZGVzdHJ1Y3RvcnMsdikpO3J1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUsZmllbGROYW1lLGRlc2MpO3JldHVybltdfSk7cmV0dXJuW119KX12YXIgZW12YWxfZnJlZV9saXN0PVtdO3ZhciBlbXZhbF9oYW5kbGVfYXJyYXk9W3t9LHt2YWx1ZTp1bmRlZmluZWR9LHt2YWx1ZTpudWxsfSx7dmFsdWU6dHJ1ZX0se3ZhbHVlOmZhbHNlfV07ZnVuY3Rpb24gX19lbXZhbF9kZWNyZWYoaGFuZGxlKXtpZihoYW5kbGU+NCYmMD09PS0tZW12YWxfaGFuZGxlX2FycmF5W2hhbmRsZV0ucmVmY291bnQpe2VtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdPXVuZGVmaW5lZDtlbXZhbF9mcmVlX2xpc3QucHVzaChoYW5kbGUpfX1mdW5jdGlvbiBjb3VudF9lbXZhbF9oYW5kbGVzKCl7dmFyIGNvdW50PTA7Zm9yKHZhciBpPTU7aTxlbXZhbF9oYW5kbGVfYXJyYXkubGVuZ3RoOysraSl7aWYoZW12YWxfaGFuZGxlX2FycmF5W2ldIT09dW5kZWZpbmVkKXsrK2NvdW50fX1yZXR1cm4gY291bnR9ZnVuY3Rpb24gZ2V0X2ZpcnN0X2VtdmFsKCl7Zm9yKHZhciBpPTU7aTxlbXZhbF9oYW5kbGVfYXJyYXkubGVuZ3RoOysraSl7aWYoZW12YWxfaGFuZGxlX2FycmF5W2ldIT09dW5kZWZpbmVkKXtyZXR1cm4gZW12YWxfaGFuZGxlX2FycmF5W2ldfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpbml0X2VtdmFsKCl7TW9kdWxlWyJjb3VudF9lbXZhbF9oYW5kbGVzIl09Y291bnRfZW12YWxfaGFuZGxlcztNb2R1bGVbImdldF9maXJzdF9lbXZhbCJdPWdldF9maXJzdF9lbXZhbH1mdW5jdGlvbiBfX2VtdmFsX3JlZ2lzdGVyKHZhbHVlKXtzd2l0Y2godmFsdWUpe2Nhc2UgdW5kZWZpbmVkOntyZXR1cm4gMX1jYXNlIG51bGw6e3JldHVybiAyfWNhc2UgdHJ1ZTp7cmV0dXJuIDN9Y2FzZSBmYWxzZTp7cmV0dXJuIDR9ZGVmYXVsdDp7dmFyIGhhbmRsZT1lbXZhbF9mcmVlX2xpc3QubGVuZ3RoP2VtdmFsX2ZyZWVfbGlzdC5wb3AoKTplbXZhbF9oYW5kbGVfYXJyYXkubGVuZ3RoO2VtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdPXtyZWZjb3VudDoxLHZhbHVlOnZhbHVlfTtyZXR1cm4gaGFuZGxlfX19ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZW12YWwocmF3VHlwZSxuYW1lKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbihoYW5kbGUpe3ZhciBydj1lbXZhbF9oYW5kbGVfYXJyYXlbaGFuZGxlXS52YWx1ZTtfX2VtdmFsX2RlY3JlZihoYW5kbGUpO3JldHVybiBydn0sInRvV2lyZVR5cGUiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLHZhbHVlKXtyZXR1cm4gX19lbXZhbF9yZWdpc3Rlcih2YWx1ZSl9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9ZnVuY3Rpb24gZW51bVJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQsc2lnbmVkKXtzd2l0Y2goc2hpZnQpe2Nhc2UgMDpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7dmFyIGhlYXA9c2lnbmVkP0hFQVA4OkhFQVBVODtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oaGVhcFtwb2ludGVyXSl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7dmFyIGhlYXA9c2lnbmVkP0hFQVAxNjpIRUFQVTE2O3JldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShoZWFwW3BvaW50ZXI+PjFdKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihwb2ludGVyKXt2YXIgaGVhcD1zaWduZWQ/SEVBUDMyOkhFQVBVMzI7cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKGhlYXBbcG9pbnRlcj4+Ml0pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gaW50ZWdlciB0eXBlOiAiK25hbWUpfX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9lbnVtKHJhd1R5cGUsbmFtZSxzaXplLGlzU2lnbmVkKXt2YXIgc2hpZnQ9Z2V0U2hpZnRGcm9tU2l6ZShzaXplKTtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7ZnVuY3Rpb24gY3Rvcigpe31jdG9yLnZhbHVlcz17fTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLGNvbnN0cnVjdG9yOmN0b3IsImZyb21XaXJlVHlwZSI6ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudmFsdWVzW2NdfSwidG9XaXJlVHlwZSI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsYyl7cmV0dXJuIGMudmFsdWV9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmVudW1SZWFkVmFsdWVGcm9tUG9pbnRlcihuYW1lLHNoaWZ0LGlzU2lnbmVkKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pO2V4cG9zZVB1YmxpY1N5bWJvbChuYW1lLGN0b3IpfWZ1bmN0aW9uIHJlcXVpcmVSZWdpc3RlcmVkVHlwZShyYXdUeXBlLGh1bWFuTmFtZSl7dmFyIGltcGw9cmVnaXN0ZXJlZFR5cGVzW3Jhd1R5cGVdO2lmKHVuZGVmaW5lZD09PWltcGwpe3Rocm93QmluZGluZ0Vycm9yKGh1bWFuTmFtZSsiIGhhcyB1bmtub3duIHR5cGUgIitnZXRUeXBlTmFtZShyYXdUeXBlKSl9cmV0dXJuIGltcGx9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZW51bV92YWx1ZShyYXdFbnVtVHlwZSxuYW1lLGVudW1WYWx1ZSl7dmFyIGVudW1UeXBlPXJlcXVpcmVSZWdpc3RlcmVkVHlwZShyYXdFbnVtVHlwZSwiZW51bSIpO25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTt2YXIgRW51bT1lbnVtVHlwZS5jb25zdHJ1Y3Rvcjt2YXIgVmFsdWU9T2JqZWN0LmNyZWF0ZShlbnVtVHlwZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUse3ZhbHVlOnt2YWx1ZTplbnVtVmFsdWV9LGNvbnN0cnVjdG9yOnt2YWx1ZTpjcmVhdGVOYW1lZEZ1bmN0aW9uKGVudW1UeXBlLm5hbWUrIl8iK25hbWUsZnVuY3Rpb24oKXt9KX19KTtFbnVtLnZhbHVlc1tlbnVtVmFsdWVdPVZhbHVlO0VudW1bbmFtZV09VmFsdWV9ZnVuY3Rpb24gX2VtYmluZF9yZXByKHYpe2lmKHY9PT1udWxsKXtyZXR1cm4ibnVsbCJ9dmFyIHQ9dHlwZW9mIHY7aWYodD09PSJvYmplY3QifHx0PT09ImFycmF5Inx8dD09PSJmdW5jdGlvbiIpe3JldHVybiB2LnRvU3RyaW5nKCl9ZWxzZXtyZXR1cm4iIit2fX1mdW5jdGlvbiBmbG9hdFJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQpe3N3aXRjaChzaGlmdCl7Y2FzZSAyOnJldHVybiBmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUEYzMltwb2ludGVyPj4yXSl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKEhFQVBGNjRbcG9pbnRlcj4+M10pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZmxvYXQgdHlwZTogIituYW1lKX19ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZmxvYXQocmF3VHlwZSxuYW1lLHNpemUpe3ZhciBzaGlmdD1nZXRTaGlmdEZyb21TaXplKHNpemUpO25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWV9LCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7aWYodHlwZW9mIHZhbHVlIT09Im51bWJlciImJnR5cGVvZiB2YWx1ZSE9PSJib29sZWFuIil7dGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgIicrX2VtYmluZF9yZXByKHZhbHVlKSsnIiB0byAnK3RoaXMubmFtZSl9cmV0dXJuIHZhbHVlfSwiYXJnUGFja0FkdmFuY2UiOjgsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpmbG9hdFJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQpLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZnVuY3Rpb24obmFtZSxhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIsc2lnbmF0dXJlLHJhd0ludm9rZXIsZm4pe3ZhciBhcmdUeXBlcz1oZWFwMzJWZWN0b3JUb0FycmF5KGFyZ0NvdW50LHJhd0FyZ1R5cGVzQWRkcik7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3Jhd0ludm9rZXI9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oc2lnbmF0dXJlLHJhd0ludm9rZXIpO2V4cG9zZVB1YmxpY1N5bWJvbChuYW1lLGZ1bmN0aW9uKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKCJDYW5ub3QgY2FsbCAiK25hbWUrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsYXJnVHlwZXMpfSxhcmdDb3VudC0xKTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxhcmdUeXBlcyxmdW5jdGlvbihhcmdUeXBlcyl7dmFyIGludm9rZXJBcmdzQXJyYXk9W2FyZ1R5cGVzWzBdLG51bGxdLmNvbmNhdChhcmdUeXBlcy5zbGljZSgxKSk7cmVwbGFjZVB1YmxpY1N5bWJvbChuYW1lLGNyYWZ0SW52b2tlckZ1bmN0aW9uKG5hbWUsaW52b2tlckFyZ3NBcnJheSxudWxsLHJhd0ludm9rZXIsZm4pLGFyZ0NvdW50LTEpO3JldHVybltdfSl9ZnVuY3Rpb24gaW50ZWdlclJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQsc2lnbmVkKXtzd2l0Y2goc2hpZnQpe2Nhc2UgMDpyZXR1cm4gc2lnbmVkP2Z1bmN0aW9uIHJlYWRTOEZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQOFtwb2ludGVyXX06ZnVuY3Rpb24gcmVhZFU4RnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIEhFQVBVOFtwb2ludGVyXX07Y2FzZSAxOnJldHVybiBzaWduZWQ/ZnVuY3Rpb24gcmVhZFMxNkZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQMTZbcG9pbnRlcj4+MV19OmZ1bmN0aW9uIHJlYWRVMTZGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gSEVBUFUxNltwb2ludGVyPj4xXX07Y2FzZSAyOnJldHVybiBzaWduZWQ/ZnVuY3Rpb24gcmVhZFMzMkZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQMzJbcG9pbnRlcj4+Ml19OmZ1bmN0aW9uIHJlYWRVMzJGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gSEVBUFUzMltwb2ludGVyPj4yXX07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGludGVnZXIgdHlwZTogIituYW1lKX19ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfaW50ZWdlcihwcmltaXRpdmVUeXBlLG5hbWUsc2l6ZSxtaW5SYW5nZSxtYXhSYW5nZSl7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO2lmKG1heFJhbmdlPT09LTEpe21heFJhbmdlPTQyOTQ5NjcyOTV9dmFyIHNoaWZ0PWdldFNoaWZ0RnJvbVNpemUoc2l6ZSk7dmFyIGZyb21XaXJlVHlwZT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlfTtpZihtaW5SYW5nZT09PTApe3ZhciBiaXRzaGlmdD0zMi04KnNpemU7ZnJvbVdpcmVUeXBlPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU8PGJpdHNoaWZ0Pj4+Yml0c2hpZnR9fXZhciBpc1Vuc2lnbmVkVHlwZT1uYW1lLmluZGV4T2YoInVuc2lnbmVkIikhPS0xO3JlZ2lzdGVyVHlwZShwcmltaXRpdmVUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZnJvbVdpcmVUeXBlLCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7aWYodHlwZW9mIHZhbHVlIT09Im51bWJlciImJnR5cGVvZiB2YWx1ZSE9PSJib29sZWFuIil7dGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgIicrX2VtYmluZF9yZXByKHZhbHVlKSsnIiB0byAnK3RoaXMubmFtZSl9aWYodmFsdWU8bWluUmFuZ2V8fHZhbHVlPm1heFJhbmdlKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXNzaW5nIGEgbnVtYmVyICInK19lbWJpbmRfcmVwcih2YWx1ZSkrJyIgZnJvbSBKUyBzaWRlIHRvIEMvQysrIHNpZGUgdG8gYW4gYXJndW1lbnQgb2YgdHlwZSAiJytuYW1lKyciLCB3aGljaCBpcyBvdXRzaWRlIHRoZSB2YWxpZCByYW5nZSBbJyttaW5SYW5nZSsiLCAiK21heFJhbmdlKyJdISIpfXJldHVybiBpc1Vuc2lnbmVkVHlwZT92YWx1ZT4+PjA6dmFsdWV8MH0sImFyZ1BhY2tBZHZhbmNlIjo4LCJyZWFkVmFsdWVGcm9tUG9pbnRlciI6aW50ZWdlclJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQsbWluUmFuZ2UhPT0wKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX21lbW9yeV92aWV3KHJhd1R5cGUsZGF0YVR5cGVJbmRleCxuYW1lKXt2YXIgdHlwZU1hcHBpbmc9W0ludDhBcnJheSxVaW50OEFycmF5LEludDE2QXJyYXksVWludDE2QXJyYXksSW50MzJBcnJheSxVaW50MzJBcnJheSxGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5XTt2YXIgVEE9dHlwZU1hcHBpbmdbZGF0YVR5cGVJbmRleF07ZnVuY3Rpb24gZGVjb2RlTWVtb3J5VmlldyhoYW5kbGUpe2hhbmRsZT1oYW5kbGU+PjI7dmFyIGhlYXA9SEVBUFUzMjt2YXIgc2l6ZT1oZWFwW2hhbmRsZV07dmFyIGRhdGE9aGVhcFtoYW5kbGUrMV07cmV0dXJuIG5ldyBUQShidWZmZXIsZGF0YSxzaXplKX1uYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpkZWNvZGVNZW1vcnlWaWV3LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmRlY29kZU1lbW9yeVZpZXd9LHtpZ25vcmVEdXBsaWNhdGVSZWdpc3RyYXRpb25zOnRydWV9KX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9zdGRfc3RyaW5nKHJhd1R5cGUsbmFtZSl7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3ZhciBzdGRTdHJpbmdJc1VURjg9bmFtZT09PSJzdGQ6OnN0cmluZyI7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbih2YWx1ZSl7dmFyIGxlbmd0aD1IRUFQVTMyW3ZhbHVlPj4yXTt2YXIgc3RyO2lmKHN0ZFN0cmluZ0lzVVRGOCl7dmFyIGRlY29kZVN0YXJ0UHRyPXZhbHVlKzQ7Zm9yKHZhciBpPTA7aTw9bGVuZ3RoOysraSl7dmFyIGN1cnJlbnRCeXRlUHRyPXZhbHVlKzQraTtpZihpPT1sZW5ndGh8fEhFQVBVOFtjdXJyZW50Qnl0ZVB0cl09PTApe3ZhciBtYXhSZWFkPWN1cnJlbnRCeXRlUHRyLWRlY29kZVN0YXJ0UHRyO3ZhciBzdHJpbmdTZWdtZW50PVVURjhUb1N0cmluZyhkZWNvZGVTdGFydFB0cixtYXhSZWFkKTtpZihzdHI9PT11bmRlZmluZWQpe3N0cj1zdHJpbmdTZWdtZW50fWVsc2V7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudH1kZWNvZGVTdGFydFB0cj1jdXJyZW50Qnl0ZVB0cisxfX19ZWxzZXt2YXIgYT1uZXcgQXJyYXkobGVuZ3RoKTtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe2FbaV09U3RyaW5nLmZyb21DaGFyQ29kZShIRUFQVThbdmFsdWUrNCtpXSl9c3RyPWEuam9pbigiIil9X2ZyZWUodmFsdWUpO3JldHVybiBzdHJ9LCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7aWYodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFsdWU9bmV3IFVpbnQ4QXJyYXkodmFsdWUpfXZhciBnZXRMZW5ndGg7dmFyIHZhbHVlSXNPZlR5cGVTdHJpbmc9dHlwZW9mIHZhbHVlPT09InN0cmluZyI7aWYoISh2YWx1ZUlzT2ZUeXBlU3RyaW5nfHx2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgSW50OEFycmF5KSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gc3RkOjpzdHJpbmciKX1pZihzdGRTdHJpbmdJc1VURjgmJnZhbHVlSXNPZlR5cGVTdHJpbmcpe2dldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiBsZW5ndGhCeXRlc1VURjgodmFsdWUpfX1lbHNle2dldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB2YWx1ZS5sZW5ndGh9fXZhciBsZW5ndGg9Z2V0TGVuZ3RoKCk7dmFyIHB0cj1fbWFsbG9jKDQrbGVuZ3RoKzEpO0hFQVBVMzJbcHRyPj4yXT1sZW5ndGg7aWYoc3RkU3RyaW5nSXNVVEY4JiZ2YWx1ZUlzT2ZUeXBlU3RyaW5nKXtzdHJpbmdUb1VURjgodmFsdWUscHRyKzQsbGVuZ3RoKzEpfWVsc2V7aWYodmFsdWVJc09mVHlwZVN0cmluZyl7Zm9yKHZhciBpPTA7aTxsZW5ndGg7KytpKXt2YXIgY2hhckNvZGU9dmFsdWUuY2hhckNvZGVBdChpKTtpZihjaGFyQ29kZT4yNTUpe19mcmVlKHB0cik7dGhyb3dCaW5kaW5nRXJyb3IoIlN0cmluZyBoYXMgVVRGLTE2IGNvZGUgdW5pdHMgdGhhdCBkbyBub3QgZml0IGluIDggYml0cyIpfUhFQVBVOFtwdHIrNCtpXT1jaGFyQ29kZX19ZWxzZXtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe0hFQVBVOFtwdHIrNCtpXT12YWx1ZVtpXX19fWlmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxwdHIpfXJldHVybiBwdHJ9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpmdW5jdGlvbihwdHIpe19mcmVlKHB0cil9fSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfc3RkX3dzdHJpbmcocmF3VHlwZSxjaGFyU2l6ZSxuYW1lKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIGRlY29kZVN0cmluZyxlbmNvZGVTdHJpbmcsZ2V0SGVhcCxsZW5ndGhCeXRlc1VURixzaGlmdDtpZihjaGFyU2l6ZT09PTIpe2RlY29kZVN0cmluZz1VVEYxNlRvU3RyaW5nO2VuY29kZVN0cmluZz1zdHJpbmdUb1VURjE2O2xlbmd0aEJ5dGVzVVRGPWxlbmd0aEJ5dGVzVVRGMTY7Z2V0SGVhcD1mdW5jdGlvbigpe3JldHVybiBIRUFQVTE2fTtzaGlmdD0xfWVsc2UgaWYoY2hhclNpemU9PT00KXtkZWNvZGVTdHJpbmc9VVRGMzJUb1N0cmluZztlbmNvZGVTdHJpbmc9c3RyaW5nVG9VVEYzMjtsZW5ndGhCeXRlc1VURj1sZW5ndGhCeXRlc1VURjMyO2dldEhlYXA9ZnVuY3Rpb24oKXtyZXR1cm4gSEVBUFUzMn07c2hpZnQ9Mn1yZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiOmZ1bmN0aW9uKHZhbHVlKXt2YXIgbGVuZ3RoPUhFQVBVMzJbdmFsdWU+PjJdO3ZhciBIRUFQPWdldEhlYXAoKTt2YXIgc3RyO3ZhciBkZWNvZGVTdGFydFB0cj12YWx1ZSs0O2Zvcih2YXIgaT0wO2k8PWxlbmd0aDsrK2kpe3ZhciBjdXJyZW50Qnl0ZVB0cj12YWx1ZSs0K2kqY2hhclNpemU7aWYoaT09bGVuZ3RofHxIRUFQW2N1cnJlbnRCeXRlUHRyPj5zaGlmdF09PTApe3ZhciBtYXhSZWFkQnl0ZXM9Y3VycmVudEJ5dGVQdHItZGVjb2RlU3RhcnRQdHI7dmFyIHN0cmluZ1NlZ21lbnQ9ZGVjb2RlU3RyaW5nKGRlY29kZVN0YXJ0UHRyLG1heFJlYWRCeXRlcyk7aWYoc3RyPT09dW5kZWZpbmVkKXtzdHI9c3RyaW5nU2VnbWVudH1lbHNle3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSgwKTtzdHIrPXN0cmluZ1NlZ21lbnR9ZGVjb2RlU3RhcnRQdHI9Y3VycmVudEJ5dGVQdHIrY2hhclNpemV9fV9mcmVlKHZhbHVlKTtyZXR1cm4gc3RyfSwidG9XaXJlVHlwZSI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe2lmKCEodHlwZW9mIHZhbHVlPT09InN0cmluZyIpKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBDKysgc3RyaW5nIHR5cGUgIituYW1lKX12YXIgbGVuZ3RoPWxlbmd0aEJ5dGVzVVRGKHZhbHVlKTt2YXIgcHRyPV9tYWxsb2MoNCtsZW5ndGgrY2hhclNpemUpO0hFQVBVMzJbcHRyPj4yXT1sZW5ndGg+PnNoaWZ0O2VuY29kZVN0cmluZyh2YWx1ZSxwdHIrNCxsZW5ndGgrY2hhclNpemUpO2lmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxwdHIpfXJldHVybiBwdHJ9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpmdW5jdGlvbihwdHIpe19mcmVlKHB0cil9fSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfdm9pZChyYXdUeXBlLG5hbWUpe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7aXNWb2lkOnRydWUsbmFtZTpuYW1lLCJhcmdQYWNrQWR2YW5jZSI6MCwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbigpe3JldHVybiB1bmRlZmluZWR9LCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyxvKXtyZXR1cm4gdW5kZWZpbmVkfX0pfWZ1bmN0aW9uIHJlcXVpcmVIYW5kbGUoaGFuZGxlKXtpZighaGFuZGxlKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHVzZSBkZWxldGVkIHZhbC4gaGFuZGxlID0gIitoYW5kbGUpfXJldHVybiBlbXZhbF9oYW5kbGVfYXJyYXlbaGFuZGxlXS52YWx1ZX1mdW5jdGlvbiBfX2VtdmFsX2FzKGhhbmRsZSxyZXR1cm5UeXBlLGRlc3RydWN0b3JzUmVmKXtoYW5kbGU9cmVxdWlyZUhhbmRsZShoYW5kbGUpO3JldHVyblR5cGU9cmVxdWlyZVJlZ2lzdGVyZWRUeXBlKHJldHVyblR5cGUsImVtdmFsOjphcyIpO3ZhciBkZXN0cnVjdG9ycz1bXTt2YXIgcmQ9X19lbXZhbF9yZWdpc3RlcihkZXN0cnVjdG9ycyk7SEVBUDMyW2Rlc3RydWN0b3JzUmVmPj4yXT1yZDtyZXR1cm4gcmV0dXJuVHlwZVsidG9XaXJlVHlwZSJdKGRlc3RydWN0b3JzLGhhbmRsZSl9dmFyIGVtdmFsX3N5bWJvbHM9e307ZnVuY3Rpb24gZ2V0U3RyaW5nT3JTeW1ib2woYWRkcmVzcyl7dmFyIHN5bWJvbD1lbXZhbF9zeW1ib2xzW2FkZHJlc3NdO2lmKHN5bWJvbD09PXVuZGVmaW5lZCl7cmV0dXJuIHJlYWRMYXRpbjFTdHJpbmcoYWRkcmVzcyl9ZWxzZXtyZXR1cm4gc3ltYm9sfX12YXIgZW12YWxfbWV0aG9kQ2FsbGVycz1bXTtmdW5jdGlvbiBfX2VtdmFsX2NhbGxfdm9pZF9tZXRob2QoY2FsbGVyLGhhbmRsZSxtZXRob2ROYW1lLGFyZ3Mpe2NhbGxlcj1lbXZhbF9tZXRob2RDYWxsZXJzW2NhbGxlcl07aGFuZGxlPXJlcXVpcmVIYW5kbGUoaGFuZGxlKTttZXRob2ROYW1lPWdldFN0cmluZ09yU3ltYm9sKG1ldGhvZE5hbWUpO2NhbGxlcihoYW5kbGUsbWV0aG9kTmFtZSxudWxsLGFyZ3MpfWZ1bmN0aW9uIF9fZW12YWxfYWRkTWV0aG9kQ2FsbGVyKGNhbGxlcil7dmFyIGlkPWVtdmFsX21ldGhvZENhbGxlcnMubGVuZ3RoO2VtdmFsX21ldGhvZENhbGxlcnMucHVzaChjYWxsZXIpO3JldHVybiBpZH1mdW5jdGlvbiBfX2VtdmFsX2xvb2t1cFR5cGVzKGFyZ0NvdW50LGFyZ1R5cGVzKXt2YXIgYT1uZXcgQXJyYXkoYXJnQ291bnQpO2Zvcih2YXIgaT0wO2k8YXJnQ291bnQ7KytpKXthW2ldPXJlcXVpcmVSZWdpc3RlcmVkVHlwZShIRUFQMzJbKGFyZ1R5cGVzPj4yKStpXSwicGFyYW1ldGVyICIraSl9cmV0dXJuIGF9ZnVuY3Rpb24gX19lbXZhbF9nZXRfbWV0aG9kX2NhbGxlcihhcmdDb3VudCxhcmdUeXBlcyl7dmFyIHR5cGVzPV9fZW12YWxfbG9va3VwVHlwZXMoYXJnQ291bnQsYXJnVHlwZXMpO3ZhciByZXRUeXBlPXR5cGVzWzBdO3ZhciBzaWduYXR1cmVOYW1lPXJldFR5cGUubmFtZSsiXyQiK3R5cGVzLnNsaWNlKDEpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkuam9pbigiXyIpKyIkIjt2YXIgcGFyYW1zPVsicmV0VHlwZSJdO3ZhciBhcmdzPVtyZXRUeXBlXTt2YXIgYXJnc0xpc3Q9IiI7Zm9yKHZhciBpPTA7aTxhcmdDb3VudC0xOysraSl7YXJnc0xpc3QrPShpIT09MD8iLCAiOiIiKSsiYXJnIitpO3BhcmFtcy5wdXNoKCJhcmdUeXBlIitpKTthcmdzLnB1c2godHlwZXNbMStpXSl9dmFyIGZ1bmN0aW9uTmFtZT1tYWtlTGVnYWxGdW5jdGlvbk5hbWUoIm1ldGhvZENhbGxlcl8iK3NpZ25hdHVyZU5hbWUpO3ZhciBmdW5jdGlvbkJvZHk9InJldHVybiBmdW5jdGlvbiAiK2Z1bmN0aW9uTmFtZSsiKGhhbmRsZSwgbmFtZSwgZGVzdHJ1Y3RvcnMsIGFyZ3MpIHtcbiI7dmFyIG9mZnNldD0wO2Zvcih2YXIgaT0wO2k8YXJnQ291bnQtMTsrK2kpe2Z1bmN0aW9uQm9keSs9IiAgICB2YXIgYXJnIitpKyIgPSBhcmdUeXBlIitpKyIucmVhZFZhbHVlRnJvbVBvaW50ZXIoYXJncyIrKG9mZnNldD8iKyIrb2Zmc2V0OiIiKSsiKTtcbiI7b2Zmc2V0Kz10eXBlc1tpKzFdWyJhcmdQYWNrQWR2YW5jZSJdfWZ1bmN0aW9uQm9keSs9IiAgICB2YXIgcnYgPSBoYW5kbGVbbmFtZV0oIithcmdzTGlzdCsiKTtcbiI7Zm9yKHZhciBpPTA7aTxhcmdDb3VudC0xOysraSl7aWYodHlwZXNbaSsxXVsiZGVsZXRlT2JqZWN0Il0pe2Z1bmN0aW9uQm9keSs9IiAgICBhcmdUeXBlIitpKyIuZGVsZXRlT2JqZWN0KGFyZyIraSsiKTtcbiJ9fWlmKCFyZXRUeXBlLmlzVm9pZCl7ZnVuY3Rpb25Cb2R5Kz0iICAgIHJldHVybiByZXRUeXBlLnRvV2lyZVR5cGUoZGVzdHJ1Y3RvcnMsIHJ2KTtcbiJ9ZnVuY3Rpb25Cb2R5Kz0ifTtcbiI7cGFyYW1zLnB1c2goZnVuY3Rpb25Cb2R5KTt2YXIgaW52b2tlckZ1bmN0aW9uPW5ld18oRnVuY3Rpb24scGFyYW1zKS5hcHBseShudWxsLGFyZ3MpO3JldHVybiBfX2VtdmFsX2FkZE1ldGhvZENhbGxlcihpbnZva2VyRnVuY3Rpb24pfWZ1bmN0aW9uIF9fZW12YWxfZ2V0X3Byb3BlcnR5KGhhbmRsZSxrZXkpe2hhbmRsZT1yZXF1aXJlSGFuZGxlKGhhbmRsZSk7a2V5PXJlcXVpcmVIYW5kbGUoa2V5KTtyZXR1cm4gX19lbXZhbF9yZWdpc3RlcihoYW5kbGVba2V5XSl9ZnVuY3Rpb24gX19lbXZhbF9pbmNyZWYoaGFuZGxlKXtpZihoYW5kbGU+NCl7ZW12YWxfaGFuZGxlX2FycmF5W2hhbmRsZV0ucmVmY291bnQrPTF9fWZ1bmN0aW9uIF9fZW12YWxfbmV3X2FycmF5KCl7cmV0dXJuIF9fZW12YWxfcmVnaXN0ZXIoW10pfWZ1bmN0aW9uIF9fZW12YWxfbmV3X2NzdHJpbmcodil7cmV0dXJuIF9fZW12YWxfcmVnaXN0ZXIoZ2V0U3RyaW5nT3JTeW1ib2wodikpfWZ1bmN0aW9uIF9fZW12YWxfcnVuX2Rlc3RydWN0b3JzKGhhbmRsZSl7dmFyIGRlc3RydWN0b3JzPWVtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdLnZhbHVlO3J1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKTtfX2VtdmFsX2RlY3JlZihoYW5kbGUpfWZ1bmN0aW9uIF9fZW12YWxfdGFrZV92YWx1ZSh0eXBlLGFyZ3Ype3R5cGU9cmVxdWlyZVJlZ2lzdGVyZWRUeXBlKHR5cGUsIl9lbXZhbF90YWtlX3ZhbHVlIik7dmFyIHY9dHlwZVsicmVhZFZhbHVlRnJvbVBvaW50ZXIiXShhcmd2KTtyZXR1cm4gX19lbXZhbF9yZWdpc3Rlcih2KX1mdW5jdGlvbiBfYWJvcnQoKXthYm9ydCgpfXZhciBfZW1zY3JpcHRlbl9nZXRfbm93O19lbXNjcmlwdGVuX2dldF9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gcGVyZm9ybWFuY2Uubm93KCl9O3ZhciBfZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYz10cnVlO2Z1bmN0aW9uIF9jbG9ja19nZXR0aW1lKGNsa19pZCx0cCl7dmFyIG5vdztpZihjbGtfaWQ9PT0wKXtub3c9RGF0ZS5ub3coKX1lbHNlIGlmKChjbGtfaWQ9PT0xfHxjbGtfaWQ9PT00KSYmX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWMpe25vdz1fZW1zY3JpcHRlbl9nZXRfbm93KCl9ZWxzZXtzZXRFcnJObygyOCk7cmV0dXJuLTF9SEVBUDMyW3RwPj4yXT1ub3cvMWUzfDA7SEVBUDMyW3RwKzQ+PjJdPW5vdyUxZTMqMWUzKjFlM3wwO3JldHVybiAwfWZ1bmN0aW9uIF9kbG9wZW4oZmlsZW5hbWUsZmxhZyl7YWJvcnQoIlRvIHVzZSBkbG9wZW4sIHlvdSBuZWVkIHRvIHVzZSBFbXNjcmlwdGVuJ3MgbGlua2luZyBzdXBwb3J0LCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyIpfWZ1bmN0aW9uIF9kbHN5bShoYW5kbGUsc3ltYm9sKXthYm9ydCgiVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgdG8gdXNlIEVtc2NyaXB0ZW4ncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZyhkZXN0LHNyYyxudW0pe0hFQVBVOC5jb3B5V2l0aGluKGRlc3Qsc3JjLHNyYytudW0pfWZ1bmN0aW9uIF9lbXNjcmlwdGVuX2dldF9oZWFwX3NpemUoKXtyZXR1cm4gSEVBUFU4Lmxlbmd0aH1mdW5jdGlvbiBlbXNjcmlwdGVuX3JlYWxsb2NfYnVmZmVyKHNpemUpe3RyeXt3YXNtTWVtb3J5Lmdyb3coc2l6ZS1idWZmZXIuYnl0ZUxlbmd0aCs2NTUzNT4+PjE2KTt1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyh3YXNtTWVtb3J5LmJ1ZmZlcik7cmV0dXJuIDF9Y2F0Y2goZSl7fX1mdW5jdGlvbiBfZW1zY3JpcHRlbl9yZXNpemVfaGVhcChyZXF1ZXN0ZWRTaXplKXt2YXIgb2xkU2l6ZT1fZW1zY3JpcHRlbl9nZXRfaGVhcF9zaXplKCk7dmFyIG1heEhlYXBTaXplPTIxNDc0ODM2NDg7aWYocmVxdWVzdGVkU2l6ZT5tYXhIZWFwU2l6ZSl7cmV0dXJuIGZhbHNlfWZvcih2YXIgY3V0RG93bj0xO2N1dERvd248PTQ7Y3V0RG93bio9Mil7dmFyIG92ZXJHcm93bkhlYXBTaXplPW9sZFNpemUqKDErLjIvY3V0RG93bik7b3Zlckdyb3duSGVhcFNpemU9TWF0aC5taW4ob3Zlckdyb3duSGVhcFNpemUscmVxdWVzdGVkU2l6ZSsxMDA2NjMyOTYpO3ZhciBuZXdTaXplPU1hdGgubWluKG1heEhlYXBTaXplLGFsaWduVXAoTWF0aC5tYXgocmVxdWVzdGVkU2l6ZSxvdmVyR3Jvd25IZWFwU2l6ZSksNjU1MzYpKTt2YXIgcmVwbGFjZW1lbnQ9ZW1zY3JpcHRlbl9yZWFsbG9jX2J1ZmZlcihuZXdTaXplKTtpZihyZXBsYWNlbWVudCl7cmV0dXJuIHRydWV9fXJldHVybiBmYWxzZX1mdW5jdGlvbiBfZW1zY3JpcHRlbl90aHJlYWRfc2xlZXAobXNlY3Mpe3ZhciBzdGFydD1fZW1zY3JpcHRlbl9nZXRfbm93KCk7d2hpbGUoX2Vtc2NyaXB0ZW5fZ2V0X25vdygpLXN0YXJ0PG1zZWNzKXt9fXZhciBFTlY9e307ZnVuY3Rpb24gZ2V0RXhlY3V0YWJsZU5hbWUoKXtyZXR1cm4gdGhpc1Byb2dyYW18fCIuL3RoaXMucHJvZ3JhbSJ9ZnVuY3Rpb24gZ2V0RW52U3RyaW5ncygpe2lmKCFnZXRFbnZTdHJpbmdzLnN0cmluZ3Mpe3ZhciBsYW5nPSh0eXBlb2YgbmF2aWdhdG9yPT09Im9iamVjdCImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04Ijt2YXIgZW52PXsiVVNFUiI6IndlYl91c2VyIiwiTE9HTkFNRSI6IndlYl91c2VyIiwiUEFUSCI6Ii8iLCJQV0QiOiIvIiwiSE9NRSI6Ii9ob21lL3dlYl91c2VyIiwiTEFORyI6bGFuZywiXyI6Z2V0RXhlY3V0YWJsZU5hbWUoKX07Zm9yKHZhciB4IGluIEVOVil7ZW52W3hdPUVOVlt4XX12YXIgc3RyaW5ncz1bXTtmb3IodmFyIHggaW4gZW52KXtzdHJpbmdzLnB1c2goeCsiPSIrZW52W3hdKX1nZXRFbnZTdHJpbmdzLnN0cmluZ3M9c3RyaW5nc31yZXR1cm4gZ2V0RW52U3RyaW5ncy5zdHJpbmdzfWZ1bmN0aW9uIF9lbnZpcm9uX2dldChfX2Vudmlyb24sZW52aXJvbl9idWYpe3ZhciBidWZTaXplPTA7Z2V0RW52U3RyaW5ncygpLmZvckVhY2goZnVuY3Rpb24oc3RyaW5nLGkpe3ZhciBwdHI9ZW52aXJvbl9idWYrYnVmU2l6ZTtIRUFQMzJbX19lbnZpcm9uK2kqND4+Ml09cHRyO3dyaXRlQXNjaWlUb01lbW9yeShzdHJpbmcscHRyKTtidWZTaXplKz1zdHJpbmcubGVuZ3RoKzF9KTtyZXR1cm4gMH1mdW5jdGlvbiBfZW52aXJvbl9zaXplc19nZXQocGVudmlyb25fY291bnQscGVudmlyb25fYnVmX3NpemUpe3ZhciBzdHJpbmdzPWdldEVudlN0cmluZ3MoKTtIRUFQMzJbcGVudmlyb25fY291bnQ+PjJdPXN0cmluZ3MubGVuZ3RoO3ZhciBidWZTaXplPTA7c3RyaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKHN0cmluZyl7YnVmU2l6ZSs9c3RyaW5nLmxlbmd0aCsxfSk7SEVBUDMyW3BlbnZpcm9uX2J1Zl9zaXplPj4yXT1idWZTaXplO3JldHVybiAwfWZ1bmN0aW9uIF9mZF9jbG9zZShmZCl7cmV0dXJuIDB9ZnVuY3Rpb24gX2ZkX2Zkc3RhdF9nZXQoZmQscGJ1Zil7dmFyIHR5cGU9ZmQ9PTF8fGZkPT0yPzI6YWJvcnQoKTtIRUFQOFtwYnVmPj4wXT10eXBlO3JldHVybiAwfWZ1bmN0aW9uIF9mZF9yZWFkKGZkLGlvdixpb3ZjbnQscG51bSl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO3ZhciBudW09U1lTQ0FMTFMuZG9SZWFkdihzdHJlYW0saW92LGlvdmNudCk7SEVBUDMyW3BudW0+PjJdPW51bTtyZXR1cm4gMH1mdW5jdGlvbiBfZmRfc2VlayhmZCxvZmZzZXRfbG93LG9mZnNldF9oaWdoLHdoZW5jZSxuZXdPZmZzZXQpe31mdW5jdGlvbiBfZmRfd3JpdGUoZmQsaW92LGlvdmNudCxwbnVtKXt2YXIgbnVtPTA7Zm9yKHZhciBpPTA7aTxpb3ZjbnQ7aSsrKXt2YXIgcHRyPUhFQVAzMltpb3YraSo4Pj4yXTt2YXIgbGVuPUhFQVAzMltpb3YrKGkqOCs0KT4+Ml07Zm9yKHZhciBqPTA7ajxsZW47aisrKXtTWVNDQUxMUy5wcmludENoYXIoZmQsSEVBUFU4W3B0citqXSl9bnVtKz1sZW59SEVBUDMyW3BudW0+PjJdPW51bTtyZXR1cm4gMH1mdW5jdGlvbiBfZ210aW1lX3IodGltZSx0bVB0cil7dmFyIGRhdGU9bmV3IERhdGUoSEVBUDMyW3RpbWU+PjJdKjFlMyk7SEVBUDMyW3RtUHRyPj4yXT1kYXRlLmdldFVUQ1NlY29uZHMoKTtIRUFQMzJbdG1QdHIrND4+Ml09ZGF0ZS5nZXRVVENNaW51dGVzKCk7SEVBUDMyW3RtUHRyKzg+PjJdPWRhdGUuZ2V0VVRDSG91cnMoKTtIRUFQMzJbdG1QdHIrMTI+PjJdPWRhdGUuZ2V0VVRDRGF0ZSgpO0hFQVAzMlt0bVB0cisxNj4+Ml09ZGF0ZS5nZXRVVENNb250aCgpO0hFQVAzMlt0bVB0cisyMD4+Ml09ZGF0ZS5nZXRVVENGdWxsWWVhcigpLTE5MDA7SEVBUDMyW3RtUHRyKzI0Pj4yXT1kYXRlLmdldFVUQ0RheSgpO0hFQVAzMlt0bVB0ciszNj4+Ml09MDtIRUFQMzJbdG1QdHIrMzI+PjJdPTA7dmFyIHN0YXJ0PURhdGUuVVRDKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSwwLDEsMCwwLDAsMCk7dmFyIHlkYXk9KGRhdGUuZ2V0VGltZSgpLXN0YXJ0KS8oMWUzKjYwKjYwKjI0KXwwO0hFQVAzMlt0bVB0cisyOD4+Ml09eWRheTtpZighX2dtdGltZV9yLkdNVFN0cmluZylfZ210aW1lX3IuR01UU3RyaW5nPWFsbG9jYXRlVVRGOCgiR01UIik7SEVBUDMyW3RtUHRyKzQwPj4yXT1fZ210aW1lX3IuR01UU3RyaW5nO3JldHVybiB0bVB0cn1mdW5jdGlvbiBfdHpzZXQoKXtpZihfdHpzZXQuY2FsbGVkKXJldHVybjtfdHpzZXQuY2FsbGVkPXRydWU7dmFyIGN1cnJlbnRZZWFyPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKTt2YXIgd2ludGVyPW5ldyBEYXRlKGN1cnJlbnRZZWFyLDAsMSk7dmFyIHN1bW1lcj1uZXcgRGF0ZShjdXJyZW50WWVhciw2LDEpO3ZhciB3aW50ZXJPZmZzZXQ9d2ludGVyLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIHN1bW1lck9mZnNldD1zdW1tZXIuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgc3RkVGltZXpvbmVPZmZzZXQ9TWF0aC5tYXgod2ludGVyT2Zmc2V0LHN1bW1lck9mZnNldCk7SEVBUDMyW19fZ2V0X3RpbWV6b25lKCk+PjJdPXN0ZFRpbWV6b25lT2Zmc2V0KjYwO0hFQVAzMltfX2dldF9kYXlsaWdodCgpPj4yXT1OdW1iZXIod2ludGVyT2Zmc2V0IT1zdW1tZXJPZmZzZXQpO2Z1bmN0aW9uIGV4dHJhY3Rab25lKGRhdGUpe3ZhciBtYXRjaD1kYXRlLnRvVGltZVN0cmluZygpLm1hdGNoKC9cKChbQS1aYS16IF0rKVwpJC8pO3JldHVybiBtYXRjaD9tYXRjaFsxXToiR01UIn12YXIgd2ludGVyTmFtZT1leHRyYWN0Wm9uZSh3aW50ZXIpO3ZhciBzdW1tZXJOYW1lPWV4dHJhY3Rab25lKHN1bW1lcik7dmFyIHdpbnRlck5hbWVQdHI9YWxsb2NhdGVVVEY4KHdpbnRlck5hbWUpO3ZhciBzdW1tZXJOYW1lUHRyPWFsbG9jYXRlVVRGOChzdW1tZXJOYW1lKTtpZihzdW1tZXJPZmZzZXQ8d2ludGVyT2Zmc2V0KXtIRUFQMzJbX19nZXRfdHpuYW1lKCk+PjJdPXdpbnRlck5hbWVQdHI7SEVBUDMyW19fZ2V0X3R6bmFtZSgpKzQ+PjJdPXN1bW1lck5hbWVQdHJ9ZWxzZXtIRUFQMzJbX19nZXRfdHpuYW1lKCk+PjJdPXN1bW1lck5hbWVQdHI7SEVBUDMyW19fZ2V0X3R6bmFtZSgpKzQ+PjJdPXdpbnRlck5hbWVQdHJ9fWZ1bmN0aW9uIF9sb2NhbHRpbWVfcih0aW1lLHRtUHRyKXtfdHpzZXQoKTt2YXIgZGF0ZT1uZXcgRGF0ZShIRUFQMzJbdGltZT4+Ml0qMWUzKTtIRUFQMzJbdG1QdHI+PjJdPWRhdGUuZ2V0U2Vjb25kcygpO0hFQVAzMlt0bVB0cis0Pj4yXT1kYXRlLmdldE1pbnV0ZXMoKTtIRUFQMzJbdG1QdHIrOD4+Ml09ZGF0ZS5nZXRIb3VycygpO0hFQVAzMlt0bVB0cisxMj4+Ml09ZGF0ZS5nZXREYXRlKCk7SEVBUDMyW3RtUHRyKzE2Pj4yXT1kYXRlLmdldE1vbnRoKCk7SEVBUDMyW3RtUHRyKzIwPj4yXT1kYXRlLmdldEZ1bGxZZWFyKCktMTkwMDtIRUFQMzJbdG1QdHIrMjQ+PjJdPWRhdGUuZ2V0RGF5KCk7dmFyIHN0YXJ0PW5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwwLDEpO3ZhciB5ZGF5PShkYXRlLmdldFRpbWUoKS1zdGFydC5nZXRUaW1lKCkpLygxZTMqNjAqNjAqMjQpfDA7SEVBUDMyW3RtUHRyKzI4Pj4yXT15ZGF5O0hFQVAzMlt0bVB0ciszNj4+Ml09LShkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkqNjApO3ZhciBzdW1tZXJPZmZzZXQ9bmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgd2ludGVyT2Zmc2V0PXN0YXJ0LmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIGRzdD0oc3VtbWVyT2Zmc2V0IT13aW50ZXJPZmZzZXQmJmRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4od2ludGVyT2Zmc2V0LHN1bW1lck9mZnNldCkpfDA7SEVBUDMyW3RtUHRyKzMyPj4yXT1kc3Q7dmFyIHpvbmVQdHI9SEVBUDMyW19fZ2V0X3R6bmFtZSgpKyhkc3Q/NDowKT4+Ml07SEVBUDMyW3RtUHRyKzQwPj4yXT16b25lUHRyO3JldHVybiB0bVB0cn1mdW5jdGlvbiBfcHRocmVhZF9jcmVhdGUoKXtyZXR1cm4gNn1mdW5jdGlvbiBfcHRocmVhZF9qb2luKCl7cmV0dXJuIDI4fWZ1bmN0aW9uIF9zZXRUZW1wUmV0MCgkaSl7c2V0VGVtcFJldDAoJGl8MCl9ZnVuY3Rpb24gX19pc0xlYXBZZWFyKHllYXIpe3JldHVybiB5ZWFyJTQ9PT0wJiYoeWVhciUxMDAhPT0wfHx5ZWFyJTQwMD09PTApfWZ1bmN0aW9uIF9fYXJyYXlTdW0oYXJyYXksaW5kZXgpe3ZhciBzdW09MDtmb3IodmFyIGk9MDtpPD1pbmRleDtzdW0rPWFycmF5W2krK10pe31yZXR1cm4gc3VtfXZhciBfX01PTlRIX0RBWVNfTEVBUD1bMzEsMjksMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO3ZhciBfX01PTlRIX0RBWVNfUkVHVUxBUj1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2Z1bmN0aW9uIF9fYWRkRGF5cyhkYXRlLGRheXMpe3ZhciBuZXdEYXRlPW5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTt3aGlsZShkYXlzPjApe3ZhciBsZWFwPV9faXNMZWFwWWVhcihuZXdEYXRlLmdldEZ1bGxZZWFyKCkpO3ZhciBjdXJyZW50TW9udGg9bmV3RGF0ZS5nZXRNb250aCgpO3ZhciBkYXlzSW5DdXJyZW50TW9udGg9KGxlYXA/X19NT05USF9EQVlTX0xFQVA6X19NT05USF9EQVlTX1JFR1VMQVIpW2N1cnJlbnRNb250aF07aWYoZGF5cz5kYXlzSW5DdXJyZW50TW9udGgtbmV3RGF0ZS5nZXREYXRlKCkpe2RheXMtPWRheXNJbkN1cnJlbnRNb250aC1uZXdEYXRlLmdldERhdGUoKSsxO25ld0RhdGUuc2V0RGF0ZSgxKTtpZihjdXJyZW50TW9udGg8MTEpe25ld0RhdGUuc2V0TW9udGgoY3VycmVudE1vbnRoKzEpfWVsc2V7bmV3RGF0ZS5zZXRNb250aCgwKTtuZXdEYXRlLnNldEZ1bGxZZWFyKG5ld0RhdGUuZ2V0RnVsbFllYXIoKSsxKX19ZWxzZXtuZXdEYXRlLnNldERhdGUobmV3RGF0ZS5nZXREYXRlKCkrZGF5cyk7cmV0dXJuIG5ld0RhdGV9fXJldHVybiBuZXdEYXRlfWZ1bmN0aW9uIF9zdHJmdGltZShzLG1heHNpemUsZm9ybWF0LHRtKXt2YXIgdG1fem9uZT1IRUFQMzJbdG0rNDA+PjJdO3ZhciBkYXRlPXt0bV9zZWM6SEVBUDMyW3RtPj4yXSx0bV9taW46SEVBUDMyW3RtKzQ+PjJdLHRtX2hvdXI6SEVBUDMyW3RtKzg+PjJdLHRtX21kYXk6SEVBUDMyW3RtKzEyPj4yXSx0bV9tb246SEVBUDMyW3RtKzE2Pj4yXSx0bV95ZWFyOkhFQVAzMlt0bSsyMD4+Ml0sdG1fd2RheTpIRUFQMzJbdG0rMjQ+PjJdLHRtX3lkYXk6SEVBUDMyW3RtKzI4Pj4yXSx0bV9pc2RzdDpIRUFQMzJbdG0rMzI+PjJdLHRtX2dtdG9mZjpIRUFQMzJbdG0rMzY+PjJdLHRtX3pvbmU6dG1fem9uZT9VVEY4VG9TdHJpbmcodG1fem9uZSk6IiJ9O3ZhciBwYXR0ZXJuPVVURjhUb1N0cmluZyhmb3JtYXQpO3ZhciBFWFBBTlNJT05fUlVMRVNfMT17IiVjIjoiJWEgJWIgJWQgJUg6JU06JVMgJVkiLCIlRCI6IiVtLyVkLyV5IiwiJUYiOiIlWS0lbS0lZCIsIiVoIjoiJWIiLCIlciI6IiVJOiVNOiVTICVwIiwiJVIiOiIlSDolTSIsIiVUIjoiJUg6JU06JVMiLCIleCI6IiVtLyVkLyV5IiwiJVgiOiIlSDolTTolUyIsIiVFYyI6IiVjIiwiJUVDIjoiJUMiLCIlRXgiOiIlbS8lZC8leSIsIiVFWCI6IiVIOiVNOiVTIiwiJUV5IjoiJXkiLCIlRVkiOiIlWSIsIiVPZCI6IiVkIiwiJU9lIjoiJWUiLCIlT0giOiIlSCIsIiVPSSI6IiVJIiwiJU9tIjoiJW0iLCIlT00iOiIlTSIsIiVPUyI6IiVTIiwiJU91IjoiJXUiLCIlT1UiOiIlVSIsIiVPViI6IiVWIiwiJU93IjoiJXciLCIlT1ciOiIlVyIsIiVPeSI6IiV5In07Zm9yKHZhciBydWxlIGluIEVYUEFOU0lPTl9SVUxFU18xKXtwYXR0ZXJuPXBhdHRlcm4ucmVwbGFjZShuZXcgUmVnRXhwKHJ1bGUsImciKSxFWFBBTlNJT05fUlVMRVNfMVtydWxlXSl9dmFyIFdFRUtEQVlTPVsiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiXTt2YXIgTU9OVEhTPVsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXTtmdW5jdGlvbiBsZWFkaW5nU29tZXRoaW5nKHZhbHVlLGRpZ2l0cyxjaGFyYWN0ZXIpe3ZhciBzdHI9dHlwZW9mIHZhbHVlPT09Im51bWJlciI/dmFsdWUudG9TdHJpbmcoKTp2YWx1ZXx8IiI7d2hpbGUoc3RyLmxlbmd0aDxkaWdpdHMpe3N0cj1jaGFyYWN0ZXJbMF0rc3RyfXJldHVybiBzdHJ9ZnVuY3Rpb24gbGVhZGluZ051bGxzKHZhbHVlLGRpZ2l0cyl7cmV0dXJuIGxlYWRpbmdTb21ldGhpbmcodmFsdWUsZGlnaXRzLCIwIil9ZnVuY3Rpb24gY29tcGFyZUJ5RGF5KGRhdGUxLGRhdGUyKXtmdW5jdGlvbiBzZ24odmFsdWUpe3JldHVybiB2YWx1ZTwwPy0xOnZhbHVlPjA/MTowfXZhciBjb21wYXJlO2lmKChjb21wYXJlPXNnbihkYXRlMS5nZXRGdWxsWWVhcigpLWRhdGUyLmdldEZ1bGxZZWFyKCkpKT09PTApe2lmKChjb21wYXJlPXNnbihkYXRlMS5nZXRNb250aCgpLWRhdGUyLmdldE1vbnRoKCkpKT09PTApe2NvbXBhcmU9c2duKGRhdGUxLmdldERhdGUoKS1kYXRlMi5nZXREYXRlKCkpfX1yZXR1cm4gY29tcGFyZX1mdW5jdGlvbiBnZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoKXtzd2l0Y2goamFuRm91cnRoLmdldERheSgpKXtjYXNlIDA6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLTEsMTEsMjkpO2Nhc2UgMTpyZXR1cm4gamFuRm91cnRoO2Nhc2UgMjpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCksMCwzKTtjYXNlIDM6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLDAsMik7Y2FzZSA0OnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2UgNTpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCktMSwxMSwzMSk7Y2FzZSA2OnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKS0xLDExLDMwKX19ZnVuY3Rpb24gZ2V0V2Vla0Jhc2VkWWVhcihkYXRlKXt2YXIgdGhpc0RhdGU9X19hZGREYXlzKG5ldyBEYXRlKGRhdGUudG1feWVhcisxOTAwLDAsMSksZGF0ZS50bV95ZGF5KTt2YXIgamFuRm91cnRoVGhpc1llYXI9bmV3IERhdGUodGhpc0RhdGUuZ2V0RnVsbFllYXIoKSwwLDQpO3ZhciBqYW5Gb3VydGhOZXh0WWVhcj1uZXcgRGF0ZSh0aGlzRGF0ZS5nZXRGdWxsWWVhcigpKzEsMCw0KTt2YXIgZmlyc3RXZWVrU3RhcnRUaGlzWWVhcj1nZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoVGhpc1llYXIpO3ZhciBmaXJzdFdlZWtTdGFydE5leHRZZWFyPWdldEZpcnN0V2Vla1N0YXJ0RGF0ZShqYW5Gb3VydGhOZXh0WWVhcik7aWYoY29tcGFyZUJ5RGF5KGZpcnN0V2Vla1N0YXJ0VGhpc1llYXIsdGhpc0RhdGUpPD0wKXtpZihjb21wYXJlQnlEYXkoZmlyc3RXZWVrU3RhcnROZXh0WWVhcix0aGlzRGF0ZSk8PTApe3JldHVybiB0aGlzRGF0ZS5nZXRGdWxsWWVhcigpKzF9ZWxzZXtyZXR1cm4gdGhpc0RhdGUuZ2V0RnVsbFllYXIoKX19ZWxzZXtyZXR1cm4gdGhpc0RhdGUuZ2V0RnVsbFllYXIoKS0xfX12YXIgRVhQQU5TSU9OX1JVTEVTXzI9eyIlYSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIFdFRUtEQVlTW2RhdGUudG1fd2RheV0uc3Vic3RyaW5nKDAsMyl9LCIlQSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIFdFRUtEQVlTW2RhdGUudG1fd2RheV19LCIlYiI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIE1PTlRIU1tkYXRlLnRtX21vbl0uc3Vic3RyaW5nKDAsMyl9LCIlQiI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIE1PTlRIU1tkYXRlLnRtX21vbl19LCIlQyI6ZnVuY3Rpb24oZGF0ZSl7dmFyIHllYXI9ZGF0ZS50bV95ZWFyKzE5MDA7cmV0dXJuIGxlYWRpbmdOdWxscyh5ZWFyLzEwMHwwLDIpfSwiJWQiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nTnVsbHMoZGF0ZS50bV9tZGF5LDIpfSwiJWUiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nU29tZXRoaW5nKGRhdGUudG1fbWRheSwyLCIgIil9LCIlZyI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGdldFdlZWtCYXNlZFllYXIoZGF0ZSkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlRyI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGdldFdlZWtCYXNlZFllYXIoZGF0ZSl9LCIlSCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX2hvdXIsMil9LCIlSSI6ZnVuY3Rpb24oZGF0ZSl7dmFyIHR3ZWx2ZUhvdXI9ZGF0ZS50bV9ob3VyO2lmKHR3ZWx2ZUhvdXI9PTApdHdlbHZlSG91cj0xMjtlbHNlIGlmKHR3ZWx2ZUhvdXI+MTIpdHdlbHZlSG91ci09MTI7cmV0dXJuIGxlYWRpbmdOdWxscyh0d2VsdmVIb3VyLDIpfSwiJWoiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nTnVsbHMoZGF0ZS50bV9tZGF5K19fYXJyYXlTdW0oX19pc0xlYXBZZWFyKGRhdGUudG1feWVhcisxOTAwKT9fX01PTlRIX0RBWVNfTEVBUDpfX01PTlRIX0RBWVNfUkVHVUxBUixkYXRlLnRtX21vbi0xKSwzKX0sIiVtIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fbW9uKzEsMil9LCIlTSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX21pbiwyKX0sIiVuIjpmdW5jdGlvbigpe3JldHVybiJcbiJ9LCIlcCI6ZnVuY3Rpb24oZGF0ZSl7aWYoZGF0ZS50bV9ob3VyPj0wJiZkYXRlLnRtX2hvdXI8MTIpe3JldHVybiJBTSJ9ZWxzZXtyZXR1cm4iUE0ifX0sIiVTIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fc2VjLDIpfSwiJXQiOmZ1bmN0aW9uKCl7cmV0dXJuIlx0In0sIiV1IjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gZGF0ZS50bV93ZGF5fHw3fSwiJVUiOmZ1bmN0aW9uKGRhdGUpe3ZhciBqYW5GaXJzdD1uZXcgRGF0ZShkYXRlLnRtX3llYXIrMTkwMCwwLDEpO3ZhciBmaXJzdFN1bmRheT1qYW5GaXJzdC5nZXREYXkoKT09PTA/amFuRmlyc3Q6X19hZGREYXlzKGphbkZpcnN0LDctamFuRmlyc3QuZ2V0RGF5KCkpO3ZhciBlbmREYXRlPW5ldyBEYXRlKGRhdGUudG1feWVhcisxOTAwLGRhdGUudG1fbW9uLGRhdGUudG1fbWRheSk7aWYoY29tcGFyZUJ5RGF5KGZpcnN0U3VuZGF5LGVuZERhdGUpPDApe3ZhciBmZWJydWFyeUZpcnN0VW50aWxFbmRNb250aD1fX2FycmF5U3VtKF9faXNMZWFwWWVhcihlbmREYXRlLmdldEZ1bGxZZWFyKCkpP19fTU9OVEhfREFZU19MRUFQOl9fTU9OVEhfREFZU19SRUdVTEFSLGVuZERhdGUuZ2V0TW9udGgoKS0xKS0zMTt2YXIgZmlyc3RTdW5kYXlVbnRpbEVuZEphbnVhcnk9MzEtZmlyc3RTdW5kYXkuZ2V0RGF0ZSgpO3ZhciBkYXlzPWZpcnN0U3VuZGF5VW50aWxFbmRKYW51YXJ5K2ZlYnJ1YXJ5Rmlyc3RVbnRpbEVuZE1vbnRoK2VuZERhdGUuZ2V0RGF0ZSgpO3JldHVybiBsZWFkaW5nTnVsbHMoTWF0aC5jZWlsKGRheXMvNyksMil9cmV0dXJuIGNvbXBhcmVCeURheShmaXJzdFN1bmRheSxqYW5GaXJzdCk9PT0wPyIwMSI6IjAwIn0sIiVWIjpmdW5jdGlvbihkYXRlKXt2YXIgamFuRm91cnRoVGhpc1llYXI9bmV3IERhdGUoZGF0ZS50bV95ZWFyKzE5MDAsMCw0KTt2YXIgamFuRm91cnRoTmV4dFllYXI9bmV3IERhdGUoZGF0ZS50bV95ZWFyKzE5MDEsMCw0KTt2YXIgZmlyc3RXZWVrU3RhcnRUaGlzWWVhcj1nZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoVGhpc1llYXIpO3ZhciBmaXJzdFdlZWtTdGFydE5leHRZZWFyPWdldEZpcnN0V2Vla1N0YXJ0RGF0ZShqYW5Gb3VydGhOZXh0WWVhcik7dmFyIGVuZERhdGU9X19hZGREYXlzKG5ldyBEYXRlKGRhdGUudG1feWVhcisxOTAwLDAsMSksZGF0ZS50bV95ZGF5KTtpZihjb21wYXJlQnlEYXkoZW5kRGF0ZSxmaXJzdFdlZWtTdGFydFRoaXNZZWFyKTwwKXtyZXR1cm4iNTMifWlmKGNvbXBhcmVCeURheShmaXJzdFdlZWtTdGFydE5leHRZZWFyLGVuZERhdGUpPD0wKXtyZXR1cm4iMDEifXZhciBkYXlzRGlmZmVyZW5jZTtpZihmaXJzdFdlZWtTdGFydFRoaXNZZWFyLmdldEZ1bGxZZWFyKCk8ZGF0ZS50bV95ZWFyKzE5MDApe2RheXNEaWZmZXJlbmNlPWRhdGUudG1feWRheSszMi1maXJzdFdlZWtTdGFydFRoaXNZZWFyLmdldERhdGUoKX1lbHNle2RheXNEaWZmZXJlbmNlPWRhdGUudG1feWRheSsxLWZpcnN0V2Vla1N0YXJ0VGhpc1llYXIuZ2V0RGF0ZSgpfXJldHVybiBsZWFkaW5nTnVsbHMoTWF0aC5jZWlsKGRheXNEaWZmZXJlbmNlLzcpLDIpfSwiJXciOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBkYXRlLnRtX3dkYXl9LCIlVyI6ZnVuY3Rpb24oZGF0ZSl7dmFyIGphbkZpcnN0PW5ldyBEYXRlKGRhdGUudG1feWVhciwwLDEpO3ZhciBmaXJzdE1vbmRheT1qYW5GaXJzdC5nZXREYXkoKT09PTE/amFuRmlyc3Q6X19hZGREYXlzKGphbkZpcnN0LGphbkZpcnN0LmdldERheSgpPT09MD8xOjctamFuRmlyc3QuZ2V0RGF5KCkrMSk7dmFyIGVuZERhdGU9bmV3IERhdGUoZGF0ZS50bV95ZWFyKzE5MDAsZGF0ZS50bV9tb24sZGF0ZS50bV9tZGF5KTtpZihjb21wYXJlQnlEYXkoZmlyc3RNb25kYXksZW5kRGF0ZSk8MCl7dmFyIGZlYnJ1YXJ5Rmlyc3RVbnRpbEVuZE1vbnRoPV9fYXJyYXlTdW0oX19pc0xlYXBZZWFyKGVuZERhdGUuZ2V0RnVsbFllYXIoKSk/X19NT05USF9EQVlTX0xFQVA6X19NT05USF9EQVlTX1JFR1VMQVIsZW5kRGF0ZS5nZXRNb250aCgpLTEpLTMxO3ZhciBmaXJzdE1vbmRheVVudGlsRW5kSmFudWFyeT0zMS1maXJzdE1vbmRheS5nZXREYXRlKCk7dmFyIGRheXM9Zmlyc3RNb25kYXlVbnRpbEVuZEphbnVhcnkrZmVicnVhcnlGaXJzdFVudGlsRW5kTW9udGgrZW5kRGF0ZS5nZXREYXRlKCk7cmV0dXJuIGxlYWRpbmdOdWxscyhNYXRoLmNlaWwoZGF5cy83KSwyKX1yZXR1cm4gY29tcGFyZUJ5RGF5KGZpcnN0TW9uZGF5LGphbkZpcnN0KT09PTA/IjAxIjoiMDAifSwiJXkiOmZ1bmN0aW9uKGRhdGUpe3JldHVybihkYXRlLnRtX3llYXIrMTkwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlWSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUudG1feWVhcisxOTAwfSwiJXoiOmZ1bmN0aW9uKGRhdGUpe3ZhciBvZmY9ZGF0ZS50bV9nbXRvZmY7dmFyIGFoZWFkPW9mZj49MDtvZmY9TWF0aC5hYnMob2ZmKS82MDtvZmY9b2ZmLzYwKjEwMCtvZmYlNjA7cmV0dXJuKGFoZWFkPyIrIjoiLSIpK1N0cmluZygiMDAwMCIrb2ZmKS5zbGljZSgtNCl9LCIlWiI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUudG1fem9uZX0sIiUlIjpmdW5jdGlvbigpe3JldHVybiIlIn19O2Zvcih2YXIgcnVsZSBpbiBFWFBBTlNJT05fUlVMRVNfMil7aWYocGF0dGVybi5pbmRleE9mKHJ1bGUpPj0wKXtwYXR0ZXJuPXBhdHRlcm4ucmVwbGFjZShuZXcgUmVnRXhwKHJ1bGUsImciKSxFWFBBTlNJT05fUlVMRVNfMltydWxlXShkYXRlKSl9fXZhciBieXRlcz1pbnRBcnJheUZyb21TdHJpbmcocGF0dGVybixmYWxzZSk7aWYoYnl0ZXMubGVuZ3RoPm1heHNpemUpe3JldHVybiAwfXdyaXRlQXJyYXlUb01lbW9yeShieXRlcyxzKTtyZXR1cm4gYnl0ZXMubGVuZ3RoLTF9ZnVuY3Rpb24gX3N0cmZ0aW1lX2wocyxtYXhzaXplLGZvcm1hdCx0bSl7cmV0dXJuIF9zdHJmdGltZShzLG1heHNpemUsZm9ybWF0LHRtKX1mdW5jdGlvbiBfc3lzY29uZihuYW1lKXtzd2l0Y2gobmFtZSl7Y2FzZSAzMDpyZXR1cm4gMTYzODQ7Y2FzZSA4NTp2YXIgbWF4SGVhcFNpemU9MjE0NzQ4MzY0ODtyZXR1cm4gbWF4SGVhcFNpemUvMTYzODQ7Y2FzZSAxMzI6Y2FzZSAxMzM6Y2FzZSAxMjpjYXNlIDEzNzpjYXNlIDEzODpjYXNlIDE1OmNhc2UgMjM1OmNhc2UgMTY6Y2FzZSAxNzpjYXNlIDE4OmNhc2UgMTk6Y2FzZSAyMDpjYXNlIDE0OTpjYXNlIDEzOmNhc2UgMTA6Y2FzZSAyMzY6Y2FzZSAxNTM6Y2FzZSA5OmNhc2UgMjE6Y2FzZSAyMjpjYXNlIDE1OTpjYXNlIDE1NDpjYXNlIDE0OmNhc2UgNzc6Y2FzZSA3ODpjYXNlIDEzOTpjYXNlIDgyOmNhc2UgNjg6Y2FzZSA2NzpjYXNlIDE2NDpjYXNlIDExOmNhc2UgMjk6Y2FzZSA0NzpjYXNlIDQ4OmNhc2UgOTU6Y2FzZSA1MjpjYXNlIDUxOmNhc2UgNDY6cmV0dXJuIDIwMDgwOTtjYXNlIDI3OmNhc2UgMjQ2OmNhc2UgMTI3OmNhc2UgMTI4OmNhc2UgMjM6Y2FzZSAyNDpjYXNlIDE2MDpjYXNlIDE2MTpjYXNlIDE4MTpjYXNlIDE4MjpjYXNlIDI0MjpjYXNlIDE4MzpjYXNlIDE4NDpjYXNlIDI0MzpjYXNlIDI0NDpjYXNlIDI0NTpjYXNlIDE2NTpjYXNlIDE3ODpjYXNlIDE3OTpjYXNlIDQ5OmNhc2UgNTA6Y2FzZSAxNjg6Y2FzZSAxNjk6Y2FzZSAxNzU6Y2FzZSAxNzA6Y2FzZSAxNzE6Y2FzZSAxNzI6Y2FzZSA5NzpjYXNlIDc2OmNhc2UgMzI6Y2FzZSAxNzM6Y2FzZSAzNTpjYXNlIDgwOmNhc2UgODE6Y2FzZSA3OTpyZXR1cm4tMTtjYXNlIDE3NjpjYXNlIDE3NzpjYXNlIDc6Y2FzZSAxNTU6Y2FzZSA4OmNhc2UgMTU3OmNhc2UgMTI1OmNhc2UgMTI2OmNhc2UgOTI6Y2FzZSA5MzpjYXNlIDEyOTpjYXNlIDEzMDpjYXNlIDEzMTpjYXNlIDk0OmNhc2UgOTE6cmV0dXJuIDE7Y2FzZSA3NDpjYXNlIDYwOmNhc2UgNjk6Y2FzZSA3MDpjYXNlIDQ6cmV0dXJuIDEwMjQ7Y2FzZSAzMTpjYXNlIDQyOmNhc2UgNzI6cmV0dXJuIDMyO2Nhc2UgODc6Y2FzZSAyNjpjYXNlIDMzOnJldHVybiAyMTQ3NDgzNjQ3O2Nhc2UgMzQ6Y2FzZSAxOnJldHVybiA0NzgzOTtjYXNlIDM4OmNhc2UgMzY6cmV0dXJuIDk5O2Nhc2UgNDM6Y2FzZSAzNzpyZXR1cm4gMjA0ODtjYXNlIDA6cmV0dXJuIDIwOTcxNTI7Y2FzZSAzOnJldHVybiA2NTUzNjtjYXNlIDI4OnJldHVybiAzMjc2ODtjYXNlIDQ0OnJldHVybiAzMjc2NztjYXNlIDc1OnJldHVybiAxNjM4NDtjYXNlIDM5OnJldHVybiAxZTM7Y2FzZSA4OTpyZXR1cm4gNzAwO2Nhc2UgNzE6cmV0dXJuIDI1NjtjYXNlIDQwOnJldHVybiAyNTU7Y2FzZSAyOnJldHVybiAxMDA7Y2FzZSAxODA6cmV0dXJuIDY0O2Nhc2UgMjU6cmV0dXJuIDIwO2Nhc2UgNTpyZXR1cm4gMTY7Y2FzZSA2OnJldHVybiA2O2Nhc2UgNzM6cmV0dXJuIDQ7Y2FzZSA4NDp7aWYodHlwZW9mIG5hdmlnYXRvcj09PSJvYmplY3QiKXJldHVybiBuYXZpZ2F0b3JbImhhcmR3YXJlQ29uY3VycmVuY3kiXXx8MTtyZXR1cm4gMX19c2V0RXJyTm8oMjgpO3JldHVybi0xfWZ1bmN0aW9uIF90aW1lKHB0cil7dmFyIHJldD1EYXRlLm5vdygpLzFlM3wwO2lmKHB0cil7SEVBUDMyW3B0cj4+Ml09cmV0fXJldHVybiByZXR9ZW1iaW5kX2luaXRfY2hhckNvZGVzKCk7QmluZGluZ0Vycm9yPU1vZHVsZVsiQmluZGluZ0Vycm9yIl09ZXh0ZW5kRXJyb3IoRXJyb3IsIkJpbmRpbmdFcnJvciIpO0ludGVybmFsRXJyb3I9TW9kdWxlWyJJbnRlcm5hbEVycm9yIl09ZXh0ZW5kRXJyb3IoRXJyb3IsIkludGVybmFsRXJyb3IiKTtpbml0X0NsYXNzSGFuZGxlKCk7aW5pdF9SZWdpc3RlcmVkUG9pbnRlcigpO2luaXRfZW1iaW5kKCk7VW5ib3VuZFR5cGVFcnJvcj1Nb2R1bGVbIlVuYm91bmRUeXBlRXJyb3IiXT1leHRlbmRFcnJvcihFcnJvciwiVW5ib3VuZFR5cGVFcnJvciIpO2luaXRfZW12YWwoKTtmdW5jdGlvbiBpbnRBcnJheUZyb21TdHJpbmcoc3RyaW5neSxkb250QWRkTnVsbCxsZW5ndGgpe3ZhciBsZW49bGVuZ3RoPjA/bGVuZ3RoOmxlbmd0aEJ5dGVzVVRGOChzdHJpbmd5KSsxO3ZhciB1OGFycmF5PW5ldyBBcnJheShsZW4pO3ZhciBudW1CeXRlc1dyaXR0ZW49c3RyaW5nVG9VVEY4QXJyYXkoc3RyaW5neSx1OGFycmF5LDAsdThhcnJheS5sZW5ndGgpO2lmKGRvbnRBZGROdWxsKXU4YXJyYXkubGVuZ3RoPW51bUJ5dGVzV3JpdHRlbjtyZXR1cm4gdThhcnJheX12YXIgYXNtTGlicmFyeUFyZz17ImQiOl9fX2N4YV9hbGxvY2F0ZV9leGNlcHRpb24sInIiOl9fX2N4YV9yZXRocm93LCJjIjpfX19jeGFfdGhyb3csIkUiOl9fX3N5c19mY250bDY0LCJDIjpfX19zeXNfZ2V0cGlkLCJVIjpfX19zeXNfaW9jdGwsIlYiOl9fX3N5c19vcGVuLCJYIjpfX2VtYmluZF9yZWdpc3Rlcl9ib29sLCJqIjpfX2VtYmluZF9yZWdpc3Rlcl9jbGFzcywiSyI6X19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfY2xhc3NfZnVuY3Rpb24sImciOl9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX2NvbnN0cnVjdG9yLCJmIjpfX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19mdW5jdGlvbiwiZSI6X19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfcHJvcGVydHksIlciOl9fZW1iaW5kX3JlZ2lzdGVyX2VtdmFsLCJtIjpfX2VtYmluZF9yZWdpc3Rlcl9lbnVtLCJiIjpfX2VtYmluZF9yZWdpc3Rlcl9lbnVtX3ZhbHVlLCJHIjpfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdCwiaCI6X19lbWJpbmRfcmVnaXN0ZXJfZnVuY3Rpb24sIm4iOl9fZW1iaW5kX3JlZ2lzdGVyX2ludGVnZXIsImsiOl9fZW1iaW5kX3JlZ2lzdGVyX21lbW9yeV92aWV3LCJIIjpfX2VtYmluZF9yZWdpc3Rlcl9zdGRfc3RyaW5nLCJ1IjpfX2VtYmluZF9yZWdpc3Rlcl9zdGRfd3N0cmluZywiWSI6X19lbWJpbmRfcmVnaXN0ZXJfdm9pZCwieCI6X19lbXZhbF9hcywicCI6X19lbXZhbF9jYWxsX3ZvaWRfbWV0aG9kLCJpIjpfX2VtdmFsX2RlY3JlZiwicSI6X19lbXZhbF9nZXRfbWV0aG9kX2NhbGxlciwieSI6X19lbXZhbF9nZXRfcHJvcGVydHksImwiOl9fZW12YWxfaW5jcmVmLCJzIjpfX2VtdmFsX25ld19hcnJheSwieiI6X19lbXZhbF9uZXdfY3N0cmluZywidyI6X19lbXZhbF9ydW5fZGVzdHJ1Y3RvcnMsInQiOl9fZW12YWxfdGFrZV92YWx1ZSwiYSI6X2Fib3J0LCJCIjpfY2xvY2tfZ2V0dGltZSwiXyI6X2Rsb3BlbiwiWiI6X2Rsc3ltLCJNIjpfZW1zY3JpcHRlbl9tZW1jcHlfYmlnLCJOIjpfZW1zY3JpcHRlbl9yZXNpemVfaGVhcCwiTyI6X2Vtc2NyaXB0ZW5fdGhyZWFkX3NsZWVwLCJRIjpfZW52aXJvbl9nZXQsIlIiOl9lbnZpcm9uX3NpemVzX2dldCwiRiI6X2ZkX2Nsb3NlLCJTIjpfZmRfZmRzdGF0X2dldCwiVCI6X2ZkX3JlYWQsIkwiOl9mZF9zZWVrLCJEIjpfZmRfd3JpdGUsIiQiOl9nbXRpbWVfciwiYWEiOl9sb2NhbHRpbWVfciwidiI6X3B0aHJlYWRfY3JlYXRlLCJJIjpfcHRocmVhZF9qb2luLCJBIjpfc2V0VGVtcFJldDAsIlAiOl9zdHJmdGltZV9sLCJvIjpfc3lzY29uZiwiSiI6X3RpbWV9O3ZhciBhc209Y3JlYXRlV2FzbSgpO3ZhciBfX193YXNtX2NhbGxfY3RvcnM9TW9kdWxlWyJfX193YXNtX2NhbGxfY3RvcnMiXT1hc21bImNhIl07dmFyIF9tYWxsb2M9TW9kdWxlWyJfbWFsbG9jIl09YXNtWyJkYSJdO3ZhciBfX19lcnJub19sb2NhdGlvbj1Nb2R1bGVbIl9fX2Vycm5vX2xvY2F0aW9uIl09YXNtWyJmYSJdO3ZhciBfZnJlZT1Nb2R1bGVbIl9mcmVlIl09YXNtWyJnYSJdO3ZhciBfX19nZXRUeXBlTmFtZT1Nb2R1bGVbIl9fX2dldFR5cGVOYW1lIl09YXNtWyJoYSJdO3ZhciBfX19lbWJpbmRfcmVnaXN0ZXJfbmF0aXZlX2FuZF9idWlsdGluX3R5cGVzPU1vZHVsZVsiX19fZW1iaW5kX3JlZ2lzdGVyX25hdGl2ZV9hbmRfYnVpbHRpbl90eXBlcyJdPWFzbVsiaWEiXTt2YXIgX19nZXRfdHpuYW1lPU1vZHVsZVsiX19nZXRfdHpuYW1lIl09YXNtWyJqYSJdO3ZhciBfX2dldF9kYXlsaWdodD1Nb2R1bGVbIl9fZ2V0X2RheWxpZ2h0Il09YXNtWyJrYSJdO3ZhciBfX2dldF90aW1lem9uZT1Nb2R1bGVbIl9fZ2V0X3RpbWV6b25lIl09YXNtWyJsYSJdO3ZhciBkeW5DYWxsX3ZpaWppaT1Nb2R1bGVbImR5bkNhbGxfdmlpamlpIl09YXNtWyJtYSJdO3ZhciBkeW5DYWxsX2pqaj1Nb2R1bGVbImR5bkNhbGxfampqIl09YXNtWyJuYSJdO3ZhciBkeW5DYWxsX2ppamk9TW9kdWxlWyJkeW5DYWxsX2ppamkiXT1hc21bIm9hIl07dmFyIGR5bkNhbGxfaWlpaWlqPU1vZHVsZVsiZHluQ2FsbF9paWlpaWoiXT1hc21bInBhIl07dmFyIGR5bkNhbGxfaWlpaWlqaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlqaiJdPWFzbVsicWEiXTt2YXIgZHluQ2FsbF9paWlpaWlqaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlpamoiXT1hc21bInJhIl07dmFyIGNhbGxlZFJ1bjtkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9ZnVuY3Rpb24gcnVuQ2FsbGVyKCl7aWYoIWNhbGxlZFJ1bilydW4oKTtpZighY2FsbGVkUnVuKWRlcGVuZGVuY2llc0Z1bGZpbGxlZD1ydW5DYWxsZXJ9O2Z1bmN0aW9uIHJ1bihhcmdzKXthcmdzPWFyZ3N8fGFyZ3VtZW50c187aWYocnVuRGVwZW5kZW5jaWVzPjApe3JldHVybn1wcmVSdW4oKTtpZihydW5EZXBlbmRlbmNpZXM+MCl7cmV0dXJufWZ1bmN0aW9uIGRvUnVuKCl7aWYoY2FsbGVkUnVuKXJldHVybjtjYWxsZWRSdW49dHJ1ZTtNb2R1bGVbImNhbGxlZFJ1biJdPXRydWU7aWYoQUJPUlQpcmV0dXJuO2luaXRSdW50aW1lKCk7cHJlTWFpbigpO3JlYWR5UHJvbWlzZVJlc29sdmUoTW9kdWxlKTtpZihNb2R1bGVbIm9uUnVudGltZUluaXRpYWxpemVkIl0pTW9kdWxlWyJvblJ1bnRpbWVJbml0aWFsaXplZCJdKCk7cG9zdFJ1bigpfWlmKE1vZHVsZVsic2V0U3RhdHVzIl0pe01vZHVsZVsic2V0U3RhdHVzIl0oIlJ1bm5pbmcuLi4iKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe01vZHVsZVsic2V0U3RhdHVzIl0oIiIpfSwxKTtkb1J1bigpfSwxKX1lbHNle2RvUnVuKCl9fU1vZHVsZVsicnVuIl09cnVuO2lmKE1vZHVsZVsicHJlSW5pdCJdKXtpZih0eXBlb2YgTW9kdWxlWyJwcmVJbml0Il09PSJmdW5jdGlvbiIpTW9kdWxlWyJwcmVJbml0Il09W01vZHVsZVsicHJlSW5pdCJdXTt3aGlsZShNb2R1bGVbInByZUluaXQiXS5sZW5ndGg+MCl7TW9kdWxlWyJwcmVJbml0Il0ucG9wKCkoKX19cnVuKCk7CgoKICByZXR1cm4gTW9kdWxlCn0KKTsKfSkoKTsKLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBjb25zdCBGUGhpX1dvcmtlcl9SdW50aW1lID0gKE1vZHVsZSk7CjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuLi9idWlsZC90ZW1wL2VuZ2luZXMvRlBoaS5FbmdpbmUuQ29uc3QuanMKY29uc3QgRXh0cmFjdGlvblJlc3VsdCA9IHsKICAgIE9LOiAwLAogICAgTk9UX0VWQUxVQVRFRDogMSwgICAgCiAgICBCQURfQU5HTEU6IDIsICAgIAogICAgVE9PX0ZBUjogMywgICAgCiAgICBUT09fQ0xPU0U6IDQsICAgIAogICAgT1VUX09GX0JPVU5EUzogNSwgICAgIAogICAgQkFEX0FTUEVDVF9SQVRJTzogNiwgICAgCiAgICBET0NVTUVOVF9OT1RfRk9VTkQ6IDcsICAgIAogICAgRkFDRV9OT1RfRk9VTkQ6IDgsICAgIAogICAgTVJaX05PVF9GT1VORDogOSwKICAgIEFUVFJJQlVURVNfTk9UX0ZPVU5EOiAxMCwKICAgIFVOREVSRVhQT1NFRDogMTEsIAogICAgT1ZFUkVYUE9TRUQ6IDEyLCAKICAgIEJMVVJSRUQ6IDEzLCAKICAgIElOU1VGRklDSUVOVF9TQU1QTEVTOiAxNCwgCiAgICBJTlNVRkZJQ0lFTlRfVElNRTogMTUsCiAgICBUT09fREVMQVlFRDogMTYsIAogICAgVE9PX01PVkVNRU5UOiAxNywgCiAgICBGUkVFWkVEX0RPQ1VNRU5UOiAxOCwgCiAgICBUT09fTVVDSF9ST0xMOiAxOSwgCiAgICBUT09fU01BTEw6IDIwIAp9Cgpjb25zdCBFeHRyYWN0aW9uUmVzdWx0U3RyID0gewogICAgMDogIk9LIiwKICAgIDE6ICJOT1RfRVZBTFVBVEVEIiwgICAgCiAgICAyOiAiQkFEX0FOR0xFIiwgICAgCiAgICAzOiAiVE9PX0ZBUiIsICAgIAogICAgNDogIlRPT19DTE9TRSIsICAgIAogICAgNTogIk9VVF9PRl9CT1VORFMiLCAgICAgCiAgICA2OiAiQkFEX0FTUEVDVF9SQVRJTyIsICAgIAogICAgNzogIkRPQ1VNRU5UX05PVF9GT1VORCIsICAgIAogICAgODogIkZBQ0VfTk9UX0ZPVU5EIiwgICAgCiAgICA5OiAiTVJaX05PVF9GT1VORCIsCiAgICAxMDogIkFUVFJJQlVURVNfTk9UX0ZPVU5EIiwKICAgIDExOiAiVU5ERVJFWFBPU0VEIiwgCiAgICAxMjogIk9WRVJFWFBPU0VEIiwgCiAgICAxMzogIkJMVVJSRUQiLCAKICAgIDE0OiAiSU5TVUZGSUNJRU5UX1NBTVBMRVMiLCAKICAgIDE1OiAiSU5TVUZGSUNJRU5UX1RJTUUiLAogICAgMTY6ICJUT09fREVMQVlFRCIsIAogICAgMTc6ICJUT09fTU9WRU1FTlQiLCAKICAgIDE4OiAiRlJFRVpFRF9ET0NVTUVOVCIsIAogICAgMTk6ICJUT09fTVVDSF9ST0xMIiwgCiAgICAyMDogIlRPT19TTUFMTCIgCn0KOy8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4uL2J1aWxkL3RlbXAvZW5naW5lcy9mYWNlcGhpL3dvcmtlci9GUGhpLldvcmtlci5FdmVudHMuanMKCgoKCgovKioKICogR2xvYmFsIGluc3RhbmNlcwogKi8KdmFyIGluc3RhbmNlID0gbnVsbDsKdmFyIG9jckVuZ2luZSA9IG51bGw7CnZhciBmYWNlTXJ6RW5naW5lID0gbnVsbDsKdmFyIGRvY3VtZW50RW5naW5lID0gbnVsbDsKdmFyIGRvY3VtZW50Q2FwdHVyZSA9IG51bGw7CgovKioKICogRXh0cmFjdG9yIE1vZGVscwogKi8KdmFyIGRvY3VtZW50TW9kZWwgPSBudWxsOwp2YXIgZmFjZU1vZGVsID0gbnVsbDsKdmFyIG1yek1vZGVsID0gbnVsbDsKdmFyIG9jck1vZGVsID0gbnVsbDsKCi8qKgogKiBXb3JrZXIgY29uZmlndXJhdGlvbgogKi8KdmFyIGJ1bmRsZVBhdGggPSAiIjsKdmFyIGxhc3REZXRlY3RUaW1lc3RhbXAgPSAtMTsKCi8qKgogKiBFdmVudCB0byBpbml0aWFsaXplIGFsbCByZXF1aXJlZCBjb21wb25lbnRzIGZvciB0aGUgZXh0cmFjdGlvbi4KICoKICogQHBhcmFtIHthcnJheX0gbWVzc2FnZQogKi8KY29uc3QgcHJlbG9hZEluaXRFeHRyYWN0b3IgPSBhc3luYyAobWVzc2FnZSkgPT4gewogICAgZGVidWdNZXNzYWdlKCJbV29ya2VyXTogUmVjZWl2ZWQgbWVzc2FnZSBpbiAiICsgInByZUluaXQiICsgIiBldmVudCIpOwoKICAgIC8vIFByb2Nlc3MgaW5wdXQgdmFyaWFibGVzCiAgICBidW5kbGVQYXRoID0gbWVzc2FnZS5idW5kbGVQYXRoOwoKICAgIHRyeSB7CiAgICAgICAgbGV0IHdhc21pbnN0YW5jZSA9IG51bGw7CiAgICAgICAgbGV0IGRvd25sb2FkQnVmZiA9IG51bGw7CgogICAgICAgIC8vIEFzeW5jIGZldGNoZXMgYmVmb3JlIGdldCB0aGUgbW9kZWxzIGluc3RhbmNlCiAgICAgICAgZG93bmxvYWRCdWZmID0gYXdhaXQgZmV0Y2goYnVuZGxlUGF0aCArICcvbW9kZWxzL2ZhY2VwaGlfaWRfY2FyZHNfY29ybmVyX2RldGVjdG9yXzFfMl9tb2RlbC5kYXQnKTsKICAgICAgICBkb2N1bWVudE1vZGVsID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGF3YWl0IGRvd25sb2FkQnVmZi5hcnJheUJ1ZmZlcigpKTsKCiAgICAgICAgZG93bmxvYWRCdWZmID0gYXdhaXQgZmV0Y2goYnVuZGxlUGF0aCArICcvbW9kZWxzL2ZhY2VwaGlfZmFjZV9kZXRlY3Rvcl8xXzBfbW9kZWwuZGF0Jyk7CiAgICAgICAgZmFjZU1vZGVsID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGF3YWl0IGRvd25sb2FkQnVmZi5hcnJheUJ1ZmZlcigpKTsKCiAgICAgICAgZG93bmxvYWRCdWZmID0gYXdhaXQgZmV0Y2goYnVuZGxlUGF0aCArICcvbW9kZWxzL2ZhY2VwaGlfbXJ6X2RldGVjdG9yXzFfMF9tb2RlbC5kYXQnKTsKICAgICAgICBtcnpNb2RlbCA9IG5ldyBVaW50OENsYW1wZWRBcnJheShhd2FpdCBkb3dubG9hZEJ1ZmYuYXJyYXlCdWZmZXIoKSk7CgogICAgICAgIGRvd25sb2FkQnVmZiA9IGF3YWl0IGZldGNoKGJ1bmRsZVBhdGggKyAnL21vZGVscy9mYWNlcGhpX29jcl9tcnpfMV8wX21vZGVsLmRhdCcpOwogICAgICAgIG9jck1vZGVsID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGF3YWl0IGRvd25sb2FkQnVmZi5hcnJheUJ1ZmZlcigpKTsKCiAgICAgICAgLy8gQXN5bmMgZmV0Y2ggYmVmb3JlIGdldCB0aGUgaW5zdGFuY2UKICAgICAgICBkb3dubG9hZEJ1ZmYgPSBhd2FpdCBmZXRjaChidW5kbGVQYXRoICsgIi9GUEJSZWNvZ25pdGlvbi53YXNtIik7CiAgICAgICAgd2FzbWluc3RhbmNlID0gYXdhaXQgZG93bmxvYWRCdWZmLmFycmF5QnVmZmVyKCk7CgogICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGluc3RhbmNlIGluIGdsb2JhbHMgaW5zdGFuY2UKICAgICAgICBpbnN0YW5jZSA9IGF3YWl0IEZQaGlfV29ya2VyX1J1bnRpbWUoewogICAgICAgICAgICB3YXNtQmluYXJ5IDogd2FzbWluc3RhbmNlLAogICAgICAgICAgICBvblJ1bnRpbWVJbml0aWFsaXplZCA6ICgpID0+IHNlbGYucG9zdE1lc3NhZ2UoeyBjbWQ6ICJyZWFkeSIgfSkKICAgICAgICB9KQoKICAgICAgICAvLyBSZXBvcnQgdGhlIHN1Y2Nlc3NmdWwgbG9hZCBvZiBpbnN0YW5jZSB0byBkZWJ1ZyBtZXNzYWdlCiAgICAgICAgZGVidWdNZXNzYWdlKCJbV29ya2VyXTogUHJlbG9hZGluZyB3YXNtIGluc3RhbmNlIGZyb20gcGF0aDogIiArIGJ1bmRsZVBhdGggKyAiL0ZQQlJlY29nbml0aW9uLndhc20iKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyBDcml0aWNhbCBlcnJvciBoYXMgb2NjdXJyZWQgaW4gdGhlIFdvcmtlciBTaWRlLCBzZW5kaW5nIHRvIG1haW4gdGhyZWFkCiAgICAgICAgZXJyb3JNZXNzYWdlKCJbV29ya2VyXTogIiArIGUpOwogICAgfQp9CgovKioKICogRXZlbnQgdG8gaW5pdGlhbGl6ZSBhbGwgcmVxdWlyZWQgZW5naW5lcyBmb3IgdGhlIGV4dHJhY3Rpb24uCiAqLwpjb25zdCBpbml0aWFsaXplRXh0cmFjdG9yID0gYXN5bmMgKCkgPT4gewogICAgLy8gUHJlcGFyZSB0aGUgZGlhZ25vc3RpY0NvZGUgaW5zdGFuY2UKICAgIGxldCBkaWFnbm9zdGljQ29kZSA9IC0xOwoKICAgIC8vIFJlY292ZXIgdGhlIHJlZmVyZW5jZSB0byBlcnJvciBjb2RlIGZ1bmN0aW9ucwogICAgY29uc3QgZXJyb3JDb2RlID0gaW5zdGFuY2UuZ2V0TWVzc2FnZUVycm9yQ29kZURvY3VtZW50OwoKICAgIHRyeSB7CiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgZW5naW5lcwogICAgICAgIG9jckVuZ2luZSA9IG5ldyBpbnN0YW5jZS5SZWNvZ25pemVyT0NSRW5naW5lKCk7CiAgICAgICAgZG9jdW1lbnRDYXB0dXJlID0gbmV3IGluc3RhbmNlLkRvY3VtZW50Q2FwdHVyZUVuZ2luZSgpOwogICAgICAgIGZhY2VNcnpFbmdpbmUgPSBuZXcgaW5zdGFuY2UuUmVjb2duaXplckZhY2VNcnpFbmdpbmUoKTsKCiAgICAgICAgLy8gQ2hlY2sgaWYgaXMgbG9hYmxlIHRoZSBtb2RlbHMgYW5kIGxvYWQgaXQKICAgICAgICBpZigoZGlhZ25vc3RpY0NvZGUgPSBlcnJvckNvZGUoZG9jdW1lbnRDYXB0dXJlLmxvYWREb2N1bWVudERhdGFGcm9tQnVmZmVyKGRvY3VtZW50TW9kZWwpKSkgIT09ICJPSyIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFcnJvciBsb2FkaW5nIHRoZSBtb2RlbCAnRG9jdW1lbnRDYXB0dXJlJywgIiwgZGlhZ25vc3RpY0NvZGUpOwogICAgICAgIH0gZWxzZSBpZigoZGlhZ25vc3RpY0NvZGUgPSBlcnJvckNvZGUoZmFjZU1yekVuZ2luZS5sb2FkTXJ6RGF0YUZyb21CdWZmZXIobXJ6TW9kZWwpKSkgIT09ICJPSyIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFcnJvciBsb2FkaW5nIHRoZSBtb2RlbCAnTXJ6TW9kZWwnLCAiLCBkaWFnbm9zdGljQ29kZSk7CiAgICAgICAgfSBlbHNlIGlmKChkaWFnbm9zdGljQ29kZSA9IGVycm9yQ29kZShmYWNlTXJ6RW5naW5lLmxvYWRGYWNlRGF0YUZyb21CdWZmZXIoZmFjZU1vZGVsKSkpICE9PSAiT0siKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRXJyb3IgbG9hZGluZyB0aGUgbW9kZWwgJ0ZhY2VNb2RlbCcsICIsIGRpYWdub3N0aWNDb2RlKTsKICAgICAgICB9IGVsc2UgaWYoKGRpYWdub3N0aWNDb2RlID0gZXJyb3JDb2RlKG9jckVuZ2luZS5sb2FkT2NyRGF0YUZyb21CdWZmZXIob2NyTW9kZWwpKSkgIT09ICJPSyIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFcnJvciBsb2FkaW5nIHRoZSBtb2RlbCAnT2NyTW9kZWwnLCAiLCBkaWFnbm9zdGljQ29kZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gTG9hZCB0aGUgcmVzdCBvZiB1c2VkIG1vZGVscyBvZiBmYWNlIGVuZ2luZS4KICAgICAgICAgICAgZmFjZU1yekVuZ2luZS5sb2FkRG9jdW1lbnREYXRhRnJvbUJ1ZmZlcihkb2N1bWVudE1vZGVsKTsKCiAgICAgICAgICAgIC8vIExvYWQgdGhlIHJlc3Qgb2YgdXNlZCBtb2RlbHMgb2Ygb2NyIGVuZ2luZS4KICAgICAgICAgICAgb2NyRW5naW5lLmxvYWREb2N1bWVudERhdGFGcm9tQnVmZmVyKGRvY3VtZW50TW9kZWwpOwogICAgICAgICAgICBvY3JFbmdpbmUubG9hZE1yekRhdGFGcm9tQnVmZmVyKG1yek1vZGVsKTsKCiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoeyBjbWQ6ICJpbml0IiB9KTsKICAgICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gQ3JpdGljYWwgZXJyb3IgaGFzIG9jY3VycmVkIGluIHRoZSBXb3JrZXIgU2lkZSwgc2VuZGluZyB0byBtYWluIHRocmVhZAogICAgICAgIGVycm9yTWVzc2FnZSgiW1dvcmtlcl06ICIgKyBlKTsKICAgIH0KfQoKLyoqCiAqIEV2ZW50IHRvIGRldGVjdCB0aGUgZG9jdW1lbnQgYW5kIGV4dHJhY3QgZGF0YQogKgogKiBAcGFyYW0ge2FycmF5fSBtZXNzYWdlCiAqLwpjb25zdCBkZXRlY3QgPSBhc3luYyAobWVzc2FnZSkgPT4gewogICAgbGV0IHBvc3REYXRhID0geyBjbWQ6ICJkZXRlY3QiLCByZXN1bHQ6IHt9IH07CgogICAgLy8gTWVhc3VyZSB0aGUgdGltZSBiZXR3ZWVuIGRldGVjdGlvbnMKICAgIHBvc3REYXRhLm1wcyA9IE1hdGgucm91bmQoKDEgLyBkaWZmVGltZShsYXN0RGV0ZWN0VGltZXN0YW1wKSkgKiAxMDApIC8gMTAwOwoKICAgIC8vIFJlZnJlc2ggdGhlIHRpbWVzdGFtcAogICAgbGFzdERldGVjdFRpbWVzdGFtcCA9IERhdGUubm93KCk7CgogICAgbGV0IGVycm9yVGlsdCA9IDE7CgogICAgbGV0IGltYWdlUGFyYW0gPSBtZXNzYWdlLmltYWdlOwogICAgbGV0IGltYWdlRGF0YVBhcmFtID0gbmV3IEltYWdlRGF0YShtZXNzYWdlLmltYWdlLCBtZXNzYWdlLndpZHRoLCBtZXNzYWdlLmhlaWdodCk7CiAgICBsZXQgYWNjZXNzaWJpbGl0eVBhcmFtID0gbWVzc2FnZS5hY2Nlc3NpYmlsaXR5OwogICAgbGV0IHRlc3RpbmdUaW1lc3RhbXAgPSBtZXNzYWdlLnRpbWVzdGFtcCB8fCAtMTsKCiAgICBsZXQgcmVzdWx0T2NyID0gbnVsbDsKICAgIGxldCByZXN1bHRGYWNlTXJ6ID0gbnVsbDsKICAgIGxldCByZXN1bHREb2N1bWVudCA9IG51bGw7CiAgICBsZXQgc2l6ZU9iaiA9IG51bGw7CiAgICBsZXQgaW1hZ2VPYmogPSBudWxsOwogICAgbGV0IG9wdGlvbnMgPSBudWxsOwoKICAgIGxldCBmYWNlSW1hZ2UgPSBudWxsOwogICAgbGV0IGRvY3VtZW50SW1hZ2UgPSBudWxsOwoKICAgIHRyeSB7CiAgICAgICAgc2l6ZU9iaiA9IG5ldyBpbnN0YW5jZS5TaXplKG1lc3NhZ2Uud2lkdGgsIG1lc3NhZ2UuaGVpZ2h0KTsKICAgICAgICBpbWFnZU9iaiA9IG5ldyBpbnN0YW5jZS5JbWFnZShpbWFnZVBhcmFtLCBzaXplT2JqLCBpbnN0YW5jZS5PcmllbnRhdGlvbi5GQUNFX1VQLCBpbnN0YW5jZS5JbWFnZUZvcm1hdC5SR0JBKTsKICAgICAgICBvcHRpb25zID0gbmV3IGluc3RhbmNlLlJlY29nbml6ZXJPcHRpb25zKCk7CiAgICAgICAgc2l6ZU9iai5kZWxldGUoKTsKCiAgICAgICAgaWYgKHRlc3RpbmdUaW1lc3RhbXAgPiAwKSB7CiAgICAgICAgICAgIGltYWdlT2JqLnNldFRpbWVzdGFtcCh0ZXN0aW5nVGltZXN0YW1wLnRvU3RyaW5nKCkpOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0RG9jdW1lbnQgPSBkb2N1bWVudENhcHR1cmUucmVjb2duaXplRnJvbUltYWdlKGltYWdlT2JqKQoKICAgICAgICBpZihyZXN1bHREb2N1bWVudC5kaXFhUmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgcmVzdWx0RG9jdW1lbnQuZGlxYVJlc3VsdC5kaWFnbm9zdGljLnZhbHVlICE9PSAxKXsKICAgICAgICAgICAgcG9zdERhdGEucmVzdWx0WyJkaXFhUmVzdWx0Il0gPSB7CiAgICAgICAgICAgICAgICBibHVyIDogcmVzdWx0RG9jdW1lbnQuZGlxYVJlc3VsdC5ibHVyLAogICAgICAgICAgICAgICAgZXhwb3N1cmUgOiByZXN1bHREb2N1bWVudC5kaXFhUmVzdWx0LmV4cG9zdXJlLAogICAgICAgICAgICAgICAgZXhwb3N1cmVNZWRpYW4gOiByZXN1bHREb2N1bWVudC5kaXFhUmVzdWx0LmV4cG9zdXJlTWVkaWFuLAogICAgICAgICAgICAgICAgZGlhZ25vc3RpYyA6IHJlc3VsdERvY3VtZW50LmRpcWFSZXN1bHQuZGlhZ25vc3RpYy52YWx1ZQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZihyZXN1bHREb2N1bWVudC5zaGFwZUZpbHRlckRpYWdub3N0aWMgIT09IHVuZGVmaW5lZCAmJiByZXN1bHREb2N1bWVudC5zaGFwZUZpbHRlckRpYWdub3N0aWMudmFsdWUgIT09IDEpewogICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbInNoYXBlRmlsdGVyRGlhZ25vc3RpYyJdID0gewogICAgICAgICAgICAgICAgZGlhZ25vc3RpYyA6IHJlc3VsdERvY3VtZW50LnNoYXBlRmlsdGVyRGlhZ25vc3RpYy52YWx1ZQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzdWx0RG9jdW1lbnQuZXJyb3IgPT09IGluc3RhbmNlLkRvY3VtZW50RXJyb3JDb2RlLk9LICYmIHJlc3VsdERvY3VtZW50LmRpYWdub3N0aWMgPT09IGluc3RhbmNlLkRvY3VtZW50RGlhZ25vc3RpYy5PSyApewogICAgICAgICAgICAvLyBQcmVwYXJlIGV4dHJhY3Rpb24gb3B0aW9ucwogICAgICAgICAgICBvcHRpb25zLmdlbmVyYXRlSW1hZ2UgPSB0cnVlOwoKICAgICAgICAgICAgLy8gU2V0IHRoZSBkb2N1bWVudExvY2F0aW9uIG9iamVjdAogICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbImRvY3VtZW50TG9jYXRpb24iXSA9IHsKICAgICAgICAgICAgICAgIHRvcFJpZ2h0OiB7CiAgICAgICAgICAgICAgICAgICAgeDogcmVzdWx0RG9jdW1lbnQuZG9jdW1lbnRMb2NhdGlvbi50b3BSaWdodC54LAogICAgICAgICAgICAgICAgICAgIHk6IHJlc3VsdERvY3VtZW50LmRvY3VtZW50TG9jYXRpb24udG9wUmlnaHQueQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHRvcExlZnQ6IHsKICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHREb2N1bWVudC5kb2N1bWVudExvY2F0aW9uLnRvcExlZnQueCwKICAgICAgICAgICAgICAgICAgICB5OiByZXN1bHREb2N1bWVudC5kb2N1bWVudExvY2F0aW9uLnRvcExlZnQueQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJvdHRvbVJpZ2h0OiB7CiAgICAgICAgICAgICAgICAgICAgeDogcmVzdWx0RG9jdW1lbnQuZG9jdW1lbnRMb2NhdGlvbi5ib3R0b21SaWdodC54LAogICAgICAgICAgICAgICAgICAgIHk6IHJlc3VsdERvY3VtZW50LmRvY3VtZW50TG9jYXRpb24uYm90dG9tUmlnaHQueQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJvdHRvbUxlZnQ6IHsKICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHREb2N1bWVudC5kb2N1bWVudExvY2F0aW9uLmJvdHRvbUxlZnQueCwKICAgICAgICAgICAgICAgICAgICB5OiByZXN1bHREb2N1bWVudC5kb2N1bWVudExvY2F0aW9uLmJvdHRvbUxlZnQueQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgYmVzdEltYWdlID0gcmVzdWx0RG9jdW1lbnQuYmVzdEltYWdlOwoKICAgICAgICAgICAgLy8gUHJvY2VzcyBkb2N1bWVudCBleHRyYWN0aW9uCiAgICAgICAgICAgIGRvY3VtZW50SW1hZ2UgPSBpbnN0YW5jZS5jcm9wSW1hZ2VXaXRoTG9jYXRpb24oYmVzdEltYWdlLCByZXN1bHREb2N1bWVudC5kb2N1bWVudExvY2F0aW9uKTsKCiAgICAgICAgICAgIC8vUmVzZXQgRG9jdW1lbnRDYXB0dXJlRW5naW5lCiAgICAgICAgICAgIGRvY3VtZW50Q2FwdHVyZS5yZXNldCgpOwoKICAgICAgICAgICAgLy8gU2V0IHRoZSBkb2N1bWVudEltYWdlIG9iamVjdAogICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbImRvY3VtZW50SW1hZ2UiXSA9IHsKICAgICAgICAgICAgICAgIGJ1ZmZlcjogbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGRvY3VtZW50SW1hZ2UuaW1hZ2VUb1JnYmEoKSksCiAgICAgICAgICAgICAgICB3aWR0aDogZG9jdW1lbnRJbWFnZS53aWR0aCgpLAogICAgICAgICAgICAgICAgaGVpZ2h0OiBkb2N1bWVudEltYWdlLmhlaWdodCgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGRvY3VtZW50SW1hZ2UuZGVsZXRlKCk7CgogICAgICAgICAgICAvLyBHZXQgZGF0YSBmcm9tIEZhY2VNcnpFbmdpbmUKICAgICAgICAgICAgcmVzdWx0RmFjZU1yeiA9IGZhY2VNcnpFbmdpbmUucmVjb2duaXplRnJvbUltYWdlKGJlc3RJbWFnZSwgb3B0aW9ucyk7CgogICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbImZhY2VEZXRlY3QiXSA9IHJlc3VsdEZhY2VNcnouZmFjZUxvY2F0aW9uLmlzVmFsaWQoKTsKICAgICAgICAgICAgcG9zdERhdGEucmVzdWx0WyJtcnpEZXRlY3QiXSA9IHJlc3VsdEZhY2VNcnoubXJ6TG9jYXRpb24uaXNWYWxpZCgpOwoKICAgICAgICAgICAgLy8gUHJvY2VzcyBGYWNlIExvY2F0aW9uCiAgICAgICAgICAgIGlmIChyZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi5pc1ZhbGlkKCkpIHsKICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgZmFjZUxvY2F0aW9uIG9iamVjdAogICAgICAgICAgICAgICAgcG9zdERhdGEucmVzdWx0WyJmYWNlTG9jYXRpb24iXSA9IHsKICAgICAgICAgICAgICAgICAgICB0b3BSaWdodDogewogICAgICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi50b3BSaWdodC54LAogICAgICAgICAgICAgICAgICAgICAgICB5OiByZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi50b3BSaWdodC55CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB0b3BMZWZ0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlc3VsdEZhY2VNcnouZmFjZUxvY2F0aW9uLnRvcExlZnQueCwKICAgICAgICAgICAgICAgICAgICAgICAgeTogcmVzdWx0RmFjZU1yei5mYWNlTG9jYXRpb24udG9wTGVmdC55CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBib3R0b21SaWdodDogewogICAgICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi5ib3R0b21SaWdodC54LAogICAgICAgICAgICAgICAgICAgICAgICB5OiByZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi5ib3R0b21SaWdodC55CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBib3R0b21MZWZ0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlc3VsdEZhY2VNcnouZmFjZUxvY2F0aW9uLmJvdHRvbUxlZnQueCwKICAgICAgICAgICAgICAgICAgICAgICAgeTogcmVzdWx0RmFjZU1yei5mYWNlTG9jYXRpb24uYm90dG9tTGVmdC55CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIGRvY3VtZW50IGV4dHJhY3Rpb24KICAgICAgICAgICAgICAgIGZhY2VJbWFnZSA9IGluc3RhbmNlLmNyb3BJbWFnZVdpdGhMb2NhdGlvbihiZXN0SW1hZ2UsIHJlc3VsdEZhY2VNcnouZmFjZUxvY2F0aW9uKTsKCiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGZhY2VJbWFnZSBvYmplY3QKICAgICAgICAgICAgICAgIHBvc3REYXRhLnJlc3VsdFsiZmFjZUltYWdlIl0gPSB7CiAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBuZXcgVWludDhDbGFtcGVkQXJyYXkoZmFjZUltYWdlLmltYWdlVG9SZ2JhKCkpLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiBmYWNlSW1hZ2Uud2lkdGgoKSwKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGZhY2VJbWFnZS5oZWlnaHQoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBmYWNlSW1hZ2UuZGVsZXRlKCk7CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcG9zdERhdGFbImRpYWdub3N0aWMiXSA9IEV4dHJhY3Rpb25SZXN1bHQuRkFDRV9OT1RfRk9VTkQ7CiAgICAgICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbImRpYWdub3N0aWMiXSA9IEV4dHJhY3Rpb25SZXN1bHQuRkFDRV9OT1RfRk9VTkQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChyZXN1bHRGYWNlTXJ6Lm1yekxvY2F0aW9uLmlzVmFsaWQoKSkgewogICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBtcnpMb2NhdGlvbiBvYmplY3QKICAgICAgICAgICAgICAgIHBvc3REYXRhLnJlc3VsdFsibXJ6TG9jYXRpb24iXSA9IHsKICAgICAgICAgICAgICAgICAgICB0b3BSaWdodDogewogICAgICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHRGYWNlTXJ6Lm1yekxvY2F0aW9uLnRvcFJpZ2h0LngsCiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHJlc3VsdEZhY2VNcnoubXJ6TG9jYXRpb24udG9wUmlnaHQueQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgdG9wTGVmdDogewogICAgICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHRGYWNlTXJ6Lm1yekxvY2F0aW9uLnRvcExlZnQueCwKICAgICAgICAgICAgICAgICAgICAgICAgeTogcmVzdWx0RmFjZU1yei5tcnpMb2NhdGlvbi50b3BMZWZ0LnkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGJvdHRvbVJpZ2h0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlc3VsdEZhY2VNcnoubXJ6TG9jYXRpb24uYm90dG9tUmlnaHQueCwKICAgICAgICAgICAgICAgICAgICAgICAgeTogcmVzdWx0RmFjZU1yei5tcnpMb2NhdGlvbi5ib3R0b21SaWdodC55CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBib3R0b21MZWZ0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlc3VsdEZhY2VNcnoubXJ6TG9jYXRpb24uYm90dG9tTGVmdC54LAogICAgICAgICAgICAgICAgICAgICAgICB5OiByZXN1bHRGYWNlTXJ6Lm1yekxvY2F0aW9uLmJvdHRvbUxlZnQueQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIE9DUiBEYXRhCiAgICAgICAgICAgICAgICByZXN1bHRPY3IgPSBvY3JFbmdpbmUucmVjb2duaXplRnJvbUltYWdlKGJlc3RJbWFnZSwgb3B0aW9ucyk7CgogICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBPQ1IgUmVzdWx0cwogICAgICAgICAgICAgICAgaWYgKHJlc3VsdE9jci5vY3JSZXN1bHQgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgcG9zdERhdGEucmVzdWx0Lm9jclJlc3VsdCA9IHJlc3VsdE9jci5vY3JSZXN1bHQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gRGVsZXRlIHJlc3VsdCBvZiBNUloKICAgICAgICAgICAgICAgIHJlc3VsdE9jci5kZWxldGUoKTsKICAgICAgICAgICAgICAgIGJlc3RJbWFnZS5kZWxldGUoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoIXJlc3VsdEZhY2VNcnoubXJ6TG9jYXRpb24uaXNWYWxpZCgpICYmICFyZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi5pc1ZhbGlkKCkpIHsKICAgICAgICAgICAgICAgIHBvc3REYXRhWyJkaWFnbm9zdGljIl0gPSBFeHRyYWN0aW9uUmVzdWx0LkFUVFJJQlVURVNfTk9UX0ZPVU5EOwogICAgICAgICAgICAgICAgcG9zdERhdGEucmVzdWx0WyJkaWFnbm9zdGljIl0gPSBFeHRyYWN0aW9uUmVzdWx0LkFUVFJJQlVURVNfTk9UX0ZPVU5EOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcG9zdERhdGFbImRpYWdub3N0aWMiXSA9IHJlc3VsdERvY3VtZW50LmRpYWdub3N0aWMudmFsdWU7CiAgICAgICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbImRpYWdub3N0aWMiXSA9IHJlc3VsdERvY3VtZW50LmRpYWdub3N0aWMudmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENsZWFuIHJlc3VsdCBkb2N1bWVudAogICAgICAgICAgICByZXN1bHREb2N1bWVudC5kZWxldGUoKTsKCiAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgZmFjZSByZXN1bHQgZXh0cmFjdGlvbgogICAgICAgICAgICByZXN1bHRGYWNlTXJ6LmRlbGV0ZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9fY2xlYW5BY2Nlc3NpYmlsaXR5RXJyb3JzKHBvc3REYXRhLCByZXN1bHREb2N1bWVudCwgYWNjZXNzaWJpbGl0eVBhcmFtKTsKICAgICAgICB9CgogICAgICAgIC8vIENsZWFudXAgV2ViQXNzZW1ibHkgT2JqZWN0cwogICAgICAgIGRlbGV0ZVdhc21WYXIoCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgIHNpemVPYmosCiAgICAgICAgICAgIGltYWdlT2JqCiAgICAgICAgKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyBDbGVhbnVwIHRoZSByZXN1bHQgZm9yIGF2b2lkIHBhcnRpYWwgZGV0ZWN0aW9uIHJlc3VsdHMKICAgICAgICBwb3N0RGF0YS5yZXN1bHQgPSB7fTsKCiAgICAgICAgLy8gU2V0IHRoZSBlcnJvciBjb2RlIGZvciBjYXRjaAogICAgICAgIF9fY2xlYW5BY2Nlc3NpYmlsaXR5RXJyb3JzKHBvc3REYXRhLCB7IGRpYWdub3N0aWM6IHsgdmFsdWU6IGVycm9yVGlsdCB9IH0sIGFjY2Vzc2liaWxpdHlQYXJhbSk7CgogICAgICAgIC8vIFNlbmQgbG9ncyBpbnRvIHdlYiBjb25zb2xlCiAgICAgICAgZXJyb3JNZXNzYWdlKCJbV29ya2VyXTogIiArIGUpOwoKICAgICAgICAvLyBDbGVhbnVwIFdlYkFzc2VtYmx5IE9iamVjdHMKICAgICAgICBkZWxldGVXYXNtVmFyKAogICAgICAgICAgICBmYWNlSW1hZ2UsCiAgICAgICAgICAgIGRvY3VtZW50SW1hZ2UsCiAgICAgICAgICAgIHJlc3VsdE9jciwKICAgICAgICAgICAgcmVzdWx0RmFjZU1yeiwKICAgICAgICAgICAgcmVzdWx0RG9jdW1lbnQsCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgIHNpemVPYmosCiAgICAgICAgICAgIGltYWdlT2JqCiAgICAgICAgKTsKICAgIH0KCiAgICAvLyBTZW5kIGluZm9ybWF0aW9uIHRvIG1haW4gdGhyZWFkCiAgICBzZWxmLnBvc3RNZXNzYWdlKHBvc3REYXRhKTsKfQoKLyoqCiAqIEdldCB0aGUgZXh0cmFjdG9yIHZlcnNpb24gZnJvbSBXZWJBc3NlbWJseSBzaWRlLgogKi8KY29uc3QgdmVyc2lvbiA9IGFzeW5jICgpID0+IHsKICAgIGxldCByZXR1cm5Kc29uID0geyBjbWQgOiAidmVyc2lvbiIgfTsKCiAgICByZXR1cm5Kc29uWyJ2ZXJzaW9uIl0gPSBpbnN0YW5jZS5nZXRWZXJzaW9uKCk7CgogICAgc2VsZi5wb3N0TWVzc2FnZShyZXR1cm5Kc29uKTsKfQoKLyoqCiAqIERlc3Ryb3kgY3JlYXRlZCBvYmplY3RzIGluIFdlYkFzc2VtYmx5IHNpZGUKICovCiBjb25zdCBkZXN0cm95ID0gYXN5bmMgKCkgPT4gewogICAgLy8gRGVzdHJveSBXZWJBc3NlbWJseSBHbG9iYWxzCiAgICBkZWxldGVXYXNtVmFyKAogICAgICAgIGluc3RhbmNlLAogICAgICAgIG9jckVuZ2luZSwKICAgICAgICBmYWNlTXJ6RW5naW5lLAogICAgICAgIGRvY3VtZW50RW5naW5lLAogICAgICAgIGRvY3VtZW50Q2FwdHVyZQogICAgKTsKCiAgICAvLyBDbG9zZSBXb3JrZXIgVGhyZWFkCiAgICBjbG9zZSgpOwp9OwoKLyoqCiAqIFJlc2V0IGJ1ZmZlcnMgb24gZGVtYW5kCiAqLwpjb25zdCByZXNldEJ1ZmZlcnMgPSBhc3luYyAoKSA9PiB7CiAgICBsZXQgcmV0dXJuSnNvbiA9IHsgY21kOiAicmVzZXRCdWZmZXJzIiB9OwoKICAgIGRvY3VtZW50Q2FwdHVyZS5yZXNldCgpOwoKICAgIHNlbGYucG9zdE1lc3NhZ2UocmV0dXJuSnNvbik7Cn0KCi8qKgogKiBNZXRob2QgdG8gY2xlYW4gdGhlIGFjY2Vzc2liaWxpdHkgZGF0YSBpZiBpcyBuZWVkZWQKICoKICogQHBhcmFtIHthcnJheX0gcG9zdERhdGEgVGhlIG9iamVjdCB3aXRoIGRhdGEgYmVmb3JlIHNlbnQgaXQKICogQHBhcmFtIHthcnJheX0gcmVzdWx0RGV0ZWN0IFJhdyBkZXRlY3Rpb24gZGF0YQogKiBAcGFyYW0ge2Jvb2xlYW59IGFjY2Vzc2liaWxpdHlQYXJhbSBUaGUgYWNjZXNzaWJpbGl0eSBwYXJhbSBlbmFibGVkCiAqLwpjb25zdCBfX2NsZWFuQWNjZXNzaWJpbGl0eUVycm9ycyA9IChwb3N0RGF0YSwgcmVzdWx0RGV0ZWN0LCBhY2Nlc3NpYmlsaXR5UGFyYW0pID0+IHsKICAgIGlmIChhY2Nlc3NpYmlsaXR5UGFyYW0gIT09IHRydWUpIHsKICAgICAgICBwb3N0RGF0YS5kaWFnbm9zdGljID0gcmVzdWx0RGV0ZWN0LmRpYWdub3N0aWMudmFsdWU7CiAgICB9IGVsc2UgewogICAgICAgIHBvc3REYXRhLmRpYWdub3N0aWMgPSAwOwogICAgfQp9CgoKCjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuLi9idWlsZC90ZW1wL2VuZ2luZXMvZmFjZXBoaS93b3JrZXIvRlBoaS5Xb3JrZXIuTWFpbi5qcwoKCgovKioKICogT3V0cHV0IG1lc3NhZ2VzIHBhc3NlZCBieSB0aGUgbG9nZ2VyIHN5c3RlbS4KICovCi8vIGNvbnNvbGUubG9nID0gbG9nZ2VyLmluZm9NZXNzYWdlOwovLyBjb25zb2xlLndhcm4gPSBsb2dnZXIud2FybmluZ01lc3NhZ2U7Ci8vIGNvbnNvbGUuZGVidWcgPSBsb2dnZXIuZGVidWdNZXNzYWdlOwovLyBjb25zb2xlLmVycm9yID0gbG9nZ2VyLmVycm9yTWVzc2FnZTsKCgovKioKICogRW50cnlwb2ludCBvZiBtZXNzYWdlIGRhdGEgcmVjZWl2ZWQKICoKICogQHBhcmFtIHtvYmplY3R9IG1lc3NhZ2UgdGhlIG9iamVjdCBvZiB0aGUgZXZlbnQKICovCnNlbGYub25tZXNzYWdlID0gKG1lc3NhZ2UpID0+IHsKICAgIHN3aXRjaCAobWVzc2FnZS5kYXRhLmNtZCkgewogICAgICAgIGNhc2UgInByZUluaXQiOgogICAgICAgICAgICBwcmVsb2FkSW5pdEV4dHJhY3RvcihtZXNzYWdlLmRhdGEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJpbml0IjoKICAgICAgICAgICAgaW5pdGlhbGl6ZUV4dHJhY3RvcihtZXNzYWdlLmRhdGEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJkZXRlY3QiOgogICAgICAgICAgICBkZXRlY3QobWVzc2FnZS5kYXRhKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAidmVyc2lvbiI6CiAgICAgICAgICAgIHZlcnNpb24obWVzc2FnZS5kYXRhKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiZGVzdHJveSI6CiAgICAgICAgICAgIGRlc3Ryb3kobWVzc2FnZS5kYXRhKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVzZXRCdWZmZXJzIjoKICAgICAgICAgICAgcmVzZXRCdWZmZXJzKG1lc3NhZ2UuZGF0YSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGRlYnVnTWVzc2FnZSgidW5rbm93bk1lc3NhZ2UiKTsKICAgICAgICAgICAgYnJlYWs7CiAgICB9Cgp9Cg==\")], {\n        type: \"text/javascript\"\n      }))), b));\n    }\n\n    async initializeEngine() {\n      try {\n        this.__worker.postMessage({\n          cmd: \"preInit\",\n          licenseKey: this.__licenseKey,\n          bundlePath: this.__engineLocation + \"/FPhi.Engine.Facephi\",\n          imageFormat: this.__imageFormat,\n          imageQuality: this.__imageQuality,\n          blurredThreshold: this.__blurredThreshold\n        }), await new Promise(e => {\n          this.__worker.onmessage = t => {\n            \"ready\" === t.data.cmd && e();\n          };\n        }), this.__worker.postMessage({\n          cmd: \"init\"\n        }), await new Promise(e => {\n          this.__worker.onmessage = t => {\n            \"init\" === t.data.cmd && e();\n          };\n        });\n      } catch (e) {\n        throw new Error(\"Fail to initialize the engine!\");\n      }\n    }\n\n    detectImage(e) {\n      const {\n        width: t,\n        height: i\n      } = e,\n            l = e.getContext(\"2d\").getImageData(0, 0, t, i);\n      return this.__worker.postMessage({\n        cmd: \"detect\",\n        image: l.data,\n        width: t,\n        height: i,\n        accessibility: this.__accessibility,\n        timestamp: Date.now()\n      }), new Promise(e => {\n        this.__worker.onmessage = t => {\n          \"detect\" === t.data.cmd && e(this.__generateResultObject(t.data));\n        };\n      });\n    }\n\n    async cleanImageBuffer() {\n      return this.__frontDocument = null, this.__faceImage = null, this.__backDocument = null, this.__worker.postMessage({\n        cmd: \"resetBuffers\"\n      }), new Promise(e => {\n        this.__worker.onmessage = t => {\n          \"resetBuffers\" === t.data.cmd && e();\n        };\n      });\n    }\n\n    async finalizeEngine() {\n      this.__worker.postMessage({\n        cmd: \"destroy\"\n      });\n    }\n\n    get __attributes() {\n      return {\n        licenseKey: {\n          type: \"string\",\n          property: \"__licenseKey\"\n        },\n        bundlePath: {\n          type: \"string\",\n          property: \"__engineLocation\"\n        },\n        imageFormat: {\n          type: \"string\",\n          property: \"__imageFormat\"\n        },\n        imageQuality: {\n          type: \"number\",\n          property: \"__imageQuality\"\n        },\n        accessibility: {\n          type: \"boolean\",\n          property: \"__accessibility\"\n        },\n        blurredThreshold: {\n          type: \"number\",\n          property: \"__blurredThreshold\"\n        }\n      };\n    }\n\n    get __scanResultType() {\n      return {\n        0: 0,\n        1: 1,\n        2: 2,\n        3: 3,\n        4: 4,\n        5: 5,\n        6: 6,\n        7: 7,\n        8: 8,\n        9: 9,\n        10: 10,\n        11: 11,\n        12: 12,\n        13: 13,\n        14: 14,\n        15: 15,\n        16: 16,\n        17: 17,\n        18: 18,\n        19: 19,\n        20: 20\n      };\n    }\n\n    __mapperToRealConfig(e) {\n      for (const [t, i] of Object.entries(e)) void 0 !== this.__attributes[t] && (this[this.__attributes[t].property] = i);\n    }\n\n    __transformDate(e) {\n      try {\n        let t, i, l;\n        const a = Number(new Date().getFullYear().toString().slice(-2));\n        return t = parseInt(e.slice(0, 2)) > a ? \"19\" + e.slice(0, 2) : \"20\" + e.slice(0, 2), i = e.slice(2, 4), l = e.slice(4, 7), l + \"/\" + i + \"/\" + t;\n      } catch (e) {\n        return null;\n      }\n    }\n\n    __generateResultObject(e) {\n      let t = {};\n      const i = {};\n      if (t.diagnostic = this.__scanResultType[e.result.diagnostic], t.detectionStatus = {\n        status: this.__scanResultType[e.result.diagnostic],\n        quad: 0,\n        glare: 0,\n        internalStatus: e.result.diagnostic\n      }, t.simpleModeOutput = 0, void 0 !== e.result.diqaResult && e.result.diqaResult.blur < this.__blurredThreshold) return this.__generateErrorResultObject(13);\n\n      if (0 === e.result.diagnostic) {\n        if (!1 !== e.result.faceDetect) {\n          const t = e.result.documentImage.buffer,\n                l = e.result.documentImage.width,\n                a = e.result.documentImage.height;\n          this.__frontDocument = new ImageData(new Uint8ClampedArray(t), l, a, i);\n          const n = e.result.faceImage.buffer,\n                s = e.result.faceImage.width,\n                d = e.result.faceImage.height;\n          this.__faceImage = new ImageData(new Uint8ClampedArray(n), s, d, i);\n        } else {\n          const t = e.result.documentImage.buffer,\n                l = e.result.documentImage.width,\n                a = e.result.documentImage.height;\n          this.__backDocument = new ImageData(new Uint8ClampedArray(t), l, a, i);\n        }\n\n        if (t.images = {\n          frontDocument: this.__convertToImageOutput(this.__frontDocument),\n          faceImage: this.__convertToImageOutput(this.__faceImage),\n          backDocument: this.__convertToImageOutput(this.__backDocument),\n          signatureImage: null\n        }, t.imagesRaw = {\n          frontDocument: this.__frontDocument,\n          faceImage: this.__faceImage,\n          backDocument: this.__backDocument,\n          signatureImage: null\n        }, t.extractionRaw = {}, this.__mrzRawString = e.result.ocrResult, !1 !== e.result.mrzDetect && void 0 !== this.__mrzRawString && 93 === this.__mrzRawString.length) {\n          let e = (e => {\n            if (null != e && \"\" !== e) {\n              let t = {},\n                  i = null,\n                  l = null;\n              const a = e.split(\"\\n\");\n\n              if (a.length >= 3) {\n                const e = new RegExp(\"([A|C|I][A-Z0-9<]{1})([A-Z]{3})([A-Z0-9<]{9})([0-9<]{1})([A-Z0-9<]{15})\"),\n                      n = new RegExp(\"([0-9]{6})([0-9]{1})(.{1})([0-9]{6})([0-9]{1})([A-Z]{3})([A-Z0-9<]{11})([0-9]{1})\"),\n                      s = new RegExp(\"([A-Z0-9<]{30})\");\n                if (t.extractionValidated = e.test(a[0]) && n.test(a[1]) && s.test(a[2]), t.extractionValidated) return i = e.exec(a[0]), t.documentType = i[1], t.countryEmitterCode = i[2], t.documentNumber = i[3].replaceAll(\"<\", \"\"), t.opt1 = i[5], t.documentId = i[5].replaceAll(\"<\", \"\"), i = n.exec(a[1]), t.birthDate = i[1], t.gender = i[3], t.documentExpiry = i[4], t.nationality = i[6], t.opt2 = i[7], i = s.exec(a[2]), l = i[1].replaceAll(/[<]{3,}/g, \"\").split(\"<<\").map(e => e.replaceAll(\"<\", \" \")), t.firstName = l[1], t.lastName = l[0], t;\n              }\n            }\n\n            return null;\n          })(this.__mrzRawString);\n\n          if (null === e) return this.__generateErrorResultObject(13);\n          t.extractionRaw.mrz = {\n            rawData: this.__mrzRawString,\n            opt1: e.opt1,\n            opt2: e.opt2,\n            firstName: e.firstName,\n            lastName: e.lastName,\n            documentId: e.documentId,\n            documentNumber: e.documentNumber,\n            documentIssuer: e.countryEmitterCode,\n            dateOfExpiry: e.documentExpiry,\n            dateOfBirth: e.birthDate,\n            gender: e.gender,\n            nationality: e.nationality\n          };\n        }\n      }\n\n      return t.extractionData = {\n        firstName: R(() => t.extractionRaw.mrz.firstName) || R(() => t.extractionRaw.ocr.firstName) || null,\n        lastName: R(() => t.extractionRaw.mrz.lastName) || R(() => t.extractionRaw.ocr.lastName) || null,\n        gender: R(() => t.extractionRaw.mrz.gender) || R(() => t.extractionRaw.ocr.gender) || null,\n        nationality: R(() => t.extractionRaw.mrz.nationality) || R(() => t.extractionRaw.ocr.nationality) || null,\n        dateOfBirth: this.__transformDate(R(() => t.extractionRaw.mrz.dateOfBirth)) || R(() => t.extractionRaw.ocr.dateOfBirth) || null,\n        documentId: R(() => t.extractionRaw.mrz.documentId) || R(() => t.extractionRaw.ocr.documentId) || null,\n        documentNumber: R(() => t.extractionRaw.mrz.documentNumber) || R(() => t.extractionRaw.ocr.documentNumber) || null\n      }, t;\n    }\n\n    __generateErrorResultObject(e) {\n      return {\n        diagnostic: e,\n        simpleModeOutput: 0,\n        detectionStatus: {\n          status: e,\n          glare: 0,\n          quad: 0,\n          internalStatus: e\n        }\n      };\n    }\n\n    __convertToImageOutput(e) {\n      if (null !== e) {\n        let t = document.createElement(\"canvas\"),\n            i = t.getContext(\"2d\");\n        return t.width = e.width, t.height = e.height, i.putImageData(e, 0, 0), t.toDataURL(this.__imageFormat, this.__imageQuality);\n      }\n\n      return null;\n    }\n\n    __roundUpLenght(e, t) {\n      return Math.ceil(e / t) * t;\n    }\n\n  }\n\n  class g {\n    constructor(e) {\n      this.__licenseKey = \"\", this.__engineLocation = \"\", this.__mockInformation = {}, this.__detectsCount = 0, this.__detectsNeeded = 10, this.__mapperToRealConfig(e);\n    }\n\n    async initializeEngine() {}\n\n    async detectImage(e) {\n      return this.__detectsCount < this.__detectsNeeded ? (this.__detectsCount++, await (async e => new Promise(e => setTimeout(e, 200)))(), {\n        result: 1\n      }) : this.__generateResultObject(this.__mockInformation, e.getContext(\"2d\").getImageData(0, 0, e.width, e.height));\n    }\n\n    async cleanImageBuffer(e) {}\n\n    async finalizeEngine() {}\n\n    get __attributes() {\n      return {\n        licenseKey: {\n          type: \"string\",\n          property: \"__licenseKey\"\n        },\n        bundlePath: {\n          type: \"string\",\n          property: \"__engineLocation\"\n        },\n        mockInformation: {\n          type: \"object\",\n          property: \"__mockInformation\"\n        }\n      };\n    }\n\n    get __scanResultType() {\n      return {\n        0: 0,\n        1: 1,\n        2: 2,\n        3: 3,\n        4: 4,\n        5: 5,\n        6: 6,\n        7: 7,\n        8: 8,\n        9: 9,\n        10: 10\n      };\n    }\n\n    __mapperToRealConfig(e) {\n      for (const [t, i] of Object.entries(e)) void 0 !== this.__attributes[t] && (this[this.__attributes[t].property] = i);\n    }\n\n    __generateResultObject(e, t) {\n      let i = null;\n      return i = e && 0 === Object.keys(e).length && Object.getPrototypeOf(e) === Object.prototype ? {\n        extractionRaw: {\n          mrz: {\n            rawData: null,\n            opt1: null,\n            opt2: null,\n            firstName: null,\n            lastName: null,\n            documentId: null,\n            documentNumber: null,\n            documentIssuer: null,\n            dateOfExpiry: null,\n            dateOfBirth: null,\n            gender: null,\n            nationality: null\n          },\n          ocr: {\n            firstName: null,\n            lastName: null,\n            documentId: null,\n            documentNumber: null,\n            dateOfBirth: null,\n            dateOfExpiry: null,\n            dateOfIssue: null,\n            gender: null,\n            nationality: null\n          }\n        },\n        extractionData: {\n          firstName: null,\n          lastName: null,\n          gender: null,\n          nationality: null,\n          dateOfBirth: null,\n          placeOfBirth: null,\n          documentId: null,\n          documentNumber: null,\n          address: null\n        }\n      } : e, {\n        diagnostic: this.__scanResultType[0],\n        images: {\n          backDocument: this.__convertToImageOutput(t),\n          frontDocument: this.__convertToImageOutput(t)\n        },\n        imagesRaw: {\n          backDocument: t,\n          frontDocument: t\n        },\n        extractionRaw: {\n          mrz: i.extractionRaw.mrz,\n          ocr: i.extractionRaw.ocr\n        },\n        extractionData: i.extractionData\n      };\n    }\n\n    __convertToImageOutput(e) {\n      if (null !== e) {\n        let t = document.createElement(\"canvas\"),\n            i = t.getContext(\"2d\");\n        return t.width = e.width, t.height = e.height, i.putImageData(e, 0, 0), t.toDataURL(this.__imageFormat, this.__imageQuality);\n      }\n\n      return null;\n    }\n\n  }\n\n  function W(e, t, i, l) {\n    return new (i || (i = Promise))(function (a, n) {\n      function s(e) {\n        try {\n          c(l.next(e));\n        } catch (e) {\n          n(e);\n        }\n      }\n\n      function d(e) {\n        try {\n          c(l.throw(e));\n        } catch (e) {\n          n(e);\n        }\n      }\n\n      function c(e) {\n        var t;\n        e.done ? a(e.value) : (t = e.value, t instanceof i ? t : new i(function (e) {\n          e(t);\n        })).then(s, d);\n      }\n\n      c((l = l.apply(e, t || [])).next());\n    });\n  }\n\n  let V = 0;\n\n  class p {\n    constructor(e) {\n      this.action = e, this.messageID = function () {\n        const e = V;\n        return V += 1, e;\n      }();\n    }\n\n  }\n\n  class G extends p {\n    constructor(e, t) {\n      super(G.action), this.wasmModuleName = e.wasmModuleName, this.licenseKey = e.licenseKey, this.userId = t, this.registerLoadCallback = null !== e.loadProgressCallback, this.allowHelloMessage = e.allowHelloMessage, this.engineLocation = e.engineLocation, this.wasmType = e.wasmType, this.numberOfWorkers = e.numberOfWorkers;\n    }\n\n  }\n\n  var X, y, C, N, S;\n  G.action = \"init\", function (e) {\n    e[e.Any = 0] = \"Any\", e[e.Recognizer = 1] = \"Recognizer\", e[e.RecognizerSettings = 2] = \"RecognizerSettings\", e[e.Callback = 3] = \"Callback\";\n  }(X || (X = {}));\n\n  class A extends p {\n    constructor(e, t) {\n      super(A.action), this.className = e, this.params = t;\n    }\n\n  }\n\n  A.action = \"createNewNativeObject\";\n\n  class Y extends p {\n    constructor(e, t, i) {\n      super(Y.action), this.recognizerHandles = e, this.allowMultipleResults = t, this.registeredMetadataCallbacks = i;\n    }\n\n  }\n\n  Y.action = \"createRecognizerRunner\";\n\n  class F extends p {\n    constructor(e, t) {\n      super(F.action), this.recognizerHandles = e, this.allowMultipleResults = t;\n    }\n\n  }\n\n  F.action = \"reconfigureRecognizerRunner\";\n\n  class E extends p {\n    constructor() {\n      super(E.action);\n    }\n\n  }\n\n  E.action = \"deleteRecognizerRunner\";\n\n  class v extends p {\n    constructor(e, t, i) {\n      super(v.action), this.objectHandle = e, this.methodName = t, this.params = i;\n    }\n\n  }\n\n  v.action = \"invokeObject\";\n\n  class U extends p {\n    constructor(e) {\n      super(U.action), this.frame = e;\n    }\n\n    getTransferrables() {\n      return [this.frame.imageData.data.buffer];\n    }\n\n  }\n\n  U.action = \"processImage\";\n\n  class T extends p {\n    constructor(e) {\n      super(T.action), this.hardReset = e;\n    }\n\n  }\n\n  T.action = \"resetRecognizers\";\n\n  class J {\n    constructor() {\n      this.onDebugText = !1, this.onDetectionFailed = !1, this.onQuadDetection = !1, this.onPointsDetection = !1, this.onFirstSideResult = !1, this.onGlare = !1;\n    }\n\n  }\n\n  class H extends p {\n    constructor(e) {\n      super(H.action), this.registeredMetadataCallbacks = e;\n    }\n\n  }\n\n  H.action = \"registerMetadataCallbacks\";\n\n  class w extends p {\n    constructor(e) {\n      super(w.action), this.detectionOnlyMode = e;\n    }\n\n  }\n\n  w.action = \"setDetectionOnly\";\n\n  class K extends p {\n    constructor(e) {\n      super(K.action), this.callbackNonEmpty = e;\n    }\n\n  }\n\n  K.action = \"setClearTimeoutCallback\";\n\n  class f extends p {\n    constructor(e) {\n      super(f.action), this.cameraPreviewMirrored = e;\n    }\n\n  }\n\n  f.action = \"setCameraPreviewMirrored\";\n\n  class x extends p {\n    constructor(e) {\n      super(x.action), this.userId = e;\n    }\n\n  }\n\n  function k(e, t) {\n    return i => {\n      const l = i;\n      l.success ? e() : t(l.error);\n    };\n  }\n\n  function B(e, t) {\n    return i => {\n      const l = i;\n      l.success ? e(i) : t(l.error);\n    };\n  }\n\n  x.action = \"getProductIntegrationInfo\", function (e) {\n    e[e.onDebugText = 0] = \"onDebugText\", e[e.onDetectionFailed = 1] = \"onDetectionFailed\", e[e.onQuadDetection = 2] = \"onQuadDetection\", e[e.onPointsDetection = 3] = \"onPointsDetection\", e[e.onFirstSideResult = 4] = \"onFirstSideResult\", e[e.clearTimeoutCallback = 5] = \"clearTimeoutCallback\", e[e.onGlare = 6] = \"onGlare\", e[e.recognizerCallback = 7] = \"recognizerCallback\";\n  }(y || (y = {})), function (e) {\n    e.Basic = \"BASIC\", e.Advanced = \"ADVANCED\", e.AdvancedWithThreads = \"ADVANCED_WITH_THREADS\";\n  }(C || (C = {}));\n\n  class L {\n    constructor(e, t, i) {\n      this.wasmSDKWorker = e, this.objectHandle = i, this.recognizerName = t, this.callbacks = new Map();\n    }\n\n    getRemoteObjectHandle() {\n      return this.objectHandle;\n    }\n\n    currentSettings() {\n      return new Promise((e, t) => {\n        if (0 > this.objectHandle) return void t(\"Invalid object handle: \" + this.objectHandle);\n        const i = new v(this.objectHandle, \"currentSettings\", []),\n              l = B(t => {\n          e(t.result);\n        }, t);\n        this.wasmSDKWorker.postMessage(i, l);\n      });\n    }\n\n    toSignedJSON() {\n      return new Promise((e, t) => {\n        if (0 > this.objectHandle) return void t(\"Invalid object handle: \" + this.objectHandle);\n        const i = new v(this.objectHandle, \"toSignedJSON\", []),\n              l = B(t => {\n          e(t.result);\n        }, t);\n        this.wasmSDKWorker.postMessage(i, l);\n      });\n    }\n\n    clearAllCallbacks() {\n      this.callbacks.clear(), this.wasmSDKWorker.unregisterRecognizerCallbacks(this.objectHandle);\n    }\n\n    removeFunctions(e) {\n      this.clearAllCallbacks();\n      const t = Object.keys(e);\n      let i = !1;\n\n      for (const l of t) {\n        const t = e[l];\n        \"function\" == typeof t && (this.callbacks.set(l, t), e[l] = {\n          parameter: {\n            recognizerHandle: this.objectHandle,\n            callbackName: l\n          },\n          type: X.Callback\n        }, i = !0);\n      }\n\n      return i && this.wasmSDKWorker.registerRecognizerCallbacks(this.objectHandle, this), e;\n    }\n\n    updateSettings(e) {\n      return new Promise((t, i) => {\n        if (0 > this.objectHandle) return void i(\"Invalid object handle: \" + this.objectHandle);\n        const l = new v(this.objectHandle, \"updateSettings\", [{\n          parameter: this.removeFunctions(e),\n          type: X.RecognizerSettings\n        }]),\n              a = k(t, i);\n        this.wasmSDKWorker.postMessage(l, a);\n      });\n    }\n\n    invokeCallback(e, t) {\n      const i = this.callbacks.get(e);\n      void 0 !== i ? i(...t) : console.warn(\"Cannot find callback\", e);\n    }\n\n    getResult() {\n      return new Promise((e, t) => {\n        if (0 > this.objectHandle) return void t(\"Invalid object handle: \" + this.objectHandle);\n        const i = new v(this.objectHandle, \"getResult\", []),\n              l = B(t => {\n          e(t.result);\n        }, t);\n        this.wasmSDKWorker.postMessage(i, l);\n      });\n    }\n\n    delete() {\n      return new Promise((e, t) => {\n        if (0 > this.objectHandle) return void t(\"Invalid object handle: \" + this.objectHandle);\n        this.clearAllCallbacks();\n        const i = new v(this.objectHandle, \"delete\", []),\n              l = k(() => {\n          this.objectHandle = -1, e();\n        }, t);\n        this.wasmSDKWorker.postMessage(i, l);\n      });\n    }\n\n  }\n\n  function O(e) {\n    const t = new J();\n    return t.onDebugText = !!e.onDebugText, t.onDetectionFailed = !!e.onDetectionFailed, t.onPointsDetection = !!e.onPointsDetection, t.onQuadDetection = !!e.onQuadDetection, t.onFirstSideResult = !!e.onFirstSideResult, t.onGlare = !!e.onGlare, t;\n  }\n\n  class M {\n    constructor(e) {\n      this.deleted = !1, this.wasmSDKWorker = e;\n    }\n\n    processImage(e) {\n      return new Promise((t, i) => {\n        if (this.deleted) return void i(\"Recognizer runner is deleted. It cannot be used anymore!\");\n        const l = new U(e),\n              a = B(e => {\n          t(e.recognitionState);\n        }, i);\n        this.wasmSDKWorker.postTransferrableMessage(l, a);\n      });\n    }\n\n    reconfigureRecognizers(e, t) {\n      return new Promise((i, l) => {\n        if (this.deleted) return void l(\"Recognizer runner is deleted. It cannot be used anymore!\");\n        const a = z(e),\n              n = new F(a, t),\n              s = k(i, l);\n        this.wasmSDKWorker.postMessage(n, s);\n      });\n    }\n\n    setMetadataCallbacks(e) {\n      return new Promise((t, i) => {\n        const l = new H(O(e)),\n              a = k(t, i);\n        this.wasmSDKWorker.postMessageAndRegisterCallbacks(l, e, a);\n      });\n    }\n\n    resetRecognizers(e) {\n      return new Promise((t, i) => {\n        const l = new T(e),\n              a = k(t, i);\n        this.wasmSDKWorker.postMessage(l, a);\n      });\n    }\n\n    setDetectionOnlyMode(e) {\n      return new Promise((t, i) => {\n        const l = new w(e),\n              a = k(t, i);\n        this.wasmSDKWorker.postMessage(l, a);\n      });\n    }\n\n    setClearTimeoutCallback(e) {\n      return new Promise((t, i) => {\n        const l = new K(null !== e),\n              a = k(t, i);\n        this.wasmSDKWorker.registerClearTimeoutCallback(e), this.wasmSDKWorker.postMessage(l, a);\n      });\n    }\n\n    setCameraPreviewMirrored(e) {\n      return new Promise((t, i) => {\n        const l = new f(e),\n              a = k(t, i);\n        this.wasmSDKWorker.postMessage(l, a);\n      });\n    }\n\n    delete() {\n      return this.deleted ? Promise.reject(\"Recognizer runner is already deleted.\") : new Promise((e, t) => {\n        const i = new E(),\n              l = k(() => {\n          this.deleted = !0, e();\n        }, t);\n        this.wasmSDKWorker.postMessage(i, l);\n      });\n    }\n\n  }\n\n  function z(e) {\n    const t = [];\n\n    for (const i of e) t.push(i.getRemoteObjectHandle());\n\n    return t;\n  }\n\n  class D {\n    constructor(e) {\n      this.wasmSDKWorker = e;\n    }\n\n    createRecognizerRunner(e) {\n      let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n      let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return new Promise((l, a) => {\n        const n = z(e),\n              s = new Y(n, t, O(i)),\n              d = k(() => {\n          l(new M(this.wasmSDKWorker));\n        }, a);\n        this.wasmSDKWorker.postMessageAndRegisterCallbacks(s, i, d);\n      });\n    }\n\n    newRecognizer(e) {\n      for (var _len = arguments.length, t = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        t[_key - 1] = arguments[_key];\n      }\n\n      return new Promise((i, l) => {\n        const a = new A(e, function (e) {\n          const t = [];\n\n          for (let i of e) {\n            let e = X.Any;\n            i instanceof L && (e = X.Recognizer, i = i.getRemoteObjectHandle()), t.push({\n              parameter: i,\n              type: e\n            });\n          }\n\n          return t;\n        }(t)),\n              n = B(t => {\n          const l = new L(this.wasmSDKWorker, e, t.objectHandle);\n          i(l);\n        }, l);\n        this.wasmSDKWorker.postMessage(a, n);\n      });\n    }\n\n  }\n\n  class P {\n    constructor(e, t, i, l) {\n      this.eventHandlers = {}, this.metadataCallbacks = {}, this.clearTimeoutCallback = null, this.loadedWasmType = C.Basic, this.mbWasmWorker = e, this.mbWasmWorker.onmessage = e => {\n        this.handleWorkerEvent(e);\n      }, this.mbWasmWorker.onerror = () => {\n        l(\"Problem during initialization of worker file!\");\n      }, this.mbWasmModule = new D(this), this.loadCallback = t, this.recognizersWithCallbacks = new Map(), this.userId = i, this.showOverlay = !1;\n    }\n\n    postMessage(e, t) {\n      this.eventHandlers[e.messageID] = t, this.mbWasmWorker.postMessage(e);\n    }\n\n    postTransferrableMessage(e, t) {\n      this.eventHandlers[e.messageID] = t, this.mbWasmWorker.postMessage(e, e.getTransferrables());\n    }\n\n    postMessageAndRegisterCallbacks(e, t, i) {\n      this.eventHandlers[e.messageID] = i, this.metadataCallbacks = t, this.mbWasmWorker.postMessage(e);\n    }\n\n    registerClearTimeoutCallback(e) {\n      this.clearTimeoutCallback = e;\n    }\n\n    registerRecognizerCallbacks(e, t) {\n      this.recognizersWithCallbacks.set(e, t);\n    }\n\n    unregisterRecognizerCallbacks(e) {\n      this.recognizersWithCallbacks.delete(e);\n    }\n\n    delete() {\n      this.mbWasmWorker.terminate();\n    }\n\n    getProductIntegrationInfo() {\n      return new Promise((e, t) => {\n        const i = new x(this.userId),\n              l = B(t => {\n          e(t.result);\n        }, t);\n        this.postMessage(i, l);\n      });\n    }\n\n    handleWorkerEvent(e) {\n      if (\"isCallbackMessage\" in e.data) {\n        const t = e.data;\n\n        switch (t.callbackType) {\n          case y.onDebugText:\n            \"function\" == typeof this.metadataCallbacks.onDebugText && this.metadataCallbacks.onDebugText(t.callbackParameters[0]);\n            break;\n\n          case y.onDetectionFailed:\n            \"function\" == typeof this.metadataCallbacks.onDetectionFailed && this.metadataCallbacks.onDetectionFailed();\n            break;\n\n          case y.onPointsDetection:\n            \"function\" == typeof this.metadataCallbacks.onPointsDetection && this.metadataCallbacks.onPointsDetection(t.callbackParameters[0]);\n            break;\n\n          case y.onQuadDetection:\n            \"function\" == typeof this.metadataCallbacks.onQuadDetection && this.metadataCallbacks.onQuadDetection(t.callbackParameters[0]);\n            break;\n\n          case y.onFirstSideResult:\n            \"function\" == typeof this.metadataCallbacks.onFirstSideResult && this.metadataCallbacks.onFirstSideResult();\n            break;\n\n          case y.clearTimeoutCallback:\n            this.clearTimeoutCallback && \"function\" == typeof this.clearTimeoutCallback.onClearTimeout && this.clearTimeoutCallback.onClearTimeout();\n            break;\n\n          case y.onGlare:\n            \"function\" == typeof this.metadataCallbacks.onGlare && this.metadataCallbacks.onGlare(t.callbackParameters[0]);\n            break;\n\n          case y.recognizerCallback:\n            {\n              const e = t.callbackParameters.shift(),\n                    i = this.recognizersWithCallbacks.get(e.recognizerHandle);\n              void 0 !== i ? i.invokeCallback(e.callbackName, t.callbackParameters) : console.warn(\"Cannot find recognizer to deliver callback message. Maybe it's destroyed?\", e);\n              break;\n            }\n\n          default:\n            throw Error(\"Unknown callback type: \" + y[t.callbackType]);\n        }\n      } else if (\"isLoadProgressMessage\" in e.data) {\n        const t = e.data;\n        \"function\" == typeof this.loadCallback && this.loadCallback(t.progress);\n      } else {\n        const t = e.data,\n              i = this.eventHandlers[t.messageID];\n        delete this.eventHandlers[t.messageID], i(t);\n      }\n    }\n\n    static createWasmWorker(e, t, i) {\n      return W(this, void 0, void 0, function* () {\n        return new Promise((l, a) => {\n          const n = new P(e, t.loadProgressCallback, i, a),\n                s = new G(t, i),\n                d = B(e => {\n            const t = e;\n            n.showOverlay = t.showOverlay, n.loadedWasmType = t.wasmType, l(n);\n          }, e => {\n            n && \"function\" == typeof n.delete && n.delete(), a(e);\n          });\n          n.postMessage(s, d);\n        });\n      });\n    }\n\n  }\n\n  class _ {\n    constructor(e, t) {\n      if (!e.code || !e.message) throw Error(\"Instance of SDKError is required to have code and message.\");\n      this.message = e.message, this.code = e.code, this.details = t;\n    }\n\n  }\n\n  !function (e) {\n    e.WORKER_WASM_LOAD_FAILURE = \"WORKER_WASM_LOAD_FAILURE\", e.WORKER_WASM_INIT_MISSING = \"WORKER_WASM_INIT_MISSING\", e.WORKER_FUNCTION_INVOKE_FAILURE = \"WORKER_FUNCTION_INVOKE_FAILURE\", e.WORKER_RECOGNIZER_CREATION_FAILURE = \"WORKER_RECOGNIZER_CREATION_FAILURE\", e.WORKER_RUNNER_EXISTS = \"WORKER_RUNNER_EXISTS\", e.WORKER_RUNNER_CREATION_FAILURE = \"WORKER_RUNNER_CREATION_FAILURE\", e.WORKER_RUNNER_MISSING = \"WORKER_RUNNER_MISSING\", e.WORKER_RUNNER_RECONFIGURE_FAILURE = \"WORKER_RUNNER_RECONFIGURE_FAILURE\", e.WORKER_RUNNER_DELETED = \"WORKER_RUNNER_DELETED\", e.WORKER_RUNNER_DELETE_FAILURE = \"WORKER_RUNNER_DELETE_FAILURE\", e.WORKER_OBJECT_INVOKE_FAILURE = \"WORKER_OBJECT_INVOKE_FAILURE\", e.WORKER_IMAGE_PROCESS_FAILURE = \"WORKER_IMAGE_PROCESS_FAILURE\", e.WORKER_HANDLE_UNDEFINED = \"WORKER_HANDLE_UNDEFINED\", e.WORKER_MESSAGE_ACTION_UNKNOWN = \"WORKER_MESSAGE_ACTION_UNKNOWN\", e.WORKER_LICENSE_UNLOCK_ERROR = \"WORKER_LICENSE_UNLOCK_ERROR\", e.WORKER_INTEGRATION_INFO_FAILURE = \"WORKER_INTEGRATION_INFO_FAILURE\", e.LOCAL_SDK_RUNNER_MISSING = \"LOCAL_SDK_RUNNER_MISSING\", e.LOCAL_SDK_RUNNER_EMPTY = \"LOCAL_SDK_RUNNER_EMPTY\", e.LICENSE_UNLOCK_ERROR = \"LICENSE_UNLOCK_ERROR\", e.FRAME_CAPTURE_SVG_UNSUPPORTED = \"FRAME_CAPTURE_SVG_UNSUPPORTED\", e.FRAME_CAPTURE_CANVAS_MISSING = \"FRAME_CAPTURE_CANVAS_MISSING\", e.SDK_WASM_SETTINGS_MISSING = \"SDK_WASM_SETTINGS_MISSING\", e.SDK_LICENSE_KEY_MISSING = \"SDK_LICENSE_KEY_MISSING\", e.SDK_WASM_MODULE_NAME_MISSING = \"SDK_WASM_MODULE_NAME_MISSING\", e.SDK_ENGINE_LOCATION_INVALID = \"SDK_ENGINE_LOCATION_INVALID\", e.SDK_MISSING = \"SDK_MISSING\", e.SDK_RECOGNIZERS_MISSING = \"SDK_RECOGNIZERS_MISSING\", e.VIDEO_RECOGNIZER_ELEMENT_MISSING = \"VIDEO_RECOGNIZER_ELEMENT_MISSING\", e.VIDEO_RECOGNIZER_CAMERA_MISSING = \"VIDEO_RECOGNIZER_CAMERA_MISSING\", e.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED = \"VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED\", e.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE = \"VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE\", e.VIDEO_RECOGNIZER_CAMERA_IN_USE = \"VIDEO_RECOGNIZER_CAMERA_IN_USE\", e.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED = \"VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED\", e.VIDEO_RECOGNIZER_FEED_RELEASED = \"VIDEO_RECOGNIZER_FEED_RELEASED\", e.VIDEO_RECOGNIZER_FEED_NOT_PAUSED = \"VIDEO_RECOGNIZER_FEED_NOT_PAUSED\", e.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED = \"VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED\", e.VIDEO_RECOGNIZER_FEED_PAUSED = \"VIDEO_RECOGNIZER_FEED_PAUSED\", e.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE = \"VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE\", e.VIDEO_RECOGNIZER_FEED_MISSING = \"VIDEO_RECOGNIZER_FEED_MISSING\";\n  }(N || (N = {})), function (e) {\n    e.WORKER_HANDLE_UNDEFINED = \"Cannot find object with handle: undefined\", e.WORKER_WASM_LOAD_FAILURE = \"Failed to load WASM in web worker!\", e.WORKER_WASM_INIT_MISSING = \"WASM module is not initialized!\", e.WORKER_FUNCTION_INVOKE_FAILURE = \"Failed to invoke function!\", e.WORKER_RECOGNIZER_CREATION_FAILURE = \"Failed to create new recognizer!\", e.WORKER_RUNNER_EXISTS = \"Recognizer runner is already created! Multiple instances are not allowed!\", e.WORKER_RUNNER_CREATION_FAILURE = \"Failed to create new recognizer runner!\", e.WORKER_RUNNER_MISSING = \"Recognizer runner is not created! There is nothing to reconfigure!\", e.WORKER_RUNNER_RECONFIGURE_FAILURE = \"Failed to reconfigure recognizer runner!\", e.WORKER_RUNNER_DELETED = \"Recognizer runner is already deleted!\", e.WORKER_RUNNER_DELETE_FAILURE = \"Failed to delete recognizer runner!\", e.WORKER_OBJECT_INVOKE_FAILURE = \"Failed to invoke object!\", e.WORKER_IMAGE_PROCESS_FAILURE = \"Recognizer runner is not initialized! Cannot process image!\", e.WORKER_INTEGRATION_INFO_FAILURE = \"Failed to get product integration info!\", e.LOCAL_SDK_RUNNER_MISSING = \"Property nativeRecognizerRunner is not available!\", e.LOCAL_SDK_RUNNER_EMPTY = \"Native RecognizerRunner cannot be empty!\", e.LICENSE_TOKEN_STATE_INCORRECT = \"Internal error (Incorrect token state)\", e.LICENSE_PAYLOAD_VERIFICATION_FAILED = \"Failed to verify server permission's digital signature!\", e.LICENSE_PAYLOAD_CORRUPTED = \"Server permission payload is corrupted!\", e.LICENSE_PERMISSION_EXPIRED = \"Internal error (server permission expired)\", e.LICENSE_REMOTE_LOCKED = \"Provided license key has been remotely locked. Please contact support for more information!\", e.FRAME_CAPTURE_SVG_UNSUPPORTED = \"Recognition of SVG elements not supported!\", e.FRAME_CAPTURE_CANVAS_MISSING = \"Could not get canvas 2d context!\", e.SDK_WASM_SETTINGS_MISSING = \"Missing WASM load settings!\", e.SDK_LICENSE_KEY_MISSING = \"Missing license key!\", e.SDK_WASM_MODULE_NAME_MISSING = \"Missing WASM module name!\", e.SDK_ENGINE_LOCATION_INVALID = \"Setting property 'engineLocation' must be a string!\", e.SDK_MISSING = \"SDK is not provided!\", e.SDK_RECOGNIZERS_MISSING = \"To create RecognizerRunner at least 1 recognizer is required.\", e.VIDEO_RECOGNIZER_ELEMENT_MISSING = \"Video element, i.e. camera feed is not provided!\", e.VIDEO_RECOGNIZER_CAMERA_MISSING = \"Camera not found!\", e.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED = \"Camera not allowed!\", e.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE = \"Camera not available!\", e.VIDEO_RECOGNIZER_CAMERA_IN_USE = \"Camera in use!\", e.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED = \"Media devices not supported by browser.\", e.VIDEO_RECOGNIZER_FEED_RELEASED = \"The associated video feed has been released!\", e.VIDEO_RECOGNIZER_FEED_NOT_PAUSED = \"The associated video feed is not paused. Use resumeRecognition instead!\", e.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED = \"The play() request was interrupted or prevented by browser security rules!\", e.VIDEO_RECOGNIZER_FEED_PAUSED = \"Cannot resume recognition while video feed is paused! Use recognize or startRecognition\", e.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE = \"Could not reset recognizers!\", e.VIDEO_RECOGNIZER_FEED_MISSING = \"Missing video feed!\";\n  }(S || (S = {})), S.VIDEO_RECOGNIZER_FEED_MISSING, N.VIDEO_RECOGNIZER_FEED_MISSING, S.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE, N.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE, S.VIDEO_RECOGNIZER_FEED_PAUSED, N.VIDEO_RECOGNIZER_FEED_PAUSED, S.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED, N.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED, S.VIDEO_RECOGNIZER_FEED_NOT_PAUSED, N.VIDEO_RECOGNIZER_FEED_NOT_PAUSED, S.VIDEO_RECOGNIZER_FEED_RELEASED, N.VIDEO_RECOGNIZER_FEED_RELEASED, N.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED, S.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED, N.VIDEO_RECOGNIZER_CAMERA_MISSING, S.VIDEO_RECOGNIZER_CAMERA_MISSING, S.VIDEO_RECOGNIZER_ELEMENT_MISSING, N.VIDEO_RECOGNIZER_ELEMENT_MISSING;\n  const j = {\n    wasmSettingsMissing: {\n      message: S.SDK_WASM_SETTINGS_MISSING,\n      code: N.SDK_WASM_SETTINGS_MISSING\n    },\n    licenseKeyMissing: {\n      message: S.SDK_LICENSE_KEY_MISSING,\n      code: N.SDK_LICENSE_KEY_MISSING\n    },\n    wasmModuleNameMissing: {\n      message: S.SDK_WASM_MODULE_NAME_MISSING,\n      code: N.SDK_WASM_MODULE_NAME_MISSING\n    },\n    engineLocationInvalid: {\n      message: S.SDK_ENGINE_LOCATION_INVALID,\n      code: N.SDK_ENGINE_LOCATION_INVALID\n    },\n    missing: {\n      message: S.SDK_MISSING,\n      code: N.SDK_MISSING\n    },\n    recognizersMissing: {\n      message: S.SDK_RECOGNIZERS_MISSING,\n      code: N.SDK_RECOGNIZERS_MISSING\n    }\n  },\n        Q = {\n    svgUnsupported: {\n      message: S.FRAME_CAPTURE_SVG_UNSUPPORTED,\n      code: N.FRAME_CAPTURE_SVG_UNSUPPORTED\n    },\n    canvasMissing: {\n      message: S.FRAME_CAPTURE_CANVAS_MISSING,\n      code: N.FRAME_CAPTURE_CANVAS_MISSING\n    }\n  };\n  var q, $, ee;\n  let te;\n  N.LICENSE_UNLOCK_ERROR, S.LICENSE_TOKEN_STATE_INCORRECT, N.LICENSE_UNLOCK_ERROR, S.LICENSE_PAYLOAD_VERIFICATION_FAILED, N.LICENSE_UNLOCK_ERROR, S.LICENSE_PAYLOAD_CORRUPTED, N.LICENSE_UNLOCK_ERROR, S.LICENSE_PERMISSION_EXPIRED, N.LICENSE_UNLOCK_ERROR, S.LICENSE_REMOTE_LOCKED, N.LICENSE_UNLOCK_ERROR, N.LICENSE_UNLOCK_ERROR, S.LOCAL_SDK_RUNNER_MISSING, N.LOCAL_SDK_RUNNER_MISSING, S.LOCAL_SDK_RUNNER_EMPTY, N.LOCAL_SDK_RUNNER_EMPTY, S.WORKER_IMAGE_PROCESS_FAILURE, N.WORKER_IMAGE_PROCESS_FAILURE, S.WORKER_OBJECT_INVOKE_FAILURE, N.WORKER_OBJECT_INVOKE_FAILURE, S.WORKER_RUNNER_DELETE_FAILURE, N.WORKER_RUNNER_DELETE_FAILURE, S.WORKER_RUNNER_DELETED, N.WORKER_RUNNER_DELETED, S.WORKER_RUNNER_RECONFIGURE_FAILURE, N.WORKER_RUNNER_RECONFIGURE_FAILURE, S.WORKER_RUNNER_MISSING, N.WORKER_RUNNER_MISSING, S.WORKER_RUNNER_CREATION_FAILURE, N.WORKER_RUNNER_CREATION_FAILURE, S.WORKER_RUNNER_EXISTS, N.WORKER_RUNNER_EXISTS, S.WORKER_RECOGNIZER_CREATION_FAILURE, N.WORKER_RECOGNIZER_CREATION_FAILURE, S.WORKER_FUNCTION_INVOKE_FAILURE, N.WORKER_FUNCTION_INVOKE_FAILURE, S.WORKER_WASM_INIT_MISSING, N.WORKER_WASM_INIT_MISSING, S.WORKER_WASM_LOAD_FAILURE, N.WORKER_WASM_LOAD_FAILURE, S.WORKER_HANDLE_UNDEFINED, N.WORKER_HANDLE_UNDEFINED, S.WORKER_INTEGRATION_INFO_FAILURE, N.WORKER_INTEGRATION_INFO_FAILURE, function (e) {\n    e[e.BackFacingCamera = 0] = \"BackFacingCamera\", e[e.FrontFacingCamera = 1] = \"FrontFacingCamera\";\n  }(q || (q = {})), function (e) {\n    e[e.RotatedLeft90 = 0] = \"RotatedLeft90\", e[e.NoRotation = 1] = \"NoRotation\", e[e.RotatedRight90 = 2] = \"RotatedRight90\", e[e.Rotated180 = 3] = \"Rotated180\";\n  }($ || ($ = {})), function (e) {\n    e[e.Empty = 0] = \"Empty\", e[e.Uncertain = 1] = \"Uncertain\", e[e.Valid = 2] = \"Valid\", e[e.StageValid = 3] = \"StageValid\";\n  }(ee || (ee = {}));\n\n  class ie {\n    constructor(e, t, i) {\n      this.imageData = e, this.orientation = t, this.videoFrame = i;\n    }\n\n  }\n\n  var le, ae, ne, se, de, ce, he, oe, re, me, Ie, Ze, be, Re, ue, ge, We;\n  !function (e) {\n    e[e.Invalid = 0] = \"Invalid\", e[e.RequiresServerPermission = 1] = \"RequiresServerPermission\", e[e.Valid = 2] = \"Valid\";\n  }(le || (le = {})), function (e) {\n    e.LicenseTokenStateInvalid = \"LICENSE_TOKEN_STATE_INVALID\", e.NetworkError = \"NETWORK_ERROR\", e.RemoteLock = \"REMOTE_LOCK\", e.PermissionExpired = \"PERMISSION_EXPIRED\", e.PayloadCorrupted = \"PAYLOAD_CORRUPTED\", e.PayloadSignatureVerificationFailed = \"PAYLOAD_SIGNATURE_VERIFICATION_FAILED\", e.IncorrectTokenState = \"INCORRECT_TOKEN_STATE\";\n  }(ae || (ae = {})), function (e) {\n    e[e.Ok = 0] = \"Ok\", e[e.NetworkError = 1] = \"NetworkError\", e[e.RemoteLock = 2] = \"RemoteLock\", e[e.PermissionExpired = 3] = \"PermissionExpired\", e[e.PayloadCorrupted = 4] = \"PayloadCorrupted\", e[e.PayloadSignatureVerificationFailed = 5] = \"PayloadSignatureVerificationFailed\", e[e.IncorrectTokenState = 6] = \"IncorrectTokenState\";\n  }(ne || (ne = {})), function (e) {\n    e[e.Fail = 0] = \"Fail\", e[e.Success = 1] = \"Success\", e[e.CameraTooHigh = 2] = \"CameraTooHigh\", e[e.FallbackSuccess = 3] = \"FallbackSuccess\", e[e.Partial = 4] = \"Partial\", e[e.CameraAtAngle = 5] = \"CameraAtAngle\", e[e.CameraTooNear = 6] = \"CameraTooNear\", e[e.DocumentTooCloseToEdge = 7] = \"DocumentTooCloseToEdge\";\n  }(se || (se = {})), function (e) {\n    e.MediaDevicesNotSupported = \"MediaDevicesNotSupported\", e.CameraNotFound = \"CameraNotFound\", e.CameraNotAllowed = \"CameraNotAllowed\", e.CameraInUse = \"CameraInUse\", e.CameraNotAvailable = \"CameraNotAvailable\", e.VideoElementNotProvided = \"VideoElementNotProvided\";\n  }(de || (de = {})), function (e) {\n    e[e.Recognition = 0] = \"Recognition\", e[e.RecognitionTest = 1] = \"RecognitionTest\", e[e.DetectionTest = 2] = \"DetectionTest\";\n  }(ce || (ce = {}));\n\n  class Ve {\n    constructor(e) {\n      if (this.allowHelloMessage = !0, this.engineLocation = \"\", this.wasmType = null, this.numberOfWorkers = null, this.loadProgressCallback = null, this.wasmModuleName = \"BlinkIDWasmSDK\", !e) throw new _(j.licenseKeyMissing);\n      this.licenseKey = e;\n    }\n\n  }\n\n  function pe() {\n    return \"10000000-1000-4000-8000-100000000000\".replace(/[018]/g, e => (e ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> e / 4).toString(16));\n  }\n\n  !function (e) {\n    e[e.NONE = 0] = \"NONE\", e[e.QR_CODE = 1] = \"QR_CODE\", e[e.DATA_MATRIX = 2] = \"DATA_MATRIX\", e[e.UPC_E = 3] = \"UPC_E\", e[e.UPC_A = 4] = \"UPC_A\", e[e.EAN_8 = 5] = \"EAN_8\", e[e.EAN_13 = 6] = \"EAN_13\", e[e.CODE_128 = 7] = \"CODE_128\", e[e.CODE_39 = 8] = \"CODE_39\", e[e.ITF = 9] = \"ITF\", e[e.AZTEC_BARCODE = 10] = \"AZTEC_BARCODE\", e[e.PDF417_BARCODE = 11] = \"PDF417_BARCODE\";\n  }(he || (he = {})), function (e) {\n    e[e.None = 0] = \"None\", e[e.ImageOnly = 1] = \"ImageOnly\", e[e.ResultFieldsOnly = 2] = \"ResultFieldsOnly\", e[e.FullResult = 3] = \"FullResult\";\n  }(oe || (oe = {})), function (e) {\n    e[e.DocumentType = 0] = \"DocumentType\", e[e.StandardVersionNumber = 1] = \"StandardVersionNumber\", e[e.CustomerFamilyName = 2] = \"CustomerFamilyName\", e[e.CustomerFirstName = 3] = \"CustomerFirstName\", e[e.CustomerFullName = 4] = \"CustomerFullName\", e[e.DateOfBirth = 5] = \"DateOfBirth\", e[e.Sex = 6] = \"Sex\", e[e.EyeColor = 7] = \"EyeColor\", e[e.AddressStreet = 8] = \"AddressStreet\", e[e.AddressCity = 9] = \"AddressCity\", e[e.AddressJurisdictionCode = 10] = \"AddressJurisdictionCode\", e[e.AddressPostalCode = 11] = \"AddressPostalCode\", e[e.FullAddress = 12] = \"FullAddress\", e[e.Height = 13] = \"Height\", e[e.HeightIn = 14] = \"HeightIn\", e[e.HeightCm = 15] = \"HeightCm\", e[e.CustomerMiddleName = 16] = \"CustomerMiddleName\", e[e.HairColor = 17] = \"HairColor\", e[e.NameSuffix = 18] = \"NameSuffix\", e[e.AKAFullName = 19] = \"AKAFullName\", e[e.AKAFamilyName = 20] = \"AKAFamilyName\", e[e.AKAGivenName = 21] = \"AKAGivenName\", e[e.AKASuffixName = 22] = \"AKASuffixName\", e[e.WeightRange = 23] = \"WeightRange\", e[e.WeightPounds = 24] = \"WeightPounds\", e[e.WeightKilograms = 25] = \"WeightKilograms\", e[e.CustomerIdNumber = 26] = \"CustomerIdNumber\", e[e.FamilyNameTruncation = 27] = \"FamilyNameTruncation\", e[e.FirstNameTruncation = 28] = \"FirstNameTruncation\", e[e.MiddleNameTruncation = 29] = \"MiddleNameTruncation\", e[e.PlaceOfBirth = 30] = \"PlaceOfBirth\", e[e.AddressStreet2 = 31] = \"AddressStreet2\", e[e.RaceEthnicity = 32] = \"RaceEthnicity\", e[e.NamePrefix = 33] = \"NamePrefix\", e[e.CountryIdentification = 34] = \"CountryIdentification\", e[e.ResidenceStreetAddress = 35] = \"ResidenceStreetAddress\", e[e.ResidenceStreetAddress2 = 36] = \"ResidenceStreetAddress2\", e[e.ResidenceCity = 37] = \"ResidenceCity\", e[e.ResidenceJurisdictionCode = 38] = \"ResidenceJurisdictionCode\", e[e.ResidencePostalCode = 39] = \"ResidencePostalCode\", e[e.ResidenceFullAddress = 40] = \"ResidenceFullAddress\", e[e.Under18 = 41] = \"Under18\", e[e.Under19 = 42] = \"Under19\", e[e.Under21 = 43] = \"Under21\", e[e.SocialSecurityNumber = 44] = \"SocialSecurityNumber\", e[e.AKASocialSecurityNumber = 45] = \"AKASocialSecurityNumber\", e[e.AKAMiddleName = 46] = \"AKAMiddleName\", e[e.AKAPrefixName = 47] = \"AKAPrefixName\", e[e.OrganDonor = 48] = \"OrganDonor\", e[e.Veteran = 49] = \"Veteran\", e[e.AKADateOfBirth = 50] = \"AKADateOfBirth\", e[e.IssuerIdentificationNumber = 51] = \"IssuerIdentificationNumber\", e[e.DocumentExpirationDate = 52] = \"DocumentExpirationDate\", e[e.JurisdictionVersionNumber = 53] = \"JurisdictionVersionNumber\", e[e.JurisdictionVehicleClass = 54] = \"JurisdictionVehicleClass\", e[e.JurisdictionRestrictionCodes = 55] = \"JurisdictionRestrictionCodes\", e[e.JurisdictionEndorsementCodes = 56] = \"JurisdictionEndorsementCodes\", e[e.DocumentIssueDate = 57] = \"DocumentIssueDate\", e[e.FederalCommercialVehicleCodes = 58] = \"FederalCommercialVehicleCodes\", e[e.IssuingJurisdiction = 59] = \"IssuingJurisdiction\", e[e.StandardVehicleClassification = 60] = \"StandardVehicleClassification\", e[e.IssuingJurisdictionName = 61] = \"IssuingJurisdictionName\", e[e.StandardEndorsementCode = 62] = \"StandardEndorsementCode\", e[e.StandardRestrictionCode = 63] = \"StandardRestrictionCode\", e[e.JurisdictionVehicleClassificationDescription = 64] = \"JurisdictionVehicleClassificationDescription\", e[e.JurisdictionEndorsmentCodeDescription = 65] = \"JurisdictionEndorsmentCodeDescription\", e[e.JurisdictionRestrictionCodeDescription = 66] = \"JurisdictionRestrictionCodeDescription\", e[e.InventoryControlNumber = 67] = \"InventoryControlNumber\", e[e.CardRevisionDate = 68] = \"CardRevisionDate\", e[e.DocumentDiscriminator = 69] = \"DocumentDiscriminator\", e[e.LimitedDurationDocument = 70] = \"LimitedDurationDocument\", e[e.AuditInformation = 71] = \"AuditInformation\", e[e.ComplianceType = 72] = \"ComplianceType\", e[e.IssueTimestamp = 73] = \"IssueTimestamp\", e[e.PermitExpirationDate = 74] = \"PermitExpirationDate\", e[e.PermitIdentifier = 75] = \"PermitIdentifier\", e[e.PermitIssueDate = 76] = \"PermitIssueDate\", e[e.NumberOfDuplicates = 77] = \"NumberOfDuplicates\", e[e.HAZMATExpirationDate = 78] = \"HAZMATExpirationDate\", e[e.MedicalIndicator = 79] = \"MedicalIndicator\", e[e.NonResident = 80] = \"NonResident\", e[e.UniqueCustomerId = 81] = \"UniqueCustomerId\", e[e.DataDiscriminator = 82] = \"DataDiscriminator\", e[e.DocumentExpirationMonth = 83] = \"DocumentExpirationMonth\", e[e.DocumentNonexpiring = 84] = \"DocumentNonexpiring\", e[e.SecurityVersion = 85] = \"SecurityVersion\", e[e.Count = 86] = \"Count\";\n  }(re || (re = {})), function (e) {\n    e[e.NONE = 0] = \"NONE\", e[e.ALBANIA = 1] = \"ALBANIA\", e[e.ALGERIA = 2] = \"ALGERIA\", e[e.ARGENTINA = 3] = \"ARGENTINA\", e[e.AUSTRALIA = 4] = \"AUSTRALIA\", e[e.AUSTRIA = 5] = \"AUSTRIA\", e[e.AZERBAIJAN = 6] = \"AZERBAIJAN\", e[e.BAHRAIN = 7] = \"BAHRAIN\", e[e.BANGLADESH = 8] = \"BANGLADESH\", e[e.BELGIUM = 9] = \"BELGIUM\", e[e.BOSNIA_AND_HERZEGOVINA = 10] = \"BOSNIA_AND_HERZEGOVINA\", e[e.BRUNEI = 11] = \"BRUNEI\", e[e.BULGARIA = 12] = \"BULGARIA\", e[e.CAMBODIA = 13] = \"CAMBODIA\", e[e.CANADA = 14] = \"CANADA\", e[e.CHILE = 15] = \"CHILE\", e[e.COLOMBIA = 16] = \"COLOMBIA\", e[e.COSTA_RICA = 17] = \"COSTA_RICA\", e[e.CROATIA = 18] = \"CROATIA\", e[e.CYPRUS = 19] = \"CYPRUS\", e[e.CZECHIA = 20] = \"CZECHIA\", e[e.DENMARK = 21] = \"DENMARK\", e[e.DOMINICAN_REPUBLIC = 22] = \"DOMINICAN_REPUBLIC\", e[e.EGYPT = 23] = \"EGYPT\", e[e.ESTONIA = 24] = \"ESTONIA\", e[e.FINLAND = 25] = \"FINLAND\", e[e.FRANCE = 26] = \"FRANCE\", e[e.GEORGIA = 27] = \"GEORGIA\", e[e.GERMANY = 28] = \"GERMANY\", e[e.GHANA = 29] = \"GHANA\", e[e.GREECE = 30] = \"GREECE\", e[e.GUATEMALA = 31] = \"GUATEMALA\", e[e.HONG_KONG = 32] = \"HONG_KONG\", e[e.HUNGARY = 33] = \"HUNGARY\", e[e.INDIA = 34] = \"INDIA\", e[e.INDONESIA = 35] = \"INDONESIA\", e[e.IRELAND = 36] = \"IRELAND\", e[e.ISRAEL = 37] = \"ISRAEL\", e[e.ITALY = 38] = \"ITALY\", e[e.JORDAN = 39] = \"JORDAN\", e[e.KAZAKHSTAN = 40] = \"KAZAKHSTAN\", e[e.KENYA = 41] = \"KENYA\", e[e.KOSOVO = 42] = \"KOSOVO\", e[e.KUWAIT = 43] = \"KUWAIT\", e[e.LATVIA = 44] = \"LATVIA\", e[e.LITHUANIA = 45] = \"LITHUANIA\", e[e.MALAYSIA = 46] = \"MALAYSIA\", e[e.MALDIVES = 47] = \"MALDIVES\", e[e.MALTA = 48] = \"MALTA\", e[e.MAURITIUS = 49] = \"MAURITIUS\", e[e.MEXICO = 50] = \"MEXICO\", e[e.MOROCCO = 51] = \"MOROCCO\", e[e.NETHERLANDS = 52] = \"NETHERLANDS\", e[e.NEW_ZEALAND = 53] = \"NEW_ZEALAND\", e[e.NIGERIA = 54] = \"NIGERIA\", e[e.PAKISTAN = 55] = \"PAKISTAN\", e[e.PANAMA = 56] = \"PANAMA\", e[e.PARAGUAY = 57] = \"PARAGUAY\", e[e.PHILIPPINES = 58] = \"PHILIPPINES\", e[e.POLAND = 59] = \"POLAND\", e[e.PORTUGAL = 60] = \"PORTUGAL\", e[e.PUERTO_RICO = 61] = \"PUERTO_RICO\", e[e.QATAR = 62] = \"QATAR\", e[e.ROMANIA = 63] = \"ROMANIA\", e[e.RUSSIA = 64] = \"RUSSIA\", e[e.SAUDI_ARABIA = 65] = \"SAUDI_ARABIA\", e[e.SERBIA = 66] = \"SERBIA\", e[e.SINGAPORE = 67] = \"SINGAPORE\", e[e.SLOVAKIA = 68] = \"SLOVAKIA\", e[e.SLOVENIA = 69] = \"SLOVENIA\", e[e.SOUTH_AFRICA = 70] = \"SOUTH_AFRICA\", e[e.SPAIN = 71] = \"SPAIN\", e[e.SWEDEN = 72] = \"SWEDEN\", e[e.SWITZERLAND = 73] = \"SWITZERLAND\", e[e.TAIWAN = 74] = \"TAIWAN\", e[e.THAILAND = 75] = \"THAILAND\", e[e.TUNISIA = 76] = \"TUNISIA\", e[e.TURKEY = 77] = \"TURKEY\", e[e.UAE = 78] = \"UAE\", e[e.UGANDA = 79] = \"UGANDA\", e[e.UK = 80] = \"UK\", e[e.UKRAINE = 81] = \"UKRAINE\", e[e.USA = 82] = \"USA\", e[e.VIETNAM = 83] = \"VIETNAM\", e[e.BRAZIL = 84] = \"BRAZIL\", e[e.NORWAY = 85] = \"NORWAY\", e[e.OMAN = 86] = \"OMAN\", e[e.ECUADOR = 87] = \"ECUADOR\", e[e.EL_SALVADOR = 88] = \"EL_SALVADOR\", e[e.SRI_LANKA = 89] = \"SRI_LANKA\", e[e.PERU = 90] = \"PERU\", e[e.URUGUAY = 91] = \"URUGUAY\", e[e.BAHAMAS = 92] = \"BAHAMAS\", e[e.BERMUDA = 93] = \"BERMUDA\", e[e.BOLIVIA = 94] = \"BOLIVIA\", e[e.CHINA = 95] = \"CHINA\", e[e.EUROPEAN_UNION = 96] = \"EUROPEAN_UNION\", e[e.HAITI = 97] = \"HAITI\", e[e.HONDURAS = 98] = \"HONDURAS\", e[e.ICELAND = 99] = \"ICELAND\", e[e.JAPAN = 100] = \"JAPAN\", e[e.LUXEMBOURG = 101] = \"LUXEMBOURG\", e[e.MONTENEGRO = 102] = \"MONTENEGRO\", e[e.NICARAGUA = 103] = \"NICARAGUA\", e[e.SOUTH_KOREA = 104] = \"SOUTH_KOREA\", e[e.VENEZUELA = 105] = \"VENEZUELA\", e[e.AFGHANISTAN = 106] = \"AFGHANISTAN\", e[e.ALAND_ISLANDS = 107] = \"ALAND_ISLANDS\", e[e.AMERICAN_SAMOA = 108] = \"AMERICAN_SAMOA\", e[e.ANDORRA = 109] = \"ANDORRA\", e[e.ANGOLA = 110] = \"ANGOLA\", e[e.ANGUILLA = 111] = \"ANGUILLA\", e[e.ANTARCTICA = 112] = \"ANTARCTICA\", e[e.ANTIGUA_AND_BARBUDA = 113] = \"ANTIGUA_AND_BARBUDA\", e[e.ARMENIA = 114] = \"ARMENIA\", e[e.ARUBA = 115] = \"ARUBA\", e[e.BAILIWICK_OF_GUERNSEY = 116] = \"BAILIWICK_OF_GUERNSEY\", e[e.BAILIWICK_OF_JERSEY = 117] = \"BAILIWICK_OF_JERSEY\", e[e.BARBADOS = 118] = \"BARBADOS\", e[e.BELARUS = 119] = \"BELARUS\", e[e.BELIZE = 120] = \"BELIZE\", e[e.BENIN = 121] = \"BENIN\", e[e.BHUTAN = 122] = \"BHUTAN\", e[e.BONAIRE_SAINT_EUSTATIUS_AND_SABA = 123] = \"BONAIRE_SAINT_EUSTATIUS_AND_SABA\", e[e.BOTSWANA = 124] = \"BOTSWANA\", e[e.BOUVET_ISLAND = 125] = \"BOUVET_ISLAND\", e[e.BRITISH_INDIAN_OCEAN_TERRITORY = 126] = \"BRITISH_INDIAN_OCEAN_TERRITORY\", e[e.BURKINA_FASO = 127] = \"BURKINA_FASO\", e[e.BURUNDI = 128] = \"BURUNDI\", e[e.CAMEROON = 129] = \"CAMEROON\", e[e.CAPE_VERDE = 130] = \"CAPE_VERDE\", e[e.CARIBBEAN_NETHERLANDS = 131] = \"CARIBBEAN_NETHERLANDS\", e[e.CAYMAN_ISLANDS = 132] = \"CAYMAN_ISLANDS\", e[e.CENTRAL_AFRICAN_REPUBLIC = 133] = \"CENTRAL_AFRICAN_REPUBLIC\", e[e.CHAD = 134] = \"CHAD\", e[e.CHRISTMAS_ISLAND = 135] = \"CHRISTMAS_ISLAND\", e[e.COCOS_ISLANDS = 136] = \"COCOS_ISLANDS\", e[e.COMOROS = 137] = \"COMOROS\", e[e.CONGO = 138] = \"CONGO\", e[e.COOK_ISLANDS = 139] = \"COOK_ISLANDS\", e[e.CUBA = 140] = \"CUBA\", e[e.CURACAO = 141] = \"CURACAO\", e[e.DEMOCRATIC_REPUBLIC_OF_THE_CONGO = 142] = \"DEMOCRATIC_REPUBLIC_OF_THE_CONGO\", e[e.DJIBOUTI = 143] = \"DJIBOUTI\", e[e.DOMINICA = 144] = \"DOMINICA\", e[e.EAST_TIMOR = 145] = \"EAST_TIMOR\", e[e.EQUATORIAL_GUINEA = 146] = \"EQUATORIAL_GUINEA\", e[e.ERITREA = 147] = \"ERITREA\", e[e.ETHIOPIA = 148] = \"ETHIOPIA\", e[e.FALKLAND_ISLANDS = 149] = \"FALKLAND_ISLANDS\", e[e.FAROE_ISLANDS = 150] = \"FAROE_ISLANDS\", e[e.FEDERATED_STATES_OF_MICRONESIA = 151] = \"FEDERATED_STATES_OF_MICRONESIA\", e[e.FIJI = 152] = \"FIJI\", e[e.FRENCH_GUIANA = 153] = \"FRENCH_GUIANA\", e[e.FRENCH_POLYNESIA = 154] = \"FRENCH_POLYNESIA\", e[e.FRENCH_SOUTHERN_TERRITORIES = 155] = \"FRENCH_SOUTHERN_TERRITORIES\", e[e.GABON = 156] = \"GABON\", e[e.GAMBIA = 157] = \"GAMBIA\", e[e.GIBRALTAR = 158] = \"GIBRALTAR\", e[e.GREENLAND = 159] = \"GREENLAND\", e[e.GRENADA = 160] = \"GRENADA\", e[e.GUADELOUPE = 161] = \"GUADELOUPE\", e[e.GUAM = 162] = \"GUAM\", e[e.GUINEA = 163] = \"GUINEA\", e[e.GUINEA_BISSAU = 164] = \"GUINEA_BISSAU\", e[e.GUYANA = 165] = \"GUYANA\", e[e.HEARD_ISLAND_AND_MCDONALD_ISLANDS = 166] = \"HEARD_ISLAND_AND_MCDONALD_ISLANDS\", e[e.IRAN = 167] = \"IRAN\", e[e.IRAQ = 168] = \"IRAQ\", e[e.ISLE_OF_MAN = 169] = \"ISLE_OF_MAN\", e[e.IVORY_COAST = 170] = \"IVORY_COAST\", e[e.JAMAICA = 171] = \"JAMAICA\", e[e.KIRIBATI = 172] = \"KIRIBATI\", e[e.KYRGYZSTAN = 173] = \"KYRGYZSTAN\", e[e.LAOS = 174] = \"LAOS\", e[e.LEBANON = 175] = \"LEBANON\", e[e.LESOTHO = 176] = \"LESOTHO\", e[e.LIBERIA = 177] = \"LIBERIA\", e[e.LIBYA = 178] = \"LIBYA\", e[e.LIECHTENSTEIN = 179] = \"LIECHTENSTEIN\", e[e.MACAU = 180] = \"MACAU\", e[e.MADAGASCAR = 181] = \"MADAGASCAR\", e[e.MALAWI = 182] = \"MALAWI\", e[e.MALI = 183] = \"MALI\", e[e.MARSHALL_ISLANDS = 184] = \"MARSHALL_ISLANDS\", e[e.MARTINIQUE = 185] = \"MARTINIQUE\", e[e.MAURITANIA = 186] = \"MAURITANIA\", e[e.MAYOTTE = 187] = \"MAYOTTE\", e[e.MOLDOVA = 188] = \"MOLDOVA\", e[e.MONACO = 189] = \"MONACO\", e[e.MONGOLIA = 190] = \"MONGOLIA\", e[e.MONTSERRAT = 191] = \"MONTSERRAT\", e[e.MOZAMBIQUE = 192] = \"MOZAMBIQUE\", e[e.MYANMAR = 193] = \"MYANMAR\", e[e.NAMIBIA = 194] = \"NAMIBIA\", e[e.NAURU = 195] = \"NAURU\", e[e.NEPAL = 196] = \"NEPAL\", e[e.NEW_CALEDONIA = 197] = \"NEW_CALEDONIA\", e[e.NIGER = 198] = \"NIGER\", e[e.NIUE = 199] = \"NIUE\", e[e.NORFOLK_ISLAND = 200] = \"NORFOLK_ISLAND\", e[e.NORTHERN_CYPRUS = 201] = \"NORTHERN_CYPRUS\", e[e.NORTHERN_MARIANA_ISLANDS = 202] = \"NORTHERN_MARIANA_ISLANDS\", e[e.NORTH_KOREA = 203] = \"NORTH_KOREA\", e[e.NORTH_MACEDONIA = 204] = \"NORTH_MACEDONIA\", e[e.PALAU = 205] = \"PALAU\", e[e.PALESTINE = 206] = \"PALESTINE\", e[e.PAPUA_NEW_GUINEA = 207] = \"PAPUA_NEW_GUINEA\", e[e.PITCAIRN = 208] = \"PITCAIRN\", e[e.REUNION = 209] = \"REUNION\", e[e.RWANDA = 210] = \"RWANDA\", e[e.SAINT_BARTHELEMY = 211] = \"SAINT_BARTHELEMY\", e[e.SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA = 212] = \"SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA\", e[e.SAINT_KITTS_AND_NEVIS = 213] = \"SAINT_KITTS_AND_NEVIS\", e[e.SAINT_LUCIA = 214] = \"SAINT_LUCIA\", e[e.SAINT_MARTIN = 215] = \"SAINT_MARTIN\", e[e.SAINT_PIERRE_AND_MIQUELON = 216] = \"SAINT_PIERRE_AND_MIQUELON\", e[e.SAINT_VINCENT_AND_THE_GRENADINES = 217] = \"SAINT_VINCENT_AND_THE_GRENADINES\", e[e.SAMOA = 218] = \"SAMOA\", e[e.SAN_MARINO = 219] = \"SAN_MARINO\", e[e.SAO_TOME_AND_PRINCIPE = 220] = \"SAO_TOME_AND_PRINCIPE\", e[e.SENEGAL = 221] = \"SENEGAL\", e[e.SEYCHELLES = 222] = \"SEYCHELLES\", e[e.SIERRA_LEONE = 223] = \"SIERRA_LEONE\", e[e.SINT_MAARTEN = 224] = \"SINT_MAARTEN\", e[e.SOLOMON_ISLANDS = 225] = \"SOLOMON_ISLANDS\", e[e.SOMALIA = 226] = \"SOMALIA\", e[e.SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS = 227] = \"SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS\", e[e.SOUTH_SUDAN = 228] = \"SOUTH_SUDAN\", e[e.SUDAN = 229] = \"SUDAN\", e[e.SURINAME = 230] = \"SURINAME\", e[e.SVALBARD_AND_JAN_MAYEN = 231] = \"SVALBARD_AND_JAN_MAYEN\", e[e.ESWATINI = 232] = \"ESWATINI\", e[e.SYRIA = 233] = \"SYRIA\", e[e.TAJIKISTAN = 234] = \"TAJIKISTAN\", e[e.TANZANIA = 235] = \"TANZANIA\", e[e.TOGO = 236] = \"TOGO\", e[e.TOKELAU = 237] = \"TOKELAU\", e[e.TONGA = 238] = \"TONGA\", e[e.TRINIDAD_AND_TOBAGO = 239] = \"TRINIDAD_AND_TOBAGO\", e[e.TURKMENISTAN = 240] = \"TURKMENISTAN\", e[e.TURKS_AND_CAICOS_ISLANDS = 241] = \"TURKS_AND_CAICOS_ISLANDS\", e[e.TUVALU = 242] = \"TUVALU\", e[e.UNITED_STATES_MINOR_OUTLYING_ISLANDS = 243] = \"UNITED_STATES_MINOR_OUTLYING_ISLANDS\", e[e.UZBEKISTAN = 244] = \"UZBEKISTAN\", e[e.VANUATU = 245] = \"VANUATU\", e[e.VATICAN_CITY = 246] = \"VATICAN_CITY\", e[e.VIRGIN_ISLANDS_BRITISH = 247] = \"VIRGIN_ISLANDS_BRITISH\", e[e.VIRGIN_ISLANDS_US = 248] = \"VIRGIN_ISLANDS_US\", e[e.WALLIS_AND_FUTUNA = 249] = \"WALLIS_AND_FUTUNA\", e[e.WESTERN_SAHARA = 250] = \"WESTERN_SAHARA\", e[e.YEMEN = 251] = \"YEMEN\", e[e.YUGOSLAVIA = 252] = \"YUGOSLAVIA\", e[e.ZAMBIA = 253] = \"ZAMBIA\", e[e.ZIMBABWE = 254] = \"ZIMBABWE\", e[e.COUNT = 255] = \"COUNT\";\n  }(me || (me = {})), function (e) {\n    e[e.NONE = 0] = \"NONE\", e[e.ALABAMA = 1] = \"ALABAMA\", e[e.ALASKA = 2] = \"ALASKA\", e[e.ALBERTA = 3] = \"ALBERTA\", e[e.ARIZONA = 4] = \"ARIZONA\", e[e.ARKANSAS = 5] = \"ARKANSAS\", e[e.AUSTRALIAN_CAPITAL_TERRITORY = 6] = \"AUSTRALIAN_CAPITAL_TERRITORY\", e[e.BRITISH_COLUMBIA = 7] = \"BRITISH_COLUMBIA\", e[e.CALIFORNIA = 8] = \"CALIFORNIA\", e[e.COLORADO = 9] = \"COLORADO\", e[e.CONNECTICUT = 10] = \"CONNECTICUT\", e[e.DELAWARE = 11] = \"DELAWARE\", e[e.DISTRICT_OF_COLUMBIA = 12] = \"DISTRICT_OF_COLUMBIA\", e[e.FLORIDA = 13] = \"FLORIDA\", e[e.GEORGIA = 14] = \"GEORGIA\", e[e.HAWAII = 15] = \"HAWAII\", e[e.IDAHO = 16] = \"IDAHO\", e[e.ILLINOIS = 17] = \"ILLINOIS\", e[e.INDIANA = 18] = \"INDIANA\", e[e.IOWA = 19] = \"IOWA\", e[e.KANSAS = 20] = \"KANSAS\", e[e.KENTUCKY = 21] = \"KENTUCKY\", e[e.LOUISIANA = 22] = \"LOUISIANA\", e[e.MAINE = 23] = \"MAINE\", e[e.MANITOBA = 24] = \"MANITOBA\", e[e.MARYLAND = 25] = \"MARYLAND\", e[e.MASSACHUSETTS = 26] = \"MASSACHUSETTS\", e[e.MICHIGAN = 27] = \"MICHIGAN\", e[e.MINNESOTA = 28] = \"MINNESOTA\", e[e.MISSISSIPPI = 29] = \"MISSISSIPPI\", e[e.MISSOURI = 30] = \"MISSOURI\", e[e.MONTANA = 31] = \"MONTANA\", e[e.NEBRASKA = 32] = \"NEBRASKA\", e[e.NEVADA = 33] = \"NEVADA\", e[e.NEW_BRUNSWICK = 34] = \"NEW_BRUNSWICK\", e[e.NEW_HAMPSHIRE = 35] = \"NEW_HAMPSHIRE\", e[e.NEW_JERSEY = 36] = \"NEW_JERSEY\", e[e.NEW_MEXICO = 37] = \"NEW_MEXICO\", e[e.NEW_SOUTH_WALES = 38] = \"NEW_SOUTH_WALES\", e[e.NEW_YORK = 39] = \"NEW_YORK\", e[e.NORTHERN_TERRITORY = 40] = \"NORTHERN_TERRITORY\", e[e.NORTH_CAROLINA = 41] = \"NORTH_CAROLINA\", e[e.NORTH_DAKOTA = 42] = \"NORTH_DAKOTA\", e[e.NOVA_SCOTIA = 43] = \"NOVA_SCOTIA\", e[e.OHIO = 44] = \"OHIO\", e[e.OKLAHOMA = 45] = \"OKLAHOMA\", e[e.ONTARIO = 46] = \"ONTARIO\", e[e.OREGON = 47] = \"OREGON\", e[e.PENNSYLVANIA = 48] = \"PENNSYLVANIA\", e[e.QUEBEC = 49] = \"QUEBEC\", e[e.QUEENSLAND = 50] = \"QUEENSLAND\", e[e.RHODE_ISLAND = 51] = \"RHODE_ISLAND\", e[e.SASKATCHEWAN = 52] = \"SASKATCHEWAN\", e[e.SOUTH_AUSTRALIA = 53] = \"SOUTH_AUSTRALIA\", e[e.SOUTH_CAROLINA = 54] = \"SOUTH_CAROLINA\", e[e.SOUTH_DAKOTA = 55] = \"SOUTH_DAKOTA\", e[e.TASMANIA = 56] = \"TASMANIA\", e[e.TENNESSEE = 57] = \"TENNESSEE\", e[e.TEXAS = 58] = \"TEXAS\", e[e.UTAH = 59] = \"UTAH\", e[e.VERMONT = 60] = \"VERMONT\", e[e.VICTORIA = 61] = \"VICTORIA\", e[e.VIRGINIA = 62] = \"VIRGINIA\", e[e.WASHINGTON = 63] = \"WASHINGTON\", e[e.WESTERN_AUSTRALIA = 64] = \"WESTERN_AUSTRALIA\", e[e.WEST_VIRGINIA = 65] = \"WEST_VIRGINIA\", e[e.WISCONSIN = 66] = \"WISCONSIN\", e[e.WYOMING = 67] = \"WYOMING\", e[e.YUKON = 68] = \"YUKON\", e[e.CIUDAD_DE_MEXICO = 69] = \"CIUDAD_DE_MEXICO\", e[e.JALISCO = 70] = \"JALISCO\", e[e.NEWFOUNDLAND_AND_LABRADOR = 71] = \"NEWFOUNDLAND_AND_LABRADOR\", e[e.NUEVO_LEON = 72] = \"NUEVO_LEON\", e[e.BAJA_CALIFORNIA = 73] = \"BAJA_CALIFORNIA\", e[e.CHIHUAHUA = 74] = \"CHIHUAHUA\", e[e.GUANAJUATO = 75] = \"GUANAJUATO\", e[e.GUERRERO = 76] = \"GUERRERO\", e[e.MEXICO = 77] = \"MEXICO\", e[e.MICHOACAN = 78] = \"MICHOACAN\", e[e.NEW_YORK_CITY = 79] = \"NEW_YORK_CITY\", e[e.TAMAULIPAS = 80] = \"TAMAULIPAS\", e[e.VERACRUZ = 81] = \"VERACRUZ\", e[e.CHIAPAS = 82] = \"CHIAPAS\", e[e.COAHUILA = 83] = \"COAHUILA\", e[e.DURANGO = 84] = \"DURANGO\", e[e.GUERRERO_COCULA = 85] = \"GUERRERO_COCULA\", e[e.GUERRERO_JUCHITAN = 86] = \"GUERRERO_JUCHITAN\", e[e.GUERRERO_TEPECOACUILCO = 87] = \"GUERRERO_TEPECOACUILCO\", e[e.GUERRERO_TLACOAPA = 88] = \"GUERRERO_TLACOAPA\", e[e.GUJARAT = 89] = \"GUJARAT\", e[e.HIDALGO = 90] = \"HIDALGO\", e[e.KARNATAKA = 91] = \"KARNATAKA\", e[e.KERALA = 92] = \"KERALA\", e[e.KHYBER_PAKHTUNKHWA = 93] = \"KHYBER_PAKHTUNKHWA\", e[e.MADHYA_PRADESH = 94] = \"MADHYA_PRADESH\", e[e.MAHARASHTRA = 95] = \"MAHARASHTRA\", e[e.MORELOS = 96] = \"MORELOS\", e[e.NAYARIT = 97] = \"NAYARIT\", e[e.OAXACA = 98] = \"OAXACA\", e[e.PUEBLA = 99] = \"PUEBLA\", e[e.PUNJAB = 100] = \"PUNJAB\", e[e.QUERETARO = 101] = \"QUERETARO\", e[e.SAN_LUIS_POTOSI = 102] = \"SAN_LUIS_POTOSI\", e[e.SINALOA = 103] = \"SINALOA\", e[e.SONORA = 104] = \"SONORA\", e[e.TABASCO = 105] = \"TABASCO\", e[e.TAMIL_NADU = 106] = \"TAMIL_NADU\", e[e.YUCATAN = 107] = \"YUCATAN\", e[e.ZACATECAS = 108] = \"ZACATECAS\", e[e.AGUASCALIENTES = 109] = \"AGUASCALIENTES\", e[e.BAJA_CALIFORNIA_SUR = 110] = \"BAJA_CALIFORNIA_SUR\", e[e.CAMPECHE = 111] = \"CAMPECHE\", e[e.COLIMA = 112] = \"COLIMA\", e[e.QUINTANA_ROO_BENITO_JUAREZ = 113] = \"QUINTANA_ROO_BENITO_JUAREZ\", e[e.UINTANA_ROO = 114] = \"UINTANA_ROO\", e[e.QUINTANA_ROO_SOLIDARIDAD = 115] = \"QUINTANA_ROO_SOLIDARIDAD\", e[e.TLAXCALA = 116] = \"TLAXCALA\", e[e.COUNT = 117] = \"COUNT\";\n  }(Ie || (Ie = {})), function (e) {\n    e[e.NONE = 0] = \"NONE\", e[e.CONSULAR_ID = 1] = \"CONSULAR_ID\", e[e.DL = 2] = \"DL\", e[e.DL_PUBLIC_SERVICES_CARD = 3] = \"DL_PUBLIC_SERVICES_CARD\", e[e.EMPLOYMENT_PASS = 4] = \"EMPLOYMENT_PASS\", e[e.FIN_CARD = 5] = \"FIN_CARD\", e[e.ID = 6] = \"ID\", e[e.MULTIPURPOSE_ID = 7] = \"MULTIPURPOSE_ID\", e[e.MyKad = 8] = \"MyKad\", e[e.MyKid = 9] = \"MyKid\", e[e.MyPR = 10] = \"MyPR\", e[e.MyTentera = 11] = \"MyTentera\", e[e.PAN_CARD = 12] = \"PAN_CARD\", e[e.PROFESSIONAL_ID = 13] = \"PROFESSIONAL_ID\", e[e.PUBLIC_SERVICES_CARD = 14] = \"PUBLIC_SERVICES_CARD\", e[e.RESIDENCE_PERMIT = 15] = \"RESIDENCE_PERMIT\", e[e.RESIDENT_ID = 16] = \"RESIDENT_ID\", e[e.TEMPORARY_RESIDENCE_PERMIT = 17] = \"TEMPORARY_RESIDENCE_PERMIT\", e[e.VOTER_ID = 18] = \"VOTER_ID\", e[e.WORK_PERMIT = 19] = \"WORK_PERMIT\", e[e.iKAD = 20] = \"iKAD\", e[e.MILITARY_ID = 21] = \"MILITARY_ID\", e[e.MyKAS = 22] = \"MyKAS\", e[e.SOCIAL_SECURITY_CARD = 23] = \"SOCIAL_SECURITY_CARD\", e[e.HEALTH_INSURANCE_CARD = 24] = \"HEALTH_INSURANCE_CARD\", e[e.PASSPORT = 25] = \"PASSPORT\", e[e.S_PASS = 26] = \"S_PASS\", e[e.ADDRESS_CARD = 27] = \"ADDRESS_CARD\", e[e.ALIEN_ID = 28] = \"ALIEN_ID\", e[e.ALIEN_PASSPORT = 29] = \"ALIEN_PASSPORT\", e[e.GREEN_CARD = 30] = \"GREEN_CARD\", e[e.MINORS_ID = 31] = \"MINORS_ID\", e[e.POSTAL_ID = 32] = \"POSTAL_ID\", e[e.PROFESSIONAL_DL = 33] = \"PROFESSIONAL_DL\", e[e.TAX_ID = 34] = \"TAX_ID\", e[e.WEAPON_PERMIT = 35] = \"WEAPON_PERMIT\", e[e.VISA = 36] = \"VISA\", e[e.BORDER_CROSSING_CARD = 37] = \"BORDER_CROSSING_CARD\", e[e.DRIVER_CARD = 38] = \"DRIVER_CARD\", e[e.GLOBAL_ENTRY_CARD = 39] = \"GLOBAL_ENTRY_CARD\", e[e.MyPolis = 40] = \"MyPolis\", e[e.NEXUS_CARD = 41] = \"NEXUS_CARD\", e[e.PASSPORT_CARD = 42] = \"PASSPORT_CARD\", e[e.PROOF_OF_AGE_CARD = 43] = \"PROOF_OF_AGE_CARD\", e[e.REFUGEE_ID = 44] = \"REFUGEE_ID\", e[e.TRIBAL_ID = 45] = \"TRIBAL_ID\", e[e.VETERAN_ID = 46] = \"VETERAN_ID\", e[e.CITIZENSHIP_CERTIFICATE = 47] = \"CITIZENSHIP_CERTIFICATE\", e[e.MY_NUMBER_CARD = 48] = \"MY_NUMBER_CARD\", e[e.COUNT = 49] = \"COUNT\";\n  }(Ze || (Ze = {})), function (e) {\n    e[e.NotAvailable = 0] = \"NotAvailable\", e[e.BlackAndWhite = 1] = \"BlackAndWhite\", e[e.Color = 2] = \"Color\";\n  }(be || (be = {})), function (e) {\n    e[e.NotAvailable = 0] = \"NotAvailable\", e[e.NotDetected = 1] = \"NotDetected\", e[e.Detected = 2] = \"Detected\";\n  }(Re || (Re = {})), function (e) {\n    e[e.Success = 0] = \"Success\", e[e.DetectionFailed = 1] = \"DetectionFailed\", e[e.ImagePreprocessingFailed = 2] = \"ImagePreprocessingFailed\", e[e.StabilityTestFailed = 3] = \"StabilityTestFailed\", e[e.ScanningWrongSide = 4] = \"ScanningWrongSide\", e[e.FieldIdentificationFailed = 5] = \"FieldIdentificationFailed\", e[e.MandatoryFieldMissing = 6] = \"MandatoryFieldMissing\", e[e.InvalidCharactersFound = 7] = \"InvalidCharactersFound\", e[e.ImageReturnFailed = 8] = \"ImageReturnFailed\", e[e.BarcodeRecognitionFailed = 9] = \"BarcodeRecognitionFailed\", e[e.MrzParsingFailed = 10] = \"MrzParsingFailed\", e[e.ClassFiltered = 11] = \"ClassFiltered\", e[e.UnsupportedClass = 12] = \"UnsupportedClass\", e[e.UnsupportedByLicense = 13] = \"UnsupportedByLicense\", e[e.AwaitingOtherSide = 14] = \"AwaitingOtherSide\", e[e.Count = 15] = \"Count\";\n  }(ue || (ue = {})), function (e) {\n    e[e.None = 0] = \"None\", e[e.MrzId = 1] = \"MrzId\", e[e.MrzVisa = 2] = \"MrzVisa\", e[e.MrzPassport = 3] = \"MrzPassport\", e[e.PhotoId = 4] = \"PhotoId\", e[e.FullRecognition = 5] = \"FullRecognition\", e[e.BarcodeId = 6] = \"BarcodeId\", e[e.Count = 7] = \"Count\";\n  }(ge || (ge = {})), function (e) {\n    e[e.None = 0] = \"None\", e[e.AAMVACompliant = 1] = \"AAMVACompliant\", e[e.ArgentinaID = 2] = \"ArgentinaID\", e[e.ArgentinaAlienID = 3] = \"ArgentinaAlienID\", e[e.ArgentinaDL = 4] = \"ArgentinaDL\", e[e.ColombiaID = 5] = \"ColombiaID\", e[e.ColombiaDL = 6] = \"ColombiaDL\", e[e.NigeriaVoterID = 7] = \"NigeriaVoterID\", e[e.NigeriaDL = 8] = \"NigeriaDL\", e[e.PanamaID = 9] = \"PanamaID\", e[e.SouthAfricaID = 10] = \"SouthAfricaID\";\n  }(We || (We = {}));\n\n  class Ge {\n    constructor(e) {\n      this.__licenseKey = \"\", this.__engineLocation = \"\", this.__mapperToRealConfig(e), this.__glare = !1, this.__detectionStatus = 0, this.__quad = {\n        topLeft: {\n          x: 0,\n          y: 0\n        },\n        topRight: {\n          x: 0,\n          y: 0\n        },\n        bottomLeft: {\n          x: 0,\n          y: 0\n        },\n        bottomRight: {\n          x: 0,\n          y: 0\n        }\n      };\n    }\n\n    async initializeEngine() {\n      try {\n        const e = new Ve(this.__licenseKey);\n        e.engineLocation = this.__engineLocation + \"/FPhi.Engine.Microblink\", e.allowHelloMessage = !1, this.__sdkInstance = await function (e) {\n          return W(this, void 0, void 0, function* () {\n            return new Promise((t, i) => {\n              if (!e || \"object\" != typeof e) return void i(new _(j.wasmSettingsMissing));\n              if (\"string\" != typeof e.licenseKey) return void i(new _(j.licenseKeyMissing));\n              if (!e.wasmModuleName) return void i(new _(j.wasmModuleNameMissing));\n              if (\"string\" != typeof e.engineLocation) return void i(new _(j.engineLocationInvalid));\n\n              const l = function () {\n                try {\n                  let e = localStorage.getItem(\"mb-user-id\");\n                  return null === e && (e = pe(), localStorage.setItem(\"mb-user-id\", e)), e;\n                } catch (e) {\n                  return pe();\n                }\n              }();\n\n              try {\n                const a = new Blob([String.raw`!function(){\"use strict\";\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */function e(e,t,s,n){return new(s||(s=Promise))((function(r,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}let t=0;class s{constructor(e){this.action=e,this.messageID=function(){const e=t;return t+=1,e}()}}class n extends s{constructor(e,t){super(n.action),this.wasmModuleName=e.wasmModuleName,this.licenseKey=e.licenseKey,this.userId=t,this.registerLoadCallback=null!==e.loadProgressCallback,this.allowHelloMessage=e.allowHelloMessage,this.engineLocation=e.engineLocation,this.wasmType=e.wasmType,this.numberOfWorkers=e.numberOfWorkers}}var r,i;n.action=\"init\",function(e){e[e.Any=0]=\"Any\",e[e.Recognizer=1]=\"Recognizer\",e[e.RecognizerSettings=2]=\"RecognizerSettings\",e[e.Callback=3]=\"Callback\"}(r||(r={}));class o extends s{constructor(e,t){super(o.action),this.funcName=e,this.params=t}}o.action=\"invokeFunction\";class a extends s{constructor(e,t){super(a.action),this.className=e,this.params=t}}a.action=\"createNewNativeObject\";class c extends s{constructor(e,t,s){super(c.action),this.recognizerHandles=e,this.allowMultipleResults=t,this.registeredMetadataCallbacks=s}}c.action=\"createRecognizerRunner\";class E extends s{constructor(e,t){super(E.action),this.recognizerHandles=e,this.allowMultipleResults=t}}E.action=\"reconfigureRecognizerRunner\";class R extends s{constructor(){super(R.action)}}R.action=\"deleteRecognizerRunner\";class l extends s{constructor(e,t,s){super(l.action),this.objectHandle=e,this.methodName=t,this.params=s}}l.action=\"invokeObject\";class _ extends s{constructor(e){super(_.action),this.frame=e}getTransferrables(){return[this.frame.imageData.data.buffer]}}_.action=\"processImage\";class u extends s{constructor(e){super(u.action),this.hardReset=e}}u.action=\"resetRecognizers\";class I extends s{constructor(e){super(I.action),this.registeredMetadataCallbacks=e}}I.action=\"registerMetadataCallbacks\";class d extends s{constructor(e){super(d.action),this.detectionOnlyMode=e}}d.action=\"setDetectionOnly\";class N extends s{constructor(e){super(N.action),this.callbackNonEmpty=e}}N.action=\"setClearTimeoutCallback\";class O extends s{constructor(e){super(O.action),this.cameraPreviewMirrored=e}}O.action=\"setCameraPreviewMirrored\";class h extends s{constructor(e){super(h.action),this.userId=e}}h.action=\"getProductIntegrationInfo\";class S{constructor(e,t,s){this.success=!0,this.error=null,this.messageID=e,this.success=t,this.error=s}}class g{constructor(e,t,s,n){this.success=!0,this.showOverlay=!0,this.messageID=e,this.success=t,this.showOverlay=s,this.wasmType=n}}class C extends S{constructor(e,t){super(e,!0,null),this.result=t}}class m extends S{constructor(e,t){super(e,!0,null),this.objectHandle=t}}class A extends S{constructor(e,t){super(e,!0,null),this.recognitionState=t}}class D extends S{constructor(e,t){super(e,!0,null),this.result=t}}class f{constructor(e){this.isLoadProgressMessage=!0,this.progress=e}}!function(e){e[e.onDebugText=0]=\"onDebugText\",e[e.onDetectionFailed=1]=\"onDetectionFailed\",e[e.onQuadDetection=2]=\"onQuadDetection\",e[e.onPointsDetection=3]=\"onPointsDetection\",e[e.onFirstSideResult=4]=\"onFirstSideResult\",e[e.clearTimeoutCallback=5]=\"clearTimeoutCallback\",e[e.onGlare=6]=\"onGlare\",e[e.recognizerCallback=7]=\"recognizerCallback\"}(i||(i={}));class M{constructor(e,t){this.isCallbackMessage=!0,this.callbackType=e,this.callbackParameters=t}}function T(e,t){return t=t||\"\",\"\"===(e=e||\"\")?t:e.endsWith(\"/\")?t.startsWith(\"/\")?e+t.substring(1):e+t:t.startsWith(\"/\")?e+t:e+\"/\"+t}var p,L,w;function y(t){return e(this,void 0,void 0,(function*(){const e=yield(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])))(),s=yield(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,12,1,10,0,67,0,0,0,0,252,0,26,11])))(),n=yield(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,65,0,192,26,11])))(),r=yield(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))(),i=yield(async e=>{try{return\"undefined\"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));if(!(e&&s&&n&&r))return p.Basic;if(!i)return p.Advanced;try{return new Worker(t+\"/Worker.test.js\").terminate(),p.AdvancedWithThreads}catch(e){return p.Advanced}}))}!function(e){e.Basic=\"BASIC\",e.Advanced=\"ADVANCED\",e.AdvancedWithThreads=\"ADVANCED_WITH_THREADS\"}(p||(p={}));class U{constructor(e,t){if(!e.code||!e.message)throw Error(\"Instance of SDKError is required to have code and message.\");this.message=e.message,this.code=e.code,this.details=t}}!function(e){e.WORKER_WASM_LOAD_FAILURE=\"WORKER_WASM_LOAD_FAILURE\",e.WORKER_WASM_INIT_MISSING=\"WORKER_WASM_INIT_MISSING\",e.WORKER_FUNCTION_INVOKE_FAILURE=\"WORKER_FUNCTION_INVOKE_FAILURE\",e.WORKER_RECOGNIZER_CREATION_FAILURE=\"WORKER_RECOGNIZER_CREATION_FAILURE\",e.WORKER_RUNNER_EXISTS=\"WORKER_RUNNER_EXISTS\",e.WORKER_RUNNER_CREATION_FAILURE=\"WORKER_RUNNER_CREATION_FAILURE\",e.WORKER_RUNNER_MISSING=\"WORKER_RUNNER_MISSING\",e.WORKER_RUNNER_RECONFIGURE_FAILURE=\"WORKER_RUNNER_RECONFIGURE_FAILURE\",e.WORKER_RUNNER_DELETED=\"WORKER_RUNNER_DELETED\",e.WORKER_RUNNER_DELETE_FAILURE=\"WORKER_RUNNER_DELETE_FAILURE\",e.WORKER_OBJECT_INVOKE_FAILURE=\"WORKER_OBJECT_INVOKE_FAILURE\",e.WORKER_IMAGE_PROCESS_FAILURE=\"WORKER_IMAGE_PROCESS_FAILURE\",e.WORKER_HANDLE_UNDEFINED=\"WORKER_HANDLE_UNDEFINED\",e.WORKER_MESSAGE_ACTION_UNKNOWN=\"WORKER_MESSAGE_ACTION_UNKNOWN\",e.WORKER_LICENSE_UNLOCK_ERROR=\"WORKER_LICENSE_UNLOCK_ERROR\",e.WORKER_INTEGRATION_INFO_FAILURE=\"WORKER_INTEGRATION_INFO_FAILURE\",e.LOCAL_SDK_RUNNER_MISSING=\"LOCAL_SDK_RUNNER_MISSING\",e.LOCAL_SDK_RUNNER_EMPTY=\"LOCAL_SDK_RUNNER_EMPTY\",e.LICENSE_UNLOCK_ERROR=\"LICENSE_UNLOCK_ERROR\",e.FRAME_CAPTURE_SVG_UNSUPPORTED=\"FRAME_CAPTURE_SVG_UNSUPPORTED\",e.FRAME_CAPTURE_CANVAS_MISSING=\"FRAME_CAPTURE_CANVAS_MISSING\",e.SDK_WASM_SETTINGS_MISSING=\"SDK_WASM_SETTINGS_MISSING\",e.SDK_LICENSE_KEY_MISSING=\"SDK_LICENSE_KEY_MISSING\",e.SDK_WASM_MODULE_NAME_MISSING=\"SDK_WASM_MODULE_NAME_MISSING\",e.SDK_ENGINE_LOCATION_INVALID=\"SDK_ENGINE_LOCATION_INVALID\",e.SDK_MISSING=\"SDK_MISSING\",e.SDK_RECOGNIZERS_MISSING=\"SDK_RECOGNIZERS_MISSING\",e.VIDEO_RECOGNIZER_ELEMENT_MISSING=\"VIDEO_RECOGNIZER_ELEMENT_MISSING\",e.VIDEO_RECOGNIZER_CAMERA_MISSING=\"VIDEO_RECOGNIZER_CAMERA_MISSING\",e.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED=\"VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED\",e.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE=\"VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE\",e.VIDEO_RECOGNIZER_CAMERA_IN_USE=\"VIDEO_RECOGNIZER_CAMERA_IN_USE\",e.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED=\"VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED\",e.VIDEO_RECOGNIZER_FEED_RELEASED=\"VIDEO_RECOGNIZER_FEED_RELEASED\",e.VIDEO_RECOGNIZER_FEED_NOT_PAUSED=\"VIDEO_RECOGNIZER_FEED_NOT_PAUSED\",e.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED=\"VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED\",e.VIDEO_RECOGNIZER_FEED_PAUSED=\"VIDEO_RECOGNIZER_FEED_PAUSED\",e.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE=\"VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE\",e.VIDEO_RECOGNIZER_FEED_MISSING=\"VIDEO_RECOGNIZER_FEED_MISSING\"}(L||(L={})),function(e){e.WORKER_HANDLE_UNDEFINED=\"Cannot find object with handle: undefined\",e.WORKER_WASM_LOAD_FAILURE=\"Failed to load WASM in web worker!\",e.WORKER_WASM_INIT_MISSING=\"WASM module is not initialized!\",e.WORKER_FUNCTION_INVOKE_FAILURE=\"Failed to invoke function!\",e.WORKER_RECOGNIZER_CREATION_FAILURE=\"Failed to create new recognizer!\",e.WORKER_RUNNER_EXISTS=\"Recognizer runner is already created! Multiple instances are not allowed!\",e.WORKER_RUNNER_CREATION_FAILURE=\"Failed to create new recognizer runner!\",e.WORKER_RUNNER_MISSING=\"Recognizer runner is not created! There is nothing to reconfigure!\",e.WORKER_RUNNER_RECONFIGURE_FAILURE=\"Failed to reconfigure recognizer runner!\",e.WORKER_RUNNER_DELETED=\"Recognizer runner is already deleted!\",e.WORKER_RUNNER_DELETE_FAILURE=\"Failed to delete recognizer runner!\",e.WORKER_OBJECT_INVOKE_FAILURE=\"Failed to invoke object!\",e.WORKER_IMAGE_PROCESS_FAILURE=\"Recognizer runner is not initialized! Cannot process image!\",e.WORKER_INTEGRATION_INFO_FAILURE=\"Failed to get product integration info!\",e.LOCAL_SDK_RUNNER_MISSING=\"Property nativeRecognizerRunner is not available!\",e.LOCAL_SDK_RUNNER_EMPTY=\"Native RecognizerRunner cannot be empty!\",e.LICENSE_TOKEN_STATE_INCORRECT=\"Internal error (Incorrect token state)\",e.LICENSE_PAYLOAD_VERIFICATION_FAILED=\"Failed to verify server permission's digital signature!\",e.LICENSE_PAYLOAD_CORRUPTED=\"Server permission payload is corrupted!\",e.LICENSE_PERMISSION_EXPIRED=\"Internal error (server permission expired)\",e.LICENSE_REMOTE_LOCKED=\"Provided license key has been remotely locked. Please contact support for more information!\",e.FRAME_CAPTURE_SVG_UNSUPPORTED=\"Recognition of SVG elements not supported!\",e.FRAME_CAPTURE_CANVAS_MISSING=\"Could not get canvas 2d context!\",e.SDK_WASM_SETTINGS_MISSING=\"Missing WASM load settings!\",e.SDK_LICENSE_KEY_MISSING=\"Missing license key!\",e.SDK_WASM_MODULE_NAME_MISSING=\"Missing WASM module name!\",e.SDK_ENGINE_LOCATION_INVALID=\"Setting property 'engineLocation' must be a string!\",e.SDK_MISSING=\"SDK is not provided!\",e.SDK_RECOGNIZERS_MISSING=\"To create RecognizerRunner at least 1 recognizer is required.\",e.VIDEO_RECOGNIZER_ELEMENT_MISSING=\"Video element, i.e. camera feed is not provided!\",e.VIDEO_RECOGNIZER_CAMERA_MISSING=\"Camera not found!\",e.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED=\"Camera not allowed!\",e.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE=\"Camera not available!\",e.VIDEO_RECOGNIZER_CAMERA_IN_USE=\"Camera in use!\",e.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED=\"Media devices not supported by browser.\",e.VIDEO_RECOGNIZER_FEED_RELEASED=\"The associated video feed has been released!\",e.VIDEO_RECOGNIZER_FEED_NOT_PAUSED=\"The associated video feed is not paused. Use resumeRecognition instead!\",e.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED=\"The play() request was interrupted or prevented by browser security rules!\",e.VIDEO_RECOGNIZER_FEED_PAUSED=\"Cannot resume recognition while video feed is paused! Use recognize or startRecognition\",e.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE=\"Could not reset recognizers!\",e.VIDEO_RECOGNIZER_FEED_MISSING=\"Missing video feed!\"}(w||(w={}));const F={licenseTokenStateIncorrect:{code:L.LICENSE_UNLOCK_ERROR,message:w.LICENSE_TOKEN_STATE_INCORRECT},licensePayloadVerificationFailed:{code:L.LICENSE_UNLOCK_ERROR,message:w.LICENSE_PAYLOAD_VERIFICATION_FAILED},licensePayloadCorrupted:{code:L.LICENSE_UNLOCK_ERROR,message:w.LICENSE_PAYLOAD_CORRUPTED},licensePermissionExpired:{code:L.LICENSE_UNLOCK_ERROR,message:w.LICENSE_PERMISSION_EXPIRED},licenseRemoteLocked:{code:L.LICENSE_UNLOCK_ERROR,message:w.LICENSE_REMOTE_LOCKED},licenseNetworkError:{code:L.LICENSE_UNLOCK_ERROR},licenseInvalid:{code:L.LICENSE_UNLOCK_ERROR}},b={imageProcessFailure:{message:w.WORKER_IMAGE_PROCESS_FAILURE,code:L.WORKER_IMAGE_PROCESS_FAILURE},objectInvokeFailure:{message:w.WORKER_OBJECT_INVOKE_FAILURE,code:L.WORKER_OBJECT_INVOKE_FAILURE},runnerDeleteFailure:{message:w.WORKER_RUNNER_DELETE_FAILURE,code:L.WORKER_RUNNER_DELETE_FAILURE},runnerDeleted:{message:w.WORKER_RUNNER_DELETED,code:L.WORKER_RUNNER_DELETED},runnerReconfigureFailure:{message:w.WORKER_RUNNER_RECONFIGURE_FAILURE,code:L.WORKER_RUNNER_RECONFIGURE_FAILURE},runnerMissing:{message:w.WORKER_RUNNER_MISSING,code:L.WORKER_RUNNER_MISSING},runnerCreationFailure:{message:w.WORKER_RUNNER_CREATION_FAILURE,code:L.WORKER_RUNNER_CREATION_FAILURE},runnerExists:{message:w.WORKER_RUNNER_EXISTS,code:L.WORKER_RUNNER_EXISTS},recognizerCreationFailure:{message:w.WORKER_RECOGNIZER_CREATION_FAILURE,code:L.WORKER_RECOGNIZER_CREATION_FAILURE},functionInvokeFailure:{message:w.WORKER_FUNCTION_INVOKE_FAILURE,code:L.WORKER_FUNCTION_INVOKE_FAILURE},wasmInitMissing:{message:w.WORKER_WASM_INIT_MISSING,code:L.WORKER_WASM_INIT_MISSING},wasmLoadFailure:{message:w.WORKER_WASM_LOAD_FAILURE,code:L.WORKER_WASM_LOAD_FAILURE},handleUndefined:{message:w.WORKER_HANDLE_UNDEFINED,code:L.WORKER_HANDLE_UNDEFINED},integrationInfoFailure:{message:w.WORKER_INTEGRATION_INFO_FAILURE,code:L.WORKER_INTEGRATION_INFO_FAILURE}};var k,K;!function(e){e[e.Invalid=0]=\"Invalid\",e[e.RequiresServerPermission=1]=\"RequiresServerPermission\",e[e.Valid=2]=\"Valid\"}(k||(k={})),function(e){e.LicenseTokenStateInvalid=\"LICENSE_TOKEN_STATE_INVALID\",e.NetworkError=\"NETWORK_ERROR\",e.RemoteLock=\"REMOTE_LOCK\",e.PermissionExpired=\"PERMISSION_EXPIRED\",e.PayloadCorrupted=\"PAYLOAD_CORRUPTED\",e.PayloadSignatureVerificationFailed=\"PAYLOAD_SIGNATURE_VERIFICATION_FAILED\",e.IncorrectTokenState=\"INCORRECT_TOKEN_STATE\"}(K||(K={}));function v(e){return{licenseId:e.licenseId,licensee:e.licensee,packageName:e.packageName,platform:\"Browser\",sdkName:e.sdkName,sdkVersion:e.sdkVersion}}var P;function W(t,s){return e(this,void 0,void 0,(function*(){try{const e=yield fetch(\"https://baltazar.microblink.com/api/v1/status/check\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},cache:\"no-cache\",body:JSON.stringify(v(t))});if(e.ok){const t=\"\"+(yield e.text());return s.submitServerPermission(t)}return{status:P.NetworkError,lease:0,networkErrorDescription:\"Server responded with status \"+e.status}}catch(e){return{status:P.NetworkError,lease:0,networkErrorDescription:\"Unexpected error: \"+JSON.stringify(e)}}}))}function G(e){return e===p.AdvancedWithThreads}!function(e){e[e.Ok=0]=\"Ok\",e[e.NetworkError=1]=\"NetworkError\",e[e.RemoteLock=2]=\"RemoteLock\",e[e.PermissionExpired=3]=\"PermissionExpired\",e[e.PayloadCorrupted=4]=\"PayloadCorrupted\",e[e.PayloadSignatureVerificationFailed=5]=\"PayloadSignatureVerificationFailed\",e[e.IncorrectTokenState=6]=\"IncorrectTokenState\"}(P||(P={}));new class{constructor(){this.context=self,this.wasmModule=null,this.nativeRecognizerRunner=null,this.objects={},this.nextObjectHandle=0,this.metadataCallbacks={},this.clearTimeoutCallback=null,this.context.onmessage=e=>{const t=e.data;switch(t.action){case n.action:this.processInitMessage(t);break;case o.action:this.processInvokeFunction(t);break;case a.action:this.processCreateNewRecognizer(t);break;case l.action:this.processInvokeObject(t);break;case c.action:this.processCreateRecognizerRunner(t);break;case E.action:this.processReconfigureRecognizerRunner(t);break;case R.action:this.processDeleteRecognizerRunner(t);break;case _.action:this.processImage(t);break;case u.action:this.resetRecognizers(t);break;case d.action:this.setDetectionOnly(t);break;case O.action:this.setCameraPreviewMirrored(t);break;case I.action:this.registerMetadataCallbacks(t);break;case N.action:this.registerClearTimeoutCallback(t);break;case h.action:this.processGetProductIntegrationInfo(t);break;default:throw new U({code:L.WORKER_MESSAGE_ACTION_UNKNOWN,message:\"Unknown message action: \"+JSON.stringify(t.action)})}}}getNextObjectHandle(){const e=this.nextObjectHandle;return this.nextObjectHandle=this.nextObjectHandle+1,e}notifyError(e,t){this.context.postMessage(new S(e.messageID,!1,t))}notifySuccess(e){this.context.postMessage(new S(e.messageID,!0,null))}notifyInitSuccess(e,t,s){this.context.postMessage(new g(e.messageID,!0,t,s))}unwrapParameters(e){const t=[];for(const s of e.params){let n=s.parameter;s.type===r.Recognizer?(n=this.objects[n],void 0===n&&this.notifyError(e,new U(b.handleUndefined))):s.type===r.RecognizerSettings&&(n=this.restoreFunctions(n)),t.push(n)}return t}restoreFunctions(e){const t=Object.keys(e);for(const s of t){const t=e[s];\"object\"==typeof t&&null!==t&&\"parameter\"in t&&\"type\"in t&&t.type===r.Callback&&(e[s]=(...e)=>{const s=new M(i.recognizerCallback,[t.parameter].concat(e));this.context.postMessage(s)})}return e}scanForTransferrables(e){if(\"object\"==typeof e){const t=Object.keys(e),s=[];for(const n of t){const t=e[n];t instanceof ImageData?s.push(t.data.buffer):t instanceof Uint8Array?s.push(t.buffer):null!==t&&\"object\"==typeof t&&s.push(...this.scanForTransferrables(t))}return s}return[]}registerHeartBeat(e){this.unregisterHeartBeat(),this.lease=e;let t=e-Math.floor(Date.now()/1e3);t>120?t-=120:t/=2,this.inFlightHeartBeatTimeoutId=setTimeout((()=>{this.obtainNewServerPermission(!0)}),1e3*t)}unregisterHeartBeat(){this.lease&&delete this.lease,this.inFlightHeartBeatTimeoutId&&(clearTimeout(this.inFlightHeartBeatTimeoutId),delete this.inFlightHeartBeatTimeoutId)}obtainNewServerPermission(t){return e(this,void 0,void 0,(function*(){if(this.wasmModule){const e=this.wasmModule.getActiveLicenseTokenInfo(),s=yield W(e,this.wasmModule);switch(s.status){case P.Ok:case P.RemoteLock:this.registerHeartBeat(s.lease);break;case P.NetworkError:case P.PayloadSignatureVerificationFailed:case P.PayloadCorrupted:t?(console.warn(\"Problem with obtaining server permission. Will attempt in 10 seconds \"+P[s.status]),this.inFlightHeartBeatTimeoutId=setTimeout((()=>{this.obtainNewServerPermission(!1)}),1e4)):console.error(\"Problem with obtaining server permission. \"+P[s.status]);break;case P.IncorrectTokenState:case P.PermissionExpired:console.error(\"Internal error: \"+P[s.status])}return s.status}return console.error(\"Internal inconsistency! Wasm module not initialized where it's expected to be!\"),P.IncorrectTokenState}))}willSoonExpire(){if(this.lease){if(this.wasmModule.getActiveLicenseTokenInfo().unlockResult===k.Valid){const e=Math.floor(Date.now()/1e3);return 30>this.lease-e}return!0}return!1}calculateWasmType(t){return e(this,void 0,void 0,(function*(){return null!==t.wasmType?t.wasmType:yield y(t.engineLocation)}))}calculateEngineLocationPrefix(e,t){const s=T(\"\"===e.engineLocation?self.location.origin:e.engineLocation,function(e){switch(e){case p.AdvancedWithThreads:return\"advanced-threads\";case p.Advanced:return\"advanced\";case p.Basic:return\"basic\"}}(t));return e.allowHelloMessage&&console.log(\"Engine location prefix is:\",s),s}processInitMessage(t){return e(this,void 0,void 0,(function*(){const s=yield this.calculateWasmType(t),n=this.calculateEngineLocationPrefix(t,s);let r={locateFile:e=>T(n,e)};t.registerLoadCallback&&(r=Object.assign(r,{setStatus:e=>{const t=new f(function(e){if(\"Running...\"===e)return 100;if(0===e.length)return 0;const t=/([^(]+)\\((\\d+(\\.\\d+)?)\\/(\\d+)\\)/.exec(e);if(t)return 100*parseInt(t[2])/parseInt(t[4]);return NaN}(e));this.context.postMessage(t)}}));try{const i=T(n,t.wasmModuleName+\".js\");G(s)&&(r=function(e,t,s){return t&&t>0&&(e=Object.assign(e,{allowedThreads:t})),null!==s&&(e=Object.assign(e,{mainScriptUrlOrBlob:s})),e}(r,t.numberOfWorkers,i)),importScripts(i);(0,self[t.wasmModuleName])(r).then((n=>e(this,void 0,void 0,(function*(){G(s)&&(t.allowHelloMessage&&console.log(\"Waiting for thread workers to boot...\"),yield function(t){return e(this,void 0,void 0,(function*(){t.threadWorkersReadyPromise&&(yield t.threadWorkersReadyPromise)}))}(n));const r=yield function(t,s,n,r){return e(this,void 0,void 0,(function*(){const e=r.initializeWithLicenseKey(t,n,s);switch(e.unlockResult){case k.Invalid:return{error:new U(Object.assign(Object.assign({},F.licenseInvalid),{message:e.licenseError}),{type:K.LicenseTokenStateInvalid})};case k.Valid:return{error:null,showOverlay:(i=e.isTrial,o=e.allowRemoveDemoOverlay,a=e.allowRemoveProductionOverlay,!(i&&o||!i&&a))};case k.RequiresServerPermission:{const t=yield W(e,r);switch(t.status){case P.Ok:return{error:null,lease:t.lease};case P.NetworkError:{let e=\"\";return t.networkErrorDescription&&(e=\" \"+t.networkErrorDescription),{error:new U(Object.assign(Object.assign({},F.licenseNetworkError),{message:\"There has been a network error while obtaining the server permission!\"+e}),{type:K.NetworkError})}}case P.RemoteLock:return{error:new U(F.licenseRemoteLocked,{type:K.RemoteLock}),lease:t.lease};case P.PermissionExpired:return{error:new U(F.licensePermissionExpired,{type:K.PermissionExpired}),lease:t.lease};case P.PayloadCorrupted:return{error:new U(F.licensePayloadCorrupted,{type:K.PayloadCorrupted}),lease:t.lease};case P.PayloadSignatureVerificationFailed:return{error:new U(F.licensePayloadVerificationFailed,{type:K.PayloadSignatureVerificationFailed}),lease:t.lease};case P.IncorrectTokenState:return{error:new U(F.licenseTokenStateIncorrect,{type:K.IncorrectTokenState}),lease:t.lease}}}}var i,o,a}))}(t.licenseKey,t.allowHelloMessage,t.userId,n);null===r.error?(this.wasmModule=n,r.lease?this.registerHeartBeat(r.lease):this.unregisterHeartBeat(),this.notifyInitSuccess(t,!!r.showOverlay,s)):this.notifyError(t,r.error)}))),(e=>{this.notifyError(t,new U(b.wasmLoadFailure,e))}))}catch(e){this.notifyError(t,new U(b.wasmLoadFailure,e))}}))}processInvokeFunction(e){if(null===this.wasmModule)return void this.notifyError(e,new U(b.wasmInitMissing));const t=e.funcName,s=this.unwrapParameters(e);try{const n=this.wasmModule[t](...s);this.context.postMessage(new C(e.messageID,n))}catch(t){this.notifyError(e,new U(b.functionInvokeFailure,t))}}processCreateNewRecognizer(e){if(null===this.wasmModule)return void this.notifyError(e,new U(b.wasmInitMissing));const t=e.className,s=this.unwrapParameters(e);try{const n=new this.wasmModule[t](...s),r=this.getNextObjectHandle();this.objects[r]=n,this.context.postMessage(new m(e.messageID,r))}catch(t){this.notifyError(e,new U(b.recognizerCreationFailure,t))}}getRecognizers(e){const t=[];for(const s of e){t.push(this.objects[s])}return t}processCreateRecognizerRunner(t){return e(this,void 0,void 0,(function*(){if(null===this.wasmModule)this.notifyError(t,new U(b.wasmInitMissing));else if(null!==this.nativeRecognizerRunner)this.notifyError(t,new U(b.runnerExists));else{this.setupMetadataCallbacks(t.registeredMetadataCallbacks);try{if(this.willSoonExpire()){const e=yield this.obtainNewServerPermission(!1);if(e!==P.Ok){const s=P[e];return void this.notifyError(t,new U({code:L.WORKER_LICENSE_UNLOCK_ERROR,message:\"Cannot initialize recognizers because of invalid server permission: \\n                                    \"+s},{type:K[s]}))}}const e=this.getRecognizers(t.recognizerHandles);this.nativeRecognizerRunner=new this.wasmModule.RecognizerRunner(e,t.allowMultipleResults,this.metadataCallbacks),this.notifySuccess(t)}catch(e){this.notifyError(t,new U(b.runnerCreationFailure,e))}}}))}processReconfigureRecognizerRunner(e){if(null===this.wasmModule)this.notifyError(e,new U(b.wasmInitMissing));else if(null===this.nativeRecognizerRunner)this.notifyError(e,new U(b.runnerMissing));else try{const t=this.getRecognizers(e.recognizerHandles);this.nativeRecognizerRunner.reconfigureRecognizers(t,e.allowMultipleResults),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.runnerReconfigureFailure,t))}}processDeleteRecognizerRunner(e){if(null!==this.nativeRecognizerRunner)try{this.nativeRecognizerRunner.delete(),this.nativeRecognizerRunner=null,this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.runnerDeleteFailure,t))}else this.notifyError(e,new U(b.runnerDeleted))}wrapFunctions(e,t){if(\"object\"!=typeof e)return e;const s=Object.assign({},e),n=Object.keys(s);for(const e of n){if(\"function\"==typeof s[e]){s[e]={parameter:{recognizerHandle:t,callbackName:e},type:r.Callback}}}return s}processInvokeObject(e){try{const t=e.objectHandle,s=e.methodName,n=this.unwrapParameters(e),r=this.objects[t];if(void 0===r)this.notifyError(e,new U({message:\"Cannot find object with handle: \"+t,code:L.WORKER_HANDLE_UNDEFINED}));else{const i=this.wrapFunctions(r[s](...n),t),o=this.scanForTransferrables(i);\"delete\"===s&&delete this.objects[t],this.context.postMessage(new C(e.messageID,i),o)}}catch(t){this.notifyError(e,new U(b.objectInvokeFailure,t))}}processImage(e){if(null!==this.nativeRecognizerRunner)try{const t=this.nativeRecognizerRunner.processImage(e.frame);this.context.postMessage(new A(e.messageID,t))}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}else this.notifyError(e,new U(b.imageProcessFailure))}resetRecognizers(e){if(null!==this.nativeRecognizerRunner)try{this.nativeRecognizerRunner.resetRecognizers(e.hardReset),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}else this.notifyError(e,new U(b.imageProcessFailure))}setDetectionOnly(e){if(null!==this.nativeRecognizerRunner)try{this.nativeRecognizerRunner.setDetectionOnlyMode(e.detectionOnlyMode),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}else this.notifyError(e,new U(b.imageProcessFailure))}setCameraPreviewMirrored(e){if(null!==this.nativeRecognizerRunner)try{this.nativeRecognizerRunner.setCameraPreviewMirrored(e.cameraPreviewMirrored),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}else this.notifyError(e,new U(b.imageProcessFailure))}setupMetadataCallbacks(e){e.onDebugText?this.metadataCallbacks.onDebugText=e=>{const t=new M(i.onDebugText,[e]);this.context.postMessage(t)}:delete this.metadataCallbacks.onDebugText,e.onDetectionFailed?this.metadataCallbacks.onDetectionFailed=()=>{const e=new M(i.onDetectionFailed,[]);this.context.postMessage(e)}:delete this.metadataCallbacks.onDetectionFailed,e.onPointsDetection?this.metadataCallbacks.onPointsDetection=e=>{const t=new M(i.onPointsDetection,[e]);this.context.postMessage(t)}:delete this.metadataCallbacks.onPointsDetection,e.onQuadDetection?this.metadataCallbacks.onQuadDetection=e=>{const t=new M(i.onQuadDetection,[e]);this.context.postMessage(t)}:delete this.metadataCallbacks.onQuadDetection,e.onFirstSideResult?this.metadataCallbacks.onFirstSideResult=()=>{const e=new M(i.onFirstSideResult,[]);this.context.postMessage(e)}:delete this.metadataCallbacks.onFirstSideResult,e.onGlare?this.metadataCallbacks.onGlare=e=>{const t=new M(i.onGlare,[e]);this.context.postMessage(t)}:delete this.metadataCallbacks.onGlare}registerMetadataCallbacks(e){if(null!==this.nativeRecognizerRunner){this.setupMetadataCallbacks(e.registeredMetadataCallbacks);try{this.nativeRecognizerRunner.setJSDelegate(this.metadataCallbacks),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}}else this.notifyError(e,new U(b.imageProcessFailure))}registerClearTimeoutCallback(e){if(null!==this.nativeRecognizerRunner){this.clearTimeoutCallback=e.callbackNonEmpty?{onClearTimeout:()=>{const e=new M(i.clearTimeoutCallback,[]);this.context.postMessage(e)}}:null;try{this.nativeRecognizerRunner.setClearTimeoutCallback(this.clearTimeoutCallback),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}}else this.notifyError(e,new U(b.imageProcessFailure))}processGetProductIntegrationInfo(e){if(null!==this.wasmModule)try{const t=this.wasmModule.getActiveLicenseTokenInfo(),s={userId:e.userId,licenseId:t.licenseId,licensee:t.licensee,productName:t.sdkName,productVersion:t.sdkVersion,platform:\"Browser\",device:self.navigator.userAgent,packageName:t.packageName};this.context.postMessage(new D(e.messageID,s))}catch(t){this.notifyError(e,new U(b.objectInvokeFailure,t))}else this.notifyError(e,new U(b.wasmInitMissing))}}}();\n`], {\n                  type: \"application/javascript\"\n                }),\n                      n = URL.createObjectURL(a),\n                      s = new Worker(n);\n                P.createWasmWorker(s, e, l).then(e => {\n                  t(e);\n                }, i);\n              } catch (t) {\n                i(t);\n              }\n            });\n          });\n        }(e), this.__sdkRecognizer = await function (e) {\n          return W(this, void 0, void 0, function* () {\n            return e.mbWasmModule.newRecognizer(\"BlinkIdCombinedRecognizer\");\n          });\n        }(this.__sdkInstance), this.__sdkSettings = await this.__sdkRecognizer.currentSettings(), this.__sdkSettings.returnFullDocumentImage = !0, this.__sdkSettings.saveCameraFrames = !0, this.__sdkSettings.fullDocumentImageDpi = 400, this.__sdkSettings.returnFaceImage = !0, this.__sdkSettings.faceImageDpi = 400, this.__sdkSettings.returnSignatureImage = !0, this.__sdkSettings.signatureImageDpi = 400, this.__sdkSettings.anonymizationMode = oe.FullResult, await this.__sdkRecognizer.updateSettings(this.__sdkSettings);\n        const t = {\n          onQuadDetection: e => {\n            this.__detectionStatus = e.detectionStatus, this.__quad = {\n              topLeft: e.topLeft,\n              topRight: e.topRight,\n              bottomLeft: e.bottomLeft,\n              bottomRight: e.bottomRight\n            };\n          },\n          onGlare: e => {\n            this.__glare = e;\n          }\n        };\n        this.__sdkRunnerRecognizer = await function (e, t) {\n          let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n          let l = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n          return W(this, void 0, void 0, function* () {\n            if (\"object\" != typeof e) throw new _(j.missing);\n            if (\"object\" != typeof t || 1 > t.length) throw new _(j.recognizersMissing);\n            return e.mbWasmModule.createRecognizerRunner(t, i, l);\n          });\n        }(this.__sdkInstance, [this.__sdkRecognizer], !1, t);\n      } catch (e) {\n        throw new Error(\"Fail to initialize the engine!\");\n      }\n    }\n\n    async detectImage(e, t) {\n      const i = function (e) {\n        let t,\n            i,\n            l = !1;\n        if (e instanceof HTMLVideoElement) t = e.videoWidth, i = e.videoHeight, l = !0;else if (e instanceof HTMLImageElement) t = e.naturalWidth, i = e.naturalHeight;else {\n          if (e instanceof SVGImageElement) throw new _(Q.svgUnsupported);\n          t = e.width, i = e.height;\n        }\n        te = te || document.createElement(\"canvas\"), te.width = t, te.height = i;\n        const a = te.getContext(\"2d\");\n        if (!a) throw new _(Q.canvasMissing);\n        a.drawImage(e, 0, 0, te.width, te.height);\n        const n = a.getImageData(0, 0, te.width, te.height);\n        return new ie(n, $.NoRotation, l);\n      }(e),\n            l = await this.__sdkRunnerRecognizer.processImage(i),\n            a = await this.__sdkRecognizer.getResult();\n\n      let n = this.__generateResultObject(l, a, t),\n          s = 0;\n\n      switch (this.__detectionStatus) {\n        case se.Fail:\n          s = 1;\n          break;\n\n        case se.CameraTooHigh:\n          s = 3;\n          break;\n\n        case se.CameraTooNear:\n          s = 4;\n          break;\n\n        case se.DocumentTooCloseToEdge:\n          s = 5;\n          break;\n\n        case se.CameraAtAngle:\n          s = 2;\n          break;\n\n        case se.Partial:\n          s = 5;\n      }\n\n      return n.detectionStatus = {\n        status: s,\n        quad: this.__quad,\n        glare: this.__glare,\n        internalStatus: a.processingStatus\n      }, n;\n    }\n\n    async cleanImageBuffer() {\n      await this.__sdkRunnerRecognizer.resetRecognizers(!0);\n    }\n\n    async finalizeEngine() {\n      this.__deleteWasmVar(this.__sdkRecognizer, this.__sdkRunnerRecognizer, this.__sdkSettings, this.__sdkInstance);\n    }\n\n    get __attributes() {\n      return {\n        licenseKey: {\n          type: \"string\",\n          property: \"__licenseKey\"\n        },\n        bundlePath: {\n          type: \"string\",\n          property: \"__engineLocation\"\n        },\n        imageFormat: {\n          type: \"string\",\n          property: \"__imageFormat\"\n        },\n        imageQuality: {\n          type: \"number\",\n          property: \"__imageQuality\"\n        }\n      };\n    }\n\n    get __scanResultType() {\n      return {\n        [ee.Valid]: 0,\n        [ee.StageValid]: 0,\n        [ee.Uncertain]: 1,\n        [ee.Empty]: 1\n      };\n    }\n\n    __mapperToRealConfig(e) {\n      for (const [t, i] of Object.entries(e)) void 0 !== this.__attributes[t] && (this[this.__attributes[t].property] = i);\n    }\n\n    __generateResultObject(e, t, i) {\n      let l = {};\n      return e !== ee.Empty && this.__validateResultDiagnostic(t.state, i) ? (l.diagnostic = this.__scanResultType[t.state], l.simpleModeOutput = 0, l.images = {\n        backDocument: this.__convertToImageOutput(t.fullDocumentBackImage.rawImage),\n        frontDocument: this.__convertToImageOutput(t.fullDocumentFrontImage.rawImage),\n        faceImage: this.__convertToImageOutput(t.faceImage.rawImage),\n        signatureImage: this.__convertToImageOutput(t.signatureImage.rawImage)\n      }, l.imagesRaw = {\n        backDocument: t.fullDocumentBackImage.rawImage,\n        frontDocument: t.fullDocumentFrontImage.rawImage,\n        faceImage: t.faceImage.rawImage,\n        signatureImage: t.signatureImage.rawImage\n      }, l.imagesFullsize = {\n        backDocument: this.__convertToImageOutput(t.backCameraFrame.frame),\n        frontDocument: this.__convertToImageOutput(t.frontCameraFrame.frame),\n        faceImage: this.__convertToImageOutput(t.faceImage.rawImage),\n        signatureImage: this.__convertToImageOutput(t.signatureImage.rawImage)\n      }, l.extractionRaw = {}, l.extractionRaw.mrz = {\n        rawData: t.mrz.rawMRZString || null,\n        opt1: t.mrz.opt1 || null,\n        opt2: t.mrz.opt2 || null,\n        firstName: t.mrz.secondaryID || null,\n        lastName: t.mrz.primaryID || null,\n        documentId: t.mrz.sanitizedOpt1 || null,\n        documentNumber: t.mrz.documentNumber || null,\n        documentIssuer: t.mrz.issuer || null,\n        dateOfExpiry: t.mrz.dateOfExpiry.originalString || null,\n        dateOfBirth: t.mrz.dateOfBirth.originalString || null,\n        gender: t.mrz.gender || null,\n        nationality: t.mrz.nationality || null\n      }, l.extractionRaw.ocr = {\n        firstName: t.frontViz.firstName || null,\n        lastName: t.frontViz.lastName || null,\n        documentId: t.frontViz.personalIdNumber || null,\n        documentNumber: t.frontViz.documentNumber || null,\n        dateOfBirth: t.frontViz.dateOfBirth.originalString || null,\n        dateOfExpiry: t.frontViz.dateOfExpiry.originalString || null,\n        dateOfIssue: t.frontViz.dateOfIssue.originalString || null,\n        gender: t.frontViz.sex || null,\n        nationality: t.frontViz.nationality || null\n      }, l.extractionData = {\n        firstName: t.firstName || null,\n        lastName: t.lastName.replaceAll(\"\\n\", \" \") || null,\n        gender: t.sex || null,\n        nationality: t.nationality || null,\n        dateOfBirth: t.dateOfBirth.originalString.replaceAll(\" \", \"/\") || null,\n        placeOfBirth: t.placeOfBirth.replaceAll(\"\\n\", \", \") || null,\n        documentId: t.personalIdNumber || null,\n        documentNumber: t.documentNumber || null,\n        address: t.address.replaceAll(\"\\n\", \", \") || null,\n        documentCountryIssuer: t.classInfo.isoAlpha3CountryCode,\n        documentType: this.__getDocumentType(t.classInfo.documentType),\n        debug1: t.classInfo.documentType\n      }, t.dateOfExpiryPermanent ? l.extractionData.dateOfIssue = t.dateOfIssue.originalString.replaceAll(\" \", \"/\") || null : l.extractionData.dateOfExpiry = t.dateOfExpiry.originalString.replaceAll(\" \", \"/\") || null) : l.diagnostic = 1, l;\n    }\n\n    __getDocumentType(e) {\n      switch (e) {\n        case Ze.NONE:\n          return 1;\n\n        case Ze.ID:\n          return 2;\n\n        case Ze.PASSPORT_CARD:\n          return 3;\n\n        case Ze.VISA:\n          return 4;\n\n        case Ze.GREEN_CARD:\n          return 5;\n\n        case Ze.DRIVER_CARD:\n          return 6;\n\n        case Ze.RESIDENT_ID:\n          return 7;\n\n        case Ze.SOCIAL_SECURITY_CARD:\n          return 8;\n\n        case Ze.HEALTH_INSURANCE_CARD:\n          return 9;\n\n        case Ze.TEMPORARY_RESIDENCE_PERMIT:\n          return 10;\n\n        default:\n          return 0;\n      }\n    }\n\n    __validateResultDiagnostic(t, i) {\n      return t === ee.StageValid && i === e.Mode.Front || t === ee.Valid && i === e.Mode.Back;\n    }\n\n    __deleteWasmVar() {\n      for (var _len2 = arguments.length, e = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        e[_key2] = arguments[_key2];\n      }\n\n      e.forEach(e => {\n        null !== e && void 0 !== e.delete && e.delete();\n      });\n    }\n\n    __convertToImageOutput(e) {\n      if (null !== e) {\n        let t = document.createElement(\"canvas\"),\n            i = t.getContext(\"2d\");\n        return t.width = e.width, t.height = e.height, i.putImageData(e, 0, 0), t.toDataURL(this.__imageFormat, this.__imageQuality);\n      }\n\n      return null;\n    }\n\n  }\n\n  class Xe {\n    static __engines = {\n      Dummy: g,\n      Microblink: Ge,\n      Facephi: u\n    };\n\n    static getAvailableEngines() {\n      return Object.keys(Xe.__engines);\n    }\n\n    static generateInstance(e, t) {\n      return new Xe.__engines[e](t);\n    }\n\n  }\n\n  let ye = null;\n\n  class Ce {\n    static worker = null;\n    static getInternalLicenseResolve = null;\n    static preinit = !1;\n    static callGetInternalLicense = !1;\n\n    static async __checkWorker(e) {\n      if (null === Ce.worker) {\n        let t = Ce,\n            i = new Worker((null === ye && (ye = URL.createObjectURL(new Blob([atob(\"dmFyIGU7Y29uc3QgdD0oZT0idW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5jdXJyZW50U2NyaXB0P2RvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjOnZvaWQgMCxmdW5jdGlvbih0KXt2YXIgcixuLGEsbyxpLHUscyxjLGYsbCxkLHAsaCx5LG0sZyx2Oyh0PXZvaWQgMCE9PSh0PXR8fHt9KT90Ont9KS5yZWFkeT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtuPWUsYT10fSkpO3ZhciB3PXt9O2ZvcihvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmKHdbb109dFtvXSk7dmFyIGI9W10sVD0iIjsidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5jdXJyZW50U2NyaXB0JiYoVD1kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYyksZSYmKFQ9ZSksVD0wIT09VC5pbmRleE9mKCJibG9iOiIpP1Quc3Vic3RyKDAsVC5sYXN0SW5kZXhPZigiLyIpKzEpOiIiLHQucHJpbnR8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7dmFyICQ9dC5wcmludEVycnx8Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7Zm9yKG8gaW4gdyl3Lmhhc093blByb3BlcnR5KG8pJiYodFtvXT13W29dKTt3PW51bGwsdC5hcmd1bWVudHMmJihiPXQuYXJndW1lbnRzKSx0LnRoaXNQcm9ncmFtJiZ0LnRoaXNQcm9ncmFtLHQucXVpdCYmdC5xdWl0LHQud2FzbUJpbmFyeSYmKGk9dC53YXNtQmluYXJ5KSx0Lm5vRXhpdFJ1bnRpbWUsIm9iamVjdCIhPXR5cGVvZiBXZWJBc3NlbWJseSYmVigibm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCIpO3ZhciBfPSExLEM9InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2Rlcj9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp2b2lkIDA7ZnVuY3Rpb24gUChlLHQpe3JldHVybiBlP2Z1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49dCtyLGE9dDtlW2FdJiYhKGE+PW4pOykrK2E7aWYoYS10PjE2JiZlLnN1YmFycmF5JiZDKXJldHVybiBDLmRlY29kZShlLnN1YmFycmF5KHQsYSkpO2Zvcih2YXIgbz0iIjt0PGE7KXt2YXIgaT1lW3QrK107aWYoMTI4Jmkpe3ZhciB1PTYzJmVbdCsrXTtpZigxOTIhPSgyMjQmaSkpe3ZhciBzPTYzJmVbdCsrXTtpZigoaT0yMjQ9PSgyNDAmaSk/KDE1JmkpPDwxMnx1PDw2fHM6KDcmaSk8PDE4fHU8PDEyfHM8PDZ8NjMmZVt0KytdKTw2NTUzNilvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpO2Vsc2V7dmFyIGM9aS02NTUzNjtvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGM+PjEwLDU2MzIwfDEwMjMmYyl9fWVsc2Ugbys9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmaSk8PDZ8dSl9ZWxzZSBvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpfXJldHVybiBvfShjLGUsdCk6IiJ9ZnVuY3Rpb24gRChlLHQscixuKXtpZighKG4+MCkpcmV0dXJuIDA7Zm9yKHZhciBhPXIsbz1yK24tMSxpPTA7aTxlLmxlbmd0aDsrK2kpe3ZhciB1PWUuY2hhckNvZGVBdChpKTtpZih1Pj01NTI5NiYmdTw9NTczNDMmJih1PTY1NTM2KygoMTAyMyZ1KTw8MTApfDEwMjMmZS5jaGFyQ29kZUF0KCsraSkpLHU8PTEyNyl7aWYocj49bylicmVhazt0W3IrK109dX1lbHNlIGlmKHU8PTIwNDcpe2lmKHIrMT49bylicmVhazt0W3IrK109MTkyfHU+PjYsdFtyKytdPTEyOHw2MyZ1fWVsc2UgaWYodTw9NjU1MzUpe2lmKHIrMj49bylicmVhazt0W3IrK109MjI0fHU+PjEyLHRbcisrXT0xMjh8dT4+NiY2Myx0W3IrK109MTI4fDYzJnV9ZWxzZXtpZihyKzM+PW8pYnJlYWs7dFtyKytdPTI0MHx1Pj4xOCx0W3IrK109MTI4fHU+PjEyJjYzLHRbcisrXT0xMjh8dT4+NiY2Myx0W3IrK109MTI4fDYzJnV9fXJldHVybiB0W3JdPTAsci1hfWZ1bmN0aW9uIEEoZSl7Zm9yKHZhciB0PTAscj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgbj1lLmNoYXJDb2RlQXQocik7bj49NTUyOTYmJm48PTU3MzQzJiYobj02NTUzNisoKDEwMjMmbik8PDEwKXwxMDIzJmUuY2hhckNvZGVBdCgrK3IpKSxuPD0xMjc/Kyt0OnQrPW48PTIwNDc/MjpuPD02NTUzNT8zOjR9cmV0dXJuIHR9dmFyIE89InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2Rlcj9uZXcgVGV4dERlY29kZXIoInV0Zi0xNmxlIik6dm9pZCAwO2Z1bmN0aW9uIFMoZSx0KXtmb3IodmFyIHI9ZSxuPXI+PjEsYT1uK3QvMjshKG4+PWEpJiZsW25dOykrK247aWYoKHI9bjw8MSktZT4zMiYmTylyZXR1cm4gTy5kZWNvZGUoYy5zdWJhcnJheShlLHIpKTtmb3IodmFyIG89IiIsaT0wOyEoaT49dC8yKTsrK2kpe3ZhciB1PWZbZSsyKmk+PjFdO2lmKDA9PXUpYnJlYWs7bys9U3RyaW5nLmZyb21DaGFyQ29kZSh1KX1yZXR1cm4gb31mdW5jdGlvbiBGKGUsdCxyKXtpZih2b2lkIDA9PT1yJiYocj0yMTQ3NDgzNjQ3KSxyPDIpcmV0dXJuIDA7Zm9yKHZhciBuPXQsYT0oci09Mik8MiplLmxlbmd0aD9yLzI6ZS5sZW5ndGgsbz0wO288YTsrK28pe3ZhciBpPWUuY2hhckNvZGVBdChvKTtmW3Q+PjFdPWksdCs9Mn1yZXR1cm4gZlt0Pj4xXT0wLHQtbn1mdW5jdGlvbiBNKGUpe3JldHVybiAyKmUubGVuZ3RofWZ1bmN0aW9uIEUoZSx0KXtmb3IodmFyIHI9MCxuPSIiOyEocj49dC80KTspe3ZhciBhPWRbZSs0KnI+PjJdO2lmKDA9PWEpYnJlYWs7aWYoKytyLGE+PTY1NTM2KXt2YXIgbz1hLTY1NTM2O24rPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8bz4+MTAsNTYzMjB8MTAyMyZvKX1lbHNlIG4rPVN0cmluZy5mcm9tQ2hhckNvZGUoYSl9cmV0dXJuIG59ZnVuY3Rpb24gVyhlLHQscil7aWYodm9pZCAwPT09ciYmKHI9MjE0NzQ4MzY0Nykscjw0KXJldHVybiAwO2Zvcih2YXIgbj10LGE9bityLTQsbz0wO288ZS5sZW5ndGg7KytvKXt2YXIgaT1lLmNoYXJDb2RlQXQobyk7aWYoaT49NTUyOTYmJmk8PTU3MzQzJiYoaT02NTUzNisoKDEwMjMmaSk8PDEwKXwxMDIzJmUuY2hhckNvZGVBdCgrK28pKSxkW3Q+PjJdPWksKHQrPTQpKzQ+YSlicmVha31yZXR1cm4gZFt0Pj4yXT0wLHQtbn1mdW5jdGlvbiBJKGUpe2Zvcih2YXIgdD0wLHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIG49ZS5jaGFyQ29kZUF0KHIpO24+PTU1Mjk2JiZuPD01NzM0MyYmKytyLHQrPTR9cmV0dXJuIHR9ZnVuY3Rpb24gayhlKXt2YXIgdD1BKGUpKzEscj1udCh0KTtyZXR1cm4gciYmRChlLHMscix0KSxyfXQuSU5JVElBTF9NRU1PUlk7dmFyIFI9W10sWT1bXSxVPVtdLHg9W107ZnVuY3Rpb24gSChlKXtSLnVuc2hpZnQoZSl9ZnVuY3Rpb24gaihlKXt4LnVuc2hpZnQoZSl9WS5wdXNoKHtmdW5jOmZ1bmN0aW9uKCl7dHQoKX19KTt2YXIgej0wLE49bnVsbCxCPW51bGw7ZnVuY3Rpb24gVihlKXt0Lm9uQWJvcnQmJnQub25BYm9ydChlKSwkKGUrPSIiKSxfPSEwLGU9ImFib3J0KCIrZSsiKS4gQnVpbGQgd2l0aCAtcyBBU1NFUlRJT05TPTEgZm9yIG1vcmUgaW5mby4iO3ZhciByPW5ldyBXZWJBc3NlbWJseS5SdW50aW1lRXJyb3IoZSk7dGhyb3cgYShyKSxyfXQucHJlbG9hZGVkSW1hZ2VzPXt9LHQucHJlbG9hZGVkQXVkaW9zPXt9O3ZhciBMLEosRz0iRlBoaVNlbHBoSURUb2tlbml6ZXJXYXNtLndhc20iO2Z1bmN0aW9uIHEoZSl7Zm9yKDtlLmxlbmd0aD4wOyl7dmFyIHI9ZS5zaGlmdCgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXt2YXIgbj1yLmZ1bmM7Im51bWJlciI9PXR5cGVvZiBuP3ZvaWQgMD09PXIuYXJnP20uZ2V0KG4pKCk6bS5nZXQobikoci5hcmcpOm4odm9pZCAwPT09ci5hcmc/bnVsbDpyLmFyZyl9ZWxzZSByKHQpfX1MPUcsSj0iZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIsKFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aD9MLnN0YXJ0c1dpdGgoSik6MD09PUwuaW5kZXhPZihKKSl8fChyPUcsRz10LmxvY2F0ZUZpbGU/dC5sb2NhdGVGaWxlKHIsVCk6VCtyKTtmdW5jdGlvbiBYKGUpe3RoaXMuZXhjUHRyPWUsdGhpcy5wdHI9ZS0xNix0aGlzLnNldF90eXBlPWZ1bmN0aW9uKGUpe2RbdGhpcy5wdHIrOD4+Ml09ZX0sdGhpcy5nZXRfdHlwZT1mdW5jdGlvbigpe3JldHVybiBkW3RoaXMucHRyKzg+PjJdfSx0aGlzLnNldF9kZXN0cnVjdG9yPWZ1bmN0aW9uKGUpe2RbdGhpcy5wdHIrMD4+Ml09ZX0sdGhpcy5nZXRfZGVzdHJ1Y3Rvcj1mdW5jdGlvbigpe3JldHVybiBkW3RoaXMucHRyKzA+PjJdfSx0aGlzLnNldF9yZWZjb3VudD1mdW5jdGlvbihlKXtkW3RoaXMucHRyKzQ+PjJdPWV9LHRoaXMuc2V0X2NhdWdodD1mdW5jdGlvbihlKXtlPWU/MTowLHNbdGhpcy5wdHIrMTI+PjBdPWV9LHRoaXMuZ2V0X2NhdWdodD1mdW5jdGlvbigpe3JldHVybiAwIT1zW3RoaXMucHRyKzEyPj4wXX0sdGhpcy5zZXRfcmV0aHJvd249ZnVuY3Rpb24oZSl7ZT1lPzE6MCxzW3RoaXMucHRyKzEzPj4wXT1lfSx0aGlzLmdldF9yZXRocm93bj1mdW5jdGlvbigpe3JldHVybiAwIT1zW3RoaXMucHRyKzEzPj4wXX0sdGhpcy5pbml0PWZ1bmN0aW9uKGUsdCl7dGhpcy5zZXRfdHlwZShlKSx0aGlzLnNldF9kZXN0cnVjdG9yKHQpLHRoaXMuc2V0X3JlZmNvdW50KDApLHRoaXMuc2V0X2NhdWdodCghMSksdGhpcy5zZXRfcmV0aHJvd24oITEpfSx0aGlzLmFkZF9yZWY9ZnVuY3Rpb24oKXt2YXIgZT1kW3RoaXMucHRyKzQ+PjJdO2RbdGhpcy5wdHIrND4+Ml09ZSsxfSx0aGlzLnJlbGVhc2VfcmVmPWZ1bmN0aW9uKCl7dmFyIGU9ZFt0aGlzLnB0cis0Pj4yXTtyZXR1cm4gZFt0aGlzLnB0cis0Pj4yXT1lLTEsMT09PWV9fWZ1bmN0aW9uIFooKXtpZighWi5jYWxsZWQpe1ouY2FsbGVkPSEwO3ZhciBlPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSx0PW5ldyBEYXRlKGUsMCwxKSxyPW5ldyBEYXRlKGUsNiwxKSxuPXQuZ2V0VGltZXpvbmVPZmZzZXQoKSxhPXIuZ2V0VGltZXpvbmVPZmZzZXQoKSxvPU1hdGgubWF4KG4sYSk7ZFtzdCgpPj4yXT02MCpvLGRbdXQoKT4+Ml09TnVtYmVyKG4hPWEpO3ZhciBpPWYodCksdT1mKHIpLHM9ayhpKSxjPWsodSk7YTxuPyhkW2l0KCk+PjJdPXMsZFtpdCgpKzQ+PjJdPWMpOihkW2l0KCk+PjJdPWMsZFtpdCgpKzQ+PjJdPXMpfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9ZS50b1RpbWVTdHJpbmcoKS5tYXRjaCgvXCgoW0EtWmEteiBdKylcKSQvKTtyZXR1cm4gdD90WzFdOiJHTVQifX1mdW5jdGlvbiBLKGUpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIDA7Y2FzZSAyOnJldHVybiAxO2Nhc2UgNDpyZXR1cm4gMjtjYXNlIDg6cmV0dXJuIDM7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIHR5cGUgc2l6ZTogIitlKX19dmFyIFE9dm9pZCAwO2Z1bmN0aW9uIGVlKGUpe2Zvcih2YXIgdD0iIixyPWU7Y1tyXTspdCs9UVtjW3IrK11dO3JldHVybiB0fXZhciB0ZT17fSxyZT17fSxuZT17fTtmdW5jdGlvbiBhZShlKXtpZih2b2lkIDA9PT1lKXJldHVybiJfdW5rbm93biI7dmFyIHQ9KGU9ZS5yZXBsYWNlKC9bXmEtekEtWjAtOV9dL2csIiQiKSkuY2hhckNvZGVBdCgwKTtyZXR1cm4gdD49NDgmJnQ8PTU3PyJfIitlOmV9ZnVuY3Rpb24gb2UoZSx0KXtyZXR1cm4gZT1hZShlKSxuZXcgRnVuY3Rpb24oImJvZHkiLCJyZXR1cm4gZnVuY3Rpb24gIitlKycoKSB7XG4gICAgInVzZSBzdHJpY3QiOyAgICByZXR1cm4gYm9keS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbicpKHQpfWZ1bmN0aW9uIGllKGUsdCl7dmFyIHI9b2UodCwoZnVuY3Rpb24oZSl7dGhpcy5uYW1lPXQsdGhpcy5tZXNzYWdlPWU7dmFyIHI9bmV3IEVycm9yKGUpLnN0YWNrO3ZvaWQgMCE9PXImJih0aGlzLnN0YWNrPXRoaXMudG9TdHJpbmcoKSsiXG4iK3IucmVwbGFjZSgvXkVycm9yKDpbXlxuXSopP1xuLywiIikpfSkpO3JldHVybiByLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yLHIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMubWVzc2FnZT90aGlzLm5hbWU6dGhpcy5uYW1lKyI6ICIrdGhpcy5tZXNzYWdlfSxyfXZhciB1ZT12b2lkIDA7ZnVuY3Rpb24gc2UoZSl7dGhyb3cgbmV3IHVlKGUpfXZhciBjZT12b2lkIDA7ZnVuY3Rpb24gZmUoZSl7dGhyb3cgbmV3IGNlKGUpfWZ1bmN0aW9uIGxlKGUsdCxyKXtmdW5jdGlvbiBuKHQpe3ZhciBuPXIodCk7bi5sZW5ndGghPT1lLmxlbmd0aCYmZmUoIk1pc21hdGNoZWQgdHlwZSBjb252ZXJ0ZXIgY291bnQiKTtmb3IodmFyIGE9MDthPGUubGVuZ3RoOysrYSlkZShlW2FdLG5bYV0pfWUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bmVbZV09dH0pKTt2YXIgYT1uZXcgQXJyYXkodC5sZW5ndGgpLG89W10saT0wO3QuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtyZS5oYXNPd25Qcm9wZXJ0eShlKT9hW3RdPXJlW2VdOihvLnB1c2goZSksdGUuaGFzT3duUHJvcGVydHkoZSl8fCh0ZVtlXT1bXSksdGVbZV0ucHVzaCgoZnVuY3Rpb24oKXthW3RdPXJlW2VdLCsraT09PW8ubGVuZ3RoJiZuKGEpfSkpKX0pKSwwPT09by5sZW5ndGgmJm4oYSl9ZnVuY3Rpb24gZGUoZSx0LHIpe2lmKHI9cnx8e30sISgiYXJnUGFja0FkdmFuY2UiaW4gdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigicmVnaXN0ZXJUeXBlIHJlZ2lzdGVyZWRJbnN0YW5jZSByZXF1aXJlcyBhcmdQYWNrQWR2YW5jZSIpO3ZhciBuPXQubmFtZTtpZihlfHxzZSgndHlwZSAiJytuKyciIG11c3QgaGF2ZSBhIHBvc2l0aXZlIGludGVnZXIgdHlwZWlkIHBvaW50ZXInKSxyZS5oYXNPd25Qcm9wZXJ0eShlKSl7aWYoci5pZ25vcmVEdXBsaWNhdGVSZWdpc3RyYXRpb25zKXJldHVybjtzZSgiQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJyIrbisiJyB0d2ljZSIpfWlmKHJlW2VdPXQsZGVsZXRlIG5lW2VdLHRlLmhhc093blByb3BlcnR5KGUpKXt2YXIgYT10ZVtlXTtkZWxldGUgdGVbZV0sYS5mb3JFYWNoKChmdW5jdGlvbihlKXtlKCl9KSl9fWZ1bmN0aW9uIHBlKGUpe3NlKGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3MubmFtZSsiIGluc3RhbmNlIGFscmVhZHkgZGVsZXRlZCIpfXZhciBoZT0hMTtmdW5jdGlvbiB5ZShlKXt9ZnVuY3Rpb24gbWUoZSl7dmFyIHQ7ZS5jb3VudC52YWx1ZS09MSwwPT09ZS5jb3VudC52YWx1ZSYmKCh0PWUpLnNtYXJ0UHRyP3Quc21hcnRQdHJUeXBlLnJhd0Rlc3RydWN0b3IodC5zbWFydFB0cik6dC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcy5yYXdEZXN0cnVjdG9yKHQucHRyKSl9ZnVuY3Rpb24gZ2UoZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBGaW5hbGl6YXRpb25Hcm91cD8oZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGUpOihoZT1uZXcgRmluYWxpemF0aW9uR3JvdXAoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLm5leHQoKTshdC5kb25lO3Q9ZS5uZXh0KCkpe3ZhciByPXQudmFsdWU7ci5wdHI/bWUocik6Y29uc29sZS53YXJuKCJvYmplY3QgYWxyZWFkeSBkZWxldGVkOiAiK3IucHRyKX19KSksZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGhlLnJlZ2lzdGVyKGUsZS4kJCxlLiQkKSxlfSx5ZT1mdW5jdGlvbihlKXtoZS51bnJlZ2lzdGVyKGUuJCQpfSxnZShlKSl9dmFyIHZlPXZvaWQgMCx3ZT1bXTtmdW5jdGlvbiBiZSgpe2Zvcig7d2UubGVuZ3RoOyl7dmFyIGU9d2UucG9wKCk7ZS4kJC5kZWxldGVTY2hlZHVsZWQ9ITEsZS5kZWxldGUoKX19ZnVuY3Rpb24gVGUoKXt9dmFyICRlPXt9O2Z1bmN0aW9uIF9lKGUsdCxyKXtpZih2b2lkIDA9PT1lW3RdLm92ZXJsb2FkVGFibGUpe3ZhciBuPWVbdF07ZVt0XT1mdW5jdGlvbigpe3JldHVybiBlW3RdLm92ZXJsb2FkVGFibGUuaGFzT3duUHJvcGVydHkoYXJndW1lbnRzLmxlbmd0aCl8fHNlKCJGdW5jdGlvbiAnIityKyInIGNhbGxlZCB3aXRoIGFuIGludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cyAoIithcmd1bWVudHMubGVuZ3RoKyIpIC0gZXhwZWN0cyBvbmUgb2YgKCIrZVt0XS5vdmVybG9hZFRhYmxlKyIpISIpLGVbdF0ub3ZlcmxvYWRUYWJsZVthcmd1bWVudHMubGVuZ3RoXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGVbdF0ub3ZlcmxvYWRUYWJsZT1bXSxlW3RdLm92ZXJsb2FkVGFibGVbbi5hcmdDb3VudF09bn19ZnVuY3Rpb24gQ2UoZSx0LHIsbixhLG8saSx1KXt0aGlzLm5hbWU9ZSx0aGlzLmNvbnN0cnVjdG9yPXQsdGhpcy5pbnN0YW5jZVByb3RvdHlwZT1yLHRoaXMucmF3RGVzdHJ1Y3Rvcj1uLHRoaXMuYmFzZUNsYXNzPWEsdGhpcy5nZXRBY3R1YWxUeXBlPW8sdGhpcy51cGNhc3Q9aSx0aGlzLmRvd25jYXN0PXUsdGhpcy5wdXJlVmlydHVhbEZ1bmN0aW9ucz1bXX1mdW5jdGlvbiBQZShlLHQscil7Zm9yKDt0IT09cjspdC51cGNhc3R8fHNlKCJFeHBlY3RlZCBudWxsIG9yIGluc3RhbmNlIG9mICIrci5uYW1lKyIsIGdvdCBhbiBpbnN0YW5jZSBvZiAiK3QubmFtZSksZT10LnVwY2FzdChlKSx0PXQuYmFzZUNsYXNzO3JldHVybiBlfWZ1bmN0aW9uIERlKGUsdCl7aWYobnVsbD09PXQpcmV0dXJuIHRoaXMuaXNSZWZlcmVuY2UmJnNlKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKSwwO3QuJCR8fHNlKCdDYW5ub3QgcGFzcyAiJytWZSh0KSsnIiBhcyBhICcrdGhpcy5uYW1lKSx0LiQkLnB0cnx8c2UoIkNhbm5vdCBwYXNzIGRlbGV0ZWQgb2JqZWN0IGFzIGEgcG9pbnRlciBvZiB0eXBlICIrdGhpcy5uYW1lKTt2YXIgcj10LiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzO3JldHVybiBQZSh0LiQkLnB0cixyLHRoaXMucmVnaXN0ZXJlZENsYXNzKX1mdW5jdGlvbiBBZShlLHQpe2lmKG51bGw9PT10KXJldHVybiB0aGlzLmlzUmVmZXJlbmNlJiZzZSgibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSksdGhpcy5pc1NtYXJ0UG9pbnRlcj8ocj10aGlzLnJhd0NvbnN0cnVjdG9yKCksbnVsbCE9PWUmJmUucHVzaCh0aGlzLnJhd0Rlc3RydWN0b3Iscikscik6MDt0LiQkfHxzZSgnQ2Fubm90IHBhc3MgIicrVmUodCkrJyIgYXMgYSAnK3RoaXMubmFtZSksdC4kJC5wdHJ8fHNlKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSksIXRoaXMuaXNDb25zdCYmdC4kJC5wdHJUeXBlLmlzQ29uc3QmJnNlKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIrKHQuJCQuc21hcnRQdHJUeXBlP3QuJCQuc21hcnRQdHJUeXBlLm5hbWU6dC4kJC5wdHJUeXBlLm5hbWUpKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpO3ZhciByLG49dC4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcztpZihyPVBlKHQuJCQucHRyLG4sdGhpcy5yZWdpc3RlcmVkQ2xhc3MpLHRoaXMuaXNTbWFydFBvaW50ZXIpc3dpdGNoKHZvaWQgMD09PXQuJCQuc21hcnRQdHImJnNlKCJQYXNzaW5nIHJhdyBwb2ludGVyIHRvIHNtYXJ0IHBvaW50ZXIgaXMgaWxsZWdhbCIpLHRoaXMuc2hhcmluZ1BvbGljeSl7Y2FzZSAwOnQuJCQuc21hcnRQdHJUeXBlPT09dGhpcz9yPXQuJCQuc21hcnRQdHI6c2UoIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgIisodC4kJC5zbWFydFB0clR5cGU/dC4kJC5zbWFydFB0clR5cGUubmFtZTp0LiQkLnB0clR5cGUubmFtZSkrIiB0byBwYXJhbWV0ZXIgdHlwZSAiK3RoaXMubmFtZSk7YnJlYWs7Y2FzZSAxOnI9dC4kJC5zbWFydFB0cjticmVhaztjYXNlIDI6aWYodC4kJC5zbWFydFB0clR5cGU9PT10aGlzKXI9dC4kJC5zbWFydFB0cjtlbHNle3ZhciBhPXQuY2xvbmUoKTtyPXRoaXMucmF3U2hhcmUocixCZSgoZnVuY3Rpb24oKXthLmRlbGV0ZSgpfSkpKSxudWxsIT09ZSYmZS5wdXNoKHRoaXMucmF3RGVzdHJ1Y3RvcixyKX1icmVhaztkZWZhdWx0OnNlKCJVbnN1cHBvcnRpbmcgc2hhcmluZyBwb2xpY3kiKX1yZXR1cm4gcn1mdW5jdGlvbiBPZShlLHQpe2lmKG51bGw9PT10KXJldHVybiB0aGlzLmlzUmVmZXJlbmNlJiZzZSgibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSksMDt0LiQkfHxzZSgnQ2Fubm90IHBhc3MgIicrVmUodCkrJyIgYXMgYSAnK3RoaXMubmFtZSksdC4kJC5wdHJ8fHNlKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSksdC4kJC5wdHJUeXBlLmlzQ29uc3QmJnNlKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIrdC4kJC5wdHJUeXBlLm5hbWUrIiB0byBwYXJhbWV0ZXIgdHlwZSAiK3RoaXMubmFtZSk7dmFyIHI9dC4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcztyZXR1cm4gUGUodC4kJC5wdHIscix0aGlzLnJlZ2lzdGVyZWRDbGFzcyl9ZnVuY3Rpb24gU2UoZSl7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKHBbZT4+Ml0pfWZ1bmN0aW9uIEZlKGUsdCxyKXtpZih0PT09cilyZXR1cm4gZTtpZih2b2lkIDA9PT1yLmJhc2VDbGFzcylyZXR1cm4gbnVsbDt2YXIgbj1GZShlLHQsci5iYXNlQ2xhc3MpO3JldHVybiBudWxsPT09bj9udWxsOnIuZG93bmNhc3Qobil9dmFyIE1lPXt9O2Z1bmN0aW9uIEVlKGUsdCl7cmV0dXJuIHQucHRyVHlwZSYmdC5wdHJ8fGZlKCJtYWtlQ2xhc3NIYW5kbGUgcmVxdWlyZXMgcHRyIGFuZCBwdHJUeXBlIiksISF0LnNtYXJ0UHRyVHlwZSE9ISF0LnNtYXJ0UHRyJiZmZSgiQm90aCBzbWFydFB0clR5cGUgYW5kIHNtYXJ0UHRyIG11c3QgYmUgc3BlY2lmaWVkIiksdC5jb3VudD17dmFsdWU6MX0sZ2UoT2JqZWN0LmNyZWF0ZShlLHskJDp7dmFsdWU6dH19KSl9ZnVuY3Rpb24gV2UoZSx0LHIsbixhLG8saSx1LHMsYyxmKXt0aGlzLm5hbWU9ZSx0aGlzLnJlZ2lzdGVyZWRDbGFzcz10LHRoaXMuaXNSZWZlcmVuY2U9cix0aGlzLmlzQ29uc3Q9bix0aGlzLmlzU21hcnRQb2ludGVyPWEsdGhpcy5wb2ludGVlVHlwZT1vLHRoaXMuc2hhcmluZ1BvbGljeT1pLHRoaXMucmF3R2V0UG9pbnRlZT11LHRoaXMucmF3Q29uc3RydWN0b3I9cyx0aGlzLnJhd1NoYXJlPWMsdGhpcy5yYXdEZXN0cnVjdG9yPWYsYXx8dm9pZCAwIT09dC5iYXNlQ2xhc3M/dGhpcy50b1dpcmVUeXBlPUFlOm4/KHRoaXMudG9XaXJlVHlwZT1EZSx0aGlzLmRlc3RydWN0b3JGdW5jdGlvbj1udWxsKToodGhpcy50b1dpcmVUeXBlPU9lLHRoaXMuZGVzdHJ1Y3RvckZ1bmN0aW9uPW51bGwpfWZ1bmN0aW9uIEllKGUscil7ZT1lZShlKTt2YXIgbj1mdW5jdGlvbigpe3ZhciBuLGEsbztyZXR1cm4tMSE9ZS5pbmRleE9mKCJqIik/KG49ZSxhPXIsbz1bXSxmdW5jdGlvbigpe28ubGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGg7Zm9yKHZhciBlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylvW2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3ZhciBhLG8saTtyZXR1cm4tMSE9ZS5pbmRleE9mKCJqIik/KGE9cixvPW4saT10WyJkeW5DYWxsXyIrZV0sbyYmby5sZW5ndGg/aS5hcHBseShudWxsLFthXS5jb25jYXQobykpOmkuY2FsbChudWxsLGEpKTptLmdldChyKS5hcHBseShudWxsLG4pfShuLGEsbyl9KTptLmdldChyKX0oKTtyZXR1cm4iZnVuY3Rpb24iIT10eXBlb2YgbiYmc2UoInVua25vd24gZnVuY3Rpb24gcG9pbnRlciB3aXRoIHNpZ25hdHVyZSAiK2UrIjogIityKSxufXZhciBrZT12b2lkIDA7ZnVuY3Rpb24gUmUoZSl7dmFyIHQ9YXQoZSkscj1lZSh0KTtyZXR1cm4gb3QodCkscn1mdW5jdGlvbiBZZShlLHQpe3ZhciByPVtdLG49e307dGhyb3cgdC5mb3JFYWNoKChmdW5jdGlvbiBlKHQpe2lmKCFuW3RdJiYhcmVbdF0pe2lmKG5lW3RdKXJldHVybiB2b2lkIG5lW3RdLmZvckVhY2goZSk7ci5wdXNoKHQpLG5bdF09ITB9fSkpLG5ldyBrZShlKyI6ICIrci5tYXAoUmUpLmpvaW4oWyIsICJdKSl9ZnVuY3Rpb24gVWUoZSx0KXtmb3IodmFyIHI9W10sbj0wO248ZTtuKyspci5wdXNoKGRbKHQ+PjIpK25dKTtyZXR1cm4gcn1mdW5jdGlvbiB4ZShlKXtmb3IoO2UubGVuZ3RoOyl7dmFyIHQ9ZS5wb3AoKTtlLnBvcCgpKHQpfX1mdW5jdGlvbiBIZShlLHQscil7cmV0dXJuIGUgaW5zdGFuY2VvZiBPYmplY3R8fHNlKHIrJyB3aXRoIGludmFsaWQgInRoaXMiOiAnK2UpLGUgaW5zdGFuY2VvZiB0LnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcnx8c2UocisnIGluY29tcGF0aWJsZSB3aXRoICJ0aGlzIiBvZiB0eXBlICcrZS5jb25zdHJ1Y3Rvci5uYW1lKSxlLiQkLnB0cnx8c2UoImNhbm5vdCBjYWxsIGVtc2NyaXB0ZW4gYmluZGluZyBtZXRob2QgIityKyIgb24gZGVsZXRlZCBvYmplY3QiKSxQZShlLiQkLnB0cixlLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLHQucmVnaXN0ZXJlZENsYXNzKX12YXIgamU9W10semU9W3t9LHt2YWx1ZTp2b2lkIDB9LHt2YWx1ZTpudWxsfSx7dmFsdWU6ITB9LHt2YWx1ZTohMX1dO2Z1bmN0aW9uIE5lKGUpe2U+NCYmMD09LS16ZVtlXS5yZWZjb3VudCYmKHplW2VdPXZvaWQgMCxqZS5wdXNoKGUpKX1mdW5jdGlvbiBCZShlKXtzd2l0Y2goZSl7Y2FzZSB2b2lkIDA6cmV0dXJuIDE7Y2FzZSBudWxsOnJldHVybiAyO2Nhc2UhMDpyZXR1cm4gMztjYXNlITE6cmV0dXJuIDQ7ZGVmYXVsdDp2YXIgdD1qZS5sZW5ndGg/amUucG9wKCk6emUubGVuZ3RoO3JldHVybiB6ZVt0XT17cmVmY291bnQ6MSx2YWx1ZTplfSx0fX1mdW5jdGlvbiBWZShlKXtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuIm9iamVjdCI9PT10fHwiYXJyYXkiPT09dHx8ImZ1bmN0aW9uIj09PXQ/ZS50b1N0cmluZygpOiIiK2V9ZnVuY3Rpb24gTGUoZSl7cmV0dXJuIGUlND09MCYmKGUlMTAwIT0wfHxlJTQwMD09MCl9ZnVuY3Rpb24gSmUoZSx0KXtmb3IodmFyIHI9MCxuPTA7bjw9dDtyKz1lW24rK10pO3JldHVybiByfWc9ZnVuY3Rpb24oKXtyZXR1cm4gcGVyZm9ybWFuY2Uubm93KCl9O3ZhciBHZT1bMzEsMjksMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdLHFlPVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07ZnVuY3Rpb24gWGUoZSx0KXtmb3IodmFyIHI9bmV3IERhdGUoZS5nZXRUaW1lKCkpO3Q+MDspe3ZhciBuPUxlKHIuZ2V0RnVsbFllYXIoKSksYT1yLmdldE1vbnRoKCksbz0obj9HZTpxZSlbYV07aWYoISh0Pm8tci5nZXREYXRlKCkpKXtyLnNldERhdGUoci5nZXREYXRlKCkrdCk7YnJlYWt9dC09by1yLmdldERhdGUoKSsxLHIuc2V0RGF0ZSgxKSxhPDExP3Iuc2V0TW9udGgoYSsxKTooci5zZXRNb250aCgwKSxyLnNldEZ1bGxZZWFyKHIuZ2V0RnVsbFllYXIoKSsxKSl9cmV0dXJuIHJ9ZnVuY3Rpb24gWmUoZSl7cmV0dXJuIHBhcnNlSW50KGUpfWZ1bmN0aW9uIEtlKGUsdCxyKXt2YXIgbj1yPjA/cjpBKGUpKzEsYT1uZXcgQXJyYXkobiksbz1EKGUsYSwwLGEubGVuZ3RoKTtyZXR1cm4gdCYmKGEubGVuZ3RoPW8pLGF9IWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheSgyNTYpLHQ9MDt0PDI1NjsrK3QpZVt0XT1TdHJpbmcuZnJvbUNoYXJDb2RlKHQpO1E9ZX0oKSx1ZT10LkJpbmRpbmdFcnJvcj1pZShFcnJvciwiQmluZGluZ0Vycm9yIiksY2U9dC5JbnRlcm5hbEVycm9yPWllKEVycm9yLCJJbnRlcm5hbEVycm9yIiksVGUucHJvdG90eXBlLmlzQWxpYXNPZj1mdW5jdGlvbihlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBUZSYmZSBpbnN0YW5jZW9mIFRlKSlyZXR1cm4hMTtmb3IodmFyIHQ9dGhpcy4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcyxyPXRoaXMuJCQucHRyLG49ZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcyxhPWUuJCQucHRyO3QuYmFzZUNsYXNzOylyPXQudXBjYXN0KHIpLHQ9dC5iYXNlQ2xhc3M7Zm9yKDtuLmJhc2VDbGFzczspYT1uLnVwY2FzdChhKSxuPW4uYmFzZUNsYXNzO3JldHVybiB0PT09biYmcj09PWF9LFRlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe2lmKHRoaXMuJCQucHRyfHxwZSh0aGlzKSx0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlKXJldHVybiB0aGlzLiQkLmNvdW50LnZhbHVlKz0xLHRoaXM7dmFyIGUsdD1nZShPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSx7JCQ6e3ZhbHVlOntjb3VudDooZT10aGlzLiQkKS5jb3VudCxkZWxldGVTY2hlZHVsZWQ6ZS5kZWxldGVTY2hlZHVsZWQscHJlc2VydmVQb2ludGVyT25EZWxldGU6ZS5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSxwdHI6ZS5wdHIscHRyVHlwZTplLnB0clR5cGUsc21hcnRQdHI6ZS5zbWFydFB0cixzbWFydFB0clR5cGU6ZS5zbWFydFB0clR5cGV9fX0pKTtyZXR1cm4gdC4kJC5jb3VudC52YWx1ZSs9MSx0LiQkLmRlbGV0ZVNjaGVkdWxlZD0hMSx0fSxUZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7dGhpcy4kJC5wdHJ8fHBlKHRoaXMpLHRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkJiYhdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSYmc2UoIk9iamVjdCBhbHJlYWR5IHNjaGVkdWxlZCBmb3IgZGVsZXRpb24iKSx5ZSh0aGlzKSxtZSh0aGlzLiQkKSx0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlfHwodGhpcy4kJC5zbWFydFB0cj12b2lkIDAsdGhpcy4kJC5wdHI9dm9pZCAwKX0sVGUucHJvdG90eXBlLmlzRGVsZXRlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLiQkLnB0cn0sVGUucHJvdG90eXBlLmRlbGV0ZUxhdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCQucHRyfHxwZSh0aGlzKSx0aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZCYmIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUmJnNlKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIiksd2UucHVzaCh0aGlzKSwxPT09d2UubGVuZ3RoJiZ2ZSYmdmUoYmUpLHRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkPSEwLHRoaXN9LFdlLnByb3RvdHlwZS5nZXRQb2ludGVlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJhd0dldFBvaW50ZWUmJihlPXRoaXMucmF3R2V0UG9pbnRlZShlKSksZX0sV2UucHJvdG90eXBlLmRlc3RydWN0b3I9ZnVuY3Rpb24oZSl7dGhpcy5yYXdEZXN0cnVjdG9yJiZ0aGlzLnJhd0Rlc3RydWN0b3IoZSl9LFdlLnByb3RvdHlwZS5hcmdQYWNrQWR2YW5jZT04LFdlLnByb3RvdHlwZS5yZWFkVmFsdWVGcm9tUG9pbnRlcj1TZSxXZS5wcm90b3R5cGUuZGVsZXRlT2JqZWN0PWZ1bmN0aW9uKGUpe251bGwhPT1lJiZlLmRlbGV0ZSgpfSxXZS5wcm90b3R5cGUuZnJvbVdpcmVUeXBlPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcy5nZXRQb2ludGVlKGUpO2lmKCFyKXJldHVybiB0aGlzLmRlc3RydWN0b3IoZSksbnVsbDt2YXIgbj1NZVtmdW5jdGlvbihlLHQpe2Zvcih2b2lkIDA9PT10JiZzZSgicHRyIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIik7ZS5iYXNlQ2xhc3M7KXQ9ZS51cGNhc3QodCksZT1lLmJhc2VDbGFzcztyZXR1cm4gdH0odGhpcy5yZWdpc3RlcmVkQ2xhc3MscildO2lmKHZvaWQgMCE9PW4pe2lmKDA9PT1uLiQkLmNvdW50LnZhbHVlKXJldHVybiBuLiQkLnB0cj1yLG4uJCQuc21hcnRQdHI9ZSxuLmNsb25lKCk7dmFyIGE9bi5jbG9uZSgpO3JldHVybiB0aGlzLmRlc3RydWN0b3IoZSksYX1mdW5jdGlvbiBvKCl7cmV0dXJuIHRoaXMuaXNTbWFydFBvaW50ZXI/RWUodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcy5wb2ludGVlVHlwZSxwdHI6cixzbWFydFB0clR5cGU6dGhpcyxzbWFydFB0cjplfSk6RWUodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcyxwdHI6ZX0pfXZhciBpPSRlW3RoaXMucmVnaXN0ZXJlZENsYXNzLmdldEFjdHVhbFR5cGUocildO2lmKCFpKXJldHVybiBvLmNhbGwodGhpcyk7dD10aGlzLmlzQ29uc3Q/aS5jb25zdFBvaW50ZXJUeXBlOmkucG9pbnRlclR5cGU7dmFyIHU9RmUocix0aGlzLnJlZ2lzdGVyZWRDbGFzcyx0LnJlZ2lzdGVyZWRDbGFzcyk7cmV0dXJuIG51bGw9PT11P28uY2FsbCh0aGlzKTp0aGlzLmlzU21hcnRQb2ludGVyP0VlKHQucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOnQscHRyOnUsc21hcnRQdHJUeXBlOnRoaXMsc21hcnRQdHI6ZX0pOkVlKHQucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOnQscHRyOnV9KX0sdC5nZXRJbmhlcml0ZWRJbnN0YW5jZUNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKE1lKS5sZW5ndGh9LHQuZ2V0TGl2ZUluaGVyaXRlZEluc3RhbmNlcz1mdW5jdGlvbigpe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiBNZSlNZS5oYXNPd25Qcm9wZXJ0eSh0KSYmZS5wdXNoKE1lW3RdKTtyZXR1cm4gZX0sdC5mbHVzaFBlbmRpbmdEZWxldGVzPWJlLHQuc2V0RGVsYXlGdW5jdGlvbj1mdW5jdGlvbihlKXt2ZT1lLHdlLmxlbmd0aCYmdmUmJnZlKGJlKX0sa2U9dC5VbmJvdW5kVHlwZUVycm9yPWllKEVycm9yLCJVbmJvdW5kVHlwZUVycm9yIiksdC5jb3VudF9lbXZhbF9oYW5kbGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD01O3Q8emUubGVuZ3RoOysrdCl2b2lkIDAhPT16ZVt0XSYmKytlO3JldHVybiBlfSx0LmdldF9maXJzdF9lbXZhbD1mdW5jdGlvbigpe2Zvcih2YXIgZT01O2U8emUubGVuZ3RoOysrZSlpZih2b2lkIDAhPT16ZVtlXSlyZXR1cm4gemVbZV07cmV0dXJuIG51bGx9O3ZhciBRZT17YzpmdW5jdGlvbihlKXtyZXR1cm4gbnQoZSsxNikrMTZ9LGI6ZnVuY3Rpb24oZSx0LHIpe3Rocm93IG5ldyBYKGUpLmluaXQodCxyKSxlfSx3OmZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhLG8saSx1LHMsYyxmO3JldHVybiByPWUsbj10LFooKSxhPW5ldyBEYXRlKDFlMypkW3I+PjJdKSxkW24+PjJdPWEuZ2V0U2Vjb25kcygpLGRbbis0Pj4yXT1hLmdldE1pbnV0ZXMoKSxkW24rOD4+Ml09YS5nZXRIb3VycygpLGRbbisxMj4+Ml09YS5nZXREYXRlKCksZFtuKzE2Pj4yXT1hLmdldE1vbnRoKCksZFtuKzIwPj4yXT1hLmdldEZ1bGxZZWFyKCktMTkwMCxkW24rMjQ+PjJdPWEuZ2V0RGF5KCksbz1uZXcgRGF0ZShhLmdldEZ1bGxZZWFyKCksMCwxKSxpPShhLmdldFRpbWUoKS1vLmdldFRpbWUoKSkvODY0ZTV8MCxkW24rMjg+PjJdPWksZFtuKzM2Pj4yXT0tNjAqYS5nZXRUaW1lem9uZU9mZnNldCgpLGM9MHwoKHU9bmV3IERhdGUoYS5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSkhPShzPW8uZ2V0VGltZXpvbmVPZmZzZXQoKSkmJmEuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4ocyx1KSksZFtuKzMyPj4yXT1jLGY9ZFtpdCgpKyhjPzQ6MCk+PjJdLGRbbis0MD4+Ml09ZixufSx5OmZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIG89SyhyKTtkZShlLHtuYW1lOnQ9ZWUodCksZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiEhZX0sdG9XaXJlVHlwZTpmdW5jdGlvbihlLHQpe3JldHVybiB0P246YX0sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpmdW5jdGlvbihlKXt2YXIgbjtpZigxPT09ciluPXM7ZWxzZSBpZigyPT09ciluPWY7ZWxzZXtpZig0IT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGJvb2xlYW4gdHlwZSBzaXplOiAiK3QpO249ZH1yZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUobltlPj5vXSl9LGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9LGc6ZnVuY3Rpb24oZSxyLG4sYSxvLGksdSxzLGMsZixsLGQscCl7bD1lZShsKSxpPUllKG8saSkscyYmKHM9SWUodSxzKSksZiYmKGY9SWUoYyxmKSkscD1JZShkLHApO3ZhciBoPWFlKGwpOyFmdW5jdGlvbihlLHIsbil7dC5oYXNPd25Qcm9wZXJ0eShlKT8oc2UoIkNhbm5vdCByZWdpc3RlciBwdWJsaWMgbmFtZSAnIitlKyInIHR3aWNlIiksX2UodCxlLGUpLHQuaGFzT3duUHJvcGVydHkobikmJnNlKCJDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgb3ZlcmxvYWRzIG9mIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBudW1iZXIgb2YgYXJndW1lbnRzICgiK24rIikhIiksdFtlXS5vdmVybG9hZFRhYmxlW25dPXIpOnRbZV09cn0oaCwoZnVuY3Rpb24oKXtZZSgiQ2Fubm90IGNvbnN0cnVjdCAiK2wrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsW2FdKX0pKSxsZShbZSxyLG5dLGE/W2FdOltdLChmdW5jdGlvbihyKXtyPXJbMF0sbz1hPyhuPXIucmVnaXN0ZXJlZENsYXNzKS5pbnN0YW5jZVByb3RvdHlwZTpUZS5wcm90b3R5cGU7dmFyIG4sbyx1PW9lKGgsKGZ1bmN0aW9uKCl7aWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpIT09Yyl0aHJvdyBuZXcgdWUoIlVzZSAnbmV3JyB0byBjb25zdHJ1Y3QgIitsKTtpZih2b2lkIDA9PT1tLmNvbnN0cnVjdG9yX2JvZHkpdGhyb3cgbmV3IHVlKGwrIiBoYXMgbm8gYWNjZXNzaWJsZSBjb25zdHJ1Y3RvciIpO3ZhciBlPW0uY29uc3RydWN0b3JfYm9keVthcmd1bWVudHMubGVuZ3RoXTtpZih2b2lkIDA9PT1lKXRocm93IG5ldyB1ZSgiVHJpZWQgdG8gaW52b2tlIGN0b3Igb2YgIitsKyIgd2l0aCBpbnZhbGlkIG51bWJlciBvZiBwYXJhbWV0ZXJzICgiK2FyZ3VtZW50cy5sZW5ndGgrIikgLSBleHBlY3RlZCAoIitPYmplY3Qua2V5cyhtLmNvbnN0cnVjdG9yX2JvZHkpLnRvU3RyaW5nKCkrIikgcGFyYW1ldGVycyBpbnN0ZWFkISIpO3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pKSxjPU9iamVjdC5jcmVhdGUobyx7Y29uc3RydWN0b3I6e3ZhbHVlOnV9fSk7dS5wcm90b3R5cGU9Yzt2YXIgZCx5LG09bmV3IENlKGwsdSxjLHAsbixpLHMsZiksZz1uZXcgV2UobCxtLCEwLCExLCExKSx2PW5ldyBXZShsKyIqIixtLCExLCExLCExKSx3PW5ldyBXZShsKyIgY29uc3QqIixtLCExLCEwLCExKTtyZXR1cm4gJGVbZV09e3BvaW50ZXJUeXBlOnYsY29uc3RQb2ludGVyVHlwZTp3fSxkPWgseT11LHQuaGFzT3duUHJvcGVydHkoZCl8fGZlKCJSZXBsYWNpbmcgbm9uZXhpc3RhbnQgcHVibGljIHN5bWJvbCIpLHRbZF0ub3ZlcmxvYWRUYWJsZSx0W2RdPXksdFtkXS5hcmdDb3VudD11bmRlZmluZWQsW2csdix3XX0pKX0sZjpmdW5jdGlvbihlLHQscixuLGEsbyl7dD4wfHxWKCJBc3NlcnRpb24gZmFpbGVkOiB1bmRlZmluZWQiKTt2YXIgaT1VZSh0LHIpO2E9SWUobixhKTt2YXIgdT1bb10scz1bXTtsZShbXSxbZV0sKGZ1bmN0aW9uKGUpe3ZhciByPSJjb25zdHJ1Y3RvciAiKyhlPWVbMF0pLm5hbWU7aWYodm9pZCAwPT09ZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keSYmKGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHk9W10pLHZvaWQgMCE9PWUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbdC0xXSl0aHJvdyBuZXcgdWUoIkNhbm5vdCByZWdpc3RlciBtdWx0aXBsZSBjb25zdHJ1Y3RvcnMgd2l0aCBpZGVudGljYWwgbnVtYmVyIG9mIHBhcmFtZXRlcnMgKCIrKHQtMSkrIikgZm9yIGNsYXNzICciK2UubmFtZSsiJyEgT3ZlcmxvYWQgcmVzb2x1dGlvbiBpcyBjdXJyZW50bHkgb25seSBwZXJmb3JtZWQgdXNpbmcgdGhlIHBhcmFtZXRlciBjb3VudCwgbm90IGFjdHVhbCB0eXBlIGluZm8hIik7cmV0dXJuIGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbdC0xXT1mdW5jdGlvbigpe1llKCJDYW5ub3QgY29uc3RydWN0ICIrZS5uYW1lKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLGkpfSxsZShbXSxpLChmdW5jdGlvbihuKXtyZXR1cm4gZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keVt0LTFdPWZ1bmN0aW9uKCl7YXJndW1lbnRzLmxlbmd0aCE9PXQtMSYmc2UocisiIGNhbGxlZCB3aXRoICIrYXJndW1lbnRzLmxlbmd0aCsiIGFyZ3VtZW50cywgZXhwZWN0ZWQgIisodC0xKSkscy5sZW5ndGg9MCx1Lmxlbmd0aD10O2Zvcih2YXIgZT0xO2U8dDsrK2UpdVtlXT1uW2VdLnRvV2lyZVR5cGUocyxhcmd1bWVudHNbZS0xXSk7dmFyIG89YS5hcHBseShudWxsLHUpO3JldHVybiB4ZShzKSxuWzBdLmZyb21XaXJlVHlwZShvKX0sW119KSksW119KSl9LGE6ZnVuY3Rpb24oZSx0LHIsbixhLG8saSx1KXt2YXIgcz1VZShyLG4pO3Q9ZWUodCksbz1JZShhLG8pLGxlKFtdLFtlXSwoZnVuY3Rpb24oZSl7dmFyIG49KGU9ZVswXSkubmFtZSsiLiIrdDtmdW5jdGlvbiBhKCl7WWUoIkNhbm5vdCBjYWxsICIrbisiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixzKX11JiZlLnJlZ2lzdGVyZWRDbGFzcy5wdXJlVmlydHVhbEZ1bmN0aW9ucy5wdXNoKHQpO3ZhciBjPWUucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLGY9Y1t0XTtyZXR1cm4gdm9pZCAwPT09Znx8dm9pZCAwPT09Zi5vdmVybG9hZFRhYmxlJiZmLmNsYXNzTmFtZSE9PWUubmFtZSYmZi5hcmdDb3VudD09PXItMj8oYS5hcmdDb3VudD1yLTIsYS5jbGFzc05hbWU9ZS5uYW1lLGNbdF09YSk6KF9lKGMsdCxuKSxjW3RdLm92ZXJsb2FkVGFibGVbci0yXT1hKSxsZShbXSxzLChmdW5jdGlvbihhKXt2YXIgdT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBvPXQubGVuZ3RoO288MiYmc2UoImFyZ1R5cGVzIGFycmF5IHNpemUgbWlzbWF0Y2ghIE11c3QgYXQgbGVhc3QgZ2V0IHJldHVybiB2YWx1ZSBhbmQgJ3RoaXMnIHR5cGVzISIpO2Zvcih2YXIgaT1udWxsIT09dFsxXSYmbnVsbCE9PXIsdT0hMSxzPTE7czx0Lmxlbmd0aDsrK3MpaWYobnVsbCE9PXRbc10mJnZvaWQgMD09PXRbc10uZGVzdHJ1Y3RvckZ1bmN0aW9uKXt1PSEwO2JyZWFrfXZhciBjPSJ2b2lkIiE9PXRbMF0ubmFtZSxmPSIiLGw9IiI7Zm9yKHM9MDtzPG8tMjsrK3MpZis9KDAhPT1zPyIsICI6IiIpKyJhcmciK3MsbCs9KDAhPT1zPyIsICI6IiIpKyJhcmciK3MrIldpcmVkIjt2YXIgZD0icmV0dXJuIGZ1bmN0aW9uICIrYWUoZSkrIigiK2YrIikge1xuaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09ICIrKG8tMikrIikge1xudGhyb3dCaW5kaW5nRXJyb3IoJ2Z1bmN0aW9uICIrZSsiIGNhbGxlZCB3aXRoICcgKyBhcmd1bWVudHMubGVuZ3RoICsgJyBhcmd1bWVudHMsIGV4cGVjdGVkICIrKG8tMikrIiBhcmdzIScpO1xufVxuIjt1JiYoZCs9InZhciBkZXN0cnVjdG9ycyA9IFtdO1xuIik7dmFyIHA9dT8iZGVzdHJ1Y3RvcnMiOiJudWxsIixoPVsidGhyb3dCaW5kaW5nRXJyb3IiLCJpbnZva2VyIiwiZm4iLCJydW5EZXN0cnVjdG9ycyIsInJldFR5cGUiLCJjbGFzc1BhcmFtIl0seT1bc2UsbixhLHhlLHRbMF0sdFsxXV07Zm9yKGkmJihkKz0idmFyIHRoaXNXaXJlZCA9IGNsYXNzUGFyYW0udG9XaXJlVHlwZSgiK3ArIiwgdGhpcyk7XG4iKSxzPTA7czxvLTI7KytzKWQrPSJ2YXIgYXJnIitzKyJXaXJlZCA9IGFyZ1R5cGUiK3MrIi50b1dpcmVUeXBlKCIrcCsiLCBhcmciK3MrIik7IC8vICIrdFtzKzJdLm5hbWUrIlxuIixoLnB1c2goImFyZ1R5cGUiK3MpLHkucHVzaCh0W3MrMl0pO2lmKGkmJihsPSJ0aGlzV2lyZWQiKyhsLmxlbmd0aD4wPyIsICI6IiIpK2wpLGQrPShjPyJ2YXIgcnYgPSAiOiIiKSsiaW52b2tlcihmbiIrKGwubGVuZ3RoPjA/IiwgIjoiIikrbCsiKTtcbiIsdSlkKz0icnVuRGVzdHJ1Y3RvcnMoZGVzdHJ1Y3RvcnMpO1xuIjtlbHNlIGZvcihzPWk/MToyO3M8dC5sZW5ndGg7KytzKXt2YXIgbT0xPT09cz8idGhpc1dpcmVkIjoiYXJnIisocy0yKSsiV2lyZWQiO251bGwhPT10W3NdLmRlc3RydWN0b3JGdW5jdGlvbiYmKGQrPW0rIl9kdG9yKCIrbSsiKTsgLy8gIit0W3NdLm5hbWUrIlxuIixoLnB1c2gobSsiX2R0b3IiKSx5LnB1c2godFtzXS5kZXN0cnVjdG9yRnVuY3Rpb24pKX1yZXR1cm4gYyYmKGQrPSJ2YXIgcmV0ID0gcmV0VHlwZS5mcm9tV2lyZVR5cGUocnYpO1xucmV0dXJuIHJldDtcbiIpLGQrPSJ9XG4iLGgucHVzaChkKSxmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJuZXdfIGNhbGxlZCB3aXRoIGNvbnN0cnVjdG9yIHR5cGUgIit0eXBlb2YgZSsiIHdoaWNoIGlzIG5vdCBhIGZ1bmN0aW9uIik7dmFyIHI9b2UoZS5uYW1lfHwidW5rbm93bkZ1bmN0aW9uTmFtZSIsKGZ1bmN0aW9uKCl7fSkpO3IucHJvdG90eXBlPWUucHJvdG90eXBlO3ZhciBuPW5ldyByLGE9ZS5hcHBseShuLHQpO3JldHVybiBhIGluc3RhbmNlb2YgT2JqZWN0P2E6bn0oRnVuY3Rpb24saCkuYXBwbHkobnVsbCx5KX0obixhLGUsbyxpKTtyZXR1cm4gdm9pZCAwPT09Y1t0XS5vdmVybG9hZFRhYmxlPyh1LmFyZ0NvdW50PXItMixjW3RdPXUpOmNbdF0ub3ZlcmxvYWRUYWJsZVtyLTJdPXUsW119KSksW119KSl9LHA6ZnVuY3Rpb24oZSx0LHIsbixhLG8saSx1LHMsYyl7dD1lZSh0KSxhPUllKG4sYSksbGUoW10sW2VdLChmdW5jdGlvbihlKXt2YXIgbj0oZT1lWzBdKS5uYW1lKyIuIit0LGY9e2dldDpmdW5jdGlvbigpe1llKCJDYW5ub3QgYWNjZXNzICIrbisiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixbcixpXSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTtyZXR1cm4gZi5zZXQ9cz9mdW5jdGlvbigpe1llKCJDYW5ub3QgYWNjZXNzICIrbisiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixbcixpXSl9OmZ1bmN0aW9uKGUpe3NlKG4rIiBpcyBhIHJlYWQtb25seSBwcm9wZXJ0eSIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUsdCxmKSxsZShbXSxzP1tyLGldOltyXSwoZnVuY3Rpb24ocil7dmFyIGk9clswXSxmPXtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1IZSh0aGlzLGUsbisiIGdldHRlciIpO3JldHVybiBpLmZyb21XaXJlVHlwZShhKG8sdCkpfSxlbnVtZXJhYmxlOiEwfTtpZihzKXtzPUllKHUscyk7dmFyIGw9clsxXTtmLnNldD1mdW5jdGlvbih0KXt2YXIgcj1IZSh0aGlzLGUsbisiIHNldHRlciIpLGE9W107cyhjLHIsbC50b1dpcmVUeXBlKGEsdCkpLHhlKGEpfX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHQsZiksW119KSksW119KSl9LHg6ZnVuY3Rpb24oZSx0KXtkZShlLHtuYW1lOnQ9ZWUodCksZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKGUpe3ZhciB0PXplW2VdLnZhbHVlO3JldHVybiBOZShlKSx0fSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEJlKHQpfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOlNlLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9LGw6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPUsocik7ZGUoZSx7bmFtZTp0PWVlKHQpLGZyb21XaXJlVHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gZX0sdG9XaXJlVHlwZTpmdW5jdGlvbihlLHQpe2lmKCJudW1iZXIiIT10eXBlb2YgdCYmImJvb2xlYW4iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCAiJytWZSh0KSsnIiB0byAnK3RoaXMubmFtZSk7cmV0dXJuIHR9LGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6ZnVuY3Rpb24oZSx0KXtzd2l0Y2godCl7Y2FzZSAyOnJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUoaFtlPj4yXSl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKHlbZT4+M10pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZmxvYXQgdHlwZTogIitlKX19KHQsbiksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX0sZTpmdW5jdGlvbihlLHQscixuLGEpe3Q9ZWUodCksLTE9PT1hJiYoYT00Mjk0OTY3Mjk1KTt2YXIgbz1LKHIpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9O2lmKDA9PT1uKXt2YXIgdT0zMi04KnI7aT1mdW5jdGlvbihlKXtyZXR1cm4gZTw8dT4+PnV9fXZhciBoPS0xIT10LmluZGV4T2YoInVuc2lnbmVkIik7ZGUoZSx7bmFtZTp0LGZyb21XaXJlVHlwZTppLHRvV2lyZVR5cGU6ZnVuY3Rpb24oZSxyKXtpZigibnVtYmVyIiE9dHlwZW9mIHImJiJib29sZWFuIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgIicrVmUocikrJyIgdG8gJyt0aGlzLm5hbWUpO2lmKHI8bnx8cj5hKXRocm93IG5ldyBUeXBlRXJyb3IoJ1Bhc3NpbmcgYSBudW1iZXIgIicrVmUocikrJyIgZnJvbSBKUyBzaWRlIHRvIEMvQysrIHNpZGUgdG8gYW4gYXJndW1lbnQgb2YgdHlwZSAiJyt0KyciLCB3aGljaCBpcyBvdXRzaWRlIHRoZSB2YWxpZCByYW5nZSBbJytuKyIsICIrYSsiXSEiKTtyZXR1cm4gaD9yPj4+MDowfHJ9LGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6ZnVuY3Rpb24oZSx0LHIpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHI/ZnVuY3Rpb24oZSl7cmV0dXJuIHNbZV19OmZ1bmN0aW9uKGUpe3JldHVybiBjW2VdfTtjYXNlIDE6cmV0dXJuIHI/ZnVuY3Rpb24oZSl7cmV0dXJuIGZbZT4+MV19OmZ1bmN0aW9uKGUpe3JldHVybiBsW2U+PjFdfTtjYXNlIDI6cmV0dXJuIHI/ZnVuY3Rpb24oZSl7cmV0dXJuIGRbZT4+Ml19OmZ1bmN0aW9uKGUpe3JldHVybiBwW2U+PjJdfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gaW50ZWdlciB0eXBlOiAiK2UpfX0odCxvLDAhPT1uKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfSxkOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1bSW50OEFycmF5LFVpbnQ4QXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXldW3RdO2Z1bmN0aW9uIGEoZSl7dmFyIHQ9cCxyPXRbZT4+PTJdLGE9dFtlKzFdO3JldHVybiBuZXcgbih1LGEscil9ZGUoZSx7bmFtZTpyPWVlKHIpLGZyb21XaXJlVHlwZTphLGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6YX0se2lnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnM6ITB9KX0sbTpmdW5jdGlvbihlLHQpe3ZhciByPSJzdGQ6OnN0cmluZyI9PT0odD1lZSh0KSk7ZGUoZSx7bmFtZTp0LGZyb21XaXJlVHlwZTpmdW5jdGlvbihlKXt2YXIgdCxuPXBbZT4+Ml07aWYocilmb3IodmFyIGE9ZSs0LG89MDtvPD1uOysrbyl7dmFyIGk9ZSs0K287aWYobz09bnx8MD09Y1tpXSl7dmFyIHU9UChhLGktYSk7dm9pZCAwPT09dD90PXU6KHQrPSJcMCIsdCs9dSksYT1pKzF9fWVsc2V7dmFyIHM9bmV3IEFycmF5KG4pO2ZvcihvPTA7bzxuOysrbylzW29dPVN0cmluZy5mcm9tQ2hhckNvZGUoY1tlKzQrb10pO3Q9cy5qb2luKCIiKX1yZXR1cm4gb3QoZSksdH0sdG9XaXJlVHlwZTpmdW5jdGlvbihlLHQpe3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKHQ9bmV3IFVpbnQ4QXJyYXkodCkpO3ZhciBuPSJzdHJpbmciPT10eXBlb2YgdDtufHx0IGluc3RhbmNlb2YgVWludDhBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5fHx0IGluc3RhbmNlb2YgSW50OEFycmF5fHxzZSgiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBzdGQ6OnN0cmluZyIpO3ZhciBhPShyJiZuP2Z1bmN0aW9uKCl7cmV0dXJuIEEodCl9OmZ1bmN0aW9uKCl7cmV0dXJuIHQubGVuZ3RofSkoKSxvPW50KDQrYSsxKTtpZihwW28+PjJdPWEsciYmbilEKHQsYyxvKzQsYSsxKTtlbHNlIGlmKG4pZm9yKHZhciBpPTA7aTxhOysraSl7dmFyIHU9dC5jaGFyQ29kZUF0KGkpO3U+MjU1JiYob3Qobyksc2UoIlN0cmluZyBoYXMgVVRGLTE2IGNvZGUgdW5pdHMgdGhhdCBkbyBub3QgZml0IGluIDggYml0cyIpKSxjW28rNCtpXT11fWVsc2UgZm9yKGk9MDtpPGE7KytpKWNbbys0K2ldPXRbaV07cmV0dXJuIG51bGwhPT1lJiZlLnB1c2gob3Qsbyksb30sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpTZSxkZXN0cnVjdG9yRnVuY3Rpb246ZnVuY3Rpb24oZSl7b3QoZSl9fSl9LGk6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGEsbyxpLHU7cj1lZShyKSwyPT09dD8obj1TLGE9RixpPU0sbz1mdW5jdGlvbigpe3JldHVybiBsfSx1PTEpOjQ9PT10JiYobj1FLGE9VyxpPUksbz1mdW5jdGlvbigpe3JldHVybiBwfSx1PTIpLGRlKGUse25hbWU6cixmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oZSl7Zm9yKHZhciByLGE9cFtlPj4yXSxpPW8oKSxzPWUrNCxjPTA7Yzw9YTsrK2Mpe3ZhciBmPWUrNCtjKnQ7aWYoYz09YXx8MD09aVtmPj51XSl7dmFyIGw9bihzLGYtcyk7dm9pZCAwPT09cj9yPWw6KHIrPSJcMCIscis9bCkscz1mK3R9fXJldHVybiBvdChlKSxyfSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGUsbil7InN0cmluZyIhPXR5cGVvZiBuJiZzZSgiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBDKysgc3RyaW5nIHR5cGUgIityKTt2YXIgbz1pKG4pLHM9bnQoNCtvK3QpO3JldHVybiBwW3M+PjJdPW8+PnUsYShuLHMrNCxvK3QpLG51bGwhPT1lJiZlLnB1c2gob3Qscyksc30sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpTZSxkZXN0cnVjdG9yRnVuY3Rpb246ZnVuY3Rpb24oZSl7b3QoZSl9fSl9LHo6ZnVuY3Rpb24oZSx0KXtkZShlLHtpc1ZvaWQ6ITAsbmFtZTp0PWVlKHQpLGFyZ1BhY2tBZHZhbmNlOjAsZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKCl7fSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGUsdCl7fX0pfSxuOk5lLG86ZnVuY3Rpb24oZSl7ZT40JiYoemVbZV0ucmVmY291bnQrPTEpfSxoOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbjtyZXR1cm4gQmUoKHZvaWQgMD09PShuPXJlW3I9ZV0pJiZzZSgiX2VtdmFsX3Rha2VfdmFsdWUgaGFzIHVua25vd24gdHlwZSAiK1JlKHIpKSxlPW4pLnJlYWRWYWx1ZUZyb21Qb2ludGVyKHQpKX0sazpmdW5jdGlvbigpe1YoKX0sdjpmdW5jdGlvbihlLHQpe3ZhciByO2lmKDA9PT1lKXI9RGF0ZS5ub3coKTtlbHNle2lmKDEhPT1lJiY0IT09ZSlyZXR1cm4gZFtydCgpPj4yXT0yOCwtMTtyPWcoKX1yZXR1cm4gZFt0Pj4yXT1yLzFlM3wwLGRbdCs0Pj4yXT1yJTFlMyoxZTZ8MCwwfSx0OmZ1bmN0aW9uKGUsdCxyKXtjLmNvcHlXaXRoaW4oZSx0LHQrcil9LHU6ZnVuY3Rpb24oZSl7VigiT09NIil9LHE6ZnVuY3Rpb24oZSl7WigpO3ZhciB0PW5ldyBEYXRlKGRbZSsyMD4+Ml0rMTkwMCxkW2UrMTY+PjJdLGRbZSsxMj4+Ml0sZFtlKzg+PjJdLGRbZSs0Pj4yXSxkW2U+PjJdLDApLHI9ZFtlKzMyPj4yXSxuPXQuZ2V0VGltZXpvbmVPZmZzZXQoKSxhPW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDEpLG89bmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxpPWEuZ2V0VGltZXpvbmVPZmZzZXQoKSx1PU1hdGgubWluKGksbyk7aWYocjwwKWRbZSszMj4+Ml09TnVtYmVyKG8hPWkmJnU9PW4pO2Vsc2UgaWYocj4wIT0odT09bikpe3ZhciBzPU1hdGgubWF4KGksbyksYz1yPjA/dTpzO3Quc2V0VGltZSh0LmdldFRpbWUoKSs2ZTQqKGMtbikpfWRbZSsyND4+Ml09dC5nZXREYXkoKTt2YXIgZj0odC5nZXRUaW1lKCktYS5nZXRUaW1lKCkpLzg2NGU1fDA7cmV0dXJuIGRbZSsyOD4+Ml09ZixkW2U+PjJdPXQuZ2V0U2Vjb25kcygpLGRbZSs0Pj4yXT10LmdldE1pbnV0ZXMoKSxkW2UrOD4+Ml09dC5nZXRIb3VycygpLGRbZSsxMj4+Ml09dC5nZXREYXRlKCksZFtlKzE2Pj4yXT10LmdldE1vbnRoKCksdC5nZXRUaW1lKCkvMWUzfDB9LHM6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGEsbyxpPWRbbis0MD4+Ml0sdT17dG1fc2VjOmRbbj4+Ml0sdG1fbWluOmRbbis0Pj4yXSx0bV9ob3VyOmRbbis4Pj4yXSx0bV9tZGF5OmRbbisxMj4+Ml0sdG1fbW9uOmRbbisxNj4+Ml0sdG1feWVhcjpkW24rMjA+PjJdLHRtX3dkYXk6ZFtuKzI0Pj4yXSx0bV95ZGF5OmRbbisyOD4+Ml0sdG1faXNkc3Q6ZFtuKzMyPj4yXSx0bV9nbXRvZmY6ZFtuKzM2Pj4yXSx0bV96b25lOmk/UChpKToiIn0sYz1QKHIpLGY9eyIlYyI6IiVhICViICVkICVIOiVNOiVTICVZIiwiJUQiOiIlbS8lZC8leSIsIiVGIjoiJVktJW0tJWQiLCIlaCI6IiViIiwiJXIiOiIlSTolTTolUyAlcCIsIiVSIjoiJUg6JU0iLCIlVCI6IiVIOiVNOiVTIiwiJXgiOiIlbS8lZC8leSIsIiVYIjoiJUg6JU06JVMiLCIlRWMiOiIlYyIsIiVFQyI6IiVDIiwiJUV4IjoiJW0vJWQvJXkiLCIlRVgiOiIlSDolTTolUyIsIiVFeSI6IiV5IiwiJUVZIjoiJVkiLCIlT2QiOiIlZCIsIiVPZSI6IiVlIiwiJU9IIjoiJUgiLCIlT0kiOiIlSSIsIiVPbSI6IiVtIiwiJU9NIjoiJU0iLCIlT1MiOiIlUyIsIiVPdSI6IiV1IiwiJU9VIjoiJVUiLCIlT1YiOiIlViIsIiVPdyI6IiV3IiwiJU9XIjoiJVciLCIlT3kiOiIleSJ9O2Zvcih2YXIgbCBpbiBmKWM9Yy5yZXBsYWNlKG5ldyBSZWdFeHAobCwiZyIpLGZbbF0pO3ZhciBwPVsiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiXSxoPVsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXTtmdW5jdGlvbiB5KGUsdCxyKXtmb3IodmFyIG49Im51bWJlciI9PXR5cGVvZiBlP2UudG9TdHJpbmcoKTplfHwiIjtuLmxlbmd0aDx0OyluPXJbMF0rbjtyZXR1cm4gbn1mdW5jdGlvbiBtKGUsdCl7cmV0dXJuIHkoZSx0LCIwIil9ZnVuY3Rpb24gZyhlLHQpe3ZhciByO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGU8MD8tMTplPjA/MTowfXJldHVybiAwPT09KHI9bihlLmdldEZ1bGxZZWFyKCktdC5nZXRGdWxsWWVhcigpKSkmJjA9PT0ocj1uKGUuZ2V0TW9udGgoKS10LmdldE1vbnRoKCkpKSYmKHI9bihlLmdldERhdGUoKS10LmdldERhdGUoKSkpLHJ9ZnVuY3Rpb24gdihlKXtzd2l0Y2goZS5nZXREYXkoKSl7Y2FzZSAwOnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCktMSwxMSwyOSk7Y2FzZSAxOnJldHVybiBlO2Nhc2UgMjpyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDAsMyk7Y2FzZSAzOnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksMCwyKTtjYXNlIDQ6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2UgNTpyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLTEsMTEsMzEpO2Nhc2UgNjpyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLTEsMTEsMzApfX1mdW5jdGlvbiB3KGUpe3ZhciB0PVhlKG5ldyBEYXRlKGUudG1feWVhcisxOTAwLDAsMSksZS50bV95ZGF5KSxyPW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDQpLG49bmV3IERhdGUodC5nZXRGdWxsWWVhcigpKzEsMCw0KSxhPXYociksbz12KG4pO3JldHVybiAwPj1nKGEsdCk/MD49ZyhvLHQpP3QuZ2V0RnVsbFllYXIoKSsxOnQuZ2V0RnVsbFllYXIoKTp0LmdldEZ1bGxZZWFyKCktMX12YXIgYj17IiVhIjpmdW5jdGlvbihlKXtyZXR1cm4gcFtlLnRtX3dkYXldLnN1YnN0cmluZygwLDMpfSwiJUEiOmZ1bmN0aW9uKGUpe3JldHVybiBwW2UudG1fd2RheV19LCIlYiI6ZnVuY3Rpb24oZSl7cmV0dXJuIGhbZS50bV9tb25dLnN1YnN0cmluZygwLDMpfSwiJUIiOmZ1bmN0aW9uKGUpe3JldHVybiBoW2UudG1fbW9uXX0sIiVDIjpmdW5jdGlvbihlKXtyZXR1cm4gbSgoZS50bV95ZWFyKzE5MDApLzEwMHwwLDIpfSwiJWQiOmZ1bmN0aW9uKGUpe3JldHVybiBtKGUudG1fbWRheSwyKX0sIiVlIjpmdW5jdGlvbihlKXtyZXR1cm4geShlLnRtX21kYXksMiwiICIpfSwiJWciOmZ1bmN0aW9uKGUpe3JldHVybiB3KGUpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpfSwiJUciOmZ1bmN0aW9uKGUpe3JldHVybiB3KGUpfSwiJUgiOmZ1bmN0aW9uKGUpe3JldHVybiBtKGUudG1faG91ciwyKX0sIiVJIjpmdW5jdGlvbihlKXt2YXIgdD1lLnRtX2hvdXI7cmV0dXJuIDA9PXQ/dD0xMjp0PjEyJiYodC09MTIpLG0odCwyKX0sIiVqIjpmdW5jdGlvbihlKXtyZXR1cm4gbShlLnRtX21kYXkrSmUoTGUoZS50bV95ZWFyKzE5MDApP0dlOnFlLGUudG1fbW9uLTEpLDMpfSwiJW0iOmZ1bmN0aW9uKGUpe3JldHVybiBtKGUudG1fbW9uKzEsMil9LCIlTSI6ZnVuY3Rpb24oZSl7cmV0dXJuIG0oZS50bV9taW4sMil9LCIlbiI6ZnVuY3Rpb24oKXtyZXR1cm4iXG4ifSwiJXAiOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRtX2hvdXI+PTAmJmUudG1faG91cjwxMj8iQU0iOiJQTSJ9LCIlUyI6ZnVuY3Rpb24oZSl7cmV0dXJuIG0oZS50bV9zZWMsMil9LCIldCI6ZnVuY3Rpb24oKXtyZXR1cm4iXHQifSwiJXUiOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRtX3dkYXl8fDd9LCIlVSI6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGUoZS50bV95ZWFyKzE5MDAsMCwxKSxyPTA9PT10LmdldERheSgpP3Q6WGUodCw3LXQuZ2V0RGF5KCkpLG49bmV3IERhdGUoZS50bV95ZWFyKzE5MDAsZS50bV9tb24sZS50bV9tZGF5KTtpZigwPmcocixuKSl7dmFyIGE9SmUoTGUobi5nZXRGdWxsWWVhcigpKT9HZTpxZSxuLmdldE1vbnRoKCktMSktMzE7cmV0dXJuIG0oTWF0aC5jZWlsKCgzMS1yLmdldERhdGUoKSthK24uZ2V0RGF0ZSgpKS83KSwyKX1yZXR1cm4gMD09PWcocix0KT8iMDEiOiIwMCJ9LCIlViI6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGUoZS50bV95ZWFyKzE5MDAsMCw0KSxyPW5ldyBEYXRlKGUudG1feWVhcisxOTAxLDAsNCksbj12KHQpLGE9dihyKSxvPVhlKG5ldyBEYXRlKGUudG1feWVhcisxOTAwLDAsMSksZS50bV95ZGF5KTtyZXR1cm4gMD5nKG8sbik/IjUzIjowPj1nKGEsbyk/IjAxIjptKE1hdGguY2VpbCgobi5nZXRGdWxsWWVhcigpPGUudG1feWVhcisxOTAwP2UudG1feWRheSszMi1uLmdldERhdGUoKTplLnRtX3lkYXkrMS1uLmdldERhdGUoKSkvNyksMil9LCIldyI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG1fd2RheX0sIiVXIjpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZShlLnRtX3llYXIsMCwxKSxyPTE9PT10LmdldERheSgpP3Q6WGUodCwwPT09dC5nZXREYXkoKT8xOjctdC5nZXREYXkoKSsxKSxuPW5ldyBEYXRlKGUudG1feWVhcisxOTAwLGUudG1fbW9uLGUudG1fbWRheSk7aWYoMD5nKHIsbikpe3ZhciBhPUplKExlKG4uZ2V0RnVsbFllYXIoKSk/R2U6cWUsbi5nZXRNb250aCgpLTEpLTMxO3JldHVybiBtKE1hdGguY2VpbCgoMzEtci5nZXREYXRlKCkrYStuLmdldERhdGUoKSkvNyksMil9cmV0dXJuIDA9PT1nKHIsdCk/IjAxIjoiMDAifSwiJXkiOmZ1bmN0aW9uKGUpe3JldHVybihlLnRtX3llYXIrMTkwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlWSI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG1feWVhcisxOTAwfSwiJXoiOmZ1bmN0aW9uKGUpe3ZhciB0PWUudG1fZ210b2ZmO3JldHVybih0Pj0wPyIrIjoiLSIpK1N0cmluZygiMDAwMCIrKHQ9KHQ9TWF0aC5hYnModCkvNjApLzYwKjEwMCt0JTYwKSkuc2xpY2UoLTQpfSwiJVoiOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRtX3pvbmV9LCIlJSI6ZnVuY3Rpb24oKXtyZXR1cm4iJSJ9fTtmb3IodmFyIGwgaW4gYiljLmluZGV4T2YobCk+PTAmJihjPWMucmVwbGFjZShuZXcgUmVnRXhwKGwsImciKSxiW2xdKHUpKSk7dmFyIFQ9S2UoYywhMSk7cmV0dXJuIFQubGVuZ3RoPnQ/MDooYT1ULG89ZSxzLnNldChhLG8pLFQubGVuZ3RoLTEpfSxyOmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49UCh0KSxhPSJcXCFAIyReJiooKSs9LVtdL3t9fDo8Pj8sLiIsbz0wLGk9YS5sZW5ndGg7bzxpOysrbyluPW4ucmVwbGFjZShuZXcgUmVnRXhwKCJcXCIrYVtvXSwiZyIpLCJcXCIrYVtvXSk7dmFyIHU9eyIlQSI6IiVhIiwiJUIiOiIlYiIsIiVjIjoiJWEgJWIgJWQgJUg6JU06JVMgJVkiLCIlRCI6IiVtXFwvJWRcXC8leSIsIiVlIjoiJWQiLCIlRiI6IiVZLSVtLSVkIiwiJWgiOiIlYiIsIiVSIjoiJUhcXDolTSIsIiVyIjoiJUlcXDolTVxcOiVTXFxzJXAiLCIlVCI6IiVIXFw6JU1cXDolUyIsIiV4IjoiJW1cXC8lZFxcLyg/OiV5fCVZKSIsIiVYIjoiJUhcXDolTVxcOiVTIn07Zm9yKHZhciBzIGluIHUpbj1uLnJlcGxhY2Uocyx1W3NdKTt2YXIgYz17IiVhIjoiKD86U3VuKD86ZGF5KT8pfCg/Ok1vbig/OmRheSk/KXwoPzpUdWUoPzpzZGF5KT8pfCg/OldlZCg/Om5lc2RheSk/KXwoPzpUaHUoPzpyc2RheSk/KXwoPzpGcmkoPzpkYXkpPyl8KD86U2F0KD86dXJkYXkpPykiLCIlYiI6Iig/Okphbig/OnVhcnkpPyl8KD86RmViKD86cnVhcnkpPyl8KD86TWFyKD86Y2gpPyl8KD86QXByKD86aWwpPyl8TWF5fCg/Okp1big/OmUpPyl8KD86SnVsKD86eSk/KXwoPzpBdWcoPzp1c3QpPyl8KD86U2VwKD86dGVtYmVyKT8pfCg/Ok9jdCg/Om9iZXIpPyl8KD86Tm92KD86ZW1iZXIpPyl8KD86RGVjKD86ZW1iZXIpPykiLCIlQyI6IlxcZFxcZCIsIiVkIjoiMFsxLTldfFsxLTldKD8hXFxkKXwxXFxkfDJcXGR8MzB8MzEiLCIlSCI6IlxcZCg/IVxcZCl8WzAsMV1cXGR8MjB8MjF8MjJ8MjMiLCIlSSI6IlxcZCg/IVxcZCl8MFxcZHwxMHwxMXwxMiIsIiVqIjoiMDBbMS05XXwwP1sxLTldKD8hXFxkKXwwP1sxLTldXFxkKD8hXFxkKXxbMSwyXVxcZFxcZHwzWzAtNl1cXGQiLCIlbSI6IjBbMS05XXxbMS05XSg/IVxcZCl8MTB8MTF8MTIiLCIlTSI6IjBcXGR8XFxkKD8hXFxkKXxbMS01XVxcZCIsIiVuIjoiXFxzIiwiJXAiOiJBTXxhbXxQTXxwbXxBXFwuTVxcLnxhXFwubVxcLnxQXFwuTVxcLnxwXFwubVxcLiIsIiVTIjoiMFxcZHxcXGQoPyFcXGQpfFsxLTVdXFxkfDYwIiwiJVUiOiIwXFxkfFxcZCg/IVxcZCl8WzEtNF1cXGR8NTB8NTF8NTJ8NTMiLCIlVyI6IjBcXGR8XFxkKD8hXFxkKXxbMS00XVxcZHw1MHw1MXw1Mnw1MyIsIiV3IjoiWzAtNl0iLCIleSI6IlxcZFxcZCIsIiVZIjoiXFxkXFxkXFxkXFxkIiwiJSUiOiIlIiwiJXQiOiJcXHMifTtmb3IodmFyIGYgaW4gYyluPW4ucmVwbGFjZShmLCIoIitmK2NbZl0rIikiKTt2YXIgbD1bXTtmb3Iobz1uLmluZGV4T2YoIiUiKTtvPj0wO289bi5pbmRleE9mKCIlIikpbC5wdXNoKG5bbysxXSksbj1uLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFwlIituW28rMV0sImciKSwiIik7dmFyIHA9bmV3IFJlZ0V4cCgiXiIrbiwiaSIpLmV4ZWMoUChlKSk7aWYocCl7dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIGV8fGlzTmFOKGUpP3Q6ZT49dD9lPD1yP2U6cjp0fXJldHVybnt5ZWFyOmUoZFtyKzIwPj4yXSsxOTAwLDE5NzAsOTk5OSksbW9udGg6ZShkW3IrMTY+PjJdLDAsMTEpLGRheTplKGRbcisxMj4+Ml0sMSwzMSksaG91cjplKGRbcis4Pj4yXSwwLDIzKSxtaW46ZShkW3IrND4+Ml0sMCw1OSksc2VjOmUoZFtyPj4yXSwwLDU5KX19KCkseT1mdW5jdGlvbihlKXt2YXIgdD1sLmluZGV4T2YoZSk7aWYodD49MClyZXR1cm4gcFt0KzFdfTtpZigoXz15KCJTIikpJiYoaC5zZWM9WmUoXykpLChfPXkoIk0iKSkmJihoLm1pbj1aZShfKSksXz15KCJIIikpaC5ob3VyPVplKF8pO2Vsc2UgaWYoXz15KCJJIikpe3ZhciBtPVplKF8pOyhfPXkoInAiKSkmJihtKz0iUCI9PT1fLnRvVXBwZXJDYXNlKClbMF0/MTI6MCksaC5ob3VyPW19aWYoXz15KCJZIikpaC55ZWFyPVplKF8pO2Vsc2UgaWYoXz15KCJ5Iikpe3ZhciBnPVplKF8pOyhfPXkoIkMiKSk/Zys9MTAwKlplKF8pOmcrPWc8Njk/MmUzOjE5MDAsaC55ZWFyPWd9aWYoKF89eSgibSIpKT9oLm1vbnRoPVplKF8pLTE6KF89eSgiYiIpKSYmKGgubW9udGg9e0pBTjowLEZFQjoxLE1BUjoyLEFQUjozLE1BWTo0LEpVTjo1LEpVTDo2LEFVRzo3LFNFUDo4LE9DVDo5LE5PVjoxMCxERUM6MTF9W18uc3Vic3RyaW5nKDAsMykudG9VcHBlckNhc2UoKV18fDApLF89eSgiZCIpKWguZGF5PVplKF8pO2Vsc2UgaWYoXz15KCJqIikpZm9yKHZhciB2PVplKF8pLHc9TGUoaC55ZWFyKSxiPTA7YjwxMjsrK2Ipe3ZhciBUPUplKHc/R2U6cWUsYi0xKTt2PD1UKyh3P0dlOnFlKVtiXSYmKGguZGF5PXYtVCl9ZWxzZSBpZihfPXkoImEiKSl7dmFyICQ9Xy5zdWJzdHJpbmcoMCwzKS50b1VwcGVyQ2FzZSgpO2lmKF89eSgiVSIpKXt2YXIgXyxDPXtTVU46MCxNT046MSxUVUU6MixXRUQ6MyxUSFU6NCxGUkk6NSxTQVQ6Nn1bJF0sRD1aZShfKTtBPTA9PT0oTz1uZXcgRGF0ZShoLnllYXIsMCwxKSkuZ2V0RGF5KCk/WGUoTyxDKzcqKEQtMSkpOlhlKE8sNy1PLmdldERheSgpK0MrNyooRC0xKSksaC5kYXk9QS5nZXREYXRlKCksaC5tb250aD1BLmdldE1vbnRoKCl9ZWxzZSBpZihfPXkoIlciKSl7dmFyIEEsTztDPXtNT046MCxUVUU6MSxXRUQ6MixUSFU6MyxGUkk6NCxTQVQ6NSxTVU46Nn1bJF0sRD1aZShfKSxBPTE9PT0oTz1uZXcgRGF0ZShoLnllYXIsMCwxKSkuZ2V0RGF5KCk/WGUoTyxDKzcqKEQtMSkpOlhlKE8sNy1PLmdldERheSgpKzErQys3KihELTEpKSxoLmRheT1BLmdldERhdGUoKSxoLm1vbnRoPUEuZ2V0TW9udGgoKX19dmFyIFM9bmV3IERhdGUoaC55ZWFyLGgubW9udGgsaC5kYXksaC5ob3VyLGgubWluLGguc2VjLDApO3JldHVybiBkW3I+PjJdPVMuZ2V0U2Vjb25kcygpLGRbcis0Pj4yXT1TLmdldE1pbnV0ZXMoKSxkW3IrOD4+Ml09Uy5nZXRIb3VycygpLGRbcisxMj4+Ml09Uy5nZXREYXRlKCksZFtyKzE2Pj4yXT1TLmdldE1vbnRoKCksZFtyKzIwPj4yXT1TLmdldEZ1bGxZZWFyKCktMTkwMCxkW3IrMjQ+PjJdPVMuZ2V0RGF5KCksZFtyKzI4Pj4yXT1KZShMZShTLmdldEZ1bGxZZWFyKCkpP0dlOnFlLFMuZ2V0TW9udGgoKS0xKStTLmdldERhdGUoKS0xLGRbciszMj4+Ml09MCxlK0tlKHBbMF0pLmxlbmd0aC0xfXJldHVybiAwfSxqOmZ1bmN0aW9uKGUpe3ZhciB0PURhdGUubm93KCkvMWUzfDA7cmV0dXJuIGUmJihkW2U+PjJdPXQpLHR9fSxldD1mdW5jdGlvbigpe3ZhciBlPXthOlFlfTtmdW5jdGlvbiByKGUscil7dmFyIG4sYT1lLmV4cG9ydHM7dC5hc209YSx1PW49dC5hc20uQS5idWZmZXIsdC5IRUFQOD1zPW5ldyBJbnQ4QXJyYXkobiksdC5IRUFQMTY9Zj1uZXcgSW50MTZBcnJheShuKSx0LkhFQVAzMj1kPW5ldyBJbnQzMkFycmF5KG4pLHQuSEVBUFU4PWM9bmV3IFVpbnQ4QXJyYXkobiksdC5IRUFQVTE2PWw9bmV3IFVpbnQxNkFycmF5KG4pLHQuSEVBUFUzMj1wPW5ldyBVaW50MzJBcnJheShuKSx0LkhFQVBGMzI9aD1uZXcgRmxvYXQzMkFycmF5KG4pLHQuSEVBUEY2ND15PW5ldyBGbG9hdDY0QXJyYXkobiksbT10LmFzbS5DLGZ1bmN0aW9uKGUpe2lmKHotLSx0Lm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJnQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyh6KSwwPT16JiYobnVsbCE9PU4mJihjbGVhckludGVydmFsKE4pLE49bnVsbCksQikpe3ZhciByPUI7Qj1udWxsLHIoKX19KCl9aWYoeisrLHQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmdC5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKHopLHQuaW5zdGFudGlhdGVXYXNtKXRyeXtyZXR1cm4gdC5pbnN0YW50aWF0ZVdhc20oZSxyKX1jYXRjaChlKXtyZXR1cm4gJCgiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIitlKSwhMX12YXIgbj1mdW5jdGlvbihlLHQpe3RyeXthPWZ1bmN0aW9uKGUpe3RyeXtpZihlPT1HJiZpKXJldHVybiBuZXcgVWludDhBcnJheShpKTt0aHJvdyJzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZDogeW91IGNhbiBwcmVsb2FkIGl0IHRvIE1vZHVsZVsnd2FzbUJpbmFyeSddIG1hbnVhbGx5LCBvciBlbWNjLnB5IHdpbGwgZG8gdGhhdCBmb3IgeW91IHdoZW4gZ2VuZXJhdGluZyBIVE1MIChidXQgbm90IEpTKSJ9Y2F0Y2goZSl7VihlKX19KGUpLG49bmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShhKSxyPW5ldyBXZWJBc3NlbWJseS5JbnN0YW5jZShuLHQpfWNhdGNoKGUpe3ZhciByLG4sYSxvPWUudG9TdHJpbmcoKTt0aHJvdyAkKCJmYWlsZWQgdG8gY29tcGlsZSB3YXNtIG1vZHVsZTogIitvKSwoby5pbmRleE9mKCJpbXBvcnRlZCBNZW1vcnkiKT49MHx8by5pbmRleE9mKCJtZW1vcnkgaW1wb3J0Iik+PTApJiYkKCJNZW1vcnkgc2l6ZSBpbmNvbXBhdGliaWxpdHkgaXNzdWVzIG1heSBiZSBkdWUgdG8gY2hhbmdpbmcgSU5JVElBTF9NRU1PUlkgYXQgcnVudGltZSB0byBzb21ldGhpbmcgdG9vIGxhcmdlLiBVc2UgQUxMT1dfTUVNT1JZX0dST1dUSCB0byBhbGxvdyBhbnkgc2l6ZSBtZW1vcnkgKGFuZCBhbHNvIG1ha2Ugc3VyZSBub3QgdG8gc2V0IElOSVRJQUxfTUVNT1JZIGF0IHJ1bnRpbWUgdG8gc29tZXRoaW5nIHNtYWxsZXIgdGhhbiBpdCB3YXMgYXQgY29tcGlsZSB0aW1lKS4iKSxlfXJldHVybltyLG5dfShHLGUpO3JldHVybiByKG5bMF0sblsxXSksdC5hc219KCksdHQ9dC5fX193YXNtX2NhbGxfY3RvcnM9ZXQuQixydD10Ll9fX2Vycm5vX2xvY2F0aW9uPWV0LkQsbnQ9dC5fbWFsbG9jPWV0LkUsYXQ9dC5fX19nZXRUeXBlTmFtZT1ldC5GO3QuX19fZW1iaW5kX3JlZ2lzdGVyX25hdGl2ZV9hbmRfYnVpbHRpbl90eXBlcz1ldC5HO3ZhciBvdD10Ll9mcmVlPWV0LkgsaXQ9dC5fX2dldF90em5hbWU9ZXQuSSx1dD10Ll9fZ2V0X2RheWxpZ2h0PWV0Lkosc3Q9dC5fX2dldF90aW1lem9uZT1ldC5LO2Z1bmN0aW9uIGN0KGUpe2Z1bmN0aW9uIHIoKXshdiYmKHY9ITAsdC5jYWxsZWRSdW49ITAsX3x8KHEoWSkscShVKSxuKHQpLHQub25SdW50aW1lSW5pdGlhbGl6ZWQmJnQub25SdW50aW1lSW5pdGlhbGl6ZWQoKSxmdW5jdGlvbigpe2lmKHQucG9zdFJ1bilmb3IoImZ1bmN0aW9uIj09dHlwZW9mIHQucG9zdFJ1biYmKHQucG9zdFJ1bj1bdC5wb3N0UnVuXSk7dC5wb3N0UnVuLmxlbmd0aDspaih0LnBvc3RSdW4uc2hpZnQoKSk7cSh4KX0oKSkpfWU9ZXx8YiwhKHo+MCkmJihmdW5jdGlvbigpe2lmKHQucHJlUnVuKWZvcigiZnVuY3Rpb24iPT10eXBlb2YgdC5wcmVSdW4mJih0LnByZVJ1bj1bdC5wcmVSdW5dKTt0LnByZVJ1bi5sZW5ndGg7KUgodC5wcmVSdW4uc2hpZnQoKSk7cShSKX0oKSx6PjB8fCh0LnNldFN0YXR1cz8odC5zZXRTdGF0dXMoIlJ1bm5pbmcuLi4iKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5zZXRTdGF0dXMoIiIpfSksMSkscigpfSksMSkpOnIoKSkpfWlmKEI9ZnVuY3Rpb24gZSgpe3Z8fGN0KCksdnx8KEI9ZSl9LHQucnVuPWN0LHQucHJlSW5pdClmb3IoImZ1bmN0aW9uIj09dHlwZW9mIHQucHJlSW5pdCYmKHQucHJlSW5pdD1bdC5wcmVJbml0XSk7dC5wcmVJbml0Lmxlbmd0aD4wOyl0LnByZUluaXQucG9wKCkoKTtyZXR1cm4gY3QoKSx0fSk7bGV0IHI9bnVsbDtzZWxmLm9ubWVzc2FnZT1mdW5jdGlvbihlKXtzd2l0Y2goZS5kYXRhLmNtZCl7Y2FzZSJwcmVJbml0IjooYXN5bmMgZT0+e2xldCBuPWF3YWl0KGF3YWl0IGZldGNoKGUuYnVuZGxlUGF0aCsiL0ZQaGlTZWxwaElEVG9rZW5pemVyV2FzbS53YXNtIikpLmFycmF5QnVmZmVyKCk7cj1hd2FpdCB0KHt3YXNtQmluYXJ5Om59KSxzZWxmLnBvc3RNZXNzYWdlKHtjbWQ6InByZUluaXQifSl9KShlLmRhdGEpO2JyZWFrO2Nhc2UiZ2V0SW50ZXJuYWxMaWNlbnNlIjooYXN5bmMgZT0+e2xldCB0PW5ldyByLlNlbHBoSUREb2N1bWVudFJhd0RhdGE7dC5zZXRMaWNlbnNlSGV4KGUudG9rZW4udG9VcHBlckNhc2UoKSk7bGV0IG49dC5nZXRMaWNlbnNlU3RhdHVzKCksYT10LmdldExpY2Vuc2VEb2N1bWVudCgpLG89dC5nZXRMaWNlbnNlRW5naW5lVHlwZSgpO3NlbGYucG9zdE1lc3NhZ2Uoe2NtZDoiZ2V0SW50ZXJuYWxMaWNlbnNlIix0b2tlbjphLGVuZ2luZVR5cGU6byxzdGF0dXM6bn0pfSkoZS5kYXRhKTticmVhaztjYXNlImRlc3Ryb3kiOihhc3luYygpPT57W3JdLmZvckVhY2goKGU9PntudWxsIT09ZSYmdm9pZCAwIT09ZS5kZWxldGUmJmUuZGVsZXRlKCl9KSksY2xvc2UoKX0pKGUuZGF0YSl9fTs=\")], {\n          type: \"text/javascript\"\n        }))), ye));\n        return i.postMessage({\n          cmd: \"preInit\",\n          bundlePath: e\n        }), new Promise(e => {\n          i.onmessage = l => {\n            \"preInit\" === l.data.cmd && (t.worker = i, e());\n          };\n        });\n      }\n    }\n\n    static async getInternalLicense(e, t) {\n      return await Ce.__checkWorker(e), Ce.worker.postMessage({\n        cmd: \"getInternalLicense\",\n        token: t\n      }), new Promise(e => {\n        Ce.worker.onmessage = t => {\n          \"getInternalLicense\" === t.data.cmd && e({\n            token: t.data.token,\n            engineType: t.data.engineType\n          });\n        };\n      });\n    }\n\n    static destroyWorker() {\n      null !== Ce.worker && (Ce.worker.postMessage({\n        cmd: \"destroy\"\n      }), Ce.worker = null);\n    }\n\n  }\n\n  const Ne = {};\n  Ne.SelphID = e, Ne.SelphID.RecorderType = {\n    Local: 0,\n    Remote: 1\n  }, Ne.SelphID.ConfigurationManager = class {\n    constructor() {\n      this.container = null, this.language = \"en\", this.dpiList = [163, 326, 489], this.cameraWidth = 1920, this.cameraHeight = 1080, this.cameraId = null, this.showLog = !1, this.bundlePath = \"\", this.resourcesPath = this.bundlePath + \"/FPhi.Widget.Resources\", this.accessibility = !1, this.accessibleElements = [\"button\", \"buttonImage\"], this.onExtractionFinish = null, this.onUserCancel = null, this.onExceptionCaptured = null, this.onExtractionTimeout = null, this.onModuleLoaded = null, this.onTrackStatus = null, this.mode = e.Mode.Full, this.captureMode = e.CaptureMode.DoubleSide, this.license = \"\", this.askSimpleMode = !0, this.previewCapture = !0, this.blurredThreshold = .1, this.cameraOverflow = !1, this.forceLandscape = !1, this.canvasHD = !1, this.cropFactor = 1, this.initialTip = !1, this.captureTimeout = 10, this.captureRetries = 3, this.graphPath = this.bundlePath + \"/graph.xml\", this.imageFormat = \"image/png\", this.imageQuality = .95, this.externalCamera = !1, this.videoRecord = !1, this.videoRecordRate = 3, this.videoRecordScale = .5, this.videoRecordType = e.RecorderType.Local, this.startSimpleMode = !1, this.cameraMirror = !0, this.documentType = e.DocumentType.IDCard, this.scanMode = e.ScanMode.Search, this.specificData = \"ES\";\n    }\n\n    setContainer(e) {\n      this.container = e;\n    }\n\n    getContainer() {\n      return this.container;\n    }\n\n    setLanguage(e) {\n      this.language = e;\n    }\n\n    getLanguage() {\n      return this.language;\n    }\n\n    setDpiList(e) {\n      this.dpiList = e;\n    }\n\n    getDpiList() {\n      return this.dpiList;\n    }\n\n    setResourcesPath(e) {\n      this.resourcesPath = e;\n    }\n\n    getResourcesPath() {\n      return this.resourcesPath;\n    }\n\n    setBundlePath(e) {\n      this.bundlePath = e, this.graphPath = this.bundlePath + \"/graph.xml\", this.resourcesPath = this.bundlePath + \"/FPhi.Widget.Resources\";\n    }\n\n    getBundlePath() {\n      return this.bundlePath;\n    }\n\n    setGraphPath(e) {\n      this.graphPath = e;\n    }\n\n    getGraphPath() {\n      return this.graphPath;\n    }\n\n    setCameraWidth(e) {\n      this.cameraWidth = e;\n    }\n\n    getCameraWidth() {\n      return this.cameraWidth;\n    }\n\n    setCameraHeight(e) {\n      this.cameraHeight = e;\n    }\n\n    getCameraHeight() {\n      return this.cameraHeight;\n    }\n\n    setOnExtractionFinish(e) {\n      this.onExtractionFinish = e;\n    }\n\n    getOnExtractionFinish() {\n      return this.onExtractionFinish;\n    }\n\n    setOnUserCancel(e) {\n      this.onUserCancel = e;\n    }\n\n    getOnUserCancel() {\n      return this.onUserCancel;\n    }\n\n    setOnExceptionCaptured(e) {\n      this.onExceptionCaptured = e;\n    }\n\n    getOnExceptionCaptured() {\n      return this.onExceptionCaptured;\n    }\n\n    setOnExtractionTimeout(e) {\n      this.onExtractionTimeout = e;\n    }\n\n    getOnExtractionTimeout() {\n      return this.onExtractionTimeout;\n    }\n\n    setOnModuleLoaded(e) {\n      this.onModuleLoaded = e;\n    }\n\n    getOnModuleLoaded() {\n      return this.onModuleLoaded;\n    }\n\n    setOnTrackStatus(e) {\n      this.onTrackStatus = e;\n    }\n\n    getOnTrackStatus() {\n      return this.onTrackStatus;\n    }\n\n    setMode(e) {\n      this.mode = e;\n    }\n\n    getMode() {\n      return this.mode;\n    }\n\n    setAskSimpleMode(e) {\n      this.askSimpleMode = e;\n    }\n\n    getAskSimpleMode() {\n      return this.askSimpleMode;\n    }\n\n    setPreviewCapture(e) {\n      this.previewCapture = e;\n    }\n\n    getPreviewCapture() {\n      return this.previewCapture;\n    }\n\n    setDocumentAspectRatio(e) {\n      this.documentAspectRatio = e;\n    }\n\n    getDocumentAspectRatio() {\n      return this.documentAspectRatio;\n    }\n\n    setCropFactor(e) {\n      this.cropFactor = e, this.cropFactor < 1 && (this.cropFactor = 1);\n    }\n\n    getCropFactor() {\n      return this.cropFactor;\n    }\n\n    setForceLandscape(e) {\n      this.forceLandscape = e;\n    }\n\n    getForceLandscape() {\n      return this.forceLandscape;\n    }\n\n    setCanvasHD(e) {\n      this.canvasHD = e;\n    }\n\n    getCanvasHD() {\n      return this.canvasHD;\n    }\n\n    setCaptureTimeout(e) {\n      this.captureTimeout = e;\n    }\n\n    getCaptureTimeout() {\n      return this.captureTimeout;\n    }\n\n    setCaptureRetries(e) {\n      this.captureRetries = e;\n    }\n\n    getCaptureRetries() {\n      return this.captureRetries;\n    }\n\n    setImageFormat(e) {\n      this.imageFormat = e;\n    }\n\n    getImageFormat() {\n      return this.imageFormat;\n    }\n\n    setImageQuality(e) {\n      this.imageQuality = e;\n    }\n\n    getImageQuality() {\n      return this.imageQuality;\n    }\n\n    setCameraId(e) {\n      this.cameraId = e;\n    }\n\n    getCameraId() {\n      return this.cameraId;\n    }\n\n    setInitialTip(e) {\n      this.initialTip = e;\n    }\n\n    getInitialTip() {\n      return this.initialTip;\n    }\n\n    setVideoRecord(e) {\n      this.videoRecord = e;\n    }\n\n    getVideoRecord() {\n      return this.videoRecord;\n    }\n\n    setVideoRecordRate(e) {\n      this.videoRecordRate = e;\n    }\n\n    getVideoRecordRate() {\n      return this.videoRecordRate;\n    }\n\n    setVideoRecordScale(e) {\n      this.videoRecordScale = e;\n    }\n\n    getVideoRecordScale() {\n      return this.videoRecordScale;\n    }\n\n    setVideoRecordType(e) {\n      this.videoRecordType = e;\n    }\n\n    getVideoRecordType() {\n      return this.videoRecordType;\n    }\n\n    setShowLog(e) {\n      this.showLog = e;\n    }\n\n    getShowLog() {\n      return this.showLog;\n    }\n\n    setStartSimpleMode(e) {\n      this.startSimpleMode = e;\n    }\n\n    getStartSimpleMode() {\n      return this.startSimpleMode;\n    }\n\n    setAccessibility(e) {\n      this.accessibility = e;\n    }\n\n    getAccessibility() {\n      return this.accessibility;\n    }\n\n    setAccessibleElements(e) {\n      this.accessibleElements = e;\n    }\n\n    getAccessibleElements() {\n      return this.accessibleElements;\n    }\n\n    setDocumentType(e) {\n      this.documentType = e;\n    }\n\n    getDocumentType() {\n      return this.documentType;\n    }\n\n    setScanMode(e) {\n      this.scanMode = e;\n    }\n\n    getScanMode() {\n      return this.scanMode;\n    }\n\n    setSpecificData(e) {\n      this.specificData = e;\n    }\n\n    getSpecificData() {\n      return this.specificData;\n    }\n\n    setCameraOverflow(e) {\n      this.cameraOverflow = e;\n    }\n\n    getCameraOverflow() {\n      return this.cameraOverflow;\n    }\n\n    setCaptureMode(e) {\n      this.captureMode = e;\n    }\n\n    getCaptureMode() {\n      return this.captureMode;\n    }\n\n    setLicense(e) {\n      this.license = e;\n    }\n\n    getLicense() {\n      return this.license;\n    }\n\n    getBlurredThreshold() {\n      return this.blurredThreshold;\n    }\n\n    setBlurredThreshold(e) {\n      this.blurredThreshold = e;\n    }\n\n    setExternalCamera(e) {\n      this.externalCamera = e;\n    }\n\n    getExternalCamera() {\n      return this.externalCamera;\n    }\n\n    setCameraMirror(e) {\n      this.cameraMirror = e;\n    }\n\n    getCameraMirror() {\n      return this.cameraMirror;\n    }\n\n  }, Ne.SelphID.SimpleMode = class {\n    constructor(e) {\n      this.cm = e, this.path = this.isPathAbsolute(this.cm.getBundlePath()) ? this.cm.getBundlePath() : this.getScriptPath() + this.cm.getBundlePath(), this.baseURL = this.isPathAbsolute(this.cm.getResourcesPath()) ? this.cm.getResourcesPath() : this.getScriptPath() + this.cm.getResourcesPath(), this.devicePixelRatio = window.devicePixelRatio, !1 === e.getCanvasHD() && (this.devicePixelRatio = 1), this.secondsWidget = 0, this.secondsState = 0;\n    }\n\n    OnResourceManagerStatus(e, t) {\n      t && (e.rmReady || (e.rmReady = !0, e.CheckDependencies(e)));\n    }\n\n    CheckDependencies(e) {\n      if (1 == e.rmReady && void 0 !== e.drawer) {\n        var t = new CustomEvent(\"FPhi.SelphID.ModuleLoaded.event\");\n        e.cm.getContainer().dispatchEvent(t);\n        var i = this.canvas;\n\n        switch (null != i && (i.style.display = \"inline-block\"), e.drawer.rm = e.rm, e.canvas, e.drawer.setCanvasSize(e.cameraContainer.offsetWidth, e.cameraContainer.offsetHeight), e.cm.getMode()) {\n          case d.SelphID.Mode.Full:\n          case d.SelphID.Mode.Front:\n            e.newState(d.SelphID.SimpleModeStates.InfoFront);\n            break;\n\n          default:\n            e.newState(d.SelphID.SimpleModeStates.InfoBack);\n        }\n      }\n    }\n\n    start() {\n      this.onTrackStatus = this.cm.getOnTrackStatus(), this.divContainer = this.cm.getContainer(), this.onCanvasResizeContext = this.onCanvasResize.bind(this), window.addEventListener(\"resize\", this.onCanvasResizeContext, !1), this.cameraContainer = document.createElement(\"div\"), this.cameraContainer.id = \"cameraContainer\", this.cameraContainer.style.overflow = \"hidden\", this.cameraContainer.style.position = \"relative\", this.cameraContainer.style.width = this.cm.getContainer().offsetWidth + \"px\", this.cameraContainer.style.height = this.cm.getContainer().offsetHeight + \"px\", this.cm.getContainer().appendChild(this.cameraContainer);\n      var e = document.createElement(\"canvas\");\n      e.id = \"display\", e.style = \"position:absolute; top:0px; left:0px; zIndex:1;\", this.cameraContainer.appendChild(e), e.width = this.cameraContainer.offsetWidth * this.devicePixelRatio, e.height = this.cameraContainer.offsetHeight * this.devicePixelRatio, e.style.width = this.cameraContainer.offsetWidth + \"px\", e.style.height = this.cameraContainer.offsetHeight + \"px\", e.onclick = this.canvasOnClick.bind(this), e.addEventListener(\"mousemove\", this.canvasOnMove.bind(this), !1), this.canvas = e;\n      let t = document.createElement(\"input\");\n      t.type = \"file\", t.accept = \"image/*\", t.capture = \"environment\", t.style = \"visibility:hidden\", t.addEventListener(\"change\", this.fileCaptureEvent.bind(this)), this.cm.getContainer().appendChild(t), this.inputFromDevice = t, this.cm.getContainer().addEventListener(\"FPhi.SelphID.Finish.event\", this.cm.getOnExtractionFinish(), !0), this.cm.getContainer().addEventListener(\"FPhi.SelphID.UserCancel.event\", this.cm.getOnUserCancel(), !0), this.cm.getContainer().addEventListener(\"FPhi.SelphID.ModuleLoaded.event\", this.cm.getOnModuleLoaded(), !0), this.cm.getContainer().addEventListener(\"FPhi.SelphID.TrackStatus.event\", this.onTrackStatus, !0), this.rm = new a(this.baseURL, this.cm.getLanguage(), this, this.OnResourceManagerStatus, this.cm.getDpiList(), window.devicePixelRatio, 1), this.widgetTime = performance.now(), this.drawer = new s({\n        mode: this.cm.getMode(),\n        preview: this.cm.getPreviewCapture(),\n        documentAspectRatio: 85.6 / 53.98\n      }), this.CheckDependencies(this);\n    }\n\n    stop() {\n      this.cm.getContainer().removeChild(this.cameraContainer), this.cameraContainer = null, this.onCanvasResizeContext && (window.removeEventListener(\"resize\", this.onCanvasResizeContext, !1), this.onCanvasResizeContext = void 0), null != this.rm && (this.rm.caller = null, this.rm = null), null != this.drawer && (this.drawer = null), this.cm.getContainer().removeEventListener(\"FPhi.SelphID.Finish.event\", this.onExtractionFinish, !0), this.cm.getContainer().removeEventListener(\"FPhi.SelphID.UserCancel.event\", this.onUserCancel, !0), this.cm.getContainer().removeEventListener(\"FPhi.SelphID.ModuleLoaded.event\", this.onModuleLoaded, !0), this.cm.getContainer().removeEventListener(\"FPhi.SelphID.TrackStatus.event\", this.onTrackStatus, !0);\n    }\n\n    newState(e) {\n      if (this.inputFromDevice.value = \"\", this.stateTime = performance.now(), this.secondsWidget = (this.actualTime - this.widgetTime) / 1e3, this.secondsState = (this.actualTime - this.stateTime) / 1e3, this.state = e, this.resourceParent = this.drawer.getResourceIdForState(d.SelphID.SimpleModeStatesStr[this.state]), this.elements = null, null != this.resourceParent && (this.elements = this.rm.getElements(this.resourceParent, this.drawer.landscape)), null != this.onTrackStatus && this.divContainer) {\n        var t = new CustomEvent(\"FPhi.SelphID.TrackStatus.event\", {\n          detail: {\n            code: d.SelphID.TrackStatus.ChangeState,\n            timeStamp: this.secondsWidget,\n            data: d.SelphID.SimpleModeStatesStr[this.state]\n          }\n        });\n        this.divContainer.dispatchEvent(t);\n      }\n\n      this.draw(this);\n    }\n\n    async finish() {\n      var e = null,\n          t = null;\n      this.frontImage && (e = await this.convertImage(this.frontImage, this.cm.getImageFormat(), this.cm.getImageQuality())), this.backImage && (t = await this.convertImage(this.backImage, this.cm.getImageFormat(), this.cm.getImageQuality()));\n      var i = {\n        images: {\n          backDocument: t.src || null,\n          frontDocument: e.src || null\n        },\n        simpleModeOutput: 1\n      },\n          l = new CustomEvent(\"FPhi.SelphID.Finish.event\", {\n        detail: i\n      });\n      this.cm.getContainer().dispatchEvent(l), this.stop();\n    }\n\n    rotateImage(e, t, i) {\n      return new Promise((l, a) => {\n        let n = document.createElement(\"canvas\");\n        n.width = e.height, n.height = e.width;\n        let s = n.getContext(\"2d\");\n        s.save(), s.translate(n.width / 2, n.height / 2), s.rotate(-Math.PI / 2), s.drawImage(e, -e.width / 2, -e.height / 2), s.restore();\n        let d = document.createElement(\"img\");\n        d.onload = () => {\n          l(d);\n        }, d.src = n.toDataURL(t, i);\n      });\n    }\n\n    convertImage(e, t, i) {\n      return new Promise((l, a) => {\n        let n = document.createElement(\"canvas\");\n        n.width = e.width, n.height = e.height, n.getContext(\"2d\").drawImage(e, 0, 0);\n        let s = document.createElement(\"img\");\n        s.onload = () => {\n          l(s);\n        }, s.src = n.toDataURL(t, i);\n      });\n    }\n\n    fileCaptureEvent(e) {\n      let t = new FileReader();\n      t.onload = e => {\n        switch (this.state) {\n          case d.SelphID.SimpleModeStates.InfoFront:\n            this.previewImage = document.createElement(\"img\"), this.previewImage.src = e.target.result, this.frontImage = this.previewImage, this.newState(d.SelphID.SimpleModeStates.PreviewFront);\n            break;\n\n          case d.SelphID.SimpleModeStates.InfoBack:\n            this.previewImage = document.createElement(\"img\"), this.previewImage.src = e.target.result, this.backImage = this.previewImage, this.newState(d.SelphID.SimpleModeStates.PreviewBack);\n        }\n      }, t.readAsDataURL(e.target.files[0]);\n    }\n\n    getLayoutFromXML(e, t, i, l, a) {\n      let n = \"LEFT\",\n          s = \"TOP\",\n          d = i,\n          c = !1;\n\n      if (this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"width\")) {\n        null == d && (d = {});\n        var h = this.rm.getSetupFloat(e, t, this.drawer.landscape, \"width\");\n        d.width = h <= 1 ? h * l : h, c = !0;\n      }\n\n      if (this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"height\")) {\n        null == d && (d = {});\n        var o = this.rm.getSetupFloat(e, t, this.drawer.landscape, \"height\");\n        d.height = o <= 1 ? o * a : o, c = !0;\n      }\n\n      if (this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"xAnchor\") && (n = this.rm.getSetupAlign(e, t, this.drawer.landscape, \"xAnchor\")), this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"yAnchor\") && (s = this.rm.getSetupAlign(e, t, this.drawer.landscape, \"yAnchor\")), this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"x\")) {\n        null == d && (d = {});\n        var r = this.rm.getSetupFloat(e, t, this.drawer.landscape, \"x\");\n        d.x = r <= 1 && r >= -1 ? r * l : r, \"CENTER\" == n ? d.x = l / 2 - d.width / 2 + d.x : \"RIGHT\" == n && (d.x = l - d.width + d.x), c = !0;\n      }\n\n      if (this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"y\")) {\n        null == d && (d = {});\n        var m = this.rm.getSetupFloat(e, t, this.drawer.landscape, \"y\");\n        d.y = m <= 1 && m >= -1 ? m * a : m, \"CENTER\" == s ? d.y = a / 2 - d.height / 2 + d.y : \"BOTTOM\" == s && (d.y = a - d.height + d.y), c = !0;\n      }\n\n      return d;\n    }\n\n    draw(e) {\n      if (null != e.drawer) {\n        e.actualTime = performance.now(), e.secondsWidget = (e.actualTime - e.widgetTime) / 1e3, e.secondsState = (e.actualTime - e.stateTime) / 1e3;\n        var t = e.canvas.getContext(\"2d\", {\n          alpha: !0\n        }),\n            i = t.canvas.width,\n            l = t.canvas.height;\n\n        if (t.clearRect(0, 0, i, l), this.canvasWidth = i, this.canvasHeight = l, t.save(), t.scale(e.devicePixelRatio, e.devicePixelRatio), null != e.elements) {\n          var a = {\n            contour: [!1, !1, !1, !1]\n          };\n          a.previewImage = e.previewImage, a.forceLandscape = e.cm.getForceLandscape(), a.state = d.SelphID.SimpleModeStatesStr[e.state];\n\n          for (var n = 0; n < e.elements.length; n++) if (\"button\" != e.elements[n].type && \"buttonImage\" != e.elements[n].type || 0 != e.interactible) {\n            var s = e.drawer.getLayout(t, e.resourceParent, e.elements[n].id, e.elements[n].type, e.secondsWidget, e.secondsState, \"\", a);\n\n            if (null != s && (s = e.getLayoutFromXML(e.resourceParent, e.elements[n].id, s, i, l)), null != s) {\n              e.elements[n].layout = s;\n              var c = e.elements[n].mode,\n                  h = !1;\n\n              if (null != c) {\n                for (var o = c.split(\"|\"), r = 0; r < o.length; r++) if (\"Normal\" == o[r]) {\n                  h = !0;\n                  break;\n                }\n              } else h = !0;\n\n              1 == h && e.drawer.draw(t, s, e.resourceParent, e.elements[n].id, e.elements[n].type, e.secondsWidget, e.secondsState, e.cm.getMode(), a);\n            }\n          }\n        }\n\n        t.restore(), setTimeout(e.draw, 0, e);\n      }\n    }\n\n    onCanvasResize() {\n      var e = this.canvas;\n      e.getContext(\"2d\", {\n        alpha: !0\n      }), this.cameraContainer.style.width = this.cm.getContainer().offsetWidth + \"px\", this.cameraContainer.style.height = this.cm.getContainer().offsetHeight + \"px\", e.width = this.cameraContainer.offsetWidth * this.devicePixelRatio, e.height = this.cameraContainer.offsetHeight * this.devicePixelRatio, e.style.width = this.cameraContainer.offsetWidth + \"px\", e.style.height = this.cameraContainer.offsetHeight + \"px\", this.drawer.setCanvasSize(this.cameraContainer.offsetWidth, this.cameraContainer.offsetHeight), this.elements = this.rm.getElements(this.resourceParent, this.drawer.landscape);\n    }\n\n    canvasOnMove(e) {\n      if (null != this.elements) for (var t = this.elements.length - 1; t >= 0; t--) if (null != this.elements[t].layout && e.offsetX >= this.elements[t].layout.x && e.offsetX < this.elements[t].layout.x + this.elements[t].layout.width && e.offsetY >= this.elements[t].layout.y && e.offsetY < this.elements[t].layout.y + this.elements[t].layout.height) {\n        this.drawer.onMouseMove(e.target, this.elements[t].layout, this.resourceParent, this.elements[t].id, this.elements[t].type);\n        break;\n      }\n    }\n\n    async canvasOnClick(e) {\n      if (null == this.elements) return;\n      let t = null;\n\n      for (var i = this.elements.length - 1; i >= 0; i--) {\n        let a = e.offsetX,\n            n = e.offsetY;\n\n        if (null != this.elements[i].layout && a >= this.elements[i].layout.x && a < this.elements[i].layout.x + this.elements[i].layout.width && n >= this.elements[i].layout.y && n < this.elements[i].layout.y + this.elements[i].layout.height) {\n          if (t = this.elements[i].id, \"button_start\" == t) this.inputFromDevice.click();else if (\"button_repeat\" == t) this.state == d.SelphID.SimpleModeStates.PreviewFront ? this.newState(d.SelphID.SimpleModeStates.InfoFront) : this.newState(d.SelphID.SimpleModeStates.InfoBack);else if (\"button_ok\" == t) this.state == d.SelphID.SimpleModeStates.PreviewFront && this.cm.getMode() == d.SelphID.Mode.Full ? this.newState(d.SelphID.SimpleModeStates.InfoBack) : this.finish();else if (\"button_rotate\" == t) this.state == d.SelphID.SimpleModeStates.PreviewFront ? (this.frontImage = await this.rotateImage(this.frontImage, this.cm.getImageFormat(), this.cm.getImageQuality()), this.previewImage = this.frontImage) : (this.backImage = await this.rotateImage(this.backImage, this.cm.getImageFormat(), this.cm.getImageQuality()), this.previewImage = this.backImage);else if (\"button_exit\" == t) {\n            var l = new CustomEvent(\"FPhi.SelphID.UserCancel.event\");\n            this.cm.getContainer().dispatchEvent(l), this.stop();\n          }\n          break;\n        }\n      }\n    }\n\n    isPathAbsolute(e) {\n      return /^(?:\\/|.+:\\/\\/|http)/.test(e);\n    }\n\n    getScriptPath() {\n      return String(new Error().stack).replace(/^Error.*\\n/, \"\").split(\"\\n\")[1].match(/http.*\\.js/)[0].split(\"/\").slice(0, -1).join(\"/\") + \"/\";\n    }\n\n  }, Ne.SelphID.DocumentType = {\n    0: \"UNKNOWN\",\n    1: \"NONE\",\n    2: \"ID\",\n    3: \"PASSPORT\",\n    4: \"VISA\",\n    5: \"GREEN_CARD\",\n    6: \"DRIVING_LICENSE\",\n    7: \"RESIDENT_ID\",\n    8: \"SOCIAL_SECURITY_CARD\",\n    9: \"HEALTH_INSURANCE_CARD\",\n    10: \"TEMPORARY_RESIDENCE\"\n  }, Ne.ExceptionType = {\n    CameraError: 0,\n    ExtractorError: 1,\n    ControlNotInitializedError: 2,\n    ImageCropResizeError: 3,\n    UnexpectedCaptureError: 4\n  }, Ne.SelphID.Widget = function (e) {\n    this.showLog = e.getShowLog(), this.version = \"4.1.1.178\", this.printLog(\"FPhi.SelphID.Widget version: \" + this.version + \" - enable showLog property to display detailed info.\"), this.cm = e, this.divContainer = this.cm.getContainer(), this.captureTimeout = this.cm.getCaptureTimeout(), this.captureRetries = this.cm.getCaptureRetries(), this.onExtractionFinish = this.cm.getOnExtractionFinish(), this.onUserCancel = this.cm.getOnUserCancel(), this.onExceptionCaptured = this.cm.getOnExceptionCaptured(), this.onExtractionTimeout = this.cm.getOnExtractionTimeout(), this.onModuleLoaded = this.cm.getOnModuleLoaded(), this.onTrackStatus = this.cm.getOnTrackStatus(), this.cameraReady = !1, this.contour = [!1, !1, !1, !1], this.cameraMustFlip = this.cm.getCameraMirror(), this.cameraFrontSide = !1, this.mode = this.cm.getMode(), this.status = Ne.SelphID.Mode.Full, this.blurredThreshold = this.cm.getBlurredThreshold(), this.preview = this.cm.getPreviewCapture(), this.graphPath = this.isPathAbsolute(this.cm.getGraphPath()) ? this.cm.getGraphPath() : this.getScriptPath() + this.cm.getGraphPath(), this.cropFactor = this.cm.getCropFactor(), this.devicePixelRatio = window.devicePixelRatio, !1 === this.cm.getCanvasHD() && (this.devicePixelRatio = 1), this.bundlePath = this.isPathAbsolute(this.cm.getBundlePath()) ? this.cm.getBundlePath() : this.getScriptPath() + this.cm.getBundlePath(), this.showLog && this.printLog(\"FPhi.SelphID.Widget: Serving from URL: \" + this.bundlePath), this.resourceParent = null, this.language = this.cm.getLanguage(), this.expectedExternalCamera = this.cm.getExternalCamera(), this.fontSizeFactor = this.canvasHeight / 500, this.fpsTime = performance.now(), this.baseURL = this.isPathAbsolute(this.cm.getResourcesPath()) ? this.cm.getResourcesPath() : this.getScriptPath() + this.cm.getResourcesPath(), this.showLog && this.printLog(\"FPhi.SelphID.Widget: Serving resources from URL: \" + this.baseURL), this.dpiList = this.cm.getDpiList(), this.imageFormat = this.cm.getImageFormat(), this.imageQuality = this.cm.getImageQuality(), this.rmReady = !1, this.graphReady = !1, this.rm = new a(this.baseURL, this.language, this, this.OnResourceManagerStatus, this.dpiList, window.devicePixelRatio, this.canvasSizeFactor), this.graph = new t.k(this.graphPath, this.OnGraphReady.bind(this), this.OnGraphNewState.bind(this)), this.drawer = new s({\n      mode: this.mode,\n      preview: this.preview,\n      documentAspectRatio: 85.6 / 53.98,\n      enableButtonCamera: !this.expectedExternalCamera\n    }), this.divContainer.addEventListener(\"FPhi.SelphID.Finish.event\", this.onExtractionFinish, !0), this.divContainer.addEventListener(\"FPhi.SelphID.UserCancel.event\", this.onUserCancel, !0), this.divContainer.addEventListener(\"FPhi.SelphID.ExtractionTimeout.event\", this.onExtractionTimeout, !0), this.divContainer.addEventListener(\"FPhi.SelphID.ExceptionCaptured.event\", this.onExceptionCaptured, !0), this.divContainer.addEventListener(\"FPhi.SelphID.ModuleLoaded.event\", this.onModuleLoaded, !0), this.divContainer.addEventListener(\"FPhi.SelphID.TrackStatus.event\", this.onTrackStatus, !0);\n  }, Ne.SelphID.Widget.prototype = {\n    constructor: Ne.SelphID.Widget,\n    language: \"es\",\n    privateCanvas: null,\n    extractor: null,\n    extractorLiveness: null,\n    extractorVersion: \"\",\n    lastDetectResult: null,\n    lastExtractionResult: null,\n    lastExtractionResultWizard: null,\n    actualTime: 0,\n    actualTimePrev: 0,\n    idContainer: null,\n    divContainer: null,\n    extractorContainer: null,\n    videoSelectId: null,\n    cameraContainer: null,\n    cameraWidth: null,\n    cameraHeight: null,\n    cameraRotation: 0,\n    expectedExternalCamera: null,\n    canvasWidth: void 0,\n    canvasHeight: void 0,\n    cameraStream: null,\n    selectedSource: null,\n    samplePeriod: 0,\n    blurredThreshold: 0,\n    debug: !1,\n    interactible: !0,\n    stopCameraStream: !0,\n    globalTimeout: 30,\n    sceneTimeout: 30,\n    fps: 0,\n    fpse: 0,\n    fpsframes: 0,\n    fpseframes: 0,\n    fpsTime: null,\n    fontSizeFactor: 1,\n    canvasSizeFactor: 1,\n    cameraList: [],\n    graphPath: \"/graph.xml\",\n    Start: async function (e) {\n      if (this.printLog(\"SelphId: Init process - Widget Web Internals starting\"), \"\" === this.cm.getLicense()) return console.error(\"FPhi.SelphID.Widget: The Widget is not license correctly, stopping execution...\"), this.divContainer.dispatchEvent(new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\", {\n        detail: {\n          exceptionType: \"licenseError\",\n          message: \"FPhi.SelphID.Widget: The Widget is not license correctly, stopping execution...\"\n        }\n      })), void this.Stop();\n      let t = await Ce.getInternalLicense(this.bundlePath, this.cm.getLicense());\n      if (-1 === Xe.getAvailableEngines().findIndex(e => t.engineType === e)) return console.error(\"FPhi.SelphID.Widget: The Widget license is not supported by this version, please contact support team!\"), this.divContainer.dispatchEvent(new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\", {\n        detail: {\n          exceptionType: \"licenseError\",\n          message: \"FPhi.SelphID.Widget: The Widget license is not supported by this version, please contact support team!\"\n        }\n      })), void this.Stop();\n\n      try {\n        this.engine = Xe.generateInstance(t.engineType, {\n          licenseKey: t.token,\n          bundlePath: this.bundlePath,\n          imageFormat: this.imageFormat,\n          imageQuality: this.imageQuality,\n          accessibility: this.accessibility,\n          blurredThreshold: 100 * this.blurredThreshold\n        }), this.engine.initializeEngine().then(() => {\n          this.engineLoaded = !0, this.CheckDependencies(this);\n        });\n      } catch (e) {\n        return this.divContainer.dispatchEvent(new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\", {\n          detail: {\n            exceptionType: \"engineError\",\n            message: \"FPhi.SelphID.Widget: \" + e.message\n          }\n        })), void this.Stop();\n      }\n\n      if (this.cameraContainer = document.createElement(\"div\"), this.cameraContainer.id = \"cameraContainer\", this.cameraContainer.style.overflow = \"hidden\", this.cameraContainer.style.position = \"relative\", this.cameraContainer.style.width = this.divContainer.offsetWidth + \"px\", this.cameraContainer.style.height = this.divContainer.offsetHeight + \"px\", this.divContainer.appendChild(this.cameraContainer), this.printLog(\"SelphId: Init process - Camera Container linked\"), this.checkCanvasDimensions(), this.gifWait = document.createElement(\"img\"), this.gifWait.style.display = \"none\", this.gifWaitOnLoadContext = this.onWaitingLoaded.bind(this), this.gifWait.addEventListener(\"load\", this.gifWaitOnLoadContext), this.gifWait.src = this.baseURL + \"/resources/163dpi/1_loading_selphID.gif\", this.cameraContainer.appendChild(this.gifWait), this.printLog(\"SelphId: Init process - Showing the loading animation\"), this.cropFactor <= 0) {\n        let e = new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\", {\n          detail: {\n            message: \"Invalid value of CropFactor. Must be greather than 0.\",\n            exceptionType: 3\n          }\n        });\n        this.divContainer.dispatchEvent(e), this.cropFactor = 1;\n      }\n\n      if (this.resizeFactor <= 0) {\n        let e = new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\", {\n          detail: {\n            message: \"Invalid value of ResizeFactor. Must be greather than 0.\",\n            exceptionType: 3\n          }\n        });\n        this.divContainer.dispatchEvent(e), this.resizeFactor = 1;\n      }\n\n      this.sceneTimeout <= 0 && (this.sceneTimeout = 0), window.location !== window.parent.location && this.printLog(\"SelphId: widget running inside iframe.\");\n      let i = document.createElement(\"canvas\");\n\n      if (i.id = \"display\", i.style = \"position:absolute; top:0px; left:0px; zIndex:1;\", this.cameraContainer.appendChild(i), i.width = this.cameraContainer.offsetWidth * this.devicePixelRatio, i.height = this.cameraContainer.offsetHeight * this.devicePixelRatio, i.style.width = this.cameraContainer.offsetWidth + \"px\", i.style.height = this.cameraContainer.offsetHeight + \"px\", this.canvas = i, this.canvasRotated = document.createElement(\"canvas\"), this.canvasRotated.width = i.height * this.devicePixelRatio, this.canvasRotated.height = i.width * this.devicePixelRatio, this.onCanvasResizeContext = this.onCanvasResize.bind(this), window.addEventListener(\"resize\", this.onCanvasResizeContext, !1), this.printLog(\"SelphId: Init process - Canvas linked\"), this.initCamera(this.cameraContainer, this.cameraWidth, this.cameraHeight), console.log(e), null != e) {\n        this.printLog(\"FPhi.Selphi.Widget: Detected external camera stream, using this...\"), this.stopCameraStream = !1, this.cameraStream = e, this.video.srcObject = e;\n        const t = e.getVideoTracks()[0];\n        this.cameraName = t.label, this.video.onloadedmetadata = this.videoLoaded.bind(this), this.video.play(), this.setCameraPosition(this.canvas, this.video);\n      } else if (this.expectedExternalCamera) this.printLog(\"FPhi.SelphID.Widget: Entering into loading state until waits the external camera...\");else {\n        this.printLog(\"FPhi.SelphID.Widget: No detected external camera stream, running own stream...\"), this.printLog(\"SelphId: Init process - Checked parameters are correctly\"), document.featurePolicy && !1 === document.featurePolicy.allowsFeature(\"camera\") && (this.printLog(\"SelphId: Feature Policy issue: Camera feature is restricted in the actual environment. Check your server HTTP Headers.\"), this.printLog(\"https://developers.google.com/web/updates/2018/06/feature-policy#js\")), await this.grantVideoPermission(), this.printLog(\"SelphId: Init process - Checked camera permissions\"), this.cameras = await navigator.mediaDevices.enumerateDevices(), this.cameraCount = 0, this.printLog(\"SelphId: Camera enumeration\");\n        let e = [];\n\n        for (const t of this.cameras) if (\"videoinput\" === t.kind) {\n          if (null == this.cm.getCameraId()) {\n            let i = await navigator.mediaDevices.getUserMedia({\n              video: {\n                deviceId: t.deviceId\n              }\n            });\n\n            if (i.getVideoTracks().length > 0 && \"function\" == typeof i.getVideoTracks()[0].getCapabilities) {\n              const l = i.getVideoTracks()[0].getCapabilities();\n              \"environment\" == l.facingMode && (l.focusDistance?.max < 1e3 ? (e.push(l), this.printLog(\"SelphId: environment camera with id: \" + t.deviceId + \" - focusDistance: \" + JSON.stringify(l.focusDistance))) : this.printLog(\"SelphId: ignoring environment (focusDistance) camera with id: \" + t.deviceId + \" - focusDistance: \" + JSON.stringify(l.focusDistance)));\n            }\n\n            i.getTracks().forEach(e => {\n              e.stop();\n            });\n          }\n\n          this.cameraCount++, this.printLog(\"SelphId: camera with id: \" + t.deviceId);\n        }\n\n        if (this.printLog(\"Environment cameras: \" + e.length), e.length > 0) {\n          e.sort((e, t) => e.focusDistance?.max - t.focusDistance?.max);\n          const t = Math.floor(e.length / 2);\n          this.forceCameraId = e[t].deviceId, this.printLog(\"SelphId: forced camera with id: \" + this.forceCameraId);\n        }\n\n        this.printLog(\"SelphId: \" + this.cameraCount + \" cameras found.\"), this.printLog(\"SelphId: Init process - Checked available cameras\"), this.selectedSource = null, this.setVideoInput(this), this.stopCameraStream = !0;\n      }\n\n      this.widgetTime = performance.now(), this.stateTime = this.widgetTime, this.printLog(\"SelphId: Init process - Started Widget\");\n    },\n    StartManual: function () {\n      this.selphIDSimpleMode = new Ne.SelphID.SimpleMode(this.cm), this.selphIDSimpleMode.start();\n    },\n    Stop: function () {\n      null !== this.divContainer && (this.onCanvasResizeContext && (window.removeEventListener(\"resize\", this.onCanvasResizeContext, !1), this.onCanvasResizeContext = void 0), void 0 !== this.onExtractionFinish && null !== this.onExtractionFinish && this.divContainer.removeEventListener(\"FPhi.SelphID.Finish.event\", this.onExtractionFinish, !0), void 0 !== this.onUserCancel && null !== this.onUserCancel && this.divContainer.removeEventListener(\"FPhi.SelphID.UserCancel.event\", this.onUserCancel, !0), void 0 !== this.onExtractionTimeout && null !== this.onExtractionTimeout && this.divContainer.removeEventListener(\"FPhi.SelphID.ExtractionTimeout.event\", this.onExtractionTimeout, !0), void 0 !== this.onExceptionCaptured && null !== this.onExceptionCaptured && this.divContainer.removeEventListener(\"FPhi.SelphID.ExceptionCaptured.event\", this.onExceptionCaptured, !0), void 0 !== this.onModuleLoaded && null !== this.onModuleLoaded && this.divContainer.removeEventListener(\"FPhi.SelphID.ModuleLoaded.event\", this.onModuleLoaded, !0), void 0 !== this.onTrackStatus && null !== this.onTrackStatus && this.divContainer.removeEventListener(\"FPhi.SelphID.TrackStatus.event\", this.onTrackStatus, !0), null !== this.cameraContainer && this.divContainer.removeChild(this.cameraContainer), this.divContainer = null, this.cameraContainer = null), null !== this.cameraStream && (!0 === this.stopCameraStream && this.cameraStream.getVideoTracks()[0].stop(), this.video.pause()), null !== this.rm && void 0 !== this.rm && (this.rm.caller = null, this.rm = null), null !== this.graph && void 0 !== this.graph && (this.graph = null), null !== this.drawer && void 0 !== this.drawer && (this.drawer = null), null !== this.rmScript && void 0 !== this.rmScript && (this.rmScript.onreadystatechange = null, this.rmScript.onload = null, this.rmScript = null), null !== this.graphScript && void 0 !== this.graphScript && (this.graphScript.onreadystatechange = null, this.graphScript.onload = null, this.graphScript = null), null !== this.drawerScript && void 0 !== this.drawerScript && (this.drawerScript.onload = null, this.drawerScript = null), this.engine && this.engine.finalizeEngine(), Ce.destroyWorker();\n    },\n    onWaitingLoaded: function () {\n      let e = this.cameraContainer.offsetHeight / 2 - this.gifWait.height / 2,\n          t = this.cameraContainer.offsetWidth / 2 - this.gifWait.width / 2;\n      this.gifWait.style = \"position:absolute; top:\" + e + \"px; left:\" + t + \"px;\";\n    },\n    onCanvasResize: function () {\n      let e = this.canvas,\n          t = e.getContext(\"2d\", {\n        alpha: !0\n      }),\n          i = this.video;\n      this.cameraWidth = i.videoWidth, this.cameraHeight = i.videoHeight, 0 === this.cameraRotation || 2 === this.cameraRotation ? (this.privateCanvas.width = this.cameraWidth, this.privateCanvas.height = this.cameraHeight) : (this.privateCanvas.width = this.cameraHeight, this.privateCanvas.height = this.cameraWidth), this.imagesProcessed = 0, this.cameraContainer.style.width = this.divContainer.offsetWidth + \"px\", this.cameraContainer.style.height = this.divContainer.offsetHeight + \"px\", e.width = this.cameraContainer.offsetWidth * this.devicePixelRatio, e.height = this.cameraContainer.offsetHeight * this.devicePixelRatio, e.style.width = this.cameraContainer.offsetWidth + \"px\", e.style.height = this.cameraContainer.offsetHeight + \"px\", this.canvasRotated.width = e.height, this.canvasRotated.height = e.width, e.width < e.height && this.cm.forceLandscape ? (this.drawer.setCanvasSize(this.cameraContainer.offsetHeight, this.cameraContainer.offsetWidth), this.elements = this.rm.getElements(this.resourceParent, !0)) : (this.drawer.setCanvasSize(this.cameraContainer.offsetWidth, this.cameraContainer.offsetHeight), this.elements = this.rm.getElements(this.resourceParent, this.drawer.landscape)), this.checkCanvasDimensions(), this.startVideos(this), this.setCameraPosition(t, i);\n    },\n    checkCanvasDimensions: function () {\n      this.cameraContainer.offsetWidth < this.cameraContainer.offsetHeight && this.cm.forceLandscape ? ((this.cameraContainer.offsetWidth < 400 || this.cameraContainer.offsetHeight < 550) && this.printLog(\"Selphid: Warning!!! Minimum visual dimensions check failed. \"), this.printLog(\"Selphid: Actual widget size: \" + this.cameraContainer.offsetWidth + \"x\" + this.cameraContainer.offsetHeight), this.printLog(\"Selphid: Minimum widget size: 400x550\")) : ((this.cameraContainer.offsetWidth < 550 || this.cameraContainer.offsetHeight < 400) && this.printLog(\"Selphid: Warning!!! Minimum visual dimensions check failed. \"), this.printLog(\"Selphid: Actual widget size: \" + this.cameraContainer.offsetWidth + \"x\" + this.cameraContainer.offsetHeight), this.printLog(\"Selphid: Minimum widget size: 550x400\"));\n    },\n    printLog: function (e) {\n      this.showLog && console.log(e);\n    },\n    onOrientationChange: function () {\n      window.screen.orientation;\n    },\n    GetAvailableCameras: function () {\n      return navigator.mediaDevices ? navigator.mediaDevices.enumerateDevices().then(this.gotDevices).catch(this.handleCameraError) : null;\n    },\n    compareArray: function (e, t) {\n      if (!e) return !1;\n      if (!t) return !1;\n      if (e.length !== t.length) return !1;\n\n      for (let i = 0; i < e.length; i++) if (e[i] !== t[i]) return !1;\n\n      return !0;\n    },\n    setCameraPosition: function (e, t) {\n      let i = this.drawer.getCameraRect(e, this.cameraWidth, this.cameraHeight, this.cameraContainer.offsetWidth, this.cameraContainer.offsetHeight, this.resourceParent);\n\n      if (0 == this.cm.getCameraOverflow()) {\n        let t = this.drawer.getDocRectScreenSpace(this.cameraContainer.offsetWidth, this.cameraContainer.offsetHeight, 0);\n        i = this.drawer.getCameraRect(e, this.cameraWidth, this.cameraHeight, t.width, t.height, this.resourceParent), i.x += t.x, i.y += t.y, i.x *= 1, i.y *= 1, i.width += .5, i.height += .5;\n      }\n\n      let l = \"0deg\";\n      !0 === this.cameraMustFlip && (l = \"180deg\"), i.visible ? t.style = \"position:absolute; top:\" + i.y + \"px; left:\" + i.x + \"px; width:\" + i.width + \"px; height:\" + i.height + \"px; transform:rotateY(\" + l + \"); zIndex:0;\" : t.style = \"position:absolute; top:-10000px; left:0px; width:\" + i.width + \"px; height:\" + i.height + \"px; transform:rotateY(\" + l + \"); zIndex:0;\";\n    },\n    OnGraphNewState: async function (e) {\n      this.stateTime = performance.now();\n      let t = this.canvas;\n      this.secondsWidget = (this.actualTime - this.widgetTime) / 1e3, this.secondsState = (this.actualTime - this.stateTime) / 1e3, this.state = e, this.resourceParent = this.drawer.getResourceIdForState(e);\n      let i = this.video;\n\n      if (this.setCameraPosition(t.getContext(\"2d\", {\n        alpha: !0\n      }), i), \"UCNothing\" === this.state || void 0 === this.state) {\n        this.actualTime = this.stateTime, this.widgetTime = this.stateTime;\n        let e = this.canvas;\n        null != e && (e.style.display = \"inline-block\"), this.video && (this.video.style.display = \"inline-block\");\n      }\n\n      if (this.printLog(\"SelphId: state: \" + e), null != this.elements) for (let e = 0; e < this.elements.length; e++) null != this.elements[e].videoPlayer && (this.elements[e].videoPlayer.pause(), this.elements[e].videoPlayer.removeAttribute(\"src\"), this.elements[e].videoPlayer.removeEventListener(\"ended\", this.videoplayerEnded.bind(self), !1), this.elements[e].videoPlayer.load(), this.elements[e].videoPlayer = null);\n      if (this.elements = null, null != this.resourceParent && (this.canvas.width < this.canvas.height && this.cm.forceLandscape ? this.elements = this.rm.getElements(this.resourceParent, !0) : this.elements = this.rm.getElements(this.resourceParent, this.drawer.landscape), this.startVideos(this)), \"UCNothing\" === e) this.clockNewScenario = performance.now(), this.lastExtractionResult = null, this.privateImages = [], this.retries = 0, this.status = Ne.SelphID.Mode.Front;else if (\"UCCapture\" === e) this.clockNewScenario = performance.now(), this.imagesProcessed = 0, this.imageCaptured = !1, this.imageCapturedTime = 0, this.previewImage = void 0, this.contour = [!1, !1, !1, !1], this.status === Ne.SelphID.Mode.Back ? this.privateImages.length = 1 : this.privateImages = [];else if (\"UCCaptureCameraSwitch\" === e) {\n        let e = this;\n\n        if (null != this.cameraStream) {\n          let t = this.cameraStream.getVideoTracks()[0].getSettings().deviceId,\n              l = await navigator.mediaDevices.enumerateDevices(),\n              a = -1,\n              n = -1;\n\n          for (let e = 0; e < l.length; e++) if (l[e].deviceId === t) {\n            a = e;\n            break;\n          }\n\n          for (let e = a + 1; e < l.length; e++) if (\"videoinput\" === l[e].kind) {\n            n = e;\n            break;\n          }\n\n          if (-1 === n) for (let e = 0; e < l.length; e++) if (\"videoinput\" === l[e].kind) {\n            n = e;\n            break;\n          }\n\n          if (-1 !== n && n !== a) {\n            this.video.pause(), this.cameraStream.getVideoTracks().forEach(function (e) {\n              e.stop();\n            }), this.cameraStream = null, this.video.srcObject = null;\n            let t = this.cm.getCameraWidth(),\n                a = this.cm.getCameraHeight(),\n                s = {\n              video: {\n                deviceId: l[n].deviceId,\n                width: t,\n                height: a\n              },\n              audio: !1\n            };\n            navigator.mediaDevices.getUserMedia(s).then(function (t) {\n              let a = t.getVideoTracks()[0].getSettings();\n              a && (e.cameraMustFlip = \"environment\" !== a.facingMode && e.cm.getCameraMirror()), e.cameraStream = t, e.cameraId = e.cameraStream.getVideoTracks()[0].getSettings().deviceId, i.srcObject = t, e.switchTimeoutHandler = setTimeout(() => {\n                e.video.pause(), e.cameraStream.getVideoTracks().forEach(function (e) {\n                  e.stop();\n                }), this.retries = 0, e.graph.sendMessage(\"retry\");\n              }, 5e3), i.play().then(() => {\n                e.printLog(\"Selphid: Camera switch success. New camera with id: \" + l[n].deviceId), clearTimeout(e.switchTimeoutHandler), e.setCameraPosition(e.canvas.getContext(\"2d\", {\n                  alpha: !0\n                }), e.video), e.graph.sendMessage(\"cameraSwitched\");\n              }).catch(t => {\n                e.printLog(\"Selphid: Camera switch unsuccess.\"), e.printLog(t), clearTimeout(e.switchTimeoutHandler), this.retries = 0, e.graph.sendMessage(\"retry\");\n              });\n            }).catch(function (t) {\n              e.printLog(\"SelphId: Fatal error camera switch...\"), e.printLog(t);\n            });\n          } else this.printLog(\"SelphId: Camera switch aborted. Only 1 available camera.\"), this.graph.sendMessage(\"cameraSwitched\");\n        }\n      } else if (\"UCPreview\" === e) this.clockNewScenario = performance.now();else if (\"UCRepeat\" === e) this.imageCaptured = !1, this.status = Ne.SelphID.Mode.Front, this.retries = 0, this.engine.cleanImageBuffer(Ne.SelphID.Mode.Front), this.graph.sendMessage(\"repeat\");else if (\"UCPreviewDecision\" === e) this.cm.getCaptureMode() === Ne.SelphID.CaptureMode.DoubleSide && this.status === Ne.SelphID.Mode.Front ? this.graph.sendMessage(\"Next\") : this.graph.sendMessage(\"Finish\");else if (\"UCFlip\" === e) this.status = Ne.SelphID.Mode.Back, this.retries = 0;else if (\"UCCancelByUser\" === e) {\n        this.clockNewScenario = performance.now();\n        let e = new CustomEvent(\"FPhi.SelphID.UserCancel.event\");\n        this.divContainer.dispatchEvent(e), this.Stop();\n      } else if (\"UCFinish\" === e) {\n        this.results.cameraId = this.cameraId, this.cm.getVideoRecord() && (this.results.video = this.recordedVideo);\n        let e = new CustomEvent(\"FPhi.SelphID.Finish.event\", {\n          detail: this.results\n        });\n        this.divContainer.dispatchEvent(e), this.Stop();\n      } else if (\"UCTimeout\" === e) this.divContainer.dispatchEvent(new CustomEvent(\"FPhi.SelphID.ExtractionTimeout.event\")), this.Stop();else if (\"UCErrors\" === e) {\n        let e = {\n          livenessMoveFails: this.livenessMoveActualFailedAttempts,\n          livenessMoveHistory: this.livenessMoveHistory,\n          livenessMoveStabilizedHistory: this.livenessMoveStabilizedStatusHistory,\n          livenessMoveStabilizedStatus: this.livenessMoveLastStabilizedStatus\n        };\n\n        if (null != this.lastExtractionResult && null != this.lastExtractionResult.sunGlassesScore && (e.sunGlassesScore = this.lastExtractionResult.sunGlassesScore), this.logAllImages) {\n          let t = [];\n\n          for (let e = 0; e < this.privateImages.length; e++) void 0 !== this.privateImages[e] && t.push(this.getImgTag(this.privateImages[e], this.cropImage, this.cropFactor, this.imageFormat, this.imageQuality));\n\n          e.images = t, e.timeStamp = this.privateLivenessResults;\n        }\n\n        if (this.clockNewScenario = performance.now(), this.livenessDiagnostic < 0) this.divContainer.dispatchEvent(new CustomEvent(\"FPhi.SelphID.ExtractionTimeout.event\", {\n          detail: e\n        }));else {\n          e.livenessErrorType = this.livenessDiagnostic;\n          let t = new CustomEvent(\"FPhi.SelphID.LivenessError.event\", {\n            detail: e\n          });\n          this.divContainer.dispatchEvent(t);\n        }\n      } else if (\"UCWaitRecording\" === e) {\n        if (this.cm.getVideoRecord()) {\n          this.printLog(\"SelphId: generating movie\"), this.agProcessing = !0;\n          let e = this;\n          this.agProcessingFirst = performance.now(), this.recorder.generateVideo().then(function (t) {\n            e.recorderFinish = !0, e.recordedVideo = t;\n          }, function (t) {\n            e.recorderFinish = !0, e.printLog(\"SelphId: Error generating video\");\n          });\n        }\n      } else \"UCJumpSimpleMode\" === e && (this.Stop(), this.StartManual());\n\n      if (this.divContainer) {\n        let t = new CustomEvent(\"FPhi.SelphID.TrackStatus.event\", {\n          detail: {\n            code: Ne.SelphID.TrackStatus.ChangeState,\n            timeStamp: this.secondsWidget,\n            data: e\n          }\n        });\n\n        if (this.divContainer.dispatchEvent(t), this.cm.getAccessibility() && void 0 !== this.elements) {\n          let e = this.canvas.getContext(\"2d\", {\n            alpha: !0\n          });\n          this.canvas.width < this.canvas.height && this.cm.forceLandscape && (e = this.canvasRotated.getContext(\"2d\", {\n            alpha: !0\n          }));\n          let t = e.canvas.width,\n              i = e.canvas.height,\n              l = {};\n          l.state = this.state;\n          let a = [];\n          null === this.elements && (this.elements = []);\n\n          for (let n = 0; n < this.elements.length; n++) if (this.cm.getAccessibleElements().includes(this.elements[n].type)) {\n            let s = this.drawer.getLayout(e, this.resourceParent, this.elements[n].id, this.elements[n].type, this.secondsWidget, this.secondsState, \"Normal\", l);\n            null != s && (s = this.getLayoutFromXML(this.resourceParent, this.elements[n].id, s, t, i)), null != s && a.push({\n              id: this.elements[n].id,\n              type: this.elements[n].type,\n              x: s.x * this.devicePixelRatio,\n              y: s.y * this.devicePixelRatio,\n              width: s.width * this.devicePixelRatio,\n              height: s.height * this.devicePixelRatio\n            });\n          }\n\n          let n = new CustomEvent(\"FPhi.SelphID.TrackStatus.event\", {\n            detail: {\n              code: Ne.SelphID.TrackStatus.AccessibilityData,\n              timeStamp: this.secondsWidget,\n              data: a\n            }\n          });\n          this.divContainer.dispatchEvent(n);\n        }\n      }\n\n      null != this.graph && this.graph.sendMessage(\"SetStatusFinished\");\n    },\n    getImageData: function (e) {\n      let t = e.getContext(\"2d\", {\n        alpha: !0\n      }),\n          i = e.height,\n          l = e.width;\n      return {\n        width: l,\n        height: i,\n        pixels: t.getImageData(0, 0, l, i),\n        time: performance.now()\n      };\n    },\n    getImgTag: function (e, t, i, l, a) {\n      let n = document.createElement(\"canvas\");\n      n.width = e.width, n.height = e.height, n.getContext(\"2d\").putImageData(e.pixels, 0, 0);\n      let s = document.createElement(\"canvas\");\n\n      if (t && void 0 !== e.extractionResult && void 0 !== e.extractionResult.face) {\n        let t = e.extractionResult.face.width * i,\n            l = e.extractionResult.face.height * i,\n            a = e.extractionResult.face.x - (i - 1) * e.extractionResult.face.width / 2,\n            d = e.extractionResult.face.y - (i - 1) * e.extractionResult.face.height / 2;\n        a < 0 && (t += a, a = 0), d < 0 && (l += d, d = 0), a + t >= e.width && (t = e.width - a), d + l >= e.height && (l = e.height - d), s.width = t, s.height = l, s.getContext(\"2d\").drawImage(n, a, d, t, l, 0, 0, s.width, s.height);\n      } else s.width = e.width, s.height = e.height, s.getContext(\"2d\").drawImage(n, 0, 0, s.width, s.height);\n\n      let d = document.createElement(\"img\");\n      return d.src = s.toDataURL(this.imageFormat, this.imageQuality), d;\n    },\n    startVideos: function (e) {\n      if (null != e.elements) for (let t = 0; t < e.elements.length; t++) if (\"video\" === e.elements[t].type) {\n        let i = document.createElement(\"video\");\n        i.hidden = !0, i.playsinline = !0, i.loop = !1, i.muted = !0, i.autoplay = !0, i.controls = !0, i.src = e.rm.getResourceUrlBase(e.rm.getSetupResourceId(e.resourceParent, e.elements[t].id, e.canvas.width < e.canvas.height, \"value\")), i.addEventListener(\"ended\", e.videoplayerEnded.bind(e), !1), i.setAttribute(\"playsinline\", \"\"), i.setAttribute(\"webkit-playsinline\", \"\"), i.play(), e.elements[t].videoPlayer = i, this.printLog(\"SelphId: start of video: \" + e.elements[t].id, e.elements[t]);\n      }\n    },\n    canvasOnMove: function (e) {\n      if (void 0 !== this.elements) for (let t = this.elements.length - 1; t >= 0; t--) if (void 0 !== this.elements[t].layout && e.offsetX >= this.elements[t].layout.x && e.offsetX < this.elements[t].layout.x + this.elements[t].layout.width && e.offsetY >= this.elements[t].layout.y && e.offsetY < this.elements[t].layout.y + this.elements[t].layout.height) {\n        this.drawer.onMouseMove(e.target, this.elements[t].layout, this.resourceParent, this.elements[t].id, this.elements[t].type);\n        break;\n      }\n    },\n    routeClick: function (e, t) {\n      this.canvasOnClick({\n        offsetX: e,\n        offsetY: t\n      });\n    },\n    canvasOnClick: function (e) {\n      if (\"UCErrors\" === this.state) {\n        if (e.offsetX, e.offsetY > this.canvasHeight - this.buttonHeight) {\n          let e;\n          -1 === this.livenessDiagnostic ? (e = new CustomEvent(\"FPhi.SelphID.TimeoutErrorButtonClick.event\"), this.divContainer.dispatchEvent(e)) : (e = new CustomEvent(\"FPhi.SelphID.LivenessErrorButtonClick.event\"), this.divContainer.dispatchEvent(e));\n        }\n      } else {\n        if (void 0 === this.elements) return;\n        let t = null;\n\n        for (let i = this.elements.length - 1; i >= 0; i--) {\n          let l = e.offsetX,\n              a = e.offsetY;\n\n          if (this.canvas.width < this.canvas.height && this.cm.forceLandscape && (l = e.offsetY, a = this.canvas.width / this.devicePixelRatio - e.offsetX), null != this.elements[i].layout && l >= this.elements[i].layout.x && l < this.elements[i].layout.x + this.elements[i].layout.width && a >= this.elements[i].layout.y && a < this.elements[i].layout.y + this.elements[i].layout.height) {\n            t = this.elements[i].id;\n            let e = new CustomEvent(\"FPhi.SelphID.TrackStatus.event\", {\n              detail: {\n                code: Ne.SelphID.TrackStatus.Tap,\n                timeStamp: this.secondsWidget,\n                data: t\n              }\n            });\n            this.divContainer.dispatchEvent(e);\n            let l = \"Click//\" + this.elements[i].id;\n            this.graph.sendMessage(l);\n            break;\n          }\n        }\n      }\n    },\n    initCamera: function (e, t, i) {\n      let l = this.canvas;\n\n      if (!this.video) {\n        let t = document.createElement(\"video\");\n        t.id = \"live\", t.setAttribute(\"playsinline\", \"\"), t.setAttribute(\"webkit-playsinline\", \"\"), t.setAttribute(\"autoplay\", \"\"), t.setAttribute(\"muted\", \"\"), t.style.display = \"none\", e.insertBefore(t, e.firstChild), this.video = t;\n      }\n\n      l.imageSmoothingEnabled = !0, l && (l.style.display = \"none\", l.onclick = this.canvasOnClick.bind(this), l.addEventListener(\"mousemove\", this.canvasOnMove.bind(this), !1), this.privateCanvas = document.createElement(\"canvas\"), 0 === this.cameraRotation || 2 === this.cameraRotation ? (this.privateCanvas.width = t, this.privateCanvas.height = i) : (this.privateCanvas.width = i, this.privateCanvas.height = t));\n    },\n    grantVideoPermission: async function () {\n      try {\n        let e = {\n          video: {\n            width: 640,\n            height: 480\n          },\n          audio: !1\n        };\n        (await navigator.mediaDevices.getUserMedia(e)).getTracks().forEach(e => {\n          e.stop();\n        });\n      } catch (e) {}\n    },\n    setVideoInput: function (e) {\n      e.canvas && e.playDevice(e, e.cm.getCameraId());\n    },\n    playDevice: async function (e, t) {\n      let i = this.video;\n\n      if (this.canvas.getContext(\"2d\", {\n        alpha: !0\n      }), window.stream && window.stream.getTracks().forEach(e => {\n        e.stop();\n      }), e.forceCameraId && (t = e.forceCameraId), null != t) {\n        let l = {\n          video: {\n            deviceId: t,\n            width: e.cm.getCameraWidth(),\n            height: e.cm.getCameraHeight()\n          },\n          audio: !1\n        };\n        navigator.mediaDevices.getUserMedia(l).then(function (t) {\n          let l = t.getVideoTracks()[0].getSettings();\n          l && (e.cameraMustFlip = \"environment\" !== l.facingMode && e.cm.getCameraMirror()), e.cameraStream = t, e.cameraId = e.cameraStream.getVideoTracks()[0].getSettings().deviceId, i.srcObject = t, i.addEventListener(\"loadedmetadata\", e.videoLoaded.bind(e), !1), i.play();\n        }).catch(function (t) {\n          e.printLog(\"SelphId: Error open camera with id: \" + e.cm.getCameraId()), e.printLog(t), e.playDevice(e, null);\n        });\n      } else {\n        let t = e.cm.getCameraWidth(),\n            l = e.cm.getCameraHeight(),\n            a = {\n          video: {\n            width: t,\n            height: l,\n            facingMode: {\n              exact: !0 === e.cameraFrontSide ? \"user\" : \"environment\"\n            },\n            zoom: 1,\n            focusMode: \"continuous\",\n            exposureMode: \"continuous\"\n          },\n          audio: !1\n        };\n        navigator.mediaDevices.getUserMedia(a).then(function (t) {\n          let l = t.getVideoTracks()[0].getConstraints();\n          l && (e.cameraMustFlip = \"environment\" !== l.facingMode.exact && e.cm.getCameraMirror()), e.cameraId = e.cameraStream.getVideoTracks()[0].getSettings().deviceId, i.srcObject = t, i.addEventListener(\"loadedmetadata\", e.videoLoaded.bind(e), !1), i.play();\n        }).catch(function (a) {\n          let n = {\n            video: {\n              width: t,\n              height: l,\n              facingMode: {\n                exact: !0 !== e.cameraFrontSide ? \"user\" : \"environment\"\n              },\n              zoom: 1,\n              focusMode: \"continuous\",\n              exposureMode: \"continuous\"\n            },\n            audio: !1\n          };\n          e.cameraMustFlip = !0 !== e.cameraFrontSide && e.cm.getCameraMirror(), navigator.mediaDevices.getUserMedia(n).then(function (t) {\n            let l = t.getVideoTracks()[0].getConstraints();\n            l && (e.cameraMustFlip = \"environment\" !== l.facingMode.exact && e.cm.getCameraMirror()), e.cameraStream = t, e.cameraId = e.cameraStream.getVideoTracks()[0].getSettings().deviceId, i.srcObject = t, i.addEventListener(\"loadedmetadata\", e.videoLoaded.bind(e), !1), i.play();\n          }).catch(function (a) {\n            let n = {\n              video: {\n                width: t,\n                height: l,\n                facingMode: \"environment\",\n                zoom: 1,\n                focusMode: \"continuous\",\n                exposureMode: \"continuous\"\n              },\n              audio: !1\n            };\n            navigator.mediaDevices.getUserMedia(n).then(function (t) {\n              e.cameraMustFlip = !(e.mobileCheck() | e.isIpadOS()) && e.cm.getCameraMirror(), e.cameraStream = t, e.cameraId = e.cameraStream.getVideoTracks()[0].getSettings().deviceId, i.srcObject = t, i.addEventListener(\"loadedmetadata\", e.videoLoaded.bind(e), !1), i.play();\n            }).catch(function (t) {\n              console.log(t), e.printLog(\"SelphId: Camera error\");\n              let i = new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\", {\n                detail: {\n                  message: \"Camera not found.\",\n                  exceptionType: 0\n                }\n              });\n              e.divContainer.dispatchEvent(i);\n            });\n          });\n        });\n      }\n    },\n    handleRecorderDataAvailable: function (e) {\n      e.data && e.data.size > 0 && this.recordedBlobs.push(e.data);\n    },\n    handleRecorderOnStop: function (e) {\n      this.recorderFinish = !0;\n    },\n    mobileCheck: function () {\n      let e = !1;\n      return function (t) {\n        (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(t.substr(0, 4))) && (e = !0);\n      }(navigator.userAgent || navigator.vendor || window.opera), e;\n    },\n    isIpadOS: function () {\n      return navigator.maxTouchPoints && navigator.maxTouchPoints > 2 && /MacIntel/.test(navigator.platform);\n    },\n    gotDevices: function (e) {\n      let t = 0;\n\n      for (let i = 0; i !== e.length; ++i) \"videoinput\" === e[i].kind && t++;\n\n      this.cameraList = new Array(t);\n      let i = 0;\n\n      for (let t = 0; t !== e.length; ++t) {\n        let l = e[t];\n\n        if (\"videoinput\" === l.kind) {\n          let e = document.createElement(\"option\");\n          e.value = l.deviceId, e.text = l.label, this.cameraList[i] = e, i++;\n        }\n      }\n\n      let l = new CustomEvent(\"FPhi.SelphID.Cameras.event\", {\n        detail: {\n          cameras: this.cameraList\n        }\n      });\n      this.divContainer.dispatchEvent(l);\n    },\n    handleCameraError: function (e) {},\n    getLayoutFromXML: function (e, t, i, l, a) {\n      let n = \"LEFT\",\n          s = \"TOP\",\n          d = i,\n          c = !1;\n\n      if (this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"width\")) {\n        null == d && (d = {});\n        let i = this.rm.getSetupFloat(e, t, this.drawer.landscape, \"width\");\n        d.width = i <= 1 ? i * l : i, c = !0;\n      }\n\n      if (this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"height\")) {\n        null == d && (d = {});\n        let i = this.rm.getSetupFloat(e, t, this.drawer.landscape, \"height\");\n        d.height = i <= 1 ? i * a : i, c = !0;\n      }\n\n      if (this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"xAnchor\") && (n = this.rm.getSetupAlign(e, t, this.drawer.landscape, \"xAnchor\")), this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"yAnchor\") && (s = this.rm.getSetupAlign(e, t, this.drawer.landscape, \"yAnchor\")), this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"x\")) {\n        null == d && (d = {});\n        let i = this.rm.getSetupFloat(e, t, this.drawer.landscape, \"x\");\n        d.x = i <= 1 && i >= -1 ? i * l : i, \"CENTER\" === n ? d.x = l / 2 - d.width / 2 + d.x : \"RIGHT\" === n && (d.x = l - d.width + d.x), c = !0;\n      }\n\n      if (this.rm.isAttributeAvailable(e, t, this.drawer.landscape, \"y\")) {\n        null == d && (d = {});\n        let i = this.rm.getSetupFloat(e, t, this.drawer.landscape, \"y\");\n        d.y = i <= 1 && i >= -1 ? i * a : i, \"CENTER\" === s ? d.y = a / 2 - d.height / 2 + d.y : \"BOTTOM\" === s && (d.y = a - d.height + d.y), c = !0;\n      }\n\n      return d;\n    },\n    draw: function (e, t) {\n      if (null == e.drawer) return;\n      let i = e.canvas.getContext(\"2d\", {\n        alpha: !0\n      });\n      e.canvas.width < e.canvas.height && e.cm.forceLandscape && (i = e.canvasRotated.getContext(\"2d\", {\n        alpha: !0\n      }));\n      let l = i.canvas.width,\n          a = i.canvas.height;\n      i.clearRect(0, 0, l, a), this.canvasWidth = l, this.canvasHeight = a, e.fpsframes++, e.actualTimePrev = e.actualTime, e.actualTime = performance.now();\n      let n = (e.actualTime - e.fpsTime) / 1e3;\n      n > 1 && (e.fps = e.fpsframes / n, e.fpseframes > 0 ? e.fpse = e.fpseframes / n : e.fpse = 0, e.fpsTime = e.actualTime, e.fpsframes = 0, e.fpseframes = 0);\n      let s = \"Normal\";\n\n      if (\"UCCaptureStatus\" === e.state && !1 === e.imageCaptured && (s = \"Warning\"), e.iterateAutomata(e, t, i), e.secondsWidget = (e.actualTime - e.widgetTime) / 1e3, e.secondsState = (e.actualTime - e.stateTime) / 1e3, i.save(), i.scale(e.devicePixelRatio, e.devicePixelRatio), void 0 !== e.elements && null !== e.elements) {\n        let n = {\n          progress: 0\n        };\n        n.state = e.state, n.contour = e.contour, n.status = e.status, n.previewImage = e.previewImage, n.forceLandscape = e.cm.getForceLandscape(), n.diagnostic = e.diagnostic, n.cameraOverflow = e.cm.getCameraOverflow();\n\n        for (let d = 0; d < e.elements.length; d++) {\n          if ((\"button\" === e.elements[d].type || \"buttonImage\" === e.elements[d].type) && !1 === e.interactible) continue;\n          let c = e.drawer.getLayout(i, e.resourceParent, e.elements[d].id, e.elements[d].type, e.secondsWidget, e.secondsState, s, n);\n\n          if (null != c && (c = e.getLayoutFromXML(e.resourceParent, e.elements[d].id, c, l, a)), null != c) {\n            e.elements[d].layout = c;\n            let l = e.elements[d].mode,\n                a = !1;\n\n            if (null != l) {\n              let e = l.split(\"|\");\n\n              for (let t = 0; t < e.length; t++) if (e[t] === s) {\n                a = !0;\n                break;\n              }\n            } else a = !0;\n\n            if (!0 === a) {\n              if (\"video\" === e.elements[d].type) n.player = e.elements[d].videoPlayer;else if (\"camera\" === e.elements[d].type) {\n                let i = e.privateCanvas.getContext(\"2d\");\n\n                switch (i.save(), e.cameraRotation) {\n                  case 0:\n                    i.drawImage(t, 0, 0, e.cameraWidth, e.cameraHeight);\n                    break;\n\n                  case 1:\n                  case 3:\n                    i.translate(e.cameraHeight / 2, e.cameraWidth / 2), i.rotate(Math.PI / 2 * e.cameraRotation), i.drawImage(t, -e.cameraWidth / 2, -e.cameraHeight / 2);\n                    break;\n\n                  case 2:\n                    i.translate(e.cameraWidth / 2, e.cameraHeight / 2), i.rotate(Math.PI / 2 * e.cameraRotation), i.drawImage(t, -e.cameraWidth / 2, -e.cameraHeight / 2);\n                }\n\n                switch (i.restore(), n.camera = e.privateCanvas, e.cameraRotation) {\n                  case 0:\n                  case 2:\n                    n.width = e.cameraWidth, n.height = e.cameraHeight;\n                    break;\n\n                  default:\n                    n.width = e.cameraHeight, n.height = e.cameraWidth;\n                }\n\n                n.cameraRotation = e.cameraRotation, n.cameraMustFlip = e.cameraMustFlip;\n              }\n              e.cm.getAccessibility() && e.cm.getAccessibleElements().includes(e.elements[d].type) || e.drawer.draw(i, c, e.resourceParent, e.elements[d].id, e.elements[d].type, e.secondsWidget, e.secondsState, s, n);\n            }\n          }\n        }\n      } else if (\"UCErrors\" === e.state) {\n        i.fillStyle = \"white\", i.fillRect(0, 0, l, a);\n        let t = e.livenessErrorString,\n            n = 15 * e.fontSizeFactor,\n            s = e.rm.getSetupResourceId(\"facephi-widget-conf\", \"\", \"font_warning_message\");\n        i.font = n + \"px '\" + s + \"'\", i.fillStyle = \"black\";\n        let d = t.split(\"\\n\");\n\n        for (let t = 0; t < d.length; t++) {\n          let a = i.measureText(d[t]),\n              s = 330 * e.canvasSizeFactor + n * t;\n          i.fillText(d[t], l / 2 - a.width / 2, s);\n        }\n\n        let c = e.livenessErrorImage,\n            h = e.scaleRect({\n          width: c.width,\n          height: c.height\n        }, {\n          x: .03 * l,\n          y: .378 * a,\n          width: .94 * l,\n          height: .1 * a\n        }, !0);\n        i.drawImage(c, h.x, h.y, h.width, h.height), e.drawButton(e, i, {\n          x: 0,\n          y: a - e.buttonHeight,\n          width: l,\n          height: e.buttonHeight\n        }, \"Results\", \"button_finish\"), e.secondsState;\n      } else \"UCTimeout\" === e.state && (i.fillStyle = \"white\", i.fillRect(0, 0, l, a));\n\n      if (e.debug) {\n        let t = 4;\n\n        if (i.fillStyle = \"#ff000044\", i.fillRect(0, 51, 250, 320), i.lineWidth = 1, i.strokeStyle = \"#ff000088\", i.strokeRect(0, 51, 250, 320), i.font = \"14px Verdana\", e.drawBorderedText(i, \"Version\" + e.extractorVersion, 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"Preview: \" + e.preview, 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"State: \" + e.state, 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"FPS: \" + e.fps.toFixed(2), 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"FPS Extractor: \" + e.fpse.toFixed(2), 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"Camera size: \" + e.cameraWidth + \"x\" + e.cameraHeight + \" px\", 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"Canvas size: \" + l + \"x\" + a + \" px\", 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"Camera rotation: \" + e.cameraRotation, 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"WidgetTime: \" + e.secondsWidget.toFixed(2), 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"StateTime: \" + e.secondsState.toFixed(2), 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"Operating mode: \" + s, 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"Internal status: \" + e.detectionStatus?.internalStatus, 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"Detection status: \" + Z[e.detectionStatus?.status], 3, 20 * t, \"black\", \"white\"), t++, e.drawBorderedText(i, \"Glare detection: \" + e.detectionStatus?.glare, 3, 20 * t, \"black\", \"white\"), t++, e.docRect) {\n          let t = l / e.devicePixelRatio / 4,\n              a = t / e.cameraWidth,\n              n = e.cameraHeight * a;\n          i.drawImage(e.privateCanvas, 0, 0, e.cameraWidth, e.cameraHeight, l / e.devicePixelRatio - t - 5, 55, t, n);\n        }\n      }\n\n      if (i.restore(), e.canvas.width < e.canvas.height && e.cm.forceLandscape) {\n        let t = e.canvas.getContext(\"2d\", {\n          alpha: !0\n        });\n        t.clearRect(0, 0, t.canvas.width, t.canvas.height), t.save(), t.translate(t.canvas.width / 2, t.canvas.height / 2), t.rotate(Math.PI / 2), t.drawImage(e.canvasRotated, -t.canvas.height / 2, -t.canvas.width / 2), t.restore();\n      }\n\n      setTimeout(e.draw, e.samplePeriod, e, t);\n    },\n    drawBorderedText: function (e, t, i, l, a, n) {\n      e.fillStyle = a, e.fillText(t, i, l), e.fillStyle = n, e.fillText(t, i - 1, l - 2);\n    },\n    openFullScreen: function (e) {\n      let t;\n      e.requestFullscreen ? t = e.requestFullscreen() : e.mozRequestFullScreen ? t = e.mozRequestFullScreen() : e.webkitRequestFullscreen ? t = e.webkitRequestFullscreen() : e.msRequestFullscreen && (t = e.msRequestFullscreen()), t.catch(function (e) {});\n    },\n    iterateAutomata: function (e, t, i) {\n      if (!1 !== e.cameraReady) {\n        if (\"UCNothing\" === e.state) e.workerWorking = !1, e.graph.sendMessage(\"SetMode//0,0,0,\" + (!0 === e.cm.getInitialTip() ? \"1\" : \"0\"));else if (\"UCCapture\" === e.state) {\n          if (0 == e.workerWorking) if (!0 === e.imageCaptured && e.secondsWidget - e.imageCapturedTime > 1 || e.secondsState > e.captureTimeout && e.captureTimeout > 0) e.graph.sendMessage(\"CaptureFinish\");else {\n            let l = e.privateCanvas.getContext(\"2d\");\n\n            switch (l.save(), e.cameraRotation) {\n              case 0:\n                l.drawImage(t, 0, 0, e.cameraWidth, e.cameraHeight);\n                break;\n\n              case 1:\n              case 3:\n                l.translate(e.cameraHeight / 2, e.cameraWidth / 2), l.rotate(Math.PI / 2 * e.cameraRotation), l.drawImage(t, -e.cameraWidth / 2, -e.cameraHeight / 2);\n                break;\n\n              case 2:\n                l.translate(e.cameraWidth / 2, e.cameraHeight / 2), l.rotate(Math.PI / 2 * e.cameraRotation), l.drawImage(t, -e.cameraWidth / 2, -e.cameraHeight / 2);\n            }\n\n            if (l.restore(), e.canvas.width < e.canvas.height && e.cm.forceLandscape) {\n              let t = e.drawer.getDocRectScreenSpace(i.canvas.width, i.canvas.height),\n                  l = {\n                x: i.canvas.height - (t.y + t.height),\n                y: t.x,\n                width: t.height,\n                height: t.width\n              };\n              e.docRect = e.drawer.fromScreenToCamera(i, e.cameraWidth, e.cameraHeight, i.canvas.height, i.canvas.width, e.cameraMustFlip, l);\n            } else e.docRect = e.drawer.getDocRect(i, e.cameraWidth, e.cameraHeight, e.cameraContainer.offsetWidth, e.cameraContainer.offsetHeight, e.cameraMustFlip);\n\n            e.docRect.x -= (1.2 * e.docRect.width - e.docRect.width) / 2, e.docRect.y -= (1.2 * e.docRect.height - e.docRect.height) / 2, e.docRect.width *= 1.2, e.docRect.height *= 1.2, e.docRect.x + e.docRect.width > e.cameraWidth && (e.docRect.width = e.cameraWidth - e.docRect.x), e.docRect.y + e.docRect.height > e.cameraHeight && (e.docRect.height = e.cameraHeight - e.docRect.y), e.fpseframes++, e.workerWorking = !0, this.engine.detectImage(e.privateCanvas, e.status).then(t => {\n              e.detectionStatus = t.detectionStatus, e.results = t, e.diagnostic = t.detectionStatus.status, e.cm.getCaptureMode() == Ne.SelphID.CaptureMode.SingleSide || e.status === Ne.SelphID.Mode.Front && e.cm.getCaptureMode() === Ne.SelphID.CaptureMode.DoubleSide ? 0 === t.diagnostic && null !== t.images.frontDocument && null !== t.images.frontDocument.rawImage && (e.previewImage = e.getImg(t.imagesRaw.frontDocument), e.imageCaptured = !0) : e.status === Ne.SelphID.Mode.Back && 0 === t.diagnostic && null !== t.images && null !== t.images.backDocument && null !== t.images.backDocument.rawImage && (e.previewImage = e.getImg(t.imagesRaw.backDocument), e.imageCaptured = !0), e.workerWorking = !1;\n            }, t => {\n              console.error(t), e.workerWorking = !1;\n            });\n          }\n        } else \"UCCaptureStatus\" === e.state ? e.secondsState > 1.5 && (!0 === this.imageCaptured ? this.preview ? this.graph.sendMessage(\"Preview\") : this.cm.getCaptureMode() === Ne.SelphID.CaptureMode.DoubleSide && this.status === Ne.SelphID.Mode.Front ? this.graph.sendMessage(\"Next\") : this.graph.sendMessage(\"Finish\") : (this.retries++, this.retries >= this.captureRetries && this.captureRetries > 0 && !1 === this.debug ? this.cm.getAskSimpleMode() ? this.graph.sendMessage(\"TimeoutPreview\") : this.graph.sendMessage(\"Timeout\") : this.graph.sendMessage(\"Fail\"))) : \"UCPreview\" === e.state || (\"UCFlip\" === e.state ? e.secondsState > 1 && e.graph.sendMessage(\"Timer\") : \"UCWaitRecording\" === e.state && (e.cm.getVideoRecord() ? e.recorderFinish && e.graph.sendMessage(\"Finish\") : e.graph.sendMessage(\"Finish\")));\n\n        if (e.cm.getVideoRecord() && e.recorder.isReady()) {\n          e.privateRecordCanvasContext.drawImage(t, 0, 0, e.privateRecordCanvas.width, e.privateRecordCanvas.height);\n          let i = e.privateRecordCanvasContext.getImageData(0, 0, e.privateRecordCanvas.width, e.privateRecordCanvas.height);\n          e.recorder.addFrame(i);\n        }\n      }\n    },\n    getImg: function (e) {\n      let t = new ImageData(e.data, e.width, e.height, {\n        colorSpace: e.colorSpace\n      }),\n          i = document.createElement(\"canvas\");\n      i.width = e.width, i.height = e.height, i.getContext(\"2d\").putImageData(t, 0, 0);\n      const l = i.toDataURL();\n      let a = document.createElement(\"img\");\n      return a.src = l, a;\n    },\n    getVideoSources: function (e) {\n      let t = null;\n      navigator.mediaDevices ? navigator.mediaDevices.enumerateDevices().then(function (i) {\n        let l = i.filter(function (e) {\n          return \"video\" === e.kind;\n        }).map(function (e, t) {\n          return e.id;\n        });\n        t = l[0], e.setVideoInput(e);\n      }) : MediaStreamTrack.getSources(function (i) {\n        let l = i.filter(function (e) {\n          return \"video\" === e.kind;\n        }).map(function (e, t) {\n          return e.id;\n        });\n        t = l[0], e.setVideoInput(e);\n      }), null == t && e.printLog(\"selectedSource==null\");\n    },\n    isPathAbsolute: function (e) {\n      return /^(?:\\/|.+:\\/\\/|http)/.test(e);\n    },\n    getScriptPath: function () {\n      return String(new Error().stack).replace(/^Error.*\\n/, \"\").split(\"\\n\")[1].match(/http.*\\.js/)[0].split(\"/\").slice(0, -1).join(\"/\") + \"/\";\n    },\n    OnResourceManagerStatus: function (e, t) {\n      null !== e && t && (e.rmReady = !0, e.CheckDependencies(e));\n    },\n    OnGraphReady: function (e) {\n      this.graphReady = !0, this.CheckDependencies(this);\n    },\n    CheckDependencies: async function (e) {\n      if (!0 === e.rmReady && void 0 !== e.drawer && !0 === e.graphReady && !0 === e.cameraReady && 1 == e.engineLoaded && \"UCNothing\" !== e.graph.state) {\n        let t = e.canvas;\n        null != t && (t.style.display = \"none\");\n        let i = new CustomEvent(\"FPhi.SelphID.ModuleLoaded.event\", {\n          detail: {\n            cameraWidth: e.cameraWidth,\n            cameraHeight: e.cameraHeight\n          }\n        });\n        this.divContainer.dispatchEvent(i), e.drawer.rm = e.rm, e.drawer.cameraCount = e.cameraCount;\n        let l = e.canvas;\n        e.canvas.width < e.canvas.height && e.cm.forceLandscape ? (e.drawer.setCanvasSize(e.cameraContainer.offsetHeight, e.cameraContainer.offsetWidth), l = e.canvasRotated) : e.drawer.setCanvasSize(e.cameraContainer.offsetWidth, e.cameraContainer.offsetHeight), e.graph.setInitialState(\"UCNothing\"), l.getContext(\"2d\", {\n          alpha: !0\n        }), e.draw(e, e.video), e.cameraContainer.removeChild(e.gifWait);\n      }\n    },\n    videoLoaded: function (e) {\n      let t = !0;\n      !0 === this.cameraReady && (t = !1), this.cameraWidth = e.target.videoWidth, this.cameraHeight = e.target.videoHeight, 0 === this.cameraRotation || 2 === this.cameraRotation ? (this.privateCanvas.width = this.cameraWidth, this.privateCanvas.height = this.cameraHeight) : (this.privateCanvas.width = this.cameraHeight, this.privateCanvas.height = this.cameraWidth), this.cameraReady = !0, this.video, this.canvas.getContext(\"2d\", {\n        alpha: !0\n      });\n      let i = document.createElement(\"canvas\");\n\n      if (i.width = this.cameraWidth, i.height = this.cameraHeight, this.workerCanvas = i, this.workerCanvasContext = i.getContext(\"2d\").getImageData(0, 0, this.cameraWidth, this.cameraHeight), this.cm.getVideoRecord()) {\n        switch (this.printLog(\"Selphi: Video recording enabled...\"), this.videoRecordWidth = this.cameraWidth * this.cm.getVideoRecordScale(), this.videoRecordHeight = this.cameraHeight * this.cm.getVideoRecordScale(), this.cm.getVideoRecordType()) {\n          case Ne.SelphID.RecorderType.Local:\n            this.recorder = new h(this.cameraWidth * this.cm.getVideoRecordScale(), this.cameraHeight * this.cm.getVideoRecordScale(), this.cm.getVideoRecordRate(), this.bundlePath);\n            break;\n\n          case Ne.SelphID.RecorderType.Remote:\n            this.recorder = new r(this.cameraWidth * this.cm.getVideoRecordScale(), this.cameraHeight * this.cm.getVideoRecordScale(), this.cm.getVideoRecordRate(), this.bundlePath);\n        }\n\n        this.privateRecordCanvas = document.createElement(\"canvas\"), this.privateRecordCanvas.width = this.videoRecordWidth, this.privateRecordCanvas.height = this.videoRecordHeight, this.privateRecordCanvasContext = this.privateRecordCanvas.getContext(\"2d\");\n      }\n\n      t && this.CheckDependencies(this);\n    },\n    videoFrame: function (e) {\n      this.canvasVideoPlayer.getContext(\"2d\").drawImage(e.target, 0, 0);\n    },\n    videoplayerEnded: function (e) {\n      \"UCWizardCompleted\" === this.state ? this.graph.sendMessage(\"VideoFinished\") : e.target.play();\n    }\n  }, Ne.SelphID.CheckCapabilities = async function () {\n    let e = {};\n    return e.video_devices = (await (await navigator.mediaDevices.enumerateDevices()).filter(e => \"videoinput\" == e.kind).length) > 0, e.wasm = (() => {\n      try {\n        if (\"object\" == typeof WebAssembly && \"function\" == typeof WebAssembly.instantiate) {\n          const e = new WebAssembly.Module(Uint8Array.of(0, 97, 115, 109, 1, 0, 0, 0));\n          if (e instanceof WebAssembly.Module) return new WebAssembly.Instance(e) instanceof WebAssembly.Instance;\n        }\n      } catch (e) {}\n\n      return !1;\n    })(), e.wasm_pthreads = !1, !0 === e.wasm && \"function\" == typeof SharedArrayBuffer && (e.wasm_pthreads = !0), e;\n  }, Ne.SelphID.Component = I, customElements.define(\"facephi-selphid\", Ne.SelphID.Component);\n})();\n\nvar a = l.l;\nexport { a as FPhi };","map":{"version":3,"names":["e","t","i","d","k","l","hmd","constructor","graphUrl","graphReadyEvent","graphNewStateEvent","xmlHttpWidget","XMLHttpRequest","onreadystatechange","readyEvent","bind","open","send","target","readyState","status","DOMParser","xmlDoc","parseFromString","responseText","setInitialState","querySelector","state","sendMessage","split","getAttribute","exports","define","amdO","window","g","self","Animated_GIF","a","s","n","c","Error","code","h","call","length","o","r","m","I","Z","Int32Array","b","R","u","W","V","console","log","p","GifWriter","loop","palette","background","addFrame","delay","disposal","transparent","end","GifReader","width","height","C","toString","G","X","y","push","x","has_local_palette","palette_offset","data_offset","data_length","transparent_index","interlaced","numFrames","loopCount","frameInfo","decodeAndBlitFrameBGRA","Uint8Array","decodeAndBlitFrameRGBA","beingProcessed","done","error","position","sampleInterval","pop","onmessage","data","pixels","Array","prototype","slice","postMessage","every","forEach","setTimeout","dithering","splice","numWorkers","N","Worker","URL","createObjectURL","Blob","type","S","String","fromCharCode","setSize","document","createElement","getContext","setDelay","setRepeat","drawImage","getImageData","addFrameImageData","onRenderProgress","isRendering","getBase64GIF","btoa","getBlobGIF","destroy","terminate","omggif","id","loaded","Object","defineProperty","enumerable","get","globalThis","Function","create","children","set","hasOwnProperty","Ne","Mode","Front","Back","Full","CaptureMode","SingleSide","DoubleSide","TrackStatus","ChangeState","Tap","DocumentBorder","AccessibilityData","Diagnostic","ModeStr","CaptureSensibilityStr","SimpleModeStates","InfoFront","PreviewFront","InfoBack","PreviewBack","DocumentType","IDCard","Passport","DriversLicense","ForeignCard","CreditCard","Custom","ScanMode","Generic","Specific","Search","SimpleModeStatesStr","Version","logDebug","eventStatus","caller","baseURL","widgetLoaded","languageCustomLoaded","languageDefaultLoaded","urlWidget","urlLanguageCustom","resourceDict","dpiList","browserDpi","scaleFactor","dpi","imageScale","rm","xmlHttpLanguageCustom","xmlLang","xmlHttpLanguageDefault","querySelectorAll","fontRequestVector","getElementById","getResourceUrlBase","appendChild","createTextNode","head","httpGet","getElement","getElementsByTagName","getElements","childNodes","nodeType","Node","ELEMENT_NODE","attributes","mode","value","nodeName","isAttributeAvailable","getSetupColor","parseInt","substring","toFixed","getSetupColorWithAlpha","getSetupFloat","parseFloat","getSetupAlign","getSetupResourceId","Math","floor","random","trim","getSetupTextId","getSetupNodeType","getResourceUrl","getImageScale","getImage","src","translate","textContent","SelphID","landscape","cacheResources","setCanvasSize","getCameraRect","canvas","clientWidth","clientHeight","scaleRect","visible","getResourceIdForState","onMouseMove","style","cursor","draw","getLayout","cacheAnimation","drawButtonImage","canvasSizeFactor","fillRoundRect","beginPath","moveTo","arcTo","closePath","fill","drawButton","fillStyle","fillRect","round","fontSizeFactor","font","measureText","fillText","drawImageWithClippingCircle","save","arc","PI","clip","restore","drawStringMultiline","imageSmoothingEnabled","textBaseline","preview","enableButtonCamera","documentAspectRatio","documentRect","searchingTextMode","searchingTextModeTime","cameraCount","statusHeight","documentPadding","buttonWidth","buttonHeight","fromScreenToCamera","getDocRectScreenSpace","getDocRect","drawBackground","clearRect","drawImageProc","drawButtonGradient","drawText","drawDocumentBorder","drawDocumentFlipper","player","livenessMoveDirection","drawAnimation","drawInitialTip","circleX","circleRadius","circleY","livenessMoveFailReason","drawPoint","drawLine","lineWidth","strokeStyle","lineTo","stroke","fillRoundedRect","drawRoundedRectProgressive","fillRoundedRectGradient","previewImage","cameraOverflow","rect","contour","strokeRect","diagnostic","getRoundedRectPerimeter","rotatePoint","cos","sin","createLinearGradient","addColorStop","rate","rateInv","lastFrame","performance","now","frameReady","generateVideo","isReady","ag","processing","Promise","ready","socketError","worker","atob","onMessage","promise","resolve","reject","cmd","JSON","parse","video","putImageData","toDataURL","fr","HTMLElement","__widgetContainer","attachShadow","__widgetStyles","innerText","append","__config","ConfigurationManager","setContainer","__externalCamera","__elementMounted","__accessibilityHasEnabled","__waintingMounts","bundlepath","property","resourcespath","graphpath","accessibility","accessibleelements","language","dpilist","canvashd","initialtip","forcelandscape","startsimplemode","asksimplemode","licensekey","camerawidth","cameraheight","cameraid","cropfactor","documentmode","previewcapture","cameraoverflow","blurredthreshold","externalcamera","cameramirror","documenttype","scanmode","specificdata","capturetimeout","captureretries","imageformat","imagequality","videorecord","videorecordrate","videorecordscale","videorecordtype","showlog","debugmode","onextractionfinished","onusercancelled","onextractiontimeout","onexceptioncaptured","onmoduleloaded","ontrackstatus","connectedCallback","queueMicrotask","__createUserControl","__startUserControl","then","disconnectedCallback","__stopUserControl","reconnectedCallback","__restartUserControl","attributeChangedCallback","__setNativeConfiguration","addWidgetEventListener","addEventListener","toLowerCase","replace","observedAttributes","getOwnPropertyNames","checkCapabilities","CheckCapabilities","routeClick","__fphiWidget","mountExternalCamera","warn","__fphiWidgetConfig","Widget","debug","__tryParsePrimitive","startSimpleMode","StartManual","Start","Stop","__cleanWidgetContainer","innerHTML","Reflect","__tryParseFunction","stringify","replaceAll","accessibilityRoot","__getSetterAttr","charAt","toUpperCase","__licenseKey","__engineLocation","__imageFormat","__imageQuality","__detectsCount","__detectsNeeded","__blurredThreshold","__mapperToRealConfig","__frontDocument","__backDocument","__faceImage","__mrzRawString","__worker","initializeEngine","licenseKey","bundlePath","imageFormat","imageQuality","blurredThreshold","detectImage","image","__accessibility","timestamp","Date","__generateResultObject","cleanImageBuffer","finalizeEngine","__attributes","__scanResultType","entries","__transformDate","Number","getFullYear","result","detectionStatus","quad","glare","internalStatus","simpleModeOutput","diqaResult","blur","__generateErrorResultObject","faceDetect","documentImage","buffer","ImageData","Uint8ClampedArray","faceImage","images","frontDocument","__convertToImageOutput","backDocument","signatureImage","imagesRaw","extractionRaw","ocrResult","mrzDetect","RegExp","extractionValidated","test","exec","documentType","countryEmitterCode","documentNumber","opt1","documentId","birthDate","gender","documentExpiry","nationality","opt2","map","firstName","lastName","mrz","rawData","documentIssuer","dateOfExpiry","dateOfBirth","extractionData","ocr","__roundUpLenght","ceil","__mockInformation","mockInformation","keys","getPrototypeOf","dateOfIssue","placeOfBirth","address","next","throw","apply","action","messageID","wasmModuleName","userId","registerLoadCallback","loadProgressCallback","allowHelloMessage","engineLocation","wasmType","numberOfWorkers","Any","Recognizer","RecognizerSettings","Callback","A","className","params","Y","recognizerHandles","allowMultipleResults","registeredMetadataCallbacks","F","E","v","objectHandle","methodName","U","frame","getTransferrables","imageData","T","hardReset","J","onDebugText","onDetectionFailed","onQuadDetection","onPointsDetection","onFirstSideResult","onGlare","H","w","detectionOnlyMode","K","callbackNonEmpty","f","cameraPreviewMirrored","success","B","clearTimeoutCallback","recognizerCallback","Basic","Advanced","AdvancedWithThreads","L","wasmSDKWorker","recognizerName","callbacks","Map","getRemoteObjectHandle","currentSettings","toSignedJSON","clearAllCallbacks","clear","unregisterRecognizerCallbacks","removeFunctions","parameter","recognizerHandle","callbackName","registerRecognizerCallbacks","updateSettings","invokeCallback","getResult","delete","O","M","deleted","processImage","recognitionState","postTransferrableMessage","reconfigureRecognizers","z","setMetadataCallbacks","postMessageAndRegisterCallbacks","resetRecognizers","setDetectionOnlyMode","setClearTimeoutCallback","registerClearTimeoutCallback","setCameraPreviewMirrored","D","createRecognizerRunner","newRecognizer","P","eventHandlers","metadataCallbacks","loadedWasmType","mbWasmWorker","handleWorkerEvent","onerror","mbWasmModule","loadCallback","recognizersWithCallbacks","showOverlay","getProductIntegrationInfo","callbackType","callbackParameters","onClearTimeout","shift","progress","createWasmWorker","_","message","details","WORKER_WASM_LOAD_FAILURE","WORKER_WASM_INIT_MISSING","WORKER_FUNCTION_INVOKE_FAILURE","WORKER_RECOGNIZER_CREATION_FAILURE","WORKER_RUNNER_EXISTS","WORKER_RUNNER_CREATION_FAILURE","WORKER_RUNNER_MISSING","WORKER_RUNNER_RECONFIGURE_FAILURE","WORKER_RUNNER_DELETED","WORKER_RUNNER_DELETE_FAILURE","WORKER_OBJECT_INVOKE_FAILURE","WORKER_IMAGE_PROCESS_FAILURE","WORKER_HANDLE_UNDEFINED","WORKER_MESSAGE_ACTION_UNKNOWN","WORKER_LICENSE_UNLOCK_ERROR","WORKER_INTEGRATION_INFO_FAILURE","LOCAL_SDK_RUNNER_MISSING","LOCAL_SDK_RUNNER_EMPTY","LICENSE_UNLOCK_ERROR","FRAME_CAPTURE_SVG_UNSUPPORTED","FRAME_CAPTURE_CANVAS_MISSING","SDK_WASM_SETTINGS_MISSING","SDK_LICENSE_KEY_MISSING","SDK_WASM_MODULE_NAME_MISSING","SDK_ENGINE_LOCATION_INVALID","SDK_MISSING","SDK_RECOGNIZERS_MISSING","VIDEO_RECOGNIZER_ELEMENT_MISSING","VIDEO_RECOGNIZER_CAMERA_MISSING","VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED","VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE","VIDEO_RECOGNIZER_CAMERA_IN_USE","VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED","VIDEO_RECOGNIZER_FEED_RELEASED","VIDEO_RECOGNIZER_FEED_NOT_PAUSED","VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED","VIDEO_RECOGNIZER_FEED_PAUSED","VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE","VIDEO_RECOGNIZER_FEED_MISSING","LICENSE_TOKEN_STATE_INCORRECT","LICENSE_PAYLOAD_VERIFICATION_FAILED","LICENSE_PAYLOAD_CORRUPTED","LICENSE_PERMISSION_EXPIRED","LICENSE_REMOTE_LOCKED","j","wasmSettingsMissing","licenseKeyMissing","wasmModuleNameMissing","engineLocationInvalid","missing","recognizersMissing","Q","svgUnsupported","canvasMissing","q","$","ee","te","BackFacingCamera","FrontFacingCamera","RotatedLeft90","NoRotation","RotatedRight90","Rotated180","Empty","Uncertain","Valid","StageValid","ie","orientation","videoFrame","le","ae","ne","se","de","ce","he","oe","re","me","Ie","Ze","be","Re","ue","ge","We","Invalid","RequiresServerPermission","LicenseTokenStateInvalid","NetworkError","RemoteLock","PermissionExpired","PayloadCorrupted","PayloadSignatureVerificationFailed","IncorrectTokenState","Ok","Fail","Success","CameraTooHigh","FallbackSuccess","Partial","CameraAtAngle","CameraTooNear","DocumentTooCloseToEdge","MediaDevicesNotSupported","CameraNotFound","CameraNotAllowed","CameraInUse","CameraNotAvailable","VideoElementNotProvided","Recognition","RecognitionTest","DetectionTest","Ve","pe","crypto","getRandomValues","NONE","QR_CODE","DATA_MATRIX","UPC_E","UPC_A","EAN_8","EAN_13","CODE_128","CODE_39","ITF","AZTEC_BARCODE","PDF417_BARCODE","None","ImageOnly","ResultFieldsOnly","FullResult","StandardVersionNumber","CustomerFamilyName","CustomerFirstName","CustomerFullName","DateOfBirth","Sex","EyeColor","AddressStreet","AddressCity","AddressJurisdictionCode","AddressPostalCode","FullAddress","Height","HeightIn","HeightCm","CustomerMiddleName","HairColor","NameSuffix","AKAFullName","AKAFamilyName","AKAGivenName","AKASuffixName","WeightRange","WeightPounds","WeightKilograms","CustomerIdNumber","FamilyNameTruncation","FirstNameTruncation","MiddleNameTruncation","PlaceOfBirth","AddressStreet2","RaceEthnicity","NamePrefix","CountryIdentification","ResidenceStreetAddress","ResidenceStreetAddress2","ResidenceCity","ResidenceJurisdictionCode","ResidencePostalCode","ResidenceFullAddress","Under18","Under19","Under21","SocialSecurityNumber","AKASocialSecurityNumber","AKAMiddleName","AKAPrefixName","OrganDonor","Veteran","AKADateOfBirth","IssuerIdentificationNumber","DocumentExpirationDate","JurisdictionVersionNumber","JurisdictionVehicleClass","JurisdictionRestrictionCodes","JurisdictionEndorsementCodes","DocumentIssueDate","FederalCommercialVehicleCodes","IssuingJurisdiction","StandardVehicleClassification","IssuingJurisdictionName","StandardEndorsementCode","StandardRestrictionCode","JurisdictionVehicleClassificationDescription","JurisdictionEndorsmentCodeDescription","JurisdictionRestrictionCodeDescription","InventoryControlNumber","CardRevisionDate","DocumentDiscriminator","LimitedDurationDocument","AuditInformation","ComplianceType","IssueTimestamp","PermitExpirationDate","PermitIdentifier","PermitIssueDate","NumberOfDuplicates","HAZMATExpirationDate","MedicalIndicator","NonResident","UniqueCustomerId","DataDiscriminator","DocumentExpirationMonth","DocumentNonexpiring","SecurityVersion","Count","ALBANIA","ALGERIA","ARGENTINA","AUSTRALIA","AUSTRIA","AZERBAIJAN","BAHRAIN","BANGLADESH","BELGIUM","BOSNIA_AND_HERZEGOVINA","BRUNEI","BULGARIA","CAMBODIA","CANADA","CHILE","COLOMBIA","COSTA_RICA","CROATIA","CYPRUS","CZECHIA","DENMARK","DOMINICAN_REPUBLIC","EGYPT","ESTONIA","FINLAND","FRANCE","GEORGIA","GERMANY","GHANA","GREECE","GUATEMALA","HONG_KONG","HUNGARY","INDIA","INDONESIA","IRELAND","ISRAEL","ITALY","JORDAN","KAZAKHSTAN","KENYA","KOSOVO","KUWAIT","LATVIA","LITHUANIA","MALAYSIA","MALDIVES","MALTA","MAURITIUS","MEXICO","MOROCCO","NETHERLANDS","NEW_ZEALAND","NIGERIA","PAKISTAN","PANAMA","PARAGUAY","PHILIPPINES","POLAND","PORTUGAL","PUERTO_RICO","QATAR","ROMANIA","RUSSIA","SAUDI_ARABIA","SERBIA","SINGAPORE","SLOVAKIA","SLOVENIA","SOUTH_AFRICA","SPAIN","SWEDEN","SWITZERLAND","TAIWAN","THAILAND","TUNISIA","TURKEY","UAE","UGANDA","UK","UKRAINE","USA","VIETNAM","BRAZIL","NORWAY","OMAN","ECUADOR","EL_SALVADOR","SRI_LANKA","PERU","URUGUAY","BAHAMAS","BERMUDA","BOLIVIA","CHINA","EUROPEAN_UNION","HAITI","HONDURAS","ICELAND","JAPAN","LUXEMBOURG","MONTENEGRO","NICARAGUA","SOUTH_KOREA","VENEZUELA","AFGHANISTAN","ALAND_ISLANDS","AMERICAN_SAMOA","ANDORRA","ANGOLA","ANGUILLA","ANTARCTICA","ANTIGUA_AND_BARBUDA","ARMENIA","ARUBA","BAILIWICK_OF_GUERNSEY","BAILIWICK_OF_JERSEY","BARBADOS","BELARUS","BELIZE","BENIN","BHUTAN","BONAIRE_SAINT_EUSTATIUS_AND_SABA","BOTSWANA","BOUVET_ISLAND","BRITISH_INDIAN_OCEAN_TERRITORY","BURKINA_FASO","BURUNDI","CAMEROON","CAPE_VERDE","CARIBBEAN_NETHERLANDS","CAYMAN_ISLANDS","CENTRAL_AFRICAN_REPUBLIC","CHAD","CHRISTMAS_ISLAND","COCOS_ISLANDS","COMOROS","CONGO","COOK_ISLANDS","CUBA","CURACAO","DEMOCRATIC_REPUBLIC_OF_THE_CONGO","DJIBOUTI","DOMINICA","EAST_TIMOR","EQUATORIAL_GUINEA","ERITREA","ETHIOPIA","FALKLAND_ISLANDS","FAROE_ISLANDS","FEDERATED_STATES_OF_MICRONESIA","FIJI","FRENCH_GUIANA","FRENCH_POLYNESIA","FRENCH_SOUTHERN_TERRITORIES","GABON","GAMBIA","GIBRALTAR","GREENLAND","GRENADA","GUADELOUPE","GUAM","GUINEA","GUINEA_BISSAU","GUYANA","HEARD_ISLAND_AND_MCDONALD_ISLANDS","IRAN","IRAQ","ISLE_OF_MAN","IVORY_COAST","JAMAICA","KIRIBATI","KYRGYZSTAN","LAOS","LEBANON","LESOTHO","LIBERIA","LIBYA","LIECHTENSTEIN","MACAU","MADAGASCAR","MALAWI","MALI","MARSHALL_ISLANDS","MARTINIQUE","MAURITANIA","MAYOTTE","MOLDOVA","MONACO","MONGOLIA","MONTSERRAT","MOZAMBIQUE","MYANMAR","NAMIBIA","NAURU","NEPAL","NEW_CALEDONIA","NIGER","NIUE","NORFOLK_ISLAND","NORTHERN_CYPRUS","NORTHERN_MARIANA_ISLANDS","NORTH_KOREA","NORTH_MACEDONIA","PALAU","PALESTINE","PAPUA_NEW_GUINEA","PITCAIRN","REUNION","RWANDA","SAINT_BARTHELEMY","SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA","SAINT_KITTS_AND_NEVIS","SAINT_LUCIA","SAINT_MARTIN","SAINT_PIERRE_AND_MIQUELON","SAINT_VINCENT_AND_THE_GRENADINES","SAMOA","SAN_MARINO","SAO_TOME_AND_PRINCIPE","SENEGAL","SEYCHELLES","SIERRA_LEONE","SINT_MAARTEN","SOLOMON_ISLANDS","SOMALIA","SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS","SOUTH_SUDAN","SUDAN","SURINAME","SVALBARD_AND_JAN_MAYEN","ESWATINI","SYRIA","TAJIKISTAN","TANZANIA","TOGO","TOKELAU","TONGA","TRINIDAD_AND_TOBAGO","TURKMENISTAN","TURKS_AND_CAICOS_ISLANDS","TUVALU","UNITED_STATES_MINOR_OUTLYING_ISLANDS","UZBEKISTAN","VANUATU","VATICAN_CITY","VIRGIN_ISLANDS_BRITISH","VIRGIN_ISLANDS_US","WALLIS_AND_FUTUNA","WESTERN_SAHARA","YEMEN","YUGOSLAVIA","ZAMBIA","ZIMBABWE","COUNT","ALABAMA","ALASKA","ALBERTA","ARIZONA","ARKANSAS","AUSTRALIAN_CAPITAL_TERRITORY","BRITISH_COLUMBIA","CALIFORNIA","COLORADO","CONNECTICUT","DELAWARE","DISTRICT_OF_COLUMBIA","FLORIDA","HAWAII","IDAHO","ILLINOIS","INDIANA","IOWA","KANSAS","KENTUCKY","LOUISIANA","MAINE","MANITOBA","MARYLAND","MASSACHUSETTS","MICHIGAN","MINNESOTA","MISSISSIPPI","MISSOURI","MONTANA","NEBRASKA","NEVADA","NEW_BRUNSWICK","NEW_HAMPSHIRE","NEW_JERSEY","NEW_MEXICO","NEW_SOUTH_WALES","NEW_YORK","NORTHERN_TERRITORY","NORTH_CAROLINA","NORTH_DAKOTA","NOVA_SCOTIA","OHIO","OKLAHOMA","ONTARIO","OREGON","PENNSYLVANIA","QUEBEC","QUEENSLAND","RHODE_ISLAND","SASKATCHEWAN","SOUTH_AUSTRALIA","SOUTH_CAROLINA","SOUTH_DAKOTA","TASMANIA","TENNESSEE","TEXAS","UTAH","VERMONT","VICTORIA","VIRGINIA","WASHINGTON","WESTERN_AUSTRALIA","WEST_VIRGINIA","WISCONSIN","WYOMING","YUKON","CIUDAD_DE_MEXICO","JALISCO","NEWFOUNDLAND_AND_LABRADOR","NUEVO_LEON","BAJA_CALIFORNIA","CHIHUAHUA","GUANAJUATO","GUERRERO","MICHOACAN","NEW_YORK_CITY","TAMAULIPAS","VERACRUZ","CHIAPAS","COAHUILA","DURANGO","GUERRERO_COCULA","GUERRERO_JUCHITAN","GUERRERO_TEPECOACUILCO","GUERRERO_TLACOAPA","GUJARAT","HIDALGO","KARNATAKA","KERALA","KHYBER_PAKHTUNKHWA","MADHYA_PRADESH","MAHARASHTRA","MORELOS","NAYARIT","OAXACA","PUEBLA","PUNJAB","QUERETARO","SAN_LUIS_POTOSI","SINALOA","SONORA","TABASCO","TAMIL_NADU","YUCATAN","ZACATECAS","AGUASCALIENTES","BAJA_CALIFORNIA_SUR","CAMPECHE","COLIMA","QUINTANA_ROO_BENITO_JUAREZ","UINTANA_ROO","QUINTANA_ROO_SOLIDARIDAD","TLAXCALA","CONSULAR_ID","DL","DL_PUBLIC_SERVICES_CARD","EMPLOYMENT_PASS","FIN_CARD","ID","MULTIPURPOSE_ID","MyKad","MyKid","MyPR","MyTentera","PAN_CARD","PROFESSIONAL_ID","PUBLIC_SERVICES_CARD","RESIDENCE_PERMIT","RESIDENT_ID","TEMPORARY_RESIDENCE_PERMIT","VOTER_ID","WORK_PERMIT","iKAD","MILITARY_ID","MyKAS","SOCIAL_SECURITY_CARD","HEALTH_INSURANCE_CARD","PASSPORT","S_PASS","ADDRESS_CARD","ALIEN_ID","ALIEN_PASSPORT","GREEN_CARD","MINORS_ID","POSTAL_ID","PROFESSIONAL_DL","TAX_ID","WEAPON_PERMIT","VISA","BORDER_CROSSING_CARD","DRIVER_CARD","GLOBAL_ENTRY_CARD","MyPolis","NEXUS_CARD","PASSPORT_CARD","PROOF_OF_AGE_CARD","REFUGEE_ID","TRIBAL_ID","VETERAN_ID","CITIZENSHIP_CERTIFICATE","MY_NUMBER_CARD","NotAvailable","BlackAndWhite","Color","NotDetected","Detected","DetectionFailed","ImagePreprocessingFailed","StabilityTestFailed","ScanningWrongSide","FieldIdentificationFailed","MandatoryFieldMissing","InvalidCharactersFound","ImageReturnFailed","BarcodeRecognitionFailed","MrzParsingFailed","ClassFiltered","UnsupportedClass","UnsupportedByLicense","AwaitingOtherSide","MrzId","MrzVisa","MrzPassport","PhotoId","FullRecognition","BarcodeId","AAMVACompliant","ArgentinaID","ArgentinaAlienID","ArgentinaDL","ColombiaID","ColombiaDL","NigeriaVoterID","NigeriaDL","PanamaID","SouthAfricaID","Ge","__glare","__detectionStatus","__quad","topLeft","topRight","bottomLeft","bottomRight","__sdkInstance","localStorage","getItem","setItem","raw","__sdkRecognizer","__sdkSettings","returnFullDocumentImage","saveCameraFrames","fullDocumentImageDpi","returnFaceImage","faceImageDpi","returnSignatureImage","signatureImageDpi","anonymizationMode","__sdkRunnerRecognizer","HTMLVideoElement","videoWidth","videoHeight","HTMLImageElement","naturalWidth","naturalHeight","SVGImageElement","processingStatus","__deleteWasmVar","__validateResultDiagnostic","fullDocumentBackImage","rawImage","fullDocumentFrontImage","imagesFullsize","backCameraFrame","frontCameraFrame","rawMRZString","secondaryID","primaryID","sanitizedOpt1","issuer","originalString","frontViz","personalIdNumber","sex","documentCountryIssuer","classInfo","isoAlpha3CountryCode","__getDocumentType","debug1","dateOfExpiryPermanent","Xe","__engines","Dummy","Microblink","Facephi","getAvailableEngines","generateInstance","ye","Ce","getInternalLicenseResolve","preinit","callGetInternalLicense","__checkWorker","getInternalLicense","token","engineType","destroyWorker","RecorderType","Local","Remote","container","cameraWidth","cameraHeight","cameraId","showLog","resourcesPath","accessibleElements","onExtractionFinish","onUserCancel","onExceptionCaptured","onExtractionTimeout","onModuleLoaded","onTrackStatus","captureMode","license","askSimpleMode","previewCapture","forceLandscape","canvasHD","cropFactor","initialTip","captureTimeout","captureRetries","graphPath","externalCamera","videoRecord","videoRecordRate","videoRecordScale","videoRecordType","cameraMirror","scanMode","specificData","getContainer","setLanguage","getLanguage","setDpiList","getDpiList","setResourcesPath","getResourcesPath","setBundlePath","getBundlePath","setGraphPath","getGraphPath","setCameraWidth","getCameraWidth","setCameraHeight","getCameraHeight","setOnExtractionFinish","getOnExtractionFinish","setOnUserCancel","getOnUserCancel","setOnExceptionCaptured","getOnExceptionCaptured","setOnExtractionTimeout","getOnExtractionTimeout","setOnModuleLoaded","getOnModuleLoaded","setOnTrackStatus","getOnTrackStatus","setMode","getMode","setAskSimpleMode","getAskSimpleMode","setPreviewCapture","getPreviewCapture","setDocumentAspectRatio","getDocumentAspectRatio","setCropFactor","getCropFactor","setForceLandscape","getForceLandscape","setCanvasHD","getCanvasHD","setCaptureTimeout","getCaptureTimeout","setCaptureRetries","getCaptureRetries","setImageFormat","getImageFormat","setImageQuality","getImageQuality","setCameraId","getCameraId","setInitialTip","getInitialTip","setVideoRecord","getVideoRecord","setVideoRecordRate","getVideoRecordRate","setVideoRecordScale","getVideoRecordScale","setVideoRecordType","getVideoRecordType","setShowLog","getShowLog","setStartSimpleMode","getStartSimpleMode","setAccessibility","getAccessibility","setAccessibleElements","getAccessibleElements","setDocumentType","getDocumentType","setScanMode","getScanMode","setSpecificData","getSpecificData","setCameraOverflow","getCameraOverflow","setCaptureMode","getCaptureMode","setLicense","getLicense","getBlurredThreshold","setBlurredThreshold","setExternalCamera","getExternalCamera","setCameraMirror","getCameraMirror","SimpleMode","cm","path","isPathAbsolute","getScriptPath","devicePixelRatio","secondsWidget","secondsState","OnResourceManagerStatus","rmReady","CheckDependencies","drawer","CustomEvent","dispatchEvent","display","cameraContainer","offsetWidth","offsetHeight","newState","start","divContainer","onCanvasResizeContext","onCanvasResize","overflow","onclick","canvasOnClick","canvasOnMove","accept","capture","fileCaptureEvent","inputFromDevice","widgetTime","stop","removeChild","removeEventListener","stateTime","actualTime","resourceParent","elements","detail","timeStamp","finish","frontImage","convertImage","backImage","rotateImage","rotate","onload","FileReader","readAsDataURL","files","getLayoutFromXML","alpha","canvasWidth","canvasHeight","scale","interactible","layout","offsetX","offsetY","click","stack","match","join","ExceptionType","CameraError","ExtractorError","ControlNotInitializedError","ImageCropResizeError","UnexpectedCaptureError","version","printLog","cameraReady","cameraMustFlip","cameraFrontSide","expectedExternalCamera","fpsTime","graphReady","graph","OnGraphReady","OnGraphNewState","privateCanvas","extractor","extractorLiveness","extractorVersion","lastDetectResult","lastExtractionResult","lastExtractionResultWizard","actualTimePrev","idContainer","extractorContainer","videoSelectId","cameraRotation","cameraStream","selectedSource","samplePeriod","stopCameraStream","globalTimeout","sceneTimeout","fps","fpse","fpsframes","fpseframes","cameraList","exceptionType","findIndex","engine","engineLoaded","checkCanvasDimensions","gifWait","gifWaitOnLoadContext","onWaitingLoaded","resizeFactor","location","parent","canvasRotated","initCamera","srcObject","getVideoTracks","cameraName","label","onloadedmetadata","videoLoaded","play","setCameraPosition","featurePolicy","allowsFeature","grantVideoPermission","cameras","navigator","mediaDevices","enumerateDevices","kind","getUserMedia","deviceId","getCapabilities","facingMode","focusDistance","max","getTracks","sort","forceCameraId","setVideoInput","selphIDSimpleMode","pause","rmScript","graphScript","drawerScript","imagesProcessed","startVideos","onOrientationChange","screen","GetAvailableCameras","gotDevices","catch","handleCameraError","compareArray","videoPlayer","removeAttribute","videoplayerEnded","load","clockNewScenario","privateImages","retries","imageCaptured","imageCapturedTime","getSettings","audio","switchTimeoutHandler","clearTimeout","results","recordedVideo","livenessMoveFails","livenessMoveActualFailedAttempts","livenessMoveHistory","livenessMoveStabilizedHistory","livenessMoveStabilizedStatusHistory","livenessMoveStabilizedStatus","livenessMoveLastStabilizedStatus","sunGlassesScore","logAllImages","getImgTag","cropImage","privateLivenessResults","livenessDiagnostic","livenessErrorType","agProcessing","agProcessingFirst","recorder","recorderFinish","includes","time","extractionResult","face","hidden","playsinline","muted","autoplay","controls","setAttribute","insertBefore","firstChild","playDevice","stream","exact","zoom","focusMode","exposureMode","getConstraints","mobileCheck","isIpadOS","handleRecorderDataAvailable","size","recordedBlobs","handleRecorderOnStop","substr","userAgent","vendor","opera","maxTouchPoints","platform","text","iterateAutomata","camera","livenessErrorString","livenessErrorImage","drawBorderedText","docRect","openFullScreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","workerWorking","getImg","privateRecordCanvasContext","privateRecordCanvas","colorSpace","getVideoSources","filter","MediaStreamTrack","getSources","workerCanvas","workerCanvasContext","videoRecordWidth","videoRecordHeight","canvasVideoPlayer","video_devices","wasm","WebAssembly","instantiate","Module","of","Instance","wasm_pthreads","SharedArrayBuffer","Component","customElements","FPhi"],"sources":["/Users/rominatorresbarahona/Archivov2/node_modules/@facephi/selphid-widget-web/selphid-widget-web.min.js"],"sourcesContent":["/*! For license information please see selphid-widget-web.min.js.LICENSE.txt */\nvar e={871:(e,t,i)=>{i.d(t,{k:()=>l}),e=i.hmd(e);class l{constructor(e,t,i){this.graphUrl=e,this.graphReadyEvent=t,this.graphNewStateEvent=i,this.xmlHttpWidget=new XMLHttpRequest,this.xmlHttpWidget.onreadystatechange=this.readyEvent.bind(this),this.xmlHttpWidget.open(\"GET\",this.graphUrl),this.xmlHttpWidget.send(null)}readyEvent(e){if(4==e.target.readyState&&200==e.target.status){var t=new DOMParser;this.xmlDoc=t.parseFromString(e.target.responseText,\"text/xml\"),this.graphReadyEvent()}}setInitialState(e){null!=this.xmlDoc.querySelector(\"[name='\"+e+\"']\")&&(this.state=e,this.graphNewStateEvent(this.state))}sendMessage(e){var t=this.xmlDoc.querySelector(\"[name='\"+this.state+\"']\");if(null!=t){var i=t.querySelector(\"[message='\"+e+\"']\");if(null!=i||(e=e.split(\"//\")[0],null!=(i=t.querySelector(\"[message='\"+e+\"']\")))){var l=i.getAttribute(\"to\");this.state=l,this.graphNewStateEvent(this.state)}}}}!function(t){\"object\"==typeof exports?e.exports=t():\"function\"==typeof define&&i.amdO?define([],t):(\"undefined\"!=typeof window?window:void 0!==i.g?i.g:\"undefined\"!=typeof self?self:this).Animated_GIF=t()}((function(){return function e(t,i,l){function a(s,d){if(!i[s]){if(!t[s]){if(n)return n(s,!0);var c=new Error(\"Cannot find module '\"+s+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var h=i[s]={exports:{}};t[s][0].call(h.exports,(function(e){return a(t[s][1][e]||e)}),h,h.exports,e,t,i,l)}return i[s].exports}for(var n=void 0,s=0;s<l.length;s++)a(l[s]);return a}({1:[function(e,t,i){function l(e,t,i,l){for(var a=e[t++],n=1<<a,s=n+1,d=s+1,c=a+1,h=(1<<c)-1,o=0,r=0,m=0,I=e[t++],Z=new Int32Array(4096),b=null;;){for(;o<16&&0!==I;)r|=e[t++]<<o,o+=8,1===I?I=e[t++]:--I;if(o<c)break;var R=r&h;if(r>>=c,o-=c,R!==n){if(R===s)break;for(var u=R<d?R:b,g=0,W=u;W>n;)W=Z[W]>>8,++g;var V=W;if(m+g+(u!==R?1:0)>l)return void console.log(\"Warning, gif stream longer than expected.\");i[m++]=V;var p=m+=g;for(u!==R&&(i[m++]=V),W=u;g--;)W=Z[W],i[--p]=255&W,W>>=8;null!==b&&d<4096&&(Z[d++]=b<<8|V,d>=h+1&&c<12&&(++c,h=h<<1|1)),b=R}else d=s+1,h=(1<<(c=a+1))-1,b=null}return m!==l&&console.log(\"Warning, gif stream shorter than expected.\"),i}try{i.GifWriter=function(e,t,i,l){function a(e){var t=e.length;if(t<2||t>256||t&t-1)throw\"Invalid code/color length, must be power of 2 and 2 .. 256.\";return t}var n=0,s=void 0===(l=void 0===l?{}:l).loop?null:l.loop,d=void 0===l.palette?null:l.palette;if(t<=0||i<=0||t>65535||i>65535)throw\"Width/Height invalid.\";e[n++]=71,e[n++]=73,e[n++]=70,e[n++]=56,e[n++]=57,e[n++]=97;var c=0,h=0;if(null!==d){for(var o=a(d);o>>=1;)++c;if(o=1<<c,--c,void 0!==l.background){if((h=l.background)>=o)throw\"Background index out of range.\";if(0===h)throw\"Background index explicitly passed as 0.\"}}if(e[n++]=255&t,e[n++]=t>>8&255,e[n++]=255&i,e[n++]=i>>8&255,e[n++]=(null!==d?128:0)|c,e[n++]=h,e[n++]=0,null!==d)for(var r=0,m=d.length;r<m;++r){var I=d[r];e[n++]=I>>16&255,e[n++]=I>>8&255,e[n++]=255&I}if(null!==s){if(s<0||s>65535)throw\"Loop count invalid.\";e[n++]=33,e[n++]=255,e[n++]=11,e[n++]=78,e[n++]=69,e[n++]=84,e[n++]=83,e[n++]=67,e[n++]=65,e[n++]=80,e[n++]=69,e[n++]=50,e[n++]=46,e[n++]=48,e[n++]=3,e[n++]=1,e[n++]=255&s,e[n++]=s>>8&255,e[n++]=0}var Z=!1;this.addFrame=function(t,i,l,s,c,h){if(!0===Z&&(--n,Z=!1),h=void 0===h?{}:h,t<0||i<0||t>65535||i>65535)throw\"x/y invalid.\";if(l<=0||s<=0||l>65535||s>65535)throw\"Width/Height invalid.\";if(c.length<l*s)throw\"Not enough pixels for the frame size.\";var o=!0,r=h.palette;if(null!=r||(o=!1,r=d),null==r)throw\"Must supply either a local or global palette.\";for(var m=a(r),I=0;m>>=1;)++I;m=1<<I;var b=void 0===h.delay?0:h.delay,R=void 0===h.disposal?0:h.disposal;if(R<0||R>3)throw\"Disposal out of range.\";var u=!1,g=0;if(void 0!==h.transparent&&null!==h.transparent&&(u=!0,(g=h.transparent)<0||g>=m))throw\"Transparent color index.\";if((0!==R||u||0!==b)&&(e[n++]=33,e[n++]=249,e[n++]=4,e[n++]=R<<2|(!0===u?1:0),e[n++]=255&b,e[n++]=b>>8&255,e[n++]=g,e[n++]=0),e[n++]=44,e[n++]=255&t,e[n++]=t>>8&255,e[n++]=255&i,e[n++]=i>>8&255,e[n++]=255&l,e[n++]=l>>8&255,e[n++]=255&s,e[n++]=s>>8&255,e[n++]=!0===o?128|I-1:0,!0===o)for(var W=0,V=r.length;W<V;++W){var p=r[W];e[n++]=p>>16&255,e[n++]=p>>8&255,e[n++]=255&p}n=function(e,t,i,l){function a(i){for(;m>=i;)e[t++]=255&I,I>>=8,m-=8,t===s+256&&(e[s]=255,s=t++)}function n(e){I|=e<<m,m+=r,a(8)}e[t++]=i;var s=t++,d=1<<i,c=d-1,h=d+1,o=h+1,r=i+1,m=0,I=0,Z=l[0]&c,b={};n(d);for(var R=1,u=l.length;R<u;++R){var g=l[R]&c,W=Z<<8|g,V=b[W];if(void 0===V){for(I|=Z<<m,m+=r;m>=8;)e[t++]=255&I,I>>=8,m-=8,t===s+256&&(e[s]=255,s=t++);4096===o?(n(d),o=h+1,r=i+1,b={}):(o>=1<<r&&++r,b[W]=o++),Z=g}else Z=V}return n(Z),n(h),a(1),s+1===t?e[s]=0:(e[s]=t-s-1,e[t++]=0),t}(e,n,I<2?2:I,c)},this.end=function(){return!1===Z&&(e[n++]=59,Z=!0),n}},i.GifReader=function(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw\"Invalid GIF 87a/89a header.\";var i=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,n=e[t++],s=n>>7,d=1<<1+(7&n);e[t++],e[t++];var c=null;s&&(c=t,t+=3*d);var h=!0,o=[],r=0,m=null,I=0,Z=null;for(this.width=i,this.height=a;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,Z=e[t++]|e[t++]<<8,t++;else for(t+=12;0!==(C=e[t++]);)t+=C;break;case 249:if(4!==e[t++]||0!==e[t+4])throw\"Invalid graphics extension block.\";var b=e[t++];r=e[t++]|e[t++]<<8,m=e[t++],0==(1&b)&&(m=null),I=b>>2&7,t++;break;case 254:for(;0!==(C=e[t++]);)t+=C;break;default:throw\"Unknown graphic control label: 0x\"+e[t-1].toString(16)}break;case 44:var R=e[t++]|e[t++]<<8,u=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,W=e[t++]|e[t++]<<8,V=e[t++],p=V>>6&1,G=c,X=!1;V>>7&&(X=!0,G=t,t+=3*(1<<1+(7&V)));var y=t;for(t++;;){var C;if(0===(C=e[t++]))break;t+=C}o.push({x:R,y:u,width:g,height:W,has_local_palette:X,palette_offset:G,data_offset:y,data_length:t-y,transparent_index:m,interlaced:!!p,delay:r,disposal:I});break;case 59:h=!1;break;default:throw\"Unknown gif block: 0x\"+e[t-1].toString(16)}this.numFrames=function(){return o.length},this.loopCount=function(){return Z},this.frameInfo=function(e){if(e<0||e>=o.length)throw\"Frame index out of range.\";return o[e]},this.decodeAndBlitFrameBGRA=function(t,a){var n=this.frameInfo(t),s=n.width*n.height,d=new Uint8Array(s);l(e,n.data_offset,d,s);var c=n.palette_offset,h=n.transparent_index;null===h&&(h=256);var o=n.width,r=i-o,m=o,I=4*(n.y*i+n.x),Z=4*((n.y+n.height)*i+n.x),b=I,R=4*r;!0===n.interlaced&&(R+=4*i*7);for(var u=8,g=0,W=d.length;g<W;++g){var V=d[g];if(0===m&&(m=o,(b+=R)>=Z&&(R=4*r+4*i*(u-1),b=I+(o+r)*(u<<1),u>>=1)),V===h)b+=4;else{var p=e[c+3*V],G=e[c+3*V+1],X=e[c+3*V+2];a[b++]=X,a[b++]=G,a[b++]=p,a[b++]=255}--m}},this.decodeAndBlitFrameRGBA=function(t,a){var n=this.frameInfo(t),s=n.width*n.height,d=new Uint8Array(s);l(e,n.data_offset,d,s);var c=n.palette_offset,h=n.transparent_index;null===h&&(h=256);var o=n.width,r=i-o,m=o,I=4*(n.y*i+n.x),Z=4*((n.y+n.height)*i+n.x),b=I,R=4*r;!0===n.interlaced&&(R+=4*i*7);for(var u=8,g=0,W=d.length;g<W;++g){var V=d[g];if(0===m&&(m=o,(b+=R)>=Z&&(R=4*r+4*i*(u-1),b=I+(o+r)*(u<<1),u>>=1)),V===h)b+=4;else{var p=e[c+3*V],G=e[c+3*V+1],X=e[c+3*V+2];a[b++]=p,a[b++]=G,a[b++]=X,a[b++]=255}--m}}}}catch(e){}},{}],2:[function(e,t,i){t.exports=function(t){function i(e){g.length,V=e;for(var t=0;t<c&&t<g.length;t++)l(t)}function l(e){var t,i;return(t=g[e]).beingProcessed||t.done?(console.error(\"Frame already being processed or done!\",t.position),void n()):(t.sampleInterval=d,t.beingProcessed=!0,(i=function(){if(0===X.length)throw\"No workers left!\";return X.pop()}()).onmessage=function(e){var l=e.data;delete t.data,t.pixels=Array.prototype.slice.call(l.pixels),t.palette=Array.prototype.slice.call(l.palette),t.done=!0,t.beingProcessed=!1,function(e){X.push(e)}(i),n()},void i.postMessage(t))}function a(){for(var e=-1,t=0;t<g.length;t++){var i=g[t];if(!i.done&&!i.beingProcessed){e=t;break}}e>=0&&l(e)}function n(){var e=g.every((function(e){return!e.beingProcessed&&e.done}));W++,p(.75*W/g.length),e?y||function(e,t){var i,l=[],a={loop:R};null!==m&&null!==I&&(i=I,a.palette=i);var n=new h(l,o,r,a);y=!0,e.forEach((function(t,l){var a;i||(a=t.palette),p(.75+.25*t.position*1/e.length),n.addFrame(0,0,o,r,t.pixels,{palette:a,delay:u})})),n.end(),p(1),e=[],y=!1,t(l)}(g,V):setTimeout(a,1)}function s(e){return 0!==e&&0==(e&e-1)}t=t||{};var d,c,h=e(\"omggif\").GifWriter,o=t.width||160,r=t.height||120,m=t.dithering||null,I=t.palette||null,Z=null,b=null,R=0,u=250,g=[],W=0,V=function(){},p=function(){},G=[],X=[],y=!1;if(I){if(!(I instanceof Array))throw I;if(I.length<2||I.length>256){for(console.error(\"Palette must hold only between 2 and 256 colours\");I.length<2;)I.push(0);I.length>256&&(I=I.slice(0,256))}if(!s(I.length))for(console.error(\"Palette must have a power of two number of colours\");!s(I.length);)I.splice(I.length-1,1)}d=(t=t||{}).sampleInterval||10,c=t.numWorkers||2;for(var C=0;C<c;C++){var N=new Worker(window.URL.createObjectURL(new Blob(['(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module \\'\"+o+\"\\'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\\n\\nfunction colorClamp(value) {\\n\\tif(value < 0) return 0;\\n\\telse if(value > 255) return 255;\\n\\n\\treturn value;\\n}\\n\\nvar bayerMatrix8x8 = [\\n\\t[  1, 49, 13, 61,  4, 52, 16, 64 ],\\n\\t[ 33, 17, 45, 29, 36, 20, 48, 32 ],\\n\\t[  9, 57,  5, 53, 12, 60,  8, 56 ],\\n\\t[ 41, 25, 37, 21, 44, 28, 40, 24 ],\\n\\t[  3, 51, 15, 63,  2, 50, 14, 62 ],\\n\\t[ 35, 19, 47, 31, 34, 18, 46, 30 ],\\n\\t[ 11, 59,  7, 55, 10, 58,  6, 54 ],\\n\\t[ 43, 27, 39, 23, 42, 26, 38, 22 ]\\n\\t];\\n\\n\\t// int r, int g, int b, int[][] palette, int paletteLength\\n\\tfunction getClosestPaletteColorIndex(r, g, b, palette, paletteLength) {\\n\\t\\tvar minDistance = 195076;\\n\\t\\tvar diffR, diffG, diffB;\\n\\t\\tvar distanceSquared;\\n\\t\\tvar bestIndex = 0;\\n\\t\\tvar paletteChannels;\\n\\n\\t\\tfor(var i = 0; i < paletteLength; i++) {\\n\\n\\t\\t\\tpaletteChannels = palette[i];\\n\\t\\t\\tdiffR = r - paletteChannels[0];\\n\\t\\t\\tdiffG = g - paletteChannels[1];\\n\\t\\t\\tdiffB = b - paletteChannels[2];\\n\\n\\t\\t\\tdistanceSquared = diffR*diffR + diffG*diffG + diffB*diffB;\\n\\n\\t\\t\\tif(distanceSquared < minDistance) {\\n\\t\\t\\t\\tbestIndex = i;\\n\\t\\t\\t\\tminDistance = distanceSquared;\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\treturn bestIndex;\\n\\t}\\n\\n// TODO: inPixels -> inComponents or inColors or something more accurate\\nfunction BayerDithering(inPixels, width, height, palette) {\\n\\tvar offset = 0;\\n\\tvar indexedOffset = 0;\\n\\tvar r, g, b;\\n\\tvar pixel, threshold, index;\\n\\tvar paletteLength = palette.length;\\n\\tvar matrix = bayerMatrix8x8;\\n\\tvar indexedPixels = new Uint8Array( width * height );\\n\\n\\tvar modI = 8;\\n\\tvar modJ = 8;\\n\\n\\tfor(var j = 0; j < height; j++) {\\n\\t\\tvar modj = j % modJ;\\n\\n\\t\\tfor(var i = 0; i < width; i++) {\\n\\n\\t\\t\\tthreshold = matrix[i % modI][modj];\\n\\n\\t\\t\\tr = colorClamp( inPixels[offset++] + threshold );\\n\\t\\t\\tg = colorClamp( inPixels[offset++] + threshold );\\n\\t\\t\\tb = colorClamp( inPixels[offset++] + threshold );\\n\\n\\t\\t\\tindex = getClosestPaletteColorIndex(r, g, b, palette, paletteLength);\\n\\t\\t\\tindexedPixels[indexedOffset++] = index;\\n\\n\\t\\t}\\n\\t}\\n\\n\\treturn indexedPixels;\\n}\\n\\n\\nfunction ClosestDithering(inPixels, width, height, palette) {\\n\\n\\tvar offset = 0;\\n\\tvar indexedOffset = 0;\\n\\tvar r, g, b;\\n\\tvar index;\\n\\tvar paletteLength = palette.length;\\n\\tvar matrix = bayerMatrix8x8;\\n\\tvar numPixels = width * height;\\n\\tvar indexedPixels = new Uint8Array( numPixels );\\n\\n\\tfor(var i = 0; i < numPixels; i++) {\\n\\n\\t\\tr = inPixels[offset++];\\n\\t\\tg = inPixels[offset++];\\n\\t\\tb = inPixels[offset++];\\n\\n\\t\\tindexedPixels[i] = getClosestPaletteColorIndex(r, g, b, palette, paletteLength);\\n\\n\\t}\\n\\n\\treturn indexedPixels;\\n\\n}\\n\\n\\nfunction FloydSteinberg(inPixels, width, height, palette) {\\n\\tvar paletteLength = palette.length;\\n\\tvar offset = 0;\\n\\tvar indexedOffset = 0;\\n\\tvar r, g, b;\\n\\tvar widthLimit = width - 1;\\n\\tvar heightLimit = height - 1;\\n\\tvar offsetNextI, offsetNextJ;\\n\\tvar offsetPrevINextJ;\\n\\tvar channels, nextChannels;\\n\\tvar indexedPixels = new Uint8Array( width * height );\\n\\n\\tfor(var j = 0; j < height; j++) {\\n\\t\\tfor(var i = 0; i < width; i++) {\\n\\n\\t\\t\\tr = colorClamp(inPixels[offset++]);\\n\\t\\t\\tg = colorClamp(inPixels[offset++]);\\n\\t\\t\\tb = colorClamp(inPixels[offset++]);\\n\\n\\t\\t\\tvar colorIndex = getClosestPaletteColorIndex(r, g, b, palette, paletteLength);\\n\\t\\t\\tvar paletteColor = palette[colorIndex];\\n\\t\\t\\tvar closestColor = paletteColor[3];\\n\\n\\t\\t\\t// We are done with finding the best value for this pixel\\n\\t\\t\\tindexedPixels[indexedOffset] = colorIndex;\\n\\n\\t\\t\\t// Now find difference between assigned value and original color\\n\\t\\t\\t// and propagate that error forward\\n\\t\\t\\tvar errorR = r - paletteColor[0];\\n\\t\\t\\tvar errorG = g - paletteColor[1];\\n\\t\\t\\tvar errorB = b - paletteColor[2];\\n\\n\\t\\t\\tif(i < widthLimit) {\\n\\n\\t\\t\\t\\toffsetNextI = offset + 1;\\n\\n\\t\\t\\t\\tinPixels[offsetNextI++] += (errorR * 7) >> 4;\\n\\t\\t\\t\\tinPixels[offsetNextI++] += (errorG * 7) >> 4;\\n\\t\\t\\t\\tinPixels[offsetNextI++] += (errorB * 7) >> 4;\\n\\n\\t\\t\\t}\\n\\n\\n\\t\\t\\tif(j < heightLimit) {\\n\\n\\t\\t\\t\\tif(i > 0) {\\n\\n\\t\\t\\t\\t\\toffsetPrevINextJ = offset - 1 + width;\\n\\n\\t\\t\\t\\t\\tinPixels[offsetPrevINextJ++] += (errorR * 3) >> 4;\\n\\t\\t\\t\\t\\tinPixels[offsetPrevINextJ++] += (errorG * 3) >> 4;\\n\\t\\t\\t\\t\\tinPixels[offsetPrevINextJ++] += (errorB * 3) >> 4;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\toffsetNextJ = offset + width;\\n\\n\\t\\t\\t\\tinPixels[offsetNextJ++] += (errorR * 5) >> 4;\\n\\t\\t\\t\\tinPixels[offsetNextJ++] += (errorG * 5) >> 4;\\n\\t\\t\\t\\tinPixels[offsetNextJ++] += (errorB * 5) >> 4;\\n\\n\\n\\t\\t\\t\\tif(i < widthLimit) {\\n\\n\\t\\t\\t\\t\\tinPixels[offsetNextJ++] += errorR >> 4;\\n\\t\\t\\t\\t\\tinPixels[offsetNextJ++] += errorG >> 4;\\n\\t\\t\\t\\t\\tinPixels[offsetNextJ++] += errorB >> 4;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tindexedOffset++;\\n\\t\\t}\\n\\t}\\n\\n\\treturn indexedPixels;\\n}\\n\\nmodule.exports = {\\n\\tBayer: BayerDithering,\\n\\tClosest: ClosestDithering,\\n\\tFloydSteinberg: FloydSteinberg\\n};\\n\\n\\n},{}],2:[function(require,module,exports){\\nvar NeuQuant = require(\\'./lib/NeuQuant\\');\\nvar Dithering = require(\\'node-dithering\\');\\n\\nfunction channelizePalette( palette ) {\\n    var channelizedPalette = [];\\n\\n    for(var i = 0; i < palette.length; i++) {\\n        var color = palette[i];\\n\\n        var r = (color & 0xFF0000) >> 16;\\n        var g = (color & 0x00FF00) >>  8;\\n        var b = (color & 0x0000FF);\\n\\n        channelizedPalette.push([ r, g, b, color ]);\\n    }\\n\\n    return channelizedPalette;\\n\\n}\\n\\n\\nfunction dataToRGB( data, width, height ) {\\n    var i = 0;\\n    var length = width * height * 4;\\n    var rgb = [];\\n\\n    while(i < length) {\\n        rgb.push( data[i++] );\\n        rgb.push( data[i++] );\\n        rgb.push( data[i++] );\\n        i++; // for the alpha channel which we don\\'t care about\\n    }\\n\\n    return rgb;\\n}\\n\\n\\nfunction componentizedPaletteToArray(paletteRGB) {\\n\\n    var paletteArray = [];\\n\\n    for(var i = 0; i < paletteRGB.length; i += 3) {\\n        var r = paletteRGB[ i ];\\n        var g = paletteRGB[ i + 1 ];\\n        var b = paletteRGB[ i + 2 ];\\n        paletteArray.push(r << 16 | g << 8 | b);\\n    }\\n\\n    return paletteArray;\\n}\\n\\n\\n// This is the \"traditional\" Animated_GIF style of going from RGBA to indexed color frames\\nfunction processFrameWithQuantizer(imageData, width, height, sampleInterval) {\\n\\n    var rgbComponents = dataToRGB( imageData, width, height );\\n    var nq = new NeuQuant(rgbComponents, rgbComponents.length, sampleInterval);\\n    var paletteRGB = nq.process();\\n    var paletteArray = new Uint32Array(componentizedPaletteToArray(paletteRGB));\\n\\n    var numberPixels = width * height;\\n    var indexedPixels = new Uint8Array(numberPixels);\\n\\n    var k = 0;\\n    for(var i = 0; i < numberPixels; i++) {\\n        r = rgbComponents[k++];\\n        g = rgbComponents[k++];\\n        b = rgbComponents[k++];\\n        indexedPixels[i] = nq.map(r, g, b);\\n    }\\n\\n    return {\\n        pixels: indexedPixels,\\n        palette: paletteArray\\n    };\\n\\n}\\n\\n\\n// And this is a version that uses dithering against of quantizing\\n// It can also use a custom palette if provided, or will build one otherwise\\nfunction processFrameWithDithering(imageData, width, height, ditheringType, palette) {\\n\\n    // Extract component values from data\\n    var rgbComponents = dataToRGB( imageData, width, height );\\n\\n\\n    // Build palette if none provided\\n    if(palette === null) {\\n\\n        var nq = new NeuQuant(rgbComponents, rgbComponents.length, 16);\\n        var paletteRGB = nq.process();\\n        palette = componentizedPaletteToArray(paletteRGB);\\n\\n    }\\n\\n    var paletteArray = new Uint32Array( palette );\\n    var paletteChannels = channelizePalette( palette );\\n\\n    // Convert RGB image to indexed image\\n    var ditheringFunction;\\n\\n    if(ditheringType === \\'closest\\') {\\n        ditheringFunction = Dithering.Closest;\\n    } else if(ditheringType === \\'floyd\\') {\\n        ditheringFunction = Dithering.FloydSteinberg;\\n    } else {\\n        ditheringFunction = Dithering.Bayer;\\n    }\\n\\n    pixels = ditheringFunction(rgbComponents, width, height, paletteChannels);\\n\\n    return ({\\n        pixels: pixels,\\n        palette: paletteArray\\n    });\\n\\n}\\n\\n\\n// ~~~\\n\\nfunction run(frame) {\\n    var width = frame.width;\\n    var height = frame.height;\\n    var imageData = frame.data;\\n    var dithering = frame.dithering;\\n    var palette = frame.palette;\\n    var sampleInterval = frame.sampleInterval;\\n\\n    if(dithering) {\\n        return processFrameWithDithering(imageData, width, height, dithering, palette);\\n    } else {\\n        return processFrameWithQuantizer(imageData, width, height, sampleInterval);\\n    }\\n\\n}\\n\\n\\nself.onmessage = function(ev) {\\n    var data = ev.data;\\n    var response = run(data);\\n    postMessage(response);\\n};\\n\\n},{\"./lib/NeuQuant\":3,\"node-dithering\":1}],3:[function(require,module,exports){\\n/*\\n* NeuQuant Neural-Net Quantization Algorithm\\n* ------------------------------------------\\n*\\n* Copyright (c) 1994 Anthony Dekker\\n*\\n* NEUQUANT Neural-Net quantization algorithm by Anthony Dekker, 1994. See\\n* \"Kohonen neural networks for optimal colour quantization\" in \"Network:\\n* Computation in Neural Systems\" Vol. 5 (1994) pp 351-367. for a discussion of\\n* the algorithm.\\n*\\n* Any party obtaining a copy of these files from the author, directly or\\n* indirectly, is granted, free of charge, a full and unrestricted irrevocable,\\n* world-wide, paid up, royalty-free, nonexclusive right and license to deal in\\n* this software and documentation files (the \"Software\"), including without\\n* limitation the rights to use, copy, modify, merge, publish, distribute,\\n* sublicense, and/or sell copies of the Software, and to permit persons who\\n* receive copies from any such party to do so, with the only requirement being\\n* that this copyright notice remain intact.\\n*/\\n\\n/*\\n* This class handles Neural-Net quantization algorithm\\n* @author Kevin Weiner (original Java version - kweiner@fmsware.com)\\n* @author Thibault Imbert (AS3 version - bytearray.org)\\n* @version 0.1 AS3 implementation\\n* @version 0.2 JS->AS3 \"translation\" by antimatter15\\n* @version 0.3 JS clean up + using modern JS idioms by sole - http://soledadpenades.com\\n* Also implement fix in color conversion described at http://stackoverflow.com/questions/16371712/neuquant-js-javascript-color-quantization-hidden-bug-in-js-conversion\\n*/\\n\\nmodule.exports = function NeuQuant() {\\n\\n    var netsize = 256; // number of colours used\\n\\n    // four primes near 500 - assume no image has a length so large\\n    // that it is divisible by all four primes\\n    var prime1 = 499;\\n    var prime2 = 491;\\n    var prime3 = 487;\\n    var prime4 = 503;\\n\\n    // minimum size for input image\\n    var minpicturebytes = (3 * prime4);\\n\\n    // Network Definitions\\n\\n    var maxnetpos = (netsize - 1);\\n    var netbiasshift = 4; // bias for colour values\\n    var ncycles = 100; // no. of learning cycles\\n\\n    // defs for freq and bias\\n    var intbiasshift = 16; // bias for fractions\\n    var intbias = (1 << intbiasshift);\\n    var gammashift = 10; // gamma = 1024\\n    var gamma = (1 << gammashift);\\n    var betashift = 10;\\n    var beta = (intbias >> betashift); // beta = 1/1024\\n    var betagamma = (intbias << (gammashift - betashift));\\n\\n    // defs for decreasing radius factor\\n    // For 256 colors, radius starts at 32.0 biased by 6 bits\\n    // and decreases by a factor of 1/30 each cycle\\n    var initrad = (netsize >> 3);\\n    var radiusbiasshift = 6;\\n    var radiusbias = (1 << radiusbiasshift);\\n    var initradius = (initrad * radiusbias);\\n    var radiusdec = 30;\\n\\n    // defs for decreasing alpha factor\\n    // Alpha starts at 1.0 biased by 10 bits\\n    var alphabiasshift = 10;\\n    var initalpha = (1 << alphabiasshift);\\n    var alphadec;\\n\\n    // radbias and alpharadbias used for radpower calculation\\n    var radbiasshift = 8;\\n    var radbias = (1 << radbiasshift);\\n    var alpharadbshift = (alphabiasshift + radbiasshift);\\n    var alpharadbias = (1 << alpharadbshift);\\n\\n\\n    // Input image\\n    var thepicture;\\n    // Height * Width * 3\\n    var lengthcount;\\n    // Sampling factor 1..30\\n    var samplefac;\\n\\n    // The network itself\\n    var network;\\n    var netindex = [];\\n\\n    // for network lookup - really 256\\n    var bias = [];\\n\\n    // bias and freq arrays for learning\\n    var freq = [];\\n    var radpower = [];\\n\\n    function NeuQuantConstructor(thepic, len, sample) {\\n\\n        var i;\\n        var p;\\n\\n        thepicture = thepic;\\n        lengthcount = len;\\n        samplefac = sample;\\n\\n        network = new Array(netsize);\\n\\n        for (i = 0; i < netsize; i++) {\\n            network[i] = new Array(4);\\n            p = network[i];\\n            p[0] = p[1] = p[2] = ((i << (netbiasshift + 8)) / netsize) | 0;\\n            freq[i] = (intbias / netsize) | 0; // 1 / netsize\\n            bias[i] = 0;\\n        }\\n\\n    }\\n\\n    function colorMap() {\\n        var map = [];\\n        var index = new Array(netsize);\\n        for (var i = 0; i < netsize; i++)\\n            index[network[i][3]] = i;\\n        var k = 0;\\n        for (var l = 0; l < netsize; l++) {\\n            var j = index[l];\\n            map[k++] = (network[j][0]);\\n            map[k++] = (network[j][1]);\\n            map[k++] = (network[j][2]);\\n        }\\n        return map;\\n    }\\n\\n    // Insertion sort of network and building of netindex[0..255]\\n    // (to do after unbias)\\n    function inxbuild() {\\n        var i;\\n        var j;\\n        var smallpos;\\n        var smallval;\\n        var p;\\n        var q;\\n        var previouscol;\\n        var startpos;\\n\\n        previouscol = 0;\\n        startpos = 0;\\n\\n        for (i = 0; i < netsize; i++)\\n        {\\n\\n            p = network[i];\\n            smallpos = i;\\n            smallval = p[1]; // index on g\\n            // find smallest in i..netsize-1\\n            for (j = i + 1; j < netsize; j++) {\\n\\n                q = network[j];\\n\\n                if (q[1] < smallval) { // index on g\\n                    smallpos = j;\\n                    smallval = q[1]; // index on g\\n                }\\n            }\\n\\n            q = network[smallpos];\\n\\n            // swap p (i) and q (smallpos) entries\\n            if (i != smallpos) {\\n                j = q[0];\\n                q[0] = p[0];\\n                p[0] = j;\\n                j = q[1];\\n                q[1] = p[1];\\n                p[1] = j;\\n                j = q[2];\\n                q[2] = p[2];\\n                p[2] = j;\\n                j = q[3];\\n                q[3] = p[3];\\n                p[3] = j;\\n            }\\n\\n            // smallval entry is now in position i\\n            if (smallval != previouscol) {\\n\\n                netindex[previouscol] = (startpos + i) >> 1;\\n\\n                for (j = previouscol + 1; j < smallval; j++) {\\n                    netindex[j] = i;\\n                }\\n\\n                previouscol = smallval;\\n                startpos = i;\\n\\n            }\\n\\n        }\\n\\n        netindex[previouscol] = (startpos + maxnetpos) >> 1;\\n        for (j = previouscol + 1; j < 256; j++) {\\n            netindex[j] = maxnetpos; // really 256\\n        }\\n\\n    }\\n\\n\\n    // Main Learning Loop\\n\\n    function learn() {\\n        var i;\\n        var j;\\n        var b;\\n        var g;\\n        var r;\\n        var radius;\\n        var rad;\\n        var alpha;\\n        var step;\\n        var delta;\\n        var samplepixels;\\n        var p;\\n        var pix;\\n        var lim;\\n\\n        if (lengthcount < minpicturebytes) {\\n            samplefac = 1;\\n        }\\n\\n        alphadec = 30 + ((samplefac - 1) / 3);\\n        p = thepicture;\\n        pix = 0;\\n        lim = lengthcount;\\n        samplepixels = lengthcount / (3 * samplefac);\\n        delta = (samplepixels / ncycles) | 0;\\n        alpha = initalpha;\\n        radius = initradius;\\n\\n        rad = radius >> radiusbiasshift;\\n        if (rad <= 1) {\\n            rad = 0;\\n        }\\n\\n        for (i = 0; i < rad; i++) {\\n            radpower[i] = alpha * (((rad * rad - i * i) * radbias) / (rad * rad));\\n        }\\n\\n\\n        if (lengthcount < minpicturebytes) {\\n            step = 3;\\n        } else if ((lengthcount % prime1) !== 0) {\\n            step = 3 * prime1;\\n        } else {\\n\\n            if ((lengthcount % prime2) !== 0) {\\n                step = 3 * prime2;\\n            } else {\\n                if ((lengthcount % prime3) !== 0) {\\n                    step = 3 * prime3;\\n                } else {\\n                    step = 3 * prime4;\\n                }\\n            }\\n\\n        }\\n\\n        i = 0;\\n\\n        while (i < samplepixels) {\\n\\n            b = (p[pix + 0] & 0xff) << netbiasshift;\\n            g = (p[pix + 1] & 0xff) << netbiasshift;\\n            r = (p[pix + 2] & 0xff) << netbiasshift;\\n            j = contest(b, g, r);\\n\\n            altersingle(alpha, j, b, g, r);\\n\\n            if (rad !== 0) {\\n                // Alter neighbours\\n                alterneigh(rad, j, b, g, r);\\n            }\\n\\n            pix += step;\\n\\n            if (pix >= lim) {\\n                pix -= lengthcount;\\n            }\\n\\n            i++;\\n\\n            if (delta === 0) {\\n                delta = 1;\\n            }\\n\\n            if (i % delta === 0) {\\n                alpha -= alpha / alphadec;\\n                radius -= radius / radiusdec;\\n                rad = radius >> radiusbiasshift;\\n\\n                if (rad <= 1) {\\n                    rad = 0;\\n                }\\n\\n                for (j = 0; j < rad; j++) {\\n                    radpower[j] = alpha * (((rad * rad - j * j) * radbias) / (rad * rad));\\n                }\\n\\n            }\\n\\n        }\\n\\n    }\\n\\n    // Search for BGR values 0..255 (after net is unbiased) and return colour index\\n    function map(b, g, r) {\\n        var i;\\n        var j;\\n        var dist;\\n        var a;\\n        var bestd;\\n        var p;\\n        var best;\\n\\n        // Biggest possible distance is 256 * 3\\n        bestd = 1000;\\n        best = -1;\\n        i = netindex[g]; // index on g\\n        j = i - 1; // start at netindex[g] and work outwards\\n\\n        while ((i < netsize) || (j >= 0)) {\\n\\n            if (i < netsize) {\\n\\n                p = network[i];\\n\\n                dist = p[1] - g; // inx key\\n\\n                if (dist >= bestd) {\\n                    i = netsize; // stop iter\\n                } else {\\n\\n                    i++;\\n\\n                    if (dist < 0) {\\n                        dist = -dist;\\n                    }\\n\\n                    a = p[0] - b;\\n\\n                    if (a < 0) {\\n                        a = -a;\\n                    }\\n\\n                    dist += a;\\n\\n                    if (dist < bestd) {\\n                        a = p[2] - r;\\n\\n                        if (a < 0) {\\n                            a = -a;\\n                        }\\n\\n                        dist += a;\\n\\n                        if (dist < bestd) {\\n                            bestd = dist;\\n                            best = p[3];\\n                        }\\n                    }\\n\\n                }\\n\\n            }\\n\\n            if (j >= 0) {\\n\\n                p = network[j];\\n\\n                dist = g - p[1]; // inx key - reverse dif\\n\\n                if (dist >= bestd) {\\n                    j = -1; // stop iter\\n                } else {\\n\\n                    j--;\\n                    if (dist < 0) {\\n                        dist = -dist;\\n                    }\\n                    a = p[0] - b;\\n                    if (a < 0) {\\n                        a = -a;\\n                    }\\n                    dist += a;\\n\\n                    if (dist < bestd) {\\n                        a = p[2] - r;\\n                        if (a < 0) {\\n                            a = -a;\\n                        }\\n                        dist += a;\\n                        if (dist < bestd) {\\n                            bestd = dist;\\n                            best = p[3];\\n                        }\\n                    }\\n\\n                }\\n\\n            }\\n\\n        }\\n\\n        return (best);\\n\\n    }\\n\\n    function process() {\\n        learn();\\n        unbiasnet();\\n        inxbuild();\\n        return colorMap();\\n    }\\n\\n    // Unbias network to give byte values 0..255 and record position i\\n    // to prepare for sort\\n    function unbiasnet() {\\n        var i;\\n        var j;\\n\\n        for (i = 0; i < netsize; i++) {\\n            network[i][0] >>= netbiasshift;\\n            network[i][1] >>= netbiasshift;\\n            network[i][2] >>= netbiasshift;\\n            network[i][3] = i; // record colour no\\n        }\\n    }\\n\\n    // Move adjacent neurons by precomputed alpha*(1-((i-j)^2/[r]^2))\\n    // in radpower[|i-j|]\\n    function alterneigh(rad, i, b, g, r) {\\n\\n        var j;\\n        var k;\\n        var lo;\\n        var hi;\\n        var a;\\n        var m;\\n\\n        var p;\\n\\n        lo = i - rad;\\n        if (lo < -1) {\\n            lo = -1;\\n        }\\n\\n        hi = i + rad;\\n\\n        if (hi > netsize) {\\n            hi = netsize;\\n        }\\n\\n        j = i + 1;\\n        k = i - 1;\\n        m = 1;\\n\\n        while ((j < hi) || (k > lo)) {\\n\\n            a = radpower[m++];\\n\\n            if (j < hi) {\\n\\n                p = network[j++];\\n\\n                try {\\n\\n                    p[0] -= ((a * (p[0] - b)) / alpharadbias) | 0;\\n                    p[1] -= ((a * (p[1] - g)) / alpharadbias) | 0;\\n                    p[2] -= ((a * (p[2] - r)) / alpharadbias) | 0;\\n\\n                } catch (e) {}\\n\\n            }\\n\\n            if (k > lo) {\\n\\n                p = network[k--];\\n\\n                try {\\n\\n                    p[0] -= ((a * (p[0] - b)) / alpharadbias) | 0;\\n                    p[1] -= ((a * (p[1] - g)) / alpharadbias) | 0;\\n                    p[2] -= ((a * (p[2] - r)) / alpharadbias) | 0;\\n\\n                } catch (e) {}\\n\\n            }\\n\\n        }\\n\\n    }\\n\\n\\n    // Move neuron i towards biased (b,g,r) by factor alpha\\n    function altersingle(alpha, i, b, g, r) {\\n\\n        // alter hit neuron\\n        var n = network[i];\\n        var alphaMult = alpha / initalpha;\\n        n[0] -= ((alphaMult * (n[0] - b))) | 0;\\n        n[1] -= ((alphaMult * (n[1] - g))) | 0;\\n        n[2] -= ((alphaMult * (n[2] - r))) | 0;\\n\\n    }\\n\\n    // Search for biased BGR values\\n    function contest(b, g, r) {\\n\\n        // finds closest neuron (min dist) and updates freq\\n        // finds best neuron (min dist-bias) and returns position\\n        // for frequently chosen neurons, freq[i] is high and bias[i] is negative\\n        // bias[i] = gamma*((1/netsize)-freq[i])\\n\\n        var i;\\n        var dist;\\n        var a;\\n        var biasdist;\\n        var betafreq;\\n        var bestpos;\\n        var bestbiaspos;\\n        var bestd;\\n        var bestbiasd;\\n        var n;\\n\\n        bestd = ~(1 << 31);\\n        bestbiasd = bestd;\\n        bestpos = -1;\\n        bestbiaspos = bestpos;\\n\\n        for (i = 0; i < netsize; i++) {\\n\\n            n = network[i];\\n            dist = n[0] - b;\\n\\n            if (dist < 0) {\\n                dist = -dist;\\n            }\\n\\n            a = n[1] - g;\\n\\n            if (a < 0) {\\n                a = -a;\\n            }\\n\\n            dist += a;\\n\\n            a = n[2] - r;\\n\\n            if (a < 0) {\\n                a = -a;\\n            }\\n\\n            dist += a;\\n\\n            if (dist < bestd) {\\n                bestd = dist;\\n                bestpos = i;\\n            }\\n\\n            biasdist = dist - ((bias[i]) >> (intbiasshift - netbiasshift));\\n\\n            if (biasdist < bestbiasd) {\\n                bestbiasd = biasdist;\\n                bestbiaspos = i;\\n            }\\n\\n            betafreq = (freq[i] >> betashift);\\n            freq[i] -= betafreq;\\n            bias[i] += (betafreq << gammashift);\\n\\n        }\\n\\n        freq[bestpos] += beta;\\n        bias[bestpos] -= betagamma;\\n        return (bestbiaspos);\\n\\n    }\\n\\n    NeuQuantConstructor.apply(this, arguments);\\n\\n    var exports = {};\\n    exports.map = map;\\n    exports.process = process;\\n\\n    return exports;\\n}\\n\\n},{}]},{},[2])'],{type:\"text/javascript\"})));G.push(N),X.push(N)}var S=function(){for(var e=[],t=0;t<256;t++)e[t]=String.fromCharCode(t);return function(t){for(var i=t.length,l=\"\",a=0;a<i;a++)l+=e[t[a]];return l}}();this.setSize=function(e,t){o=e,r=t,(Z=document.createElement(\"canvas\")).width=e,Z.height=t,b=Z.getContext(\"2d\")},this.setDelay=function(e){u=.1*e},this.setRepeat=function(e){R=e},this.addFrame=function(e){null===b&&this.setSize(o,r),b.drawImage(e,0,0,o,r);var t=b.getImageData(0,0,o,r);this.addFrameImageData(t)},this.addFrameImageData=function(e){var t=(e.length,new Uint8Array(e.data));g.push({data:t,width:e.width,height:e.height,palette:I,dithering:m,done:!1,beingProcessed:!1,position:g.length})},this.onRenderProgress=function(e){p=e},this.isRendering=function(){return y},this.getBase64GIF=function(e){i((function(t){var i=S(t),l=\"data:image/gif;base64,\"+btoa(i);e(l)}))},this.getBlobGIF=function(e){i((function(t){var i=new Uint8Array(t),l=new Blob([i],{type:\"image/gif\"});e(l)}))},this.destroy=function(){G.forEach((function(e){e.terminate()}))}}},{omggif:1}]},{},[2])(2)}))}},t={};function i(l){var a=t[l];if(void 0!==a)return a.exports;var n=t[l]={id:l,loaded:!1,exports:{}};return e[l](n,n.exports,i),n.loaded=!0,n.exports}i.amdO={},i.d=(e,t)=>{for(var l in t)i.o(t,l)&&!i.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},i.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,\"exports\",{enumerable:!0,set:()=>{throw new Error(\"ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: \"+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var l={};(()=>{i.d(l,{l:()=>Ne});let e={Mode:{Front:0,Back:1,Full:2},CaptureMode:{SingleSide:0,DoubleSide:1},TrackStatus:{ChangeState:0,Tap:1,DocumentBorder:2,AccessibilityData:3,Diagnostic:4},ModeStr:[\"Front\",\"Back\",\"Full\"],CaptureSensibilityStr:[\"Low\",\"Normal\",\"High\",\"Auto\"],SimpleModeStates:{InfoFront:0,PreviewFront:1,InfoBack:2,PreviewBack:3},DocumentType:{IDCard:0,Passport:1,DriversLicense:2,ForeignCard:3,CreditCard:4,Custom:5},ScanMode:{Generic:0,Specific:1,Search:2},SimpleModeStatesStr:[\"InfoFront\",\"PreviewFront\",\"InfoBack\",\"PreviewBack\"],Version:\"4.1.1\"};var t=i(871);class a{constructor(e,t,i,l,a,n,s){var d=\"\";this.status=0,this.logDebug=!1,this.eventStatus=l,this.caller=i,this.baseURL=e,t.length>0&&(d=t+\".\"),this.widgetLoaded=0,this.languageCustomLoaded=0,this.languageDefaultLoaded=0,this.urlWidget=e+\"/widget.xml\",this.urlLanguageCustom=e+\"/strings/strings.\"+d+\"xml\",this.resourceDict={},this.dpiList=a,this.browserDpi=n,this.scaleFactor=s;for(var c=163*n*s,h=this.dpiList.length-1,o=0;o<this.dpiList.length;o++)if(this.dpiList[o]>c){h=o;break}this.dpi=this.dpiList[h],this.imageScale=163/this.dpi,this.xmlHttpWidget=new XMLHttpRequest,this.xmlHttpWidget.rm=this,this.xmlHttpWidget.onreadystatechange=e=>{if(4==e.target.readyState&&200==e.target.status){var t=new DOMParser;e.target.rm.widgetLoaded=1,e.target.rm.xmlDoc=t.parseFromString(e.target.responseText,\"text/xml\")}else 4==e.target.readyState&&200!=e.target.status&&(e.target.rm.widgetLoaded=-1);e.target.rm.readyEvent(e)},this.xmlHttpWidget.open(\"GET\",this.urlWidget),this.xmlHttpWidget.send(null),this.xmlHttpLanguageCustom=new XMLHttpRequest,this.xmlHttpLanguageCustom.rm=this,this.xmlHttpLanguageCustom.onreadystatechange=e=>{4==e.target.readyState&&200==e.target.status?e.target.rm.languageCustomLoaded=1:4==e.target.readyState&&200!=e.target.status&&(e.target.rm.languageCustomLoaded=-1),e.target.rm.readyEvent(e)},this.xmlHttpLanguageCustom.open(\"GET\",this.urlLanguageCustom),this.xmlHttpLanguageCustom.send(null)}readyEvent(e){if(0!==e.target.rm.widgetLoaded&&(0!==e.target.rm.languageCustomLoaded||0!==e.target.rm.languageDefaultLoaded)){if(-1==e.target.rm.widgetLoaded)e.target.rm.status=-1;else if(1==e.target.rm.languageCustomLoaded){var t=e.target.rm.xmlHttpLanguageCustom.responseText,i=new DOMParser;e.target.rm.xmlLang=i.parseFromString(t,\"text/xml\"),e.target.rm.status=1}else 1==e.target.rm.languageDefaultLoaded?(t=e.target.rm.xmlHttpLanguageDefault.responseText,i=new DOMParser,e.target.rm.xmlLang=i.parseFromString(t,\"text/xml\"),e.target.rm.status=1):e.target.rm.status=-1;if(1==e.target.rm.status){for(var l,a={},n=e.target.rm.xmlDoc.querySelectorAll(\"[font]\"),s=0;s<n.length;s++)(l=n[s].getAttribute(\"font\")).length>0&&(a[l]=l);if(e.target.rm.fontRequestVector=[],null==document.getElementById(\"FPhi_Widget_style\")){var d,c=document.createElement(\"style\");for(d in c.id=\"FPhi_Widget_style\",a){var h=e.target.rm.getResourceUrlBase(a[d]),o=a[d],r=new XMLHttpRequest;r.open(\"GET\",h,!1),r.send(),200==r.status&&c.appendChild(document.createTextNode(\"@font-face { font-family: '\"+o+\"'; src: url('\"+h+\"'); }\"))}document.head.appendChild(c)}e.target.rm.eventStatus(e.target.rm.caller,!0)}else e.target.rm.eventStatus(e.target.rm.caller,!1)}}static httpGet(e,t){var i=new XMLHttpRequest;return i.onreadystatechange=t,i.open(\"GET\",e),i.send(null),200!=i.status?\"\":i.responseText}getElement(e,t,i){if(\"facephi-widget-conf\"==e)return this.xmlDoc.getElementsByTagName(\"facephi-widget-conf\")[0];var l=\"_portrait\";i&&(l=\"_landscape\");var a=this.xmlDoc.querySelector(\"[id=\"+e+l+\"]\");if(null!=a&&null!=a||(a=this.xmlDoc.querySelector(\"[id=\"+e+\"]\")),this.logDebug&&console.log(a),null!=a){var n=a.querySelector(\"[id=\"+t+\"]\");return this.logDebug&&console.log(n),null==n?void console.log(\"ResourceManager::getElement Error. elementId=\"+t+\" undefined. Please verify resource's bundle.\"):n}console.log(\"ResourceManager::getElement Error. viewId=\"+e+\" undefined. Please verify resource's bundle.\")}getElements(e,t){var i=\"_portrait\";t&&(i=\"_landscape\");var l=this.xmlDoc.querySelector(\"[id=\"+e+i+\"]\");null!=l&&null!=l||(l=this.xmlDoc.querySelector(\"[id=\"+e+\"]\"));var a=[];if(l)for(var n=0;n<l.childNodes.length;n++)if(l.childNodes[n].nodeType==Node.ELEMENT_NODE){var s=null;void 0!==l.childNodes[n].attributes.mode&&(s=l.childNodes[n].attributes.mode.value),a.push({type:l.childNodes[n].nodeName,id:l.childNodes[n].attributes.id.value,mode:s})}return 0==a.length&&console.log(\"FPhi.ResourceManager: No elements for view=\"+e),a}isAttributeAvailable(e,t,i,l){var a=null;if(\"facephi-widget-conf\"==e)a=this.xmlDoc.getElementsByTagName(\"facephi-widget-conf\")[0];else{var n=\"_portrait\";i&&(n=\"_landscape\");var s=this.xmlDoc.querySelector(\"[id=\"+e+n+\"]\");if(null!=s&&null!=s||(s=this.xmlDoc.querySelector(\"[id=\"+e+\"]\")),null!=s){var d=s.querySelector(\"[id=\"+t+\"]\");null!=d&&(a=d)}}if(null==a||null==a)return!1;var c=a.getAttribute(l);return null!=c&&null!=c}getSetupColor(e,t,i,l){var a=this.getElement(e,t,i);if(null==a||null==a)return null;var n,s,d,c,h=a.getAttribute(l);return null==h||null==h?null:(9==h.length&&(n=parseInt(h.substring(1,3),16),s=parseInt(h.substring(3,5),16),d=parseInt(h.substring(5,7),16),c=parseInt(h.substring(7,9),16),h=\"rgba(\"+n+\", \"+s+\", \"+d+\", \"+(c/=255).toFixed(3)+\")\"),h)}getSetupColorWithAlpha(e,t,i,l,a){var n=this.getElement(e,t,i).getAttribute(l);return\"rgba(\"+parseInt(n.substring(1,3),16)+\", \"+parseInt(n.substring(3,5),16)+\", \"+parseInt(n.substring(5,7),16)+\", \"+a.toFixed(3)+\")\"}getSetupFloat(e,t,i,l){var a=this.getElement(e,t,i).getAttribute(l);return parseFloat(a)}getSetupAlign(e,t,i,l){return this.getElement(e,t,i).getAttribute(l)}getSetupResourceId(e,t,i,l){var a=this.getElement(e,t,i).getAttribute(l),n=a.split(\",\");return n&&n.length>1?n[Math.floor(Math.random()*n.length)].trim():a}getSetupTextId(e,t,i,l){return this.getElement(e,t,i).getAttribute(l)}getSetupNodeType(e,t,i){return this.getElement(e,t,i).getAttribute(\"content_type\")}getResourceUrl(e){return this.baseURL+\"/resources/\"+this.dpi+\"dpi/\"+e}getResourceUrlBase(e){return this.baseURL+\"/resources/\"+this.dpiList[0]+\"dpi/\"+e}getImageScale(){return this.imageScale}getImage(e){if(!(e in this.resourceDict)){var t=this.getResourceUrl(e),i=document.createElement(\"img\");i.src=t,this.resourceDict[e]=i}return this.resourceDict[e]}translate(e){var t=e,i=this.xmlLang.querySelector(\"[id=\"+e+\"]\");return this.logDebug&&console.log(i),null!=i&&(t=i.textContent),t}}if(!n)var n={};n.SelphID=e;class s extends class{constructor(e){this.width=0,this.height=0,this.landscape=!1}cacheResources(){}setCanvasSize(e,t){this.width=e,this.height=t,this.landscape=this.width>=this.height}getCameraRect(e,t,i,l){this.setCanvasSize(e.canvas.clientWidth,e.canvas.clientHeight);var a=this.scaleRect({width:t,height:i},{x:0,y:0,width:this.width,height:this.height});return a.visible=!0,a}getResourceIdForState(e){throw new Error(\"FPhi.Widget.drawer.abstract.js: Can't instantiate abstract class\")}onMouseMove(e,t,i,l,a){e.style.cursor=\"button\"==a||\"buttonImage\"==a?\"pointer\":\"default\"}draw(e,t,i,l,a,n,s,d,c){throw new Error(\"Can't instantiate abstract class\")}getLayout(e,t,i,l,a,n,s){throw new Error(\"Can't instantiate abstract class\")}cacheAnimation(e,t){if(this.rm.isAttributeAvailable(e,t,this.landscape,\"id\"))for(var i=this.rm.getSetupResourceId(e,t,this.landscape,\"name\"),l=this.rm.getSetupResourceId(e,t,this.landscape,\"ext\"),a=parseInt(this.rm.getSetupResourceId(e,t,this.landscape,\"start\")),n=parseInt(this.rm.getSetupResourceId(e,t,this.landscape,\"end\")),s=a;s<=n;s++){var d=i+(\"0\"+s).slice(-2)+\".\"+l;this.rm.getImage(d)}}scaleRect(e,t,i){var l=t.x+t.width/2,a=t.y+t.height/2,n=t.width/e.width,s=t.height/e.height,d=e.width*n,c=e.height*n;return null==i?c<t.height&&(d=e.width*s,c=e.height*s):c>=t.height&&(d=e.width*s,c=e.height*s),{x:l-d/2,y:a-c/2,width:d,height:c}}drawButtonImage(e,t,i,l,a,n,s,d){var c=this.rm.getSetupResourceId(i,l,this.landscape,\"value\"),h=this.rm.getImage(c),o=this.canvasSizeFactor*this.rm.getImageScale(),r=h.width*o,m=h.height*o;e.drawImage(h,t.x+t.width/2-r/2,t.y+t.height/2-m/2,r,m)}fillRoundRect(e,t,i,l,a,n){l<2*n&&(n=l/2),a<2*n&&(n=a/2),e.beginPath(),e.moveTo(t+n,i),e.arcTo(t+l,i,t+l,i+a,n),e.arcTo(t+l,i+a,t,i+a,n),e.arcTo(t,i+a,t,i,n),e.arcTo(t,i,t+l,i,n),e.closePath(),e.fill()}drawButton(e,t,i,l){if(this.rm.isAttributeAvailable(i,l,this.landscape,\"radius\")){let a=this.rm.getSetupFloat(i,l,this.landscape,\"radius\");e.fillStyle=this.rm.getSetupColor(i,l,this.landscape,\"decorator\"),this.fillRoundRect(e,t.x,t.y+4,t.width,t.height-4,a),e.fillStyle=this.rm.getSetupColor(i,l,this.landscape,\"background\"),this.fillRoundRect(e,t.x,t.y,t.width,t.height-4,a)}else e.fillStyle=this.rm.getSetupColor(i,l,this.landscape,\"decorator\"),e.fillRect(t.x,t.y+4,t.width,t.height-4),e.fillStyle=this.rm.getSetupColor(i,l,this.landscape,\"background\"),e.fillRect(t.x,t.y,t.width,t.height-4);var a=this.rm.getSetupAlign(i,l,this.landscape,\"align\"),n=this.rm.getSetupNodeType(i,l),s=10*this.canvasSizeFactor;if(\"TEXT_ID\"==n){var d=this.rm.getSetupTextId(i,l,this.landscape,\"content\"),c=this.rm.translate(d),h=this.rm.getSetupFloat(i,l,this.landscape,\"font_size\");h=Math.round(h*this.fontSizeFactor);var o=this.rm.getSetupResourceId(i,l,this.landscape,\"font\");e.font=h+\"px '\"+o+\"'\",e.fillStyle=this.rm.getSetupColor(i,l,this.landscape,\"foreground\");var r=e.measureText(c);\"LEFT\"==a?e.fillText(c,t.x+s,t.y+t.height/2):\"RIGHT\"==a?e.fillText(c,t.x+t.width-r.width-s,t.y+t.height/2):e.fillText(c,t.x+t.width/2-r.width/2,t.y+t.height/2)}else{d=this.rm.getSetupResourceId(i,l,this.landscape,\"content\");var m=this.rm.getImage(d),I=this.canvasSizeFactor*this.rm.getImageScale();\"LEFT\"==a?e.drawImage(m,t.x+s,t.y+t.height/2-m.height*I/2,m.width*I,m.height*I):\"RIGHT\"==a?e.drawImage(m,t.x+t.width-m.width*I-s,t.y+t.height/2-m.height*I/2,m.width*I,m.height*I):e.drawImage(m,t.x+t.width/2-m.width*I/2,t.y+t.height/2-m.height*I/2,m.width*I,m.height*I)}}drawImage(e,t,i,l,a,n,s,d){var c=this.rm.getSetupResourceId(i,l,this.landscape,\"value\"),h=this.rm.getImage(c),o=!1;if(this.rm.isAttributeAvailable(i,l,this.landscape,\"scale\")&&\"CONTAINER\"==this.rm.getSetupResourceId(i,l,this.landscape,\"scale\")&&(o=!0),o)e.drawImage(h,t.x,t.y,t.width,t.height);else{var r=this.canvasSizeFactor*this.rm.getImageScale(),m=h.width*r,I=h.height*r;e.drawImage(h,t.x+t.width/2-m/2,t.y+t.height/2-I/2,m,I)}}drawImageWithClippingCircle(e,t,i,l,a,n){e.save(),e.beginPath(),e.arc(l,a,n,0,2*Math.PI,!1),e.clip(),e.drawImage(i,t.x,t.y,t.width,t.height),e.restore()}drawStringMultiline(e,t,i,l,a,n,s,d,c){var h=t.split(\"\\n\");e.imageSmoothingEnabled=!1,n=Math.round(n*this.fontSizeFactor),e.font=n+\"px '\"+a+\"'\",e.fillStyle=l,e.textBaseline=\"middle\";var o=i.y;if(\"CENTER\"==c){var r=h.length*s;o=i.y+i.height/2-r/2+n/2}else\"BOTTOM\"==c&&(r=h.length*s,o=i.y+i.height-r);for(var m=0;m<h.length;m++){var I=e.measureText(h[m]),Z=i.width/2-I.width/2;\"LEFT\"==d?Z=0:\"RIGHT\"==d&&(Z=i.width-I.width),e.fillText(h[m],i.x+Z,o+m*s)}}}{constructor(e){super(e),this.mode=e.mode,this.preview=e.preview,this.canvasSizeFactor=1,this.fontSizeFactor=1,this.enableButtonCamera=e.enableButtonCamera,this.documentAspectRatio=e.documentAspectRatio,this.documentRect={x:0,y:0,width:100*this.documentAspectRatio,height:100},this.searchingTextMode=1,this.searchingTextModeTime=0,this.cameraCount=0}setCanvasSize(e,t){this.width=e,this.height=t,this.landscape=this.width>=this.height,this.statusHeight=50,this.rm.isAttributeAvailable(\"facephi-widget-conf\",\"facephi-widget-conf\",this.landscape,\"status_height\")&&(this.statusHeight=this.rm.getSetupFloat(\"facephi-widget-conf\",\"facephi-widget-conf\",this.landscape,\"status_height\")),this.documentPadding=30,this.buttonWidth=216,this.buttonHeight=55}fromScreenToCamera(e,t,i,l,a,n,s){var d=this.getCameraRect(e,t,i,l,a),c=s.x-d.x,h=s.y-d.y,o=s.width,r=s.height,m={x:c/d.width*t,y:h/d.height*i,width:o/d.width*t,height:r/d.height*i};return 1==n&&(m.x=t-m.x-m.width),m}getCameraRect(e,t,i,l,a,n){var s=this.scaleRect({width:t,height:i},{x:0,y:0,width:l,height:a});return s.visible=!0,\"UCTutorial1\"!=n&&\"UCTutorial2\"!=n&&\"UCTutorial3\"!=n&&\"UCPreview\"!=n&&\"Error\"!=n||(s.visible=!1),s}getDocRectScreenSpace(e,t,i){var l={x:this.documentPadding,y:this.statusHeight+this.documentPadding,width:e-2*this.documentPadding,height:t-this.statusHeight-2*this.documentPadding},a=this.scaleRect(this.documentRect,l,\"inner\");return this.cameraCount>1&&a.x+a.width>e-60&&a.y+a.height>t-60&&(l={x:this.documentPadding,y:this.statusHeight+this.documentPadding,width:e-60-this.documentPadding,height:t-this.statusHeight-2*this.documentPadding},a=this.scaleRect(this.documentRect,l,\"inner\")),i&&(a.x+=i,a.y+=i,a.width-=2*i,a.height-=2*i),a}getDocRect(e,t,i,l,a,n,s){var d=this.getDocRectScreenSpace(l,a,s);return this.fromScreenToCamera(e,t,i,l,a,n,d)}getResourceIdForState(e){return\"UCWaitingFaceStart\"==e?\"StartExtractor\":\"UCCapture\"==e||\"UCCaptureCameraSwitch\"==e||\"UCCaptureTip\"==e?\"UCCapture\":\"UCCaptureStatus\"==e?\"UCCaptureStatus\":\"UCPreview\"==e?\"UCPreview\":\"UCTimeoutPreview\"==e?\"UCTimeoutPreview\":\"UCFlip\"==e?\"UCFlip\":\"UCTutorial1\"==e?\"UCTutorial1\":\"UCTutorial2\"==e?\"UCTutorial2\":\"UCTutorial3\"==e?\"UCTutorial3\":\"UCWaitRecording\"==e?\"WaitRecording\":\"UCError\"==e?\"Error\":\"InfoFront\"==e||\"PreviewFront\"==e||\"InfoBack\"==e||\"PreviewBack\"==e?e:null}onMouseMove(e,t,i,l,a){e.style.cursor=\"button\"==a||\"buttonImage\"==a?\"pointer\":\"default\"}draw(e,t,i,l,a,n,s,d,c){if(e.imageSmoothingEnabled=!0,\"background\"==a)this.drawBackground(e,t,i,l);else if(\"clearRect\"==a)this.clearRect(e,t,i,l);else if(\"imageProc\"==a)this.drawImageProc(e,t,i,l,n,s,d,c);else if(\"button\"==a)this.drawButton(e,t,i,l);else if(\"buttonGradient\"==a)this.drawButtonGradient(e,t,i,l);else if(\"buttonImage\"==a)this.drawButtonImage(e,t,i,l,n,s,d,c);else if(\"image\"==a)this.drawImage(e,t,i,l,n,s,d,c);else if(\"text\"==a)this.drawText(e,t,i,l,n,s,d,c);else if(\"documentBorder\"==a)this.drawDocumentBorder(e,t,i,l,n,s,d,c);else if(\"documentFlipper\"==a)this.drawDocumentFlipper(e,t,i,l,n,s,d,c);else if(\"video\"==a)null!=c.player&&e.drawImage(c.player,t.x,t.y,t.width,t.height);else if(\"animation\"==a){var h=0;\"UCLivenessMoveDetecting\"==c.state&&(h=c.livenessMoveDirection),this.drawAnimation(e,t,i,l,n,s,d,c,h)}else if(\"initialTip\"==a)this.drawInitialTip(e,t,i,l,n,s,d,c);else if(\"progressRecord\"==l){e.fillStyle=this.rm.getSetupColor(i,l,this.landscape,\"background_color\"),e.fillRect(t.x,t.y,t.width,t.height),e.fillStyle=this.rm.getSetupColor(i,l,this.landscape,\"progress_color\");let a=.2*t.width,n=s%2/1.6,d=t.width*n-a,c=d+a;d<0&&(d=0),d>t.width&&(d=t.width),c>t.width&&(c=t.width),e.fillRect(t.x+d,t.y,c-d,t.height)}else\"rectangle\"==a&&(e.fillStyle=this.rm.getSetupColor(i,l,this.landscape,\"color\"),e.fillRect(t.x,t.y,t.width,t.height))}getLayout(e,t,i,l,a,n,s,d){if(\"document\"==i)return{x:0,y:0,width:this.width,height:this.height};if(\"documentFlipper\"==i)return{x:0,y:0,width:this.width,height:this.height};if(\"logo\"==i){var c=this.rm.getSetupResourceId(t,i,this.landscape,\"value\"),h=this.rm.getImage(c),o=this.canvasSizeFactor*this.rm.getImageScale(),r=h.width*o,m=h.height*o;return{x:this.width/2-r/2,y:this.height-m-16,width:r,height:m}}if(\"background\"==i)return{x:0,y:0,width:this.width,height:this.height};if(\"preview\"==i||\"previewFail\"==i){let e,t=0;if(\"UCPreview\"==d.state||\"PreviewFront\"==d.state||\"PreviewBack\"==d.state){this.landscape&&(t=64);let i={x:this.documentPadding,y:this.statusHeight+this.documentPadding,width:this.width-2*this.documentPadding,height:this.height-this.statusHeight-2*this.documentPadding-t};e=this.scaleRect(this.documentRect,i,\"inner\")}else e=this.getDocRectScreenSpace(this.width,this.height,0);if((\"UCPreview\"==d.state||\"PreviewFront\"==d.state||\"PreviewBack\"==d.state)&&0==this.landscape){let t=this.height-50-100-39-12;e.y=50+t/2-e.height/2}return e}if(\"button_ok\"==i){if(this.landscape){var I=300;return this.width/2<364&&(I=this.width/2-16-16),{x:this.width-I-16,y:this.height-14-50,width:I,height:50}}{let e=50,t={x:this.documentPadding,y:this.statusHeight+this.documentPadding,width:this.width-2*this.documentPadding,height:this.height-this.statusHeight-2*this.documentPadding},i=this.scaleRect(this.documentRect,t,\"inner\"),l=this.height-e-2*e-39-12;return i.y=e+l/2-i.height/2,i.y,i.height,{x:this.documentPadding,y:this.height-14-50,width:this.width-2*this.documentPadding,height:e}}}if(\"button_repeat\"==i){if(this.landscape)return I=300,this.width/2<364&&(I=this.width/2-16-16),{x:16,y:this.height-14-50,width:I,height:50};{let e=50,t={x:this.documentPadding,y:this.statusHeight+this.documentPadding,width:this.width-2*this.documentPadding,height:this.height-this.statusHeight-2*this.documentPadding},i=this.scaleRect(this.documentRect,t,\"inner\"),l=this.height-e-2*e-39-12;return i.y=e+l/2-i.height/2,i.y,i.height,{x:this.documentPadding,y:this.height-28-100,width:this.width-2*this.documentPadding,height:e}}}if(\"button_start\"==i){if(\"InfoFront\"==d.state||\"InfoBack\"==d.state)return{x:this.width/2-134,y:this.height-66-58,width:268,height:66};if(this.landscape)return{x:this.width/2-75,y:this.height/2-25,width:150,height:50};{let e={x:this.documentPadding,y:this.statusHeight+this.documentPadding,width:this.width-2*this.documentPadding,height:this.height-this.statusHeight-2*this.documentPadding},t=this.scaleRect(this.documentRect,e,\"inner\"),i=this.height-50-100-39-12;t.y=50+i/2-t.height/2;let l=t.y+t.height+20;return{x:this.documentPadding,y:l,width:this.width-2*this.documentPadding,height:50}}}if(\"text\"==i){if(this.landscape){if(\"UCCaptureStatus\"==d.state){var Z=0,b={x:this.documentPadding,y:this.statusHeight+this.documentPadding,width:this.width-2*this.documentPadding,height:this.height-this.statusHeight-2*this.documentPadding-Z};return{x:(R=this.scaleRect(this.documentRect,b,\"inner\")).x+.4*R.width,y:R.y,width:.6*R.width,height:R.height}}return\"UCWaitRecording\"==d.state?{x:0,y:.6*this.height,width:this.width,height:50}:\"InfoFront\"==d.state?{x:0,y:374*this.height/640,width:this.width,height:50}:\"UCTimeoutPreview\"==d.state?{x:0,y:0,width:this.width,height:70}:{x:0,y:0,width:this.width,height:50}}return\"UCCapture\"==d.state?{x:0,y:(R=this.getDocRectScreenSpace(this.width,this.height,0)).y-35,width:this.width,height:R.y}:\"UCCaptureStatus\"==d.state?(Z=0,b={x:this.documentPadding,y:this.statusHeight+this.documentPadding,width:this.width-2*this.documentPadding,height:this.height-this.statusHeight-2*this.documentPadding-Z},{x:(R=this.scaleRect(this.documentRect,b,\"inner\")).x+.4*R.width,y:R.y,width:.6*R.width,height:R.height}):\"UCWaitRecording\"==d.state?{x:0,y:.6*this.height,width:this.width,height:50}:\"InfoFront\"==d.state?{x:0,y:374*this.height/640,width:this.width,height:50}:\"UCTimeoutPreview\"==d.state?{x:0,y:0,width:this.width,height:70}:{x:0,y:0,width:this.width,height:50}}if(\"diagnostic\"==i)return{x:0,y:0,width:this.width,height:this.height};if(\"text_detail\"==i){if(\"UCTimeoutPreview\"==d.state)return this.landscape?{x:this.width/2,y:330*this.height/640,width:this.width/2,height:50}:{x:0,y:374*this.height/640,width:this.width,height:50};if(0==this.landscape)return{x:0,y:(R=this.getDocRectScreenSpace(this.width,this.height,0)).y+R.height+15+7,width:this.width,height:this.height}}else{if(\"text_detail2\"==i)return this.landscape?{x:this.width/2,y:280*this.height/640,width:this.width/2,height:50}:{x:0,y:320*this.height/640,width:this.width,height:50};if(\"previewImgOk\"==i||\"previewImgFail\"==i){Z=0,\"UCPreview\"==d.state&&this.landscape&&(Z=64),b={x:this.documentPadding,y:this.statusHeight+this.documentPadding,width:this.width-2*this.documentPadding,height:this.height-this.statusHeight-2*this.documentPadding-Z};var R=this.scaleRect(this.documentRect,b,\"inner\");if(\"UCPreview\"==d.state&&0==this.landscape){var u=this.height-50-100-39-12;R.y=50+u/2-R.height/2}return c=this.rm.getSetupResourceId(t,i,this.landscape,\"value\"),h=this.rm.getImage(c),o=this.canvasSizeFactor*this.rm.getImageScale(),r=h.width*o,m=h.height*o,{x:R.x+R.width/3.5-r/2,y:R.y+R.height/2-m/2,width:r,height:m}}if(\"tip\"==i)return this.landscape?{x:0,y:30,width:this.width,height:200}:{x:0,y:50,width:this.width,height:200};if(\"tip_detail\"==i)return this.landscape?{x:this.width/2,y:0,width:this.width/2,height:this.height}:{x:0,y:this.height/2-60,width:this.width,height:this.height-this.documentPadding-15-2*this.buttonHeight-(this.height/2-60-95)};if(\"background\"==i)return{x:0,y:0,width:this.width,height:this.height};if(\"button_skip\"==i){if(this.landscape){var g=this.buttonWidth;return this.width<800&&((W=(this.width-600)/200)<0&&(W=0),g-=g/2*(W=1-W)),{x:this.documentPadding,y:this.height-this.documentPadding-this.buttonHeight,width:g,height:this.buttonHeight}}{let e=this.width-2*this.documentPadding;return e>262&&(e=262),{x:this.width/2-e/2,y:this.height-this.documentPadding-this.buttonHeight,width:e,height:this.buttonHeight}}}if(\"button_next\"==i){if(this.landscape)return g=this.buttonWidth,this.width<800&&((W=(this.width-600)/200)<0&&(W=0),g-=g/2*(W=1-W)),{x:this.width-this.documentPadding-g,y:this.height-this.documentPadding-this.buttonHeight,width:g,height:this.buttonHeight};{let e=this.width-2*this.documentPadding;return e>262&&(e=262),{x:this.width/2-e/2,y:this.height-this.documentPadding-15-2*this.buttonHeight,width:e,height:this.buttonHeight}}}if(\"button_finish\"==i){var W;if(this.landscape)return g=this.buttonWidth,this.width<800&&((W=(this.width-600)/200)<0&&(W=0),g-=g/2*(W=1-W)),{x:this.width-this.documentPadding-g,y:this.height-this.documentPadding-this.buttonHeight,width:g,height:this.buttonHeight};{let e=this.width-2*this.documentPadding;return e>262&&(e=262),{x:this.width/2-e/2,y:this.height-this.documentPadding-15-2*this.buttonHeight,width:e,height:this.buttonHeight}}}if(\"button_back\"==i){let e=this.width-2*this.documentPadding;return e>262&&(e=262),{x:5,y:0,width:e,height:this.buttonHeight}}if(\"video\"==i)return this.landscape?(b={x:this.documentPadding,y:60,width:this.width/2-2*this.documentPadding,height:this.height-this.buttonHeight-2*this.documentPadding-50},this.scaleRect(this.documentRect,b,\"inner\")):(b={x:this.documentPadding,y:95,width:this.width-2*this.documentPadding,height:this.height/2-60},this.scaleRect(this.documentRect,b,\"inner\"));if(\"initial_tip\"==i){if(\"UCCaptureTip\"==d.state)return{x:0,y:0,width:this.width,height:this.height}}else if(\"button_initial_tip\"==i){if(\"UCCaptureTip\"==d.state)return{x:this.width/2-113,y:this.height/2-79+92,width:226,height:45}}else{if(\"progressRecord\"==i)return{x:.146*this.width,y:.52*this.height,width:.7*this.width,height:18};if(\"imageFront\"==i||\"imageBack\"==i)return\"UCTimeoutPreview\"==d.state?this.landscape?(I=this.height-70-70,{x:0,y:75,width:this.width/2,height:I}):(I=220*this.height/640,{x:this.width/2-I/2,y:75,width:I,height:I}):(I=177*this.height/640,{x:this.width/2-I/2,y:103*this.height/640,width:I,height:I});if(\"titleBox\"==i)return{x:0,y:0,width:this.width,height:70};if(\"tip_video\"==i)return{x:this.circleX-this.circleRadius,y:this.circleY-this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius};if(\"video_success\"==i)return{x:this.circleX-this.circleRadius,y:this.circleY-this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius};if(\"extraction_video\"==i)return{x:this.width/2-.1*this.width,y:.73*this.height,width:.2*this.width,height:.2*this.width};if(\"button_finish\"==i)return{x:.55*this.width,y:this.height-this.buttonHeight,width:.4*this.width,height:this.buttonHeight};if(\"button_exit\"==i)return c=this.rm.getSetupResourceId(t,i,this.landscape,\"value\"),h=this.rm.getImage(c),o=this.canvasSizeFactor*this.rm.getImageScale(),r=h.width*o,m=h.height*o,\"UCTimeoutPreview\"==d.state?{x:this.width-r-30,y:0,width:r+30,height:70}:{x:this.width-r-30,y:0,width:r+30,height:50};if(\"button_info\"==i)return c=this.rm.getSetupResourceId(t,i,this.landscape,\"value\"),h=this.rm.getImage(c),o=this.canvasSizeFactor*this.rm.getImageScale(),r=h.width*o,m=h.height*o,{x:0,y:0,width:r+30,height:50};if(\"button_camera\"==i)return this.cameraCount<2?null:this.enableButtonCamera?(c=this.rm.getSetupResourceId(t,i,this.landscape,\"value\"),h=this.rm.getImage(c),o=this.canvasSizeFactor*this.rm.getImageScale(),r=h.width*o,m=h.height*o,{x:this.width-r-16,y:this.height-m-12,width:r+16,height:m+12}):null;if(\"button_rotate\"==i)return c=this.rm.getSetupResourceId(t,i,this.landscape,\"value\"),h=this.rm.getImage(c),o=this.canvasSizeFactor*this.rm.getImageScale(),r=h.width*o,m=h.height*o,R=this.getDocRectScreenSpace(this.width,this.height,0),\"UCPreview\"!=d.state&&\"PreviewFront\"!=d.state&&\"PreviewBack\"!=d.state||(b={x:this.documentPadding,y:this.statusHeight+this.documentPadding,width:this.width-2*this.documentPadding,height:this.height-this.statusHeight-2*this.documentPadding-Z},R=this.scaleRect(this.documentRect,b,\"inner\"),0==this.landscape&&(u=this.height-50-100-39-12,R.y=50+u/2-R.height/2)),{x:R.x,y:30,width:r+16,height:m+12};if(\"warning\"==i)return{x:0,y:.91*this.height,width:this.width,height:.1*this.height};if(\"warningTooFar\"==i)return{x:0,y:.89*this.height,width:this.width,height:.1*this.height};if(\"camera\"==l)return{x:this.circleX-this.circleRadius,y:this.circleY-this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius};if(\"results\"==l)return{x:this.circleX-this.circleRadius,y:this.circleY-this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius};if(\"liveness_move_text\"==i)return\"UCLivenessMoveStabilizing\"==d.state||\"UCLivenessMoveStabilized\"==d.state||\"UCLivenessMoveDetecting\"==d.state?{x:0,y:.89*this.height,width:this.width,height:.1*this.height}:null;if(\"liveness_move_tip_text\"==i)return 800==this.width?null:{x:this.circleX-this.circleRadius,y:this.circleY-.39*this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius};if(\"liveness_move_tip_text_challenge\"==i)return 800!=this.width?null:{x:this.circleX-this.circleRadius,y:this.circleY-.39*this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius};if(\"livenessInfo_text\"==i)return{x:0,y:.89*this.height,width:this.width,height:.1*this.height};if(\"liveness_move_left\"==i||\"liveness_move_right\"==i||\"liveness_move_top\"==i||\"liveness_move_bottom\"==i){if(-1==d.livenessMoveDirection)return null;if(\"UCLivenessMoveDetecting\"==d.state&&n>=.25&&n<1.75){if(0==d.livenessMoveDirection&&\"liveness_move_top\"!=i)return null;if(2==d.livenessMoveDirection&&\"liveness_move_bottom\"!=i)return null;if(1==d.livenessMoveDirection&&\"liveness_move_right\"!=i)return null;if(3==d.livenessMoveDirection&&\"liveness_move_left\"!=i)return null;var V=!1;return this.rm.isAttributeAvailable(t,i,\"fullscreen\")&&\"true\"==this.rm.getSetupResourceId(t,i,this.landscape,\"fullscreen\")&&(V=!0),V?{x:0,y:0,width:this.width,height:this.height}:{x:this.circleX-this.circleRadius,y:this.circleY-this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius}}return null}if(\"face_searcher\"==i)return{x:0,y:0,width:this.width,height:this.height};if(\"livenessMoveGlasses\"==i){if(2==d.livenessMoveFailReason)return{x:this.circleX-this.circleRadius,y:this.circleY-this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius}}else if(\"livenessMoveSunGlasses\"==i){if(0==d.livenessMoveFailReason)return{x:this.circleX-this.circleRadius,y:this.circleY-this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius}}else if(\"livenessMoveInfo\"==i){if(1==d.livenessMoveFailReason)return{x:this.circleX-this.circleRadius,y:this.circleY-this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius}}else{if(\"animation\"==l)return i!=d.state?null:(V=!1,this.rm.isAttributeAvailable(t,i,\"fullscreen\")&&\"true\"==this.rm.getSetupResourceId(t,i,this.landscape,\"fullscreen\")&&(V=!0),V?{x:0,y:0,width:this.width,height:this.height}:{x:this.circleX-this.circleRadius,y:this.circleY-this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius});if((\"liveness_ok\"==i||\"liveness_nok\"==i)&&\"UCLivenessMoveStabilizing\"==d.state)return{x:this.circleX-this.circleRadius,y:this.circleY-this.circleRadius,width:2*this.circleRadius,height:2*this.circleRadius}}}}return null}drawBackground(e,t,i,l){e.fillStyle=this.rm.getSetupColor(i,l,this.landscape,\"color\"),e.fillRect(t.x,t.y,t.width,t.height)}clearRect(e,t,i,l){e.clearRect(t.x,t.y,t.width,t.height)}drawPoint(e,t,i,l,a){e.fillStyle=a,e.beginPath(),e.arc(t,i,l,0,2*Math.PI),e.fill()}drawLine(e,t,i,l,a,n){e.lineWidth=1,e.strokeStyle=n,e.beginPath(),e.moveTo(t,i),e.lineTo(l,a),e.stroke()}drawButtonImage(e,t,i,l,a,n,s,d){var c=this.rm.getSetupResourceId(i,l,this.landscape,\"value\"),h=this.rm.getImage(c),o=this.canvasSizeFactor*this.rm.getImageScale(),r=h.width*o,m=h.height*o;e.drawImage(h,t.x+t.width/2-r/2,t.y+t.height/2-m/2,r,m)}drawButton(e,t,i,l){let a=0;this.rm.isAttributeAvailable(i,l,this.landscape,\"radius\")&&(a=this.rm.getSetupFloat(i,l,this.landscape,\"radius\"));var n=this.rm.getSetupColor(i,l,this.landscape,\"background\");this.fillRoundedRect(e,t,a,1,1,n);var s=this.rm.getSetupColor(i,l,this.landscape,\"decorator\");this.drawRoundedRectProgressive(e,t,a,1,1,s,1);var d=this.rm.getSetupAlign(i,l,this.landscape,\"align\"),c=this.rm.getSetupNodeType(i,l,this.landscape),h=10*this.canvasSizeFactor;if(\"TEXT_ID\"==c){var o=this.rm.getSetupTextId(i,l,this.landscape,\"content\"),r=this.rm.translate(o),m=this.rm.getSetupFloat(i,l,this.landscape,\"font_size\");m=Math.round(m*this.fontSizeFactor);var I=this.rm.getSetupResourceId(i,l,this.landscape,\"font\");e.font=m+\"px '\"+I+\"'\",e.textBaseline=\"alphabetic\",e.fillStyle=this.rm.getSetupColor(i,l,this.landscape,\"foreground\");var Z=e.measureText(r);\"LEFT\"==d?e.fillText(r,t.x+h,t.y+t.height/2+m/2):\"RIGHT\"==d?e.fillText(r,t.x+t.width-Z.width-h,t.y+t.height/2+m/2):e.fillText(r,t.x+t.width/2-Z.width/2,t.y+t.height/2+m/2)}else{o=this.rm.getSetupResourceId(i,l,this.landscape,\"content\");var b=this.rm.getImage(o),R=this.canvasSizeFactor*this.rm.getImageScale();\"LEFT\"==d?e.drawImage(b,t.x+h,t.y+t.height/2-b.height*R/2,b.width*R,b.height*R):\"RIGHT\"==d?e.drawImage(b,t.x+t.width-b.width*R-h,t.y+t.height/2-b.height*R/2,b.width*R,b.height*R):e.drawImage(b,t.x+t.width/2-b.width*R/2,t.y+t.height/2-b.height*R/2,b.width*R,b.height*R)}}drawButtonGradient(e,t,i,l){let a=0;this.rm.isAttributeAvailable(i,l,this.landscape,\"radius\")&&(a=this.rm.getSetupFloat(i,l,this.landscape,\"radius\"));var n=this.rm.getSetupColor(i,l,this.landscape,\"colorFrom\"),s=this.rm.getSetupColor(i,l,this.landscape,\"colorTo\");this.fillRoundedRectGradient(e,t,a,1,1,n,s);var d=this.rm.getSetupColor(i,l,this.landscape,\"decorator\");this.drawRoundedRectProgressive(e,t,a,1,1,d,1);var c=this.rm.getSetupAlign(i,l,this.landscape,\"align\"),h=this.rm.getSetupNodeType(i,l,this.landscape),o=10*this.canvasSizeFactor;if(\"TEXT_ID\"==h){var r=this.rm.getSetupTextId(i,l,this.landscape,\"content\"),m=this.rm.translate(r),I=this.rm.getSetupFloat(i,l,this.landscape,\"font_size\");I=Math.round(I*this.fontSizeFactor);var Z=this.rm.getSetupResourceId(i,l,this.landscape,\"font\");e.font=I+\"px '\"+Z+\"'\",e.textBaseline=\"alphabetic\",e.fillStyle=this.rm.getSetupColor(i,l,this.landscape,\"foreground\");var b=e.measureText(m);\"LEFT\"==c?e.fillText(m,t.x+o,t.y+t.height/2+I/2):\"RIGHT\"==c?e.fillText(m,t.x+t.width-b.width-o,t.y+t.height/2+I/2):e.fillText(m,t.x+t.width/2-b.width/2,t.y+t.height/2+I/2)}else{r=this.rm.getSetupResourceId(i,l,this.landscape,\"content\");var R=this.rm.getImage(r),u=this.canvasSizeFactor*this.rm.getImageScale();\"LEFT\"==c?e.drawImage(R,t.x+o,t.y+t.height/2-R.height*u/2,R.width*u,R.height*u):\"RIGHT\"==c?e.drawImage(R,t.x+t.width-R.width*u-o,t.y+t.height/2-R.height*u/2,R.width*u,R.height*u):e.drawImage(R,t.x+t.width/2-R.width*u/2,t.y+t.height/2-R.height*u/2,R.width*u,R.height*u)}}drawImageProc(e,t,i,l,a,n,s,d){if(null!=d.previewImage){let a=\"#ffffff\";this.rm.isAttributeAvailable(i,l,this.landscape,\"backgroundColor\")&&(a=this.rm.getSetupColor(i,l,this.landscape,\"backgroundColor\")),e.fillStyle=a,e.fillRect(t.x,t.y,t.width,t.height);var c=d.previewImage,h=this.canvasSizeFactor*this.rm.getImageScale(),o={x:0,y:0,width:c.width*h,height:c.height*h},r=this.scaleRect(o,t,\"inner\");e.drawImage(c,r.x,r.y,r.width,r.height)}this.rm.isAttributeAvailable(i,l,this.landscape,\"overlay\")&&this.fillRoundedRect(e,t,6,1,1,this.rm.getSetupColor(i,l,this.landscape,\"overlay\"))}drawImage(e,t,i,l,a,n,s,d){var c=this.rm.getSetupResourceId(i,l,this.landscape,\"value\"),h=this.rm.getImage(c),o=!1;if(this.rm.isAttributeAvailable(i,l,this.landscape,\"scale\")&&\"CONTAINER\"==this.rm.getSetupResourceId(i,l,this.landscape,\"scale\")&&(o=!0),o)e.drawImage(h,t.x,t.y,t.width,t.height);else{var r=this.canvasSizeFactor*this.rm.getImageScale(),m=h.width*r,I=h.height*r;e.drawImage(h,t.x+t.width/2-m/2,t.y+t.height/2-I/2,m,I)}}drawImageWithClippingCircle(e,t,i,l,a,n){e.save(),e.beginPath(),e.arc(l,a,n,0,2*Math.PI,!1),e.clip(),e.drawImage(i,t.x,t.y,t.width,t.height),e.restore()}cacheAnimation(e,t){for(var i=this.rm.getSetupResourceId(e,t,this.landscape,\"name\"),l=this.rm.getSetupResourceId(e,t,this.landscape,\"ext\"),a=parseInt(this.rm.getSetupResourceId(e,t,this.landscape,\"start\")),n=parseInt(this.rm.getSetupResourceId(e,t,this.landscape,\"end\")),s=a;s<=n;s++){var d=i+(\"0\"+s).slice(-2)+\".\"+l;this.rm.getImage(d)}}drawAnimation(e,t,i,l,a,n,s,d,c){var h=.1;this.rm.isAttributeAvailable(i,l,\"rate\")&&(h=1/parseFloat(this.rm.getSetupResourceId(i,l,this.landscape,\"rate\")));var o=\"FINISH\";this.rm.isAttributeAvailable(i,l,this.landscape,\"animMode\")&&(o=this.rm.getSetupResourceId(i,l,this.landscape,\"animMode\"));var r,m=this.rm.getSetupResourceId(i,l,this.landscape,\"name\"),I=this.rm.getSetupResourceId(i,l,this.landscape,\"ext\"),Z=parseInt(this.rm.getSetupResourceId(i,l,this.landscape,\"start\")),b=parseInt(this.rm.getSetupResourceId(i,l,this.landscape,\"end\")),R=h*(b-Z+1);if(\"FINISH\"==o)(r=Math.floor(n/h+Z))>b&&(r=b);else{var u=n%R/R;r=Math.floor((b-Z)*u+Z)}r<Z&&(r=Z),r>b&&(r=b);var g=m+(\"0\"+r).slice(-2)+\".\"+I,W=this.rm.getImage(g);e.drawImage(W,t.x,t.y,t.width,t.height)}drawInitialTip(e,t,i,l,a,n,s,d){e.fillStyle=\"rgba(0,0,0,0.7)\",e.fillRect(t.x,t.y,t.width,t.height);let c=this.rm.getSetupColor(i,l,this.landscape,\"backgroundColor\"),h={x:this.width/2-160,y:this.height/2-79,width:320,height:158};this.fillRoundedRect(e,h,6,1,1,c);var o=this.rm.getSetupResourceId(i,l,this.landscape,\"image\"),r=this.rm.getImage(o),m=this.canvasSizeFactor*this.rm.getImageScale(),I=r.width*m,Z=r.height*m;e.drawImage(r,h.x+16,h.y+31,I,Z);var b=this.rm.getSetupFloat(i,l,this.landscape,\"font_size\"),R=b+1;this.rm.isAttributeAvailable(i,l,this.landscape,\"line_height\")&&(R=this.rm.getSetupFloat(i,l,this.landscape,\"line_height\"));var u=this.rm.getSetupColor(i,l,this.landscape,\"color\"),g=this.rm.getSetupResourceId(i,l,this.landscape,\"font\"),W={x:h.x+50,y:h.y,width:h.width-35,height:92},V=this.rm.translate(\"capture_tip_text\");this.drawStringMultiline(e,V,W,u,g,b,R,\"LEFT\",\"CENTER\")}drawDocumentBorder(e,t,i,l,a,n,s,d){var c=this.rm.getSetupColor(i,l,this.landscape,\"documentBorderColor\"),h=this.rm.getSetupColor(i,l,this.landscape,\"documentBorderDetectedColor\"),o=0;\"UCPreview\"!=d.state&&\"PreviewFront\"!=d.state&&\"PreviewBack\"!=d.state||this.landscape&&(o=64);let r=this.rm.getSetupColor(i,l,this.landscape,\"statusColor\");0==d.cameraOverflow&&(r=this.rm.getSetupColor(i,l,this.landscape,\"statusColorVariant\")),e.fillStyle=r,e.fillRect(t.x,t.y,t.width,this.statusHeight);var m=this.getDocRectScreenSpace(t.width,t.height,0);if(\"UCPreview\"==d.state||\"PreviewFront\"==d.state||\"PreviewBack\"==d.state){var I={x:t.x+this.documentPadding,y:t.y+this.statusHeight+this.documentPadding,width:t.width-2*this.documentPadding,height:t.height-this.statusHeight-2*this.documentPadding-o};if(m=this.scaleRect(this.documentRect,I,\"inner\"),0==this.landscape){var Z=this.height-50-100-39-12;m.y=50+Z/2-m.height/2}}e.save(),e.beginPath(),e.rect(t.x,t.y+this.statusHeight,t.width,t.height-this.statusHeight),e.rect(m.x,m.y,m.width,m.height),e.closePath(),e.clip(\"evenodd\");let b=this.rm.getSetupColor(i,l,this.landscape,\"backgroundColor\");0==d.cameraOverflow&&(b=this.rm.getSetupColor(i,l,this.landscape,\"backgroundColorVariant\")),e.fillStyle=b,e.fillRect(t.x,t.y+this.statusHeight,t.width,t.height-this.statusHeight),e.restore();var R=this.rm.getSetupFloat(i,l,this.landscape,\"documentBorder\");if(this.drawRoundedRectProgressive(e,m,6,R,2*R,c,1),\"UCCapture\"==d.state){var u=0;1==d.contour[0]&&u++,1==d.contour[1]&&u++,1==d.contour[2]&&u++,1==d.contour[3]&&u++,u>=2?a-this.searchingTextModeTime>.5&&(this.searchingTextMode=2,this.searchingTextModeTime=a):a-this.searchingTextModeTime>.5&&(this.searchingTextMode=1,this.searchingTextModeTime=a);var g,W=this.rm.getSetupFloat(i,l,this.landscape,\"font_size\"),V=this.rm.getSetupColor(i,l,this.landscape,\"font_color\"),p=this.rm.getSetupResourceId(i,l,this.landscape,\"font\");g=1==this.searchingTextMode?this.rm.translate(\"searching1_text\"):this.rm.translate(\"searching2_text\"),this.drawStringMultiline(e,g,m,V,p,W,\"CENTER\",\"CENTER\")}e.lineWidth=this.rm.getSetupFloat(i,l,this.landscape,\"documentBorder\");var G=.15*m.width,X=.15*m.height;1==d.contour[0]&&(e.beginPath(),e.strokeStyle=1==d.contour[0]?h:c,e.moveTo(m.x+G,m.y+6),e.lineTo(m.x+m.width-G,m.y+6),e.stroke()),1==d.contour[1]&&(e.beginPath(),e.strokeStyle=1==d.contour[1]?h:c,e.moveTo(m.x+m.width-6,m.y+X),e.lineTo(m.x+m.width-6,m.y+m.height-X),e.stroke()),1==d.contour[2]&&(e.beginPath(),e.strokeStyle=1==d.contour[2]?h:c,e.moveTo(m.x+m.width-G,m.y+m.height-6),e.lineTo(m.x+G,m.y+m.height-6),e.stroke()),1==d.contour[3]&&(e.beginPath(),e.strokeStyle=1==d.contour[3]?h:c,e.moveTo(m.x+6,m.y+m.height-X),e.lineTo(m.x+6,m.y+X),e.stroke())}drawDocumentFlipper(e,t,i,l,a,n,s,d){var c=this.rm.getSetupColor(i,l,this.landscape,\"documentBorderColor\");this.rm.getSetupColor(i,l,this.landscape,\"documentBorderDetectedColor\");let h=this.rm.getSetupColor(i,l,this.landscape,\"statusColor\");0==d.cameraOverflow&&(h=this.rm.getSetupColor(i,l,this.landscape,\"statusColorVariant\")),e.fillStyle=h,e.fillRect(t.x,t.y,t.width,this.statusHeight);var o,r=this.getDocRectScreenSpace(this.width,this.height,0),m=r.x+r.width/2,I=.5;n<I?(o=1-(1-(o=1-n/I))*(1-o)*(1-o),r.width=r.width*o,r.x=m-r.width/2):(o=1-(1-(o=(n-I)/I))*(1-o)*(1-o),r.width=r.width*o,r.x=m-r.width/2),e.save(),e.beginPath(),e.rect(t.x,t.y+this.statusHeight,t.width,t.height-this.statusHeight),e.rect(r.x,r.y,r.width,r.height),e.closePath(),e.clip(\"evenodd\");let Z=this.rm.getSetupColor(i,l,this.landscape,\"backgroundColor\");if(0==d.cameraOverflow&&(Z=this.rm.getSetupColor(i,l,this.landscape,\"backgroundColorVariant\")),e.fillStyle=Z,e.fillRect(t.x,t.y+this.statusHeight,t.width,t.height-this.statusHeight),e.restore(),e.lineWidth=this.rm.getSetupFloat(i,l,this.landscape,\"documentBorder\"),e.strokeStyle=c,e.strokeRect(r.x,r.y,r.width,r.height),n<I){var b=d.previewImage;e.drawImage(b,r.x,r.y,r.width,r.height)}}drawText(e,t,i,l,a,s,d,c){var h=this.rm.getSetupFloat(i,l,this.landscape,\"font_size\"),o=h+1;this.rm.isAttributeAvailable(i,l,this.landscape,\"line_height\")&&(o=this.rm.getSetupFloat(i,l,this.landscape,\"line_height\"));var r=this.rm.getSetupColor(i,l,this.landscape,\"color\"),m=this.rm.getSetupResourceId(i,l,this.landscape,\"font\"),I=\"CENTER\";this.rm.isAttributeAvailable(i,l,this.landscape,\"align\")&&(I=this.rm.getSetupAlign(i,l,this.landscape,\"align\"));var Z=\"TOP\";this.rm.isAttributeAvailable(i,l,this.landscape,\"valign\")&&(Z=this.rm.getSetupAlign(i,l,this.landscape,\"valign\"));var b=\"\";this.rm.isAttributeAvailable(i,l,this.landscape,\"fontWeight\")&&(b=this.rm.getSetupTextId(i,l,this.landscape,\"fontWeight\")),a<.1&&(r=\"#00000000\");var R=\"\";if(\"text\"==l)\"UCCapture\"==i?R=c.status==n.SelphID.Mode.Front?this.rm.translate(\"capture_front_text\"):this.rm.translate(\"capture_back_text\"):\"UCCaptureStatus\"==i?R=c.status==n.SelphID.Mode.Front?\"Warning\"==d?this.rm.translate(\"capture_status_front_fail\"):this.rm.translate(\"capture_status_front_ok\"):\"Warning\"==d?this.rm.translate(\"capture_status_back_fail\"):this.rm.translate(\"capture_status_back_ok\"):\"UCPreview\"==i?R=c.status==n.SelphID.Mode.Front?this.rm.translate(\"preview_front_text\"):this.rm.translate(\"preview_back_text\"):\"UCFlip\"==i?R=this.rm.translate(\"flip_document\"):\"WaitRecording\"==i?R=this.rm.translate(\"waitRecording\"):\"InfoFront\"==i?R=this.rm.translate(\"infoFront\"):\"InfoBack\"==i?R=this.rm.translate(\"infoBack\"):\"PreviewFront\"==i||\"PreviewBack\"==i?R=this.rm.translate(\"infoQuality\"):\"UCTimeoutPreview\"==i&&(R=this.rm.translate(\"infoTimeoutTitle\"));else if(\"text_detail\"==l)R=\"UCTimeoutPreview\"==i?this.rm.translate(\"infoTimeout\"):this.rm.translate(\"capture_detail_text\");else if(\"text_detail2\"==l)R=this.rm.translate(\"infoTimeout2\");else if(\"tip\"==l){if(\"UCTutorial1\"==i?R=this.rm.translate(\"tutorial1_tip\"):\"UCTutorial2\"==i?R=this.rm.translate(\"tutorial2_tip\"):\"UCTutorial3\"==i&&(R=this.rm.translate(\"tutorial3_tip\")),this.landscape&&this.width<800){var u=(this.width-600)/200;u<0&&(u=0),h-=h/2*(u=1-u)}}else if(\"tip_detail\"==l)\"UCTutorial1\"==i?R=this.rm.translate(\"tutorial1_tip_detail\"):\"UCTutorial2\"==i?R=this.rm.translate(\"tutorial2_tip_detail\"):\"UCTutorial3\"==i&&(R=this.rm.translate(\"tutorial3_tip_detail\"));else if(\"warning\"==l)R=\"Fallo al cargar el modelo!!\";else if(\"diagnostic\"==l)switch(c.diagnostic){case 2:R=this.rm.translate(\"documentDiagnostic_2\");break;case 3:R=this.rm.translate(\"documentDiagnostic_3\");break;case 4:R=this.rm.translate(\"documentDiagnostic_4\");break;case 5:R=this.rm.translate(\"documentDiagnostic_5\");break;case 6:R=this.rm.translate(\"documentDiagnostic_6\");break;case 11:R=this.rm.translate(\"documentDiagnostic_11\");break;case 12:R=this.rm.translate(\"documentDiagnostic_12\");break;case 13:R=this.rm.translate(\"documentDiagnostic_13\");break;case 17:R=this.rm.translate(\"documentDiagnostic_17\");break;case 18:R=this.rm.translate(\"documentDiagnostic_18\");break;case 20:R=this.rm.translate(\"documentDiagnostic_20\")}this.drawStringMultiline(e,R,t,r,m,h,o,I,Z,b)}drawStringMultiline(e,t,i,l,a,n,s,d,c,h){var o=t.split(\"\\n\");e.imageSmoothingEnabled=!1,n=Math.round(n*this.fontSizeFactor),e.font=h+\" \"+n+\"px '\"+a+\"'\",e.fillStyle=l,e.textBaseline=\"middle\";var r=i.y;if(\"CENTER\"==c){var m=o.length*s;r=i.y+i.height/2-m/2+n/2}else\"BOTTOM\"==c&&(m=o.length*s,r=i.y+i.height-m);for(var I=0;I<o.length;I++){var Z=e.measureText(o[I]),b=i.width/2-Z.width/2;\"LEFT\"==d?b=0:\"RIGHT\"==d&&(b=i.width-Z.width),e.fillText(o[I],i.x+b,r+I*s)}}scaleRect(e,t,i){var l=t.x+t.width/2,a=t.y+t.height/2,n=t.width/e.width,s=t.height/e.height,d=e.width*n,c=e.height*n;return null==i?c<t.height&&(d=e.width*s,c=e.height*s):c>=t.height&&(d=e.width*s,c=e.height*s),{x:l-d/2,y:a-c/2,width:d,height:c}}getRoundedRectPerimeter(e,t,i){return 2*Math.PI*i+2*(e-2*i)+2*(t-2*i)}rotatePoint(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}drawRoundedRectProgressive(e,t,i,l,a,n,s){var d,c=this.getRoundedRectPerimeter(t.width,t.height,i)*s,h=0;if(e.lineWidth=l,e.strokeStyle=n,e.fillStyle=n,e.beginPath(),e.moveTo(t.x,t.y+t.height/2),(c-=h=(t.height-2*i)/2)<0){var o=(c+h)/h,r=t.x,m=t.y+t.height/2-h*o;return e.lineTo(r,m),void e.stroke()}return e.lineTo(t.x,t.y+i),(c-=h=Math.PI/2*i)<0?(o=(c+h)/h,r=t.x+i,m=t.y+i,e.arc(r,m,i,Math.PI,Math.PI+Math.PI/2*o),e.stroke(),r+=(d=this.rotatePoint(i,Math.PI+Math.PI/2*o)).x,void(m+=d.y)):(e.arc(t.x+i,t.y+i,i,Math.PI,Math.PI+Math.PI/2),(c-=h=t.width-2*i)<0?(o=(c+h)/h,r=t.x+i+h*o,m=t.y,e.lineTo(r,m),void e.stroke()):(e.lineTo(t.x+t.width-i,t.y),(c-=h=Math.PI/2*i)<0?(o=(c+h)/h,r=t.x+t.width-i,m=t.y+i,e.arc(r,m,i,Math.PI+Math.PI/2,Math.PI+Math.PI/2+Math.PI/2*o),e.stroke(),r+=(d=this.rotatePoint(i,Math.PI+Math.PI/2+Math.PI/2*o)).x,void(m+=d.y)):(e.arc(t.x+t.width-i,t.y+i,i,Math.PI+Math.PI/2,0),(c-=h=t.height-2*i)<0?(o=(c+h)/h,r=t.x+t.width,m=t.y+i+h*o,e.lineTo(r,m),void e.stroke()):(e.lineTo(t.x+t.width,t.y+t.height-i),(c-=h=Math.PI/2*i)<0?(o=(c+h)/h,r=t.x+t.width-i,m=t.y+t.height-i,e.arc(r,m,i,0,Math.PI/2*o),e.stroke(),r+=(d=this.rotatePoint(i,Math.PI/2*o)).x,void(m+=d.y)):(e.arc(t.x+t.width-i,t.y+t.height-i,i,0,Math.PI/2),(c-=h=t.width-2*i)<0?(o=(c+h)/h,r=t.x+t.width-i-h*o,m=t.y+t.height,e.lineTo(r,m),void e.stroke()):(e.lineTo(t.x+i,t.y+t.height),(c-=h=Math.PI/2*i)<0?(o=(c+h)/h,r=t.x+i,m=t.y+t.height-i,e.arc(r,m,i,Math.PI/2,Math.PI/2+Math.PI/2*o),e.stroke(),r+=(d=this.rotatePoint(i,Math.PI/2+Math.PI/2*o)).x,void(m+=d.y)):(e.arc(t.x+i,t.y+t.height-i,i,Math.PI/2,Math.PI),(c-=h=(t.height-2*i)/2)<0?(o=(c+h)/h,r=t.x,m=t.y+t.height-i-h*o,e.lineTo(r,m),void e.stroke()):(r=t.x,m=t.y+t.height/2,e.lineTo(r,m),void e.stroke()))))))))}fillRoundedRect(e,t,i,l,a,n){e.lineWidth=l,e.strokeStyle=n,e.fillStyle=n,e.beginPath(),e.moveTo(t.x,t.y+t.height/2),e.lineTo(t.x,t.y+i),e.arc(t.x+i,t.y+i,i,Math.PI,Math.PI+Math.PI/2),e.lineTo(t.x+t.width-i,t.y),e.arc(t.x+t.width-i,t.y+i,i,Math.PI+Math.PI/2,0),e.lineTo(t.x+t.width,t.y+t.height-i),e.arc(t.x+t.width-i,t.y+t.height-i,i,0,Math.PI/2),e.lineTo(t.x+i,t.y+t.height),e.arc(t.x+i,t.y+t.height-i,i,Math.PI/2,Math.PI);var s=t.x,d=t.y+t.height/2;e.lineTo(s,d),e.fill()}fillRoundedRectGradient(e,t,i,l,a,n,s){let d=e.createLinearGradient(t.x,t.y,t.x+t.width,t.y+t.height);d.addColorStop(0,n),d.addColorStop(1,s),e.lineWidth=l,e.strokeStyle=d,e.fillStyle=d,e.beginPath(),e.moveTo(t.x,t.y+t.height/2),e.lineTo(t.x,t.y+i),e.arc(t.x+i,t.y+i,i,Math.PI,Math.PI+Math.PI/2),e.lineTo(t.x+t.width-i,t.y),e.arc(t.x+t.width-i,t.y+i,i,Math.PI+Math.PI/2,0),e.lineTo(t.x+t.width,t.y+t.height-i),e.arc(t.x+t.width-i,t.y+t.height-i,i,0,Math.PI/2),e.lineTo(t.x+i,t.y+t.height),e.arc(t.x+i,t.y+t.height-i,i,Math.PI/2,Math.PI);var c=t.x,h=t.y+t.height/2;e.lineTo(c,h),e.fill()}}if(!d)var d={};d.SelphID=e;class c{constructor(e,t,i,l){this.width=e,this.height=t,this.rate=i,this.rateInv=1/this.rate,this.lastFrame=performance.now()}frameReady(){let e=performance.now();return(e-this.lastFrame)/1e3>this.rateInv&&(this.lastFrame=e,!0)}addFrame(e){throw new Error(\"Method addFrame must be implemented.\")}generateVideo(){throw new Error(\"Method generateVideo must be implemented.\")}isReady(){throw new Error(\"Method isReady must be implemented\")}}class h extends c{constructor(e,t,i,l){super(e,t,i,l),this.ag=new Animated_GIF,this.ag.setSize(e,t),this.ag.setDelay(this.rateInv),this.processing=!1}addFrame(e){this.frameReady()&&this.ag.addFrameImageData(e)}generateVideo(){this.processing=!0;let e=this;return new Promise((function(t,i){e.ag.getBase64GIF((function(e){t(e)}))}))}isReady(){return!this.processing}}let o=null;class r extends c{constructor(e,t,i,l){super(e,t,i),this.processing=!1,this.ready=!1,this.socketError=!1,this.worker=new Worker((null===o&&(o=URL.createObjectURL(new Blob([atob(\"c2VsZi53c1JlYWR5PSExLHNlbGYud3M9bmV3IFdlYlNvY2tldCgid3NzOi8vd3MtZGV2LmlkY2FwdHVyZS5lcyIpLHNlbGYud3Mub25vcGVuPWZ1bmN0aW9uKCl7cG9zdE1lc3NhZ2Uoe2NtZDoicmVhZHkifSl9LHNlbGYud3Mub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3Bvc3RNZXNzYWdlKHtjbWQ6Im1lc3NhZ2UiLGRhdGE6ZS5kYXRhfSl9LHNlbGYud3Mub25lcnJvcj1mdW5jdGlvbihlKXtjb25zb2xlLmxvZyhlKSxwb3N0TWVzc2FnZSh7Y21kOiJ3c19vbmVycm9yIn0pfSxzZWxmLm9ubWVzc2FnZT1mdW5jdGlvbihlKXtpZigiYWRkRnJhbWUiPT1lLmRhdGEuY21kKXNlbGYud3Muc2VuZCgneyJ0eXBlIjoiVklERU9fRlJBTUUiLCJkYXRhVVJMIjoiJytlLmRhdGEuZGF0YSsnIn0nKTtlbHNlIGlmKCJnZW5lcmF0ZVZpZGVvIj09ZS5kYXRhLmNtZCl7bGV0IHM9J3sidHlwZSI6Ik1BS0VfVklERU8iLCJGUiI6JytlLmRhdGEuZnIrIn0iO3NlbGYud3Muc2VuZChzKX1lbHNlIHBvc3RNZXNzYWdlKHtjbWQ6InVua25vd25NZXNzYWdlIn0pfTs=\")],{type:\"text/javascript\"}))),o)),this.worker.onmessage=this.onMessage.bind(this),this.canvas=document.createElement(\"canvas\"),this.canvas.width=e,this.canvas.height=t,this.promise=null,this.resolve=null,this.reject=null}onMessage(e){if(\"ready\"==e.data.cmd)this.ready=!0;else if(\"message\"==e.data.cmd){let t=JSON.parse(e.data.data);\"SAVED_FRAME\"==t.type?this.ready=!0:this.resolve(t.video)}else\"ws_onerror\"==e.data.cmd&&(this.socketError=!0)}addFrame(e){if(!this.frameReady())return;this.canvas.getContext(\"2d\").putImageData(e,0,0);let t=this.canvas.toDataURL(\"image/jpeg\");this.worker.postMessage({cmd:\"addFrame\",data:t})}generateVideo(){console.log(\"generateVideo\"),this.processing=!0;let e=this;return this.promise=new Promise((function(t,i){e.resolve=t,e.reject=i,e.socketError?e.reject():e.worker.postMessage({cmd:\"generateVideo\",fr:e.rate})})),this.promise}isReady(){return!this.processing&&!!this.ready}}if(!m)var m={};m.SelphID=e;class I extends HTMLElement{constructor(){super(),this.__widgetContainer=this.attachShadow({mode:\"closed\"}),this.__widgetStyles=document.createElement(\"style\"),this.__widgetStyles.innerText=\"\\n            :host { display: block; position: relative; margin: 0; padding: 0; width: 100%; height: 100%; background-color: #181a1b; }\\n            #accessibilityContainer { position: absolute; z-index: 999; width: 100%; height: 100% }\\n            #cameraContainer { width: 100%; height: 100% }\\n        \",this.__widgetContainer.append(this.__widgetStyles),this.__config=new m.SelphID.ConfigurationManager,this.__config.setContainer(this.__widgetContainer),this.__externalCamera=null,this.__elementMounted=!1,this.__accessibilityHasEnabled=!1,this.__waintingMounts=[]}static get attributes(){return{bundlepath:{type:\"string\",property:\"bundlePath\"},resourcespath:{type:\"string\",property:\"resourcesPath\"},graphpath:{type:\"string\",property:\"graphPath\"},accessibility:{type:\"boolean\",property:\"accessibility\"},accessibleelements:{type:\"array\",property:\"accessibleElements\"},language:{type:\"string\",property:\"language\"},dpilist:{type:\"array\",property:\"dpiList\"},canvashd:{type:\"boolean\",property:\"canvasHD\"},initialtip:{type:\"boolean\",property:\"initialTip\"},forcelandscape:{type:\"boolean\",property:\"forceLandscape\"},startsimplemode:{type:\"boolean\",property:\"startSimpleMode\"},asksimplemode:{type:\"boolean\",property:\"askSimpleMode\"},licensekey:{type:\"string\",property:\"license\"},camerawidth:{type:\"number\",property:\"cameraWidth\"},cameraheight:{type:\"number\",property:\"cameraHeight\"},cameraid:{type:\"string\",property:\"cameraId\"},cropfactor:{type:\"number\",property:\"cropFactor\"},documentmode:{type:\"number\",property:\"captureMode\"},previewcapture:{type:\"boolean\",property:\"previewCapture\"},cameraoverflow:{type:\"boolean\",property:\"cameraOverflow\"},blurredthreshold:{type:\"number\",property:\"blurredThreshold\"},externalcamera:{type:\"boolean\",property:\"externalCamera\"},cameramirror:{type:\"boolean\",property:\"cameraMirror\"},documenttype:{type:\"number\",property:\"documentType\"},scanmode:{type:\"number\",property:\"scanMode\"},specificdata:{type:\"string\",property:\"specificData\"},capturetimeout:{type:\"number\",property:\"captureTimeout\"},captureretries:{type:\"number\",property:\"captureRetries\"},imageformat:{type:\"string\",property:\"imageFormat\"},imagequality:{type:\"number\",property:\"imageQuality\"},videorecord:{type:\"boolean\",property:\"videoRecord\"},videorecordrate:{type:\"number\",property:\"videoRecordRate\"},videorecordscale:{type:\"number\",property:\"videoRecordScale\"},videorecordtype:{type:\"number\",property:\"videoRecordType\"},showlog:{type:\"boolean\",property:\"showLog\"},debugmode:{type:\"boolean\",property:\"debugMode\"},onextractionfinished:{type:\"event\",property:\"FPhi.SelphID.Finish.event\"},onusercancelled:{type:\"event\",property:\"FPhi.SelphID.UserCancel.event\"},onextractiontimeout:{type:\"event\",property:\"FPhi.SelphID.ExtractionTimeout.event\"},onexceptioncaptured:{type:\"event\",property:\"FPhi.SelphID.ExceptionCaptured.event\"},onmoduleloaded:{type:\"event\",property:\"FPhi.SelphID.ModuleLoaded.event\"},ontrackstatus:{type:\"event\",property:\"FPhi.SelphID.TrackStatus.event\"}}}connectedCallback(){queueMicrotask((()=>this.__createUserControl(this.__config).__startUserControl().then((()=>{this.__elementMounted=!0,this.__waintingMounts.forEach((e=>e()))}))))}disconnectedCallback(){queueMicrotask((()=>this.__stopUserControl().then((()=>this.__elementMounted=!1))))}reconnectedCallback(){queueMicrotask((()=>this.__restartUserControl(this.__config)))}attributeChangedCallback(e,t,i){this.__setNativeConfiguration(e,i)&&this.reconnectedCallback()}addWidgetEventListener(e,t){this.addEventListener(e,t,!0)}addEventListener(e,t,i){const l=e.toLowerCase().replace(\"-\",\"\"),a=I.attributes[l];\"event\"===a.type&&this.__widgetContainer.addEventListener(a.property,t,i)}static get observedAttributes(){return Object.getOwnPropertyNames(this.attributes)}static async checkCapabilities(){return m.SelphID.CheckCapabilities()}routeClick(e,t){this.__fphiWidget.routeClick(e,t)}mountExternalCamera(e){\"true\"===this.getAttribute(\"externalcamera\")?(this.__externalCamera=e,this.__elementMounted?this.reconnectedCallback():this.__waintingMounts.push((()=>this.reconnectedCallback()))):console.warn(\"FPhi.Widget.Component: An external camera has been tried to be inserted, but we weren't expecting it, so it will be ignored....\")}__createUserControl(e){return this.__fphiWidgetConfig=e,this.__fphiWidget=new m.SelphID.Widget(e),(null!==this.getAttribute(\"debugMode\")&&void 0!==this.getAttribute(\"debugMode\")||null!==this.getAttribute(\"debugmode\")&&void 0!==this.getAttribute(\"debugmode\"))&&(this.__fphiWidget.debug=I.__tryParsePrimitive(this.getAttribute(\"debugMode\"))),this}async __startUserControl(){return this.__fphiWidget&&(this.__fphiWidgetConfig.startSimpleMode?await this.__fphiWidget.StartManual():null!==this.__externalCamera?await this.__fphiWidget.Start(this.__externalCamera):await this.__fphiWidget.Start()),this}async __stopUserControl(){return this.__fphiWidget&&(this.__fphiWidget.Stop(),this.__fphiWidget=null),this}async __restartUserControl(e){try{if(this.__fphiWidget){const t=new m.SelphID.Widget(e),i=this.__fphiWidget;this.__cleanWidgetContainer(),this.__fphiWidget=t,await this.__startUserControl(),i.Stop()}}catch(e){}}__cleanWidgetContainer(){this.__widgetContainer.innerHTML=\"\",this.__widgetContainer.append(this.__widgetStyles)}__setNativeConfiguration(e,t){let i=!1;if(void 0!==I.attributes[e]&&null!==I.attributes[e]){const l=I.attributes[e].property,a=I.attributes[e].type,n=t,s=Reflect.get(this.__config,l);if(null!=t&&n!==s){let e=null;switch(a){case\"event\":e=I.__tryParseFunction(t);break;case\"base64\":e=JSON.stringify(window.atob(t)).replaceAll('\\\\\"','\"').replaceAll('\"{',\"{\").replaceAll('}\"',\"}\");break;default:e=I.__tryParsePrimitive(t)}if(\"debugMode\"===l)void 0!==this.__fphiWidget&&null!==this.__fphiWidget&&\"function\"!=typeof e&&(this.__fphiWidget.debug=e,i=i||!1);else{if(\"accessibility\"!==l||!0!==e||this.__accessibilityHasEnabled||(this.accessibilityRoot=document.createElement(\"div\"),this.accessibilityRoot.id=\"accessibilityContainer\",this.__widgetContainer.append(this.accessibilityRoot),this.__accessibilityHasEnabled=!0),\"function\"==typeof e&&\"event\"===a)this.__widgetContainer.addEventListener(l,e,!0);else{const t=I.__getSetterAttr(l,this.__config);(this.__config?t.bind(this.__config):t)(e)}i=this.__elementMounted}}}return i}static __getSetterAttr(e,t){return t[\"set\"+e.charAt(0).toUpperCase()+e.slice(1)]}static __tryParsePrimitive(e){try{return JSON.parse(e)}catch(t){return e.toString()}}static __tryParseFunction(e){try{return new Function(\"event\",e)}catch(t){return e.toString()}}}const Z={0:\"OK\",1:\"NOT_EVALUATED\",2:\"BAD_ANGLE\",3:\"TOO_FAR\",4:\"TOO_CLOSE\",5:\"OUT_OF_BOUNDS\",6:\"BAD_ASPECT_RATIO\",7:\"DOCUMENT_NOT_FOUND\",8:\"FACE_NOT_FOUND\",9:\"MRZ_NOT_FOUND\",10:\"ATTRIBUTES_NOT_FOUND\",11:\"UNDEREXPOSED\",12:\"OVEREXPOSED\",13:\"BLURRED\",14:\"INSUFFICIENT_SAMPLES\",15:\"INSUFFICIENT_TIME\",16:\"TOO_DELAYED\",17:\"TOO_MOVEMENT\",18:\"FREEZED_DOCUMENT\",19:\"TOO_MUCH_ROLL\",20:\"TOO_SMALL\"};let b=null;const R=e=>{try{return e()}catch(e){return null}};class u{constructor(e){this.__licenseKey=\"\",this.__engineLocation=\"\",this.__imageFormat=\"\",this.__imageQuality=\"\",this.__detectsCount=0,this.__detectsNeeded=10,this.__blurredThreshold=0,this.__mapperToRealConfig(e),this.__frontDocument=null,this.__backDocument=null,this.__faceImage=null,this.__mrzRawString=\"\",this.__worker=new Worker((null===b&&(b=URL.createObjectURL(new Blob([atob(\"dmFyIF9fd2VicGFja19leHBvcnRzX18gPSB7fTsKCjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuLi9idWlsZC90ZW1wL2VuZ2luZXMvZmFjZXBoaS93b3JrZXIvRlBoaS5Xb3JrZXIuVXRpbHMuanMKLyoqCiAqIE1ldGhvZCB0byBjYWxjdWxhdGUgdGhlIGRpZmZlcmVuY2Ugb2YgdGltZXMgaW4gbWlsbGlzZWNvbmRzCiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIFRoZSB0aW1lc3RhbXAKICogQHJldHVybnMgVGhlIGRpZmZlcmVuY2Ugb2YgdGltZXMKICovCmNvbnN0IGRpZmZUaW1lID0gKHRpbWUpID0+IChEYXRlLm5vdygpIC0gdGltZSkgLyAxMDAwOwoKLyoqCiAqIEF1eGlsaWFyIG1ldGhvZCB0byBkZWxldGUgYSBXZWJBc3NlbWJseSBTaWRlIFZhcmlhYmxlcwogKgogKiBAcGFyYW0ge2FycmF5fSBhcnJheSBUaGUgYXJyYXkgd2l0aCBuIGVsZW1lbnRzCiAqLwpjb25zdCBkZWxldGVXYXNtVmFyID0gKC4uLmFycmF5KSA9PiB7CiAgYXJyYXkuZm9yRWFjaCgob2JqKSA9PiB7CiAgICB0cnkgewogICAgICBpZiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmouZGVsZXRlICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIG9iai5kZWxldGUoKTsKICAgICAgfQogICAgfSBjYXRjaChlKSB7CiAgICAgIC8vIE5vdGhpbmcgdG8gZG8KICAgIH0KCiAgfSk7Cn07Cgpjb25zdCBjaGVja1JhdGlvcyA9IChsb2NhdGlvbikgPT4gewogIGxldCBsaW1pdFVwID0gMS4wNTsKICBsZXQgbGltaXREb3duID0gMC45NTsKICBsZXQgV2lkdGhVcCA9IE1hdGguYWJzKGxvY2F0aW9uLnRvcFJpZ2h0LnggLSBsb2NhdGlvbi50b3BMZWZ0LngpOwogIGxldCBXaWR0aERvd24gPSBNYXRoLmFicyhsb2NhdGlvbi5ib3R0b21SaWdodC54IC0gbG9jYXRpb24uYm90dG9tTGVmdC54KTsKICBsZXQgaGVpZ2h0TGVmdCA9IE1hdGguYWJzKGxvY2F0aW9uLmJvdHRvbUxlZnQueSAtIGxvY2F0aW9uLnRvcExlZnQueSk7CiAgbGV0IGhlaWdodFJpZ2h0ID0gTWF0aC5hYnMobG9jYXRpb24uYm90dG9tUmlnaHQueSAtIGxvY2F0aW9uLnRvcFJpZ2h0LnkpOwogIGxldCByYXRpb1dpZHRoID0gV2lkdGhVcCAvIFdpZHRoRG93bjsKICBsZXQgcmF0aW9IZWlnaHQgPSBoZWlnaHRMZWZ0IC8gaGVpZ2h0UmlnaHQ7CgogIHJldHVybiAhIShsaW1pdERvd24gPCByYXRpb1dpZHRoICYmCiAgICByYXRpb1dpZHRoIDwgbGltaXRVcCAmJgogICAgbGltaXREb3duIDwgcmF0aW9IZWlnaHQgJiYKICAgIHJhdGlvSGVpZ2h0IDwgbGltaXRVcCk7Cn07CgoKCjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuLi9idWlsZC90ZW1wL2VuZ2luZXMvZmFjZXBoaS93b3JrZXIvRlBoaS5Xb3JrZXIuTG9nZ2VyLmpzCi8qKgogKiBTZW5kIGRlYnVnIG1lc3NhZ2UgaW50byBEZXYgV2ViIENvbnNvbGUuCiAqIAogKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZGVzaXJlZCBtZXNzYWdlIHRvIHNlbmQuIAogKi8KLy9jb25zdCBkZWJ1Z01lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gc2VsZi5wb3N0TWVzc2FnZSh7IGNtZDogImRlYnVnTWVzc2FnZSIsIG1lc3NhZ2U6IG1lc3NhZ2UudG9TdHJpbmcoKSB9KTsKY29uc3QgZGVidWdNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UpID0+IGNvbnNvbGUuZGVidWcobWVzc2FnZSk7CgovKioKICogU2VuZCBpbmZvIG1lc3NhZ2UgaW50byBEZXYgV2ViIENvbnNvbGUuCiAqIAogKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZGVzaXJlZCBtZXNzYWdlIHRvIHNlbmQuIAogKi8KLy9jb25zdCBpbmZvTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlKSA9PiBzZWxmLnBvc3RNZXNzYWdlKHsgY21kOiAiaW5mb01lc3NhZ2UiLCBtZXNzYWdlOiBtZXNzYWdlLnRvU3RyaW5nKCkgfSk7CmNvbnN0IGluZm9NZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UpID0+IGNvbnNvbGUubG9nKG1lc3NhZ2UpOwoKLyoqCiAqIFNlbmQgd2FybmluZyBtZXNzYWdlIGludG8gRGV2IFdlYiBDb25zb2xlLgogKiAKICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGRlc2lyZWQgbWVzc2FnZSB0byBzZW5kLiAKICovCi8vY29uc3Qgd2FybmluZ01lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gc2VsZi5wb3N0TWVzc2FnZSh7IGNtZDogIndhcm5pbmdNZXNzYWdlIiwgbWVzc2FnZTogbWVzc2FnZS50b1N0cmluZygpIH0pOwpjb25zdCB3YXJuaW5nTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlKSA9PiBjb25zb2xlLndhcm4obWVzc2FnZSk7Ci8vY29uc3Qgd2FybmluZ01lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gbnVsbAoKLyoqCiAqIFNlbmQgZXJyb3IgbWVzc2FnZSBpbnRvIERldiBXZWIgQ29uc29sZS4KICogCiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBkZXNpcmVkIG1lc3NhZ2UgdG8gc2VuZC4gCiAqLwovL2NvbnN0IGVycm9yTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlKSA9PiBzZWxmLnBvc3RNZXNzYWdlKHsgY21kOiAiZXJyb3JNZXNzYWdlIiwgbWVzc2FnZTogbWVzc2FnZS50b1N0cmluZygpIH0pOwpjb25zdCBlcnJvck1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gY29uc29sZS5lcnJvcihtZXNzYWdlKTsKLy9jb25zdCBlcnJvck1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSkgPT4gbnVsbAoKCjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuLi9idWlsZC90ZW1wL2VuZ2luZXMvZmFjZXBoaS93b3JrZXIvRlBoaS5Xb3JrZXIuUnVudGltZS5qcwoKdmFyIE1vZHVsZSA9IChmdW5jdGlvbigpIHsKICB2YXIgX3NjcmlwdERpciA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuY3VycmVudFNjcmlwdCA/IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjIDogdW5kZWZpbmVkOwogIAogIHJldHVybiAoCmZ1bmN0aW9uKE1vZHVsZSkgewogIE1vZHVsZSA9IE1vZHVsZSB8fCB7fTsKCnZhciBNb2R1bGU9dHlwZW9mIE1vZHVsZSE9PSJ1bmRlZmluZWQiP01vZHVsZTp7fTt2YXIgcmVhZHlQcm9taXNlUmVzb2x2ZSxyZWFkeVByb21pc2VSZWplY3Q7TW9kdWxlWyJyZWFkeSJdPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtyZWFkeVByb21pc2VSZXNvbHZlPXJlc29sdmU7cmVhZHlQcm9taXNlUmVqZWN0PXJlamVjdH0pO3ZhciBtb2R1bGVPdmVycmlkZXM9e307dmFyIGtleTtmb3Ioa2V5IGluIE1vZHVsZSl7aWYoTW9kdWxlLmhhc093blByb3BlcnR5KGtleSkpe21vZHVsZU92ZXJyaWRlc1trZXldPU1vZHVsZVtrZXldfX12YXIgYXJndW1lbnRzXz1bXTt2YXIgdGhpc1Byb2dyYW09Ii4vdGhpcy5wcm9ncmFtIjt2YXIgcXVpdF89ZnVuY3Rpb24oc3RhdHVzLHRvVGhyb3cpe3Rocm93IHRvVGhyb3d9O3ZhciBFTlZJUk9OTUVOVF9JU19XRUI9dHJ1ZTt2YXIgRU5WSVJPTk1FTlRfSVNfV09SS0VSPWZhbHNlO3ZhciBzY3JpcHREaXJlY3Rvcnk9IiI7ZnVuY3Rpb24gbG9jYXRlRmlsZShwYXRoKXtpZihNb2R1bGVbImxvY2F0ZUZpbGUiXSl7cmV0dXJuIE1vZHVsZVsibG9jYXRlRmlsZSJdKHBhdGgsc2NyaXB0RGlyZWN0b3J5KX1yZXR1cm4gc2NyaXB0RGlyZWN0b3J5K3BhdGh9dmFyIHJlYWRfLHJlYWRBc3luYyxyZWFkQmluYXJ5LHNldFdpbmRvd1RpdGxlO2lmKEVOVklST05NRU5UX0lTX1dFQnx8RU5WSVJPTk1FTlRfSVNfV09SS0VSKXtpZihFTlZJUk9OTUVOVF9JU19XT1JLRVIpe3NjcmlwdERpcmVjdG9yeT1zZWxmLmxvY2F0aW9uLmhyZWZ9ZWxzZSBpZih0eXBlb2YgZG9jdW1lbnQhPT0idW5kZWZpbmVkIiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCl7c2NyaXB0RGlyZWN0b3J5PWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjfWlmKF9zY3JpcHREaXIpe3NjcmlwdERpcmVjdG9yeT1fc2NyaXB0RGlyfWlmKHNjcmlwdERpcmVjdG9yeS5pbmRleE9mKCJibG9iOiIpIT09MCl7c2NyaXB0RGlyZWN0b3J5PXNjcmlwdERpcmVjdG9yeS5zdWJzdHIoMCxzY3JpcHREaXJlY3RvcnkubGFzdEluZGV4T2YoIi8iKSsxKX1lbHNle3NjcmlwdERpcmVjdG9yeT0iIn17cmVhZF89ZnVuY3Rpb24odXJsKXt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIix1cmwsZmFsc2UpO3hoci5zZW5kKG51bGwpO3JldHVybiB4aHIucmVzcG9uc2VUZXh0fTtpZihFTlZJUk9OTUVOVF9JU19XT1JLRVIpe3JlYWRCaW5hcnk9ZnVuY3Rpb24odXJsKXt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdDt4aHIub3BlbigiR0VUIix1cmwsZmFsc2UpO3hoci5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt4aHIuc2VuZChudWxsKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoeGhyLnJlc3BvbnNlKX19cmVhZEFzeW5jPWZ1bmN0aW9uKHVybCxvbmxvYWQsb25lcnJvcil7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7eGhyLm9wZW4oIkdFVCIsdXJsLHRydWUpO3hoci5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjt4aHIub25sb2FkPWZ1bmN0aW9uKCl7aWYoeGhyLnN0YXR1cz09MjAwfHx4aHIuc3RhdHVzPT0wJiZ4aHIucmVzcG9uc2Upe29ubG9hZCh4aHIucmVzcG9uc2UpO3JldHVybn1vbmVycm9yKCl9O3hoci5vbmVycm9yPW9uZXJyb3I7eGhyLnNlbmQobnVsbCl9fXNldFdpbmRvd1RpdGxlPWZ1bmN0aW9uKHRpdGxlKXtkb2N1bWVudC50aXRsZT10aXRsZX19ZWxzZXt9dmFyIG91dD1Nb2R1bGVbInByaW50Il18fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7dmFyIGVycj1Nb2R1bGVbInByaW50RXJyIl18fGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpO2ZvcihrZXkgaW4gbW9kdWxlT3ZlcnJpZGVzKXtpZihtb2R1bGVPdmVycmlkZXMuaGFzT3duUHJvcGVydHkoa2V5KSl7TW9kdWxlW2tleV09bW9kdWxlT3ZlcnJpZGVzW2tleV19fW1vZHVsZU92ZXJyaWRlcz1udWxsO2lmKE1vZHVsZVsiYXJndW1lbnRzIl0pYXJndW1lbnRzXz1Nb2R1bGVbImFyZ3VtZW50cyJdO2lmKE1vZHVsZVsidGhpc1Byb2dyYW0iXSl0aGlzUHJvZ3JhbT1Nb2R1bGVbInRoaXNQcm9ncmFtIl07aWYoTW9kdWxlWyJxdWl0Il0pcXVpdF89TW9kdWxlWyJxdWl0Il07dmFyIHRlbXBSZXQwPTA7dmFyIHNldFRlbXBSZXQwPWZ1bmN0aW9uKHZhbHVlKXt0ZW1wUmV0MD12YWx1ZX07dmFyIHdhc21CaW5hcnk7aWYoTW9kdWxlWyJ3YXNtQmluYXJ5Il0pd2FzbUJpbmFyeT1Nb2R1bGVbIndhc21CaW5hcnkiXTt2YXIgbm9FeGl0UnVudGltZT1Nb2R1bGVbIm5vRXhpdFJ1bnRpbWUiXXx8dHJ1ZTtpZih0eXBlb2YgV2ViQXNzZW1ibHkhPT0ib2JqZWN0Iil7YWJvcnQoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKX12YXIgd2FzbU1lbW9yeTt2YXIgQUJPUlQ9ZmFsc2U7dmFyIEVYSVRTVEFUVVM7ZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbix0ZXh0KXtpZighY29uZGl0aW9uKXthYm9ydCgiQXNzZXJ0aW9uIGZhaWxlZDogIit0ZXh0KX19dmFyIFVURjhEZWNvZGVyPXR5cGVvZiBUZXh0RGVjb2RlciE9PSJ1bmRlZmluZWQiP25ldyBUZXh0RGVjb2RlcigidXRmOCIpOnVuZGVmaW5lZDtmdW5jdGlvbiBVVEY4QXJyYXlUb1N0cmluZyhoZWFwLGlkeCxtYXhCeXRlc1RvUmVhZCl7dmFyIGVuZElkeD1pZHgrbWF4Qnl0ZXNUb1JlYWQ7dmFyIGVuZFB0cj1pZHg7d2hpbGUoaGVhcFtlbmRQdHJdJiYhKGVuZFB0cj49ZW5kSWR4KSkrK2VuZFB0cjtpZihlbmRQdHItaWR4PjE2JiZoZWFwLnN1YmFycmF5JiZVVEY4RGVjb2Rlcil7cmV0dXJuIFVURjhEZWNvZGVyLmRlY29kZShoZWFwLnN1YmFycmF5KGlkeCxlbmRQdHIpKX1lbHNle3ZhciBzdHI9IiI7d2hpbGUoaWR4PGVuZFB0cil7dmFyIHUwPWhlYXBbaWR4KytdO2lmKCEodTAmMTI4KSl7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTtjb250aW51ZX12YXIgdTE9aGVhcFtpZHgrK10mNjM7aWYoKHUwJjIyNCk9PTE5Mil7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCh1MCYzMSk8PDZ8dTEpO2NvbnRpbnVlfXZhciB1Mj1oZWFwW2lkeCsrXSY2MztpZigodTAmMjQwKT09MjI0KXt1MD0odTAmMTUpPDwxMnx1MTw8Nnx1Mn1lbHNle3UwPSh1MCY3KTw8MTh8dTE8PDEyfHUyPDw2fGhlYXBbaWR4KytdJjYzfWlmKHUwPDY1NTM2KXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodTApfWVsc2V7dmFyIGNoPXUwLTY1NTM2O3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxjaD4+MTAsNTYzMjB8Y2gmMTAyMyl9fX1yZXR1cm4gc3RyfWZ1bmN0aW9uIFVURjhUb1N0cmluZyhwdHIsbWF4Qnl0ZXNUb1JlYWQpe3JldHVybiBwdHI/VVRGOEFycmF5VG9TdHJpbmcoSEVBUFU4LHB0cixtYXhCeXRlc1RvUmVhZCk6IiJ9ZnVuY3Rpb24gc3RyaW5nVG9VVEY4QXJyYXkoc3RyLGhlYXAsb3V0SWR4LG1heEJ5dGVzVG9Xcml0ZSl7aWYoIShtYXhCeXRlc1RvV3JpdGU+MCkpcmV0dXJuIDA7dmFyIHN0YXJ0SWR4PW91dElkeDt2YXIgZW5kSWR4PW91dElkeCttYXhCeXRlc1RvV3JpdGUtMTtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgdT1zdHIuY2hhckNvZGVBdChpKTtpZih1Pj01NTI5NiYmdTw9NTczNDMpe3ZhciB1MT1zdHIuY2hhckNvZGVBdCgrK2kpO3U9NjU1MzYrKCh1JjEwMjMpPDwxMCl8dTEmMTAyM31pZih1PD0xMjcpe2lmKG91dElkeD49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPXV9ZWxzZSBpZih1PD0yMDQ3KXtpZihvdXRJZHgrMT49ZW5kSWR4KWJyZWFrO2hlYXBbb3V0SWR4KytdPTE5Mnx1Pj42O2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfWVsc2UgaWYodTw9NjU1MzUpe2lmKG91dElkeCsyPj1lbmRJZHgpYnJlYWs7aGVhcFtvdXRJZHgrK109MjI0fHU+PjEyO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfWVsc2V7aWYob3V0SWR4KzM+PWVuZElkeClicmVhaztoZWFwW291dElkeCsrXT0yNDB8dT4+MTg7aGVhcFtvdXRJZHgrK109MTI4fHU+PjEyJjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1Pj42JjYzO2hlYXBbb3V0SWR4KytdPTEyOHx1JjYzfX1oZWFwW291dElkeF09MDtyZXR1cm4gb3V0SWR4LXN0YXJ0SWR4fWZ1bmN0aW9uIHN0cmluZ1RvVVRGOChzdHIsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl7cmV0dXJuIHN0cmluZ1RvVVRGOEFycmF5KHN0cixIRUFQVTgsb3V0UHRyLG1heEJ5dGVzVG9Xcml0ZSl9ZnVuY3Rpb24gbGVuZ3RoQnl0ZXNVVEY4KHN0cil7dmFyIGxlbj0wO2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciB1PXN0ci5jaGFyQ29kZUF0KGkpO2lmKHU+PTU1Mjk2JiZ1PD01NzM0Myl1PTY1NTM2KygodSYxMDIzKTw8MTApfHN0ci5jaGFyQ29kZUF0KCsraSkmMTAyMztpZih1PD0xMjcpKytsZW47ZWxzZSBpZih1PD0yMDQ3KWxlbis9MjtlbHNlIGlmKHU8PTY1NTM1KWxlbis9MztlbHNlIGxlbis9NH1yZXR1cm4gbGVufXZhciBVVEYxNkRlY29kZXI9dHlwZW9mIFRleHREZWNvZGVyIT09InVuZGVmaW5lZCI/bmV3IFRleHREZWNvZGVyKCJ1dGYtMTZsZSIpOnVuZGVmaW5lZDtmdW5jdGlvbiBVVEYxNlRvU3RyaW5nKHB0cixtYXhCeXRlc1RvUmVhZCl7dmFyIGVuZFB0cj1wdHI7dmFyIGlkeD1lbmRQdHI+PjE7dmFyIG1heElkeD1pZHgrbWF4Qnl0ZXNUb1JlYWQvMjt3aGlsZSghKGlkeD49bWF4SWR4KSYmSEVBUFUxNltpZHhdKSsraWR4O2VuZFB0cj1pZHg8PDE7aWYoZW5kUHRyLXB0cj4zMiYmVVRGMTZEZWNvZGVyKXtyZXR1cm4gVVRGMTZEZWNvZGVyLmRlY29kZShIRUFQVTguc3ViYXJyYXkocHRyLGVuZFB0cikpfWVsc2V7dmFyIHN0cj0iIjtmb3IodmFyIGk9MDshKGk+PW1heEJ5dGVzVG9SZWFkLzIpOysraSl7dmFyIGNvZGVVbml0PUhFQVAxNltwdHIraSoyPj4xXTtpZihjb2RlVW5pdD09MClicmVhaztzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVVuaXQpfXJldHVybiBzdHJ9fWZ1bmN0aW9uIHN0cmluZ1RvVVRGMTYoc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpe2lmKG1heEJ5dGVzVG9Xcml0ZT09PXVuZGVmaW5lZCl7bWF4Qnl0ZXNUb1dyaXRlPTIxNDc0ODM2NDd9aWYobWF4Qnl0ZXNUb1dyaXRlPDIpcmV0dXJuIDA7bWF4Qnl0ZXNUb1dyaXRlLT0yO3ZhciBzdGFydFB0cj1vdXRQdHI7dmFyIG51bUNoYXJzVG9Xcml0ZT1tYXhCeXRlc1RvV3JpdGU8c3RyLmxlbmd0aCoyP21heEJ5dGVzVG9Xcml0ZS8yOnN0ci5sZW5ndGg7Zm9yKHZhciBpPTA7aTxudW1DaGFyc1RvV3JpdGU7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7SEVBUDE2W291dFB0cj4+MV09Y29kZVVuaXQ7b3V0UHRyKz0yfUhFQVAxNltvdXRQdHI+PjFdPTA7cmV0dXJuIG91dFB0ci1zdGFydFB0cn1mdW5jdGlvbiBsZW5ndGhCeXRlc1VURjE2KHN0cil7cmV0dXJuIHN0ci5sZW5ndGgqMn1mdW5jdGlvbiBVVEYzMlRvU3RyaW5nKHB0cixtYXhCeXRlc1RvUmVhZCl7dmFyIGk9MDt2YXIgc3RyPSIiO3doaWxlKCEoaT49bWF4Qnl0ZXNUb1JlYWQvNCkpe3ZhciB1dGYzMj1IRUFQMzJbcHRyK2kqND4+Ml07aWYodXRmMzI9PTApYnJlYWs7KytpO2lmKHV0ZjMyPj02NTUzNil7dmFyIGNoPXV0ZjMyLTY1NTM2O3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxjaD4+MTAsNTYzMjB8Y2gmMTAyMyl9ZWxzZXtzdHIrPVN0cmluZy5mcm9tQ2hhckNvZGUodXRmMzIpfX1yZXR1cm4gc3RyfWZ1bmN0aW9uIHN0cmluZ1RvVVRGMzIoc3RyLG91dFB0cixtYXhCeXRlc1RvV3JpdGUpe2lmKG1heEJ5dGVzVG9Xcml0ZT09PXVuZGVmaW5lZCl7bWF4Qnl0ZXNUb1dyaXRlPTIxNDc0ODM2NDd9aWYobWF4Qnl0ZXNUb1dyaXRlPDQpcmV0dXJuIDA7dmFyIHN0YXJ0UHRyPW91dFB0cjt2YXIgZW5kUHRyPXN0YXJ0UHRyK21heEJ5dGVzVG9Xcml0ZS00O2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe3ZhciBjb2RlVW5pdD1zdHIuY2hhckNvZGVBdChpKTtpZihjb2RlVW5pdD49NTUyOTYmJmNvZGVVbml0PD01NzM0Myl7dmFyIHRyYWlsU3Vycm9nYXRlPXN0ci5jaGFyQ29kZUF0KCsraSk7Y29kZVVuaXQ9NjU1MzYrKChjb2RlVW5pdCYxMDIzKTw8MTApfHRyYWlsU3Vycm9nYXRlJjEwMjN9SEVBUDMyW291dFB0cj4+Ml09Y29kZVVuaXQ7b3V0UHRyKz00O2lmKG91dFB0cis0PmVuZFB0cilicmVha31IRUFQMzJbb3V0UHRyPj4yXT0wO3JldHVybiBvdXRQdHItc3RhcnRQdHJ9ZnVuY3Rpb24gbGVuZ3RoQnl0ZXNVVEYzMihzdHIpe3ZhciBsZW49MDtmb3IodmFyIGk9MDtpPHN0ci5sZW5ndGg7KytpKXt2YXIgY29kZVVuaXQ9c3RyLmNoYXJDb2RlQXQoaSk7aWYoY29kZVVuaXQ+PTU1Mjk2JiZjb2RlVW5pdDw9NTczNDMpKytpO2xlbis9NH1yZXR1cm4gbGVufWZ1bmN0aW9uIGFsbG9jYXRlVVRGOChzdHIpe3ZhciBzaXplPWxlbmd0aEJ5dGVzVVRGOChzdHIpKzE7dmFyIHJldD1fbWFsbG9jKHNpemUpO2lmKHJldClzdHJpbmdUb1VURjhBcnJheShzdHIsSEVBUDgscmV0LHNpemUpO3JldHVybiByZXR9ZnVuY3Rpb24gd3JpdGVBcnJheVRvTWVtb3J5KGFycmF5LGJ1ZmZlcil7SEVBUDguc2V0KGFycmF5LGJ1ZmZlcil9ZnVuY3Rpb24gd3JpdGVBc2NpaVRvTWVtb3J5KHN0cixidWZmZXIsZG9udEFkZE51bGwpe2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpe0hFQVA4W2J1ZmZlcisrPj4wXT1zdHIuY2hhckNvZGVBdChpKX1pZighZG9udEFkZE51bGwpSEVBUDhbYnVmZmVyPj4wXT0wfWZ1bmN0aW9uIGFsaWduVXAoeCxtdWx0aXBsZSl7aWYoeCVtdWx0aXBsZT4wKXt4Kz1tdWx0aXBsZS14JW11bHRpcGxlfXJldHVybiB4fXZhciBidWZmZXIsSEVBUDgsSEVBUFU4LEhFQVAxNixIRUFQVTE2LEhFQVAzMixIRUFQVTMyLEhFQVBGMzIsSEVBUEY2NDtmdW5jdGlvbiB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyhidWYpe2J1ZmZlcj1idWY7TW9kdWxlWyJIRUFQOCJdPUhFQVA4PW5ldyBJbnQ4QXJyYXkoYnVmKTtNb2R1bGVbIkhFQVAxNiJdPUhFQVAxNj1uZXcgSW50MTZBcnJheShidWYpO01vZHVsZVsiSEVBUDMyIl09SEVBUDMyPW5ldyBJbnQzMkFycmF5KGJ1Zik7TW9kdWxlWyJIRUFQVTgiXT1IRUFQVTg9bmV3IFVpbnQ4QXJyYXkoYnVmKTtNb2R1bGVbIkhFQVBVMTYiXT1IRUFQVTE2PW5ldyBVaW50MTZBcnJheShidWYpO01vZHVsZVsiSEVBUFUzMiJdPUhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KGJ1Zik7TW9kdWxlWyJIRUFQRjMyIl09SEVBUEYzMj1uZXcgRmxvYXQzMkFycmF5KGJ1Zik7TW9kdWxlWyJIRUFQRjY0Il09SEVBUEY2ND1uZXcgRmxvYXQ2NEFycmF5KGJ1Zil9dmFyIElOSVRJQUxfTUVNT1JZPU1vZHVsZVsiSU5JVElBTF9NRU1PUlkiXXx8MjY4NDM1NDU2O3ZhciB3YXNtVGFibGU7dmFyIF9fQVRQUkVSVU5fXz1bXTt2YXIgX19BVElOSVRfXz1bXTt2YXIgX19BVE1BSU5fXz1bXTt2YXIgX19BVFBPU1RSVU5fXz1bXTt2YXIgcnVudGltZUluaXRpYWxpemVkPWZhbHNlO19fQVRJTklUX18ucHVzaCh7ZnVuYzpmdW5jdGlvbigpe19fX3dhc21fY2FsbF9jdG9ycygpfX0pO2Z1bmN0aW9uIHByZVJ1bigpe2lmKE1vZHVsZVsicHJlUnVuIl0pe2lmKHR5cGVvZiBNb2R1bGVbInByZVJ1biJdPT0iZnVuY3Rpb24iKU1vZHVsZVsicHJlUnVuIl09W01vZHVsZVsicHJlUnVuIl1dO3doaWxlKE1vZHVsZVsicHJlUnVuIl0ubGVuZ3RoKXthZGRPblByZVJ1bihNb2R1bGVbInByZVJ1biJdLnNoaWZ0KCkpfX1jYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUFJFUlVOX18pfWZ1bmN0aW9uIGluaXRSdW50aW1lKCl7cnVudGltZUluaXRpYWxpemVkPXRydWU7Y2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVElOSVRfXyl9ZnVuY3Rpb24gcHJlTWFpbigpe2NhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRNQUlOX18pfWZ1bmN0aW9uIHBvc3RSdW4oKXtpZihNb2R1bGVbInBvc3RSdW4iXSl7aWYodHlwZW9mIE1vZHVsZVsicG9zdFJ1biJdPT0iZnVuY3Rpb24iKU1vZHVsZVsicG9zdFJ1biJdPVtNb2R1bGVbInBvc3RSdW4iXV07d2hpbGUoTW9kdWxlWyJwb3N0UnVuIl0ubGVuZ3RoKXthZGRPblBvc3RSdW4oTW9kdWxlWyJwb3N0UnVuIl0uc2hpZnQoKSl9fWNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQT1NUUlVOX18pfWZ1bmN0aW9uIGFkZE9uUHJlUnVuKGNiKXtfX0FUUFJFUlVOX18udW5zaGlmdChjYil9ZnVuY3Rpb24gYWRkT25Qb3N0UnVuKGNiKXtfX0FUUE9TVFJVTl9fLnVuc2hpZnQoY2IpfXZhciBydW5EZXBlbmRlbmNpZXM9MDt2YXIgcnVuRGVwZW5kZW5jeVdhdGNoZXI9bnVsbDt2YXIgZGVwZW5kZW5jaWVzRnVsZmlsbGVkPW51bGw7ZnVuY3Rpb24gYWRkUnVuRGVwZW5kZW5jeShpZCl7cnVuRGVwZW5kZW5jaWVzKys7aWYoTW9kdWxlWyJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIl0pe01vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdKHJ1bkRlcGVuZGVuY2llcyl9fWZ1bmN0aW9uIHJlbW92ZVJ1bkRlcGVuZGVuY3koaWQpe3J1bkRlcGVuZGVuY2llcy0tO2lmKE1vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdKXtNb2R1bGVbIm1vbml0b3JSdW5EZXBlbmRlbmNpZXMiXShydW5EZXBlbmRlbmNpZXMpfWlmKHJ1bkRlcGVuZGVuY2llcz09MCl7aWYocnVuRGVwZW5kZW5jeVdhdGNoZXIhPT1udWxsKXtjbGVhckludGVydmFsKHJ1bkRlcGVuZGVuY3lXYXRjaGVyKTtydW5EZXBlbmRlbmN5V2F0Y2hlcj1udWxsfWlmKGRlcGVuZGVuY2llc0Z1bGZpbGxlZCl7dmFyIGNhbGxiYWNrPWRlcGVuZGVuY2llc0Z1bGZpbGxlZDtkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9bnVsbDtjYWxsYmFjaygpfX19TW9kdWxlWyJwcmVsb2FkZWRJbWFnZXMiXT17fTtNb2R1bGVbInByZWxvYWRlZEF1ZGlvcyJdPXt9O2Z1bmN0aW9uIGFib3J0KHdoYXQpe2lmKE1vZHVsZVsib25BYm9ydCJdKXtNb2R1bGVbIm9uQWJvcnQiXSh3aGF0KX13aGF0Kz0iIjtlcnIod2hhdCk7QUJPUlQ9dHJ1ZTtFWElUU1RBVFVTPTE7d2hhdD0iYWJvcnQoIit3aGF0KyIpLiBCdWlsZCB3aXRoIC1zIEFTU0VSVElPTlM9MSBmb3IgbW9yZSBpbmZvLiI7dmFyIGU9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcih3aGF0KTtyZWFkeVByb21pc2VSZWplY3QoZSk7dGhyb3cgZX1mdW5jdGlvbiBoYXNQcmVmaXgoc3RyLHByZWZpeCl7cmV0dXJuIFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aD9zdHIuc3RhcnRzV2l0aChwcmVmaXgpOnN0ci5pbmRleE9mKHByZWZpeCk9PT0wfXZhciBkYXRhVVJJUHJlZml4PSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjtmdW5jdGlvbiBpc0RhdGFVUkkoZmlsZW5hbWUpe3JldHVybiBoYXNQcmVmaXgoZmlsZW5hbWUsZGF0YVVSSVByZWZpeCl9dmFyIHdhc21CaW5hcnlGaWxlPSJGUEJSZWNvZ25pdGlvbi53YXNtIjtpZighaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSl7d2FzbUJpbmFyeUZpbGU9bG9jYXRlRmlsZSh3YXNtQmluYXJ5RmlsZSl9ZnVuY3Rpb24gZ2V0QmluYXJ5KGZpbGUpe3RyeXtpZihmaWxlPT13YXNtQmluYXJ5RmlsZSYmd2FzbUJpbmFyeSl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc21CaW5hcnkpfWlmKHJlYWRCaW5hcnkpe3JldHVybiByZWFkQmluYXJ5KGZpbGUpfWVsc2V7dGhyb3cic3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQ6IHlvdSBjYW4gcHJlbG9hZCBpdCB0byBNb2R1bGVbJ3dhc21CaW5hcnknXSBtYW51YWxseSwgb3IgZW1jYy5weSB3aWxsIGRvIHRoYXQgZm9yIHlvdSB3aGVuIGdlbmVyYXRpbmcgSFRNTCAoYnV0IG5vdCBKUykifX1jYXRjaChlcnIpe2Fib3J0KGVycil9fWZ1bmN0aW9uIGluc3RhbnRpYXRlU3luYyhmaWxlLGluZm8pe3ZhciBpbnN0YW5jZTt2YXIgbW9kdWxlO3ZhciBiaW5hcnk7dHJ5e2JpbmFyeT1nZXRCaW5hcnkoZmlsZSk7bW9kdWxlPW5ldyBXZWJBc3NlbWJseS5Nb2R1bGUoYmluYXJ5KTtpbnN0YW5jZT1uZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobW9kdWxlLGluZm8pfWNhdGNoKGUpe3ZhciBzdHI9ZS50b1N0cmluZygpO2VycigiZmFpbGVkIHRvIGNvbXBpbGUgd2FzbSBtb2R1bGU6ICIrc3RyKTtpZihzdHIuaW5kZXhPZigiaW1wb3J0ZWQgTWVtb3J5Iik+PTB8fHN0ci5pbmRleE9mKCJtZW1vcnkgaW1wb3J0Iik+PTApe2VycigiTWVtb3J5IHNpemUgaW5jb21wYXRpYmlsaXR5IGlzc3VlcyBtYXkgYmUgZHVlIHRvIGNoYW5naW5nIElOSVRJQUxfTUVNT1JZIGF0IHJ1bnRpbWUgdG8gc29tZXRoaW5nIHRvbyBsYXJnZS4gVXNlIEFMTE9XX01FTU9SWV9HUk9XVEggdG8gYWxsb3cgYW55IHNpemUgbWVtb3J5IChhbmQgYWxzbyBtYWtlIHN1cmUgbm90IHRvIHNldCBJTklUSUFMX01FTU9SWSBhdCBydW50aW1lIHRvIHNvbWV0aGluZyBzbWFsbGVyIHRoYW4gaXQgd2FzIGF0IGNvbXBpbGUgdGltZSkuIil9dGhyb3cgZX1yZXR1cm5baW5zdGFuY2UsbW9kdWxlXX1mdW5jdGlvbiBjcmVhdGVXYXNtKCl7dmFyIGluZm89eyJhIjphc21MaWJyYXJ5QXJnfTtmdW5jdGlvbiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UsbW9kdWxlKXt2YXIgZXhwb3J0cz1pbnN0YW5jZS5leHBvcnRzO01vZHVsZVsiYXNtIl09ZXhwb3J0czt3YXNtTWVtb3J5PU1vZHVsZVsiYXNtIl1bImJhIl07dXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpO3dhc21UYWJsZT1Nb2R1bGVbImFzbSJdWyJlYSJdO3JlbW92ZVJ1bkRlcGVuZGVuY3koIndhc20taW5zdGFudGlhdGUiKX1hZGRSdW5EZXBlbmRlbmN5KCJ3YXNtLWluc3RhbnRpYXRlIik7aWYoTW9kdWxlWyJpbnN0YW50aWF0ZVdhc20iXSl7dHJ5e3ZhciBleHBvcnRzPU1vZHVsZVsiaW5zdGFudGlhdGVXYXNtIl0oaW5mbyxyZWNlaXZlSW5zdGFuY2UpO3JldHVybiBleHBvcnRzfWNhdGNoKGUpe2VycigiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIitlKTtyZXR1cm4gZmFsc2V9fXZhciByZXN1bHQ9aW5zdGFudGlhdGVTeW5jKHdhc21CaW5hcnlGaWxlLGluZm8pO3JlY2VpdmVJbnN0YW5jZShyZXN1bHRbMF0scmVzdWx0WzFdKTtyZXR1cm4gTW9kdWxlWyJhc20iXX1mdW5jdGlvbiBjYWxsUnVudGltZUNhbGxiYWNrcyhjYWxsYmFja3Mpe3doaWxlKGNhbGxiYWNrcy5sZW5ndGg+MCl7dmFyIGNhbGxiYWNrPWNhbGxiYWNrcy5zaGlmdCgpO2lmKHR5cGVvZiBjYWxsYmFjaz09ImZ1bmN0aW9uIil7Y2FsbGJhY2soTW9kdWxlKTtjb250aW51ZX12YXIgZnVuYz1jYWxsYmFjay5mdW5jO2lmKHR5cGVvZiBmdW5jPT09Im51bWJlciIpe2lmKGNhbGxiYWNrLmFyZz09PXVuZGVmaW5lZCl7d2FzbVRhYmxlLmdldChmdW5jKSgpfWVsc2V7d2FzbVRhYmxlLmdldChmdW5jKShjYWxsYmFjay5hcmcpfX1lbHNle2Z1bmMoY2FsbGJhY2suYXJnPT09dW5kZWZpbmVkP251bGw6Y2FsbGJhY2suYXJnKX19fXZhciBFeGNlcHRpb25JbmZvQXR0cnM9e0RFU1RSVUNUT1JfT0ZGU0VUOjAsUkVGQ09VTlRfT0ZGU0VUOjQsVFlQRV9PRkZTRVQ6OCxDQVVHSFRfT0ZGU0VUOjEyLFJFVEhST1dOX09GRlNFVDoxMyxTSVpFOjE2fTtmdW5jdGlvbiBfX19jeGFfYWxsb2NhdGVfZXhjZXB0aW9uKHNpemUpe3JldHVybiBfbWFsbG9jKHNpemUrRXhjZXB0aW9uSW5mb0F0dHJzLlNJWkUpK0V4Y2VwdGlvbkluZm9BdHRycy5TSVpFfXZhciBleGNlcHRpb25DYXVnaHQ9W107dmFyIGV4Y2VwdGlvbkxhc3Q9MDt2YXIgdW5jYXVnaHRFeGNlcHRpb25Db3VudD0wO2Z1bmN0aW9uIF9fX2N4YV9yZXRocm93KCl7dmFyIGNhdGNoSW5mbz1leGNlcHRpb25DYXVnaHQucG9wKCk7aWYoIWNhdGNoSW5mbyl7YWJvcnQoIm5vIGV4Y2VwdGlvbiB0byB0aHJvdyIpfXZhciBpbmZvPWNhdGNoSW5mby5nZXRfZXhjZXB0aW9uX2luZm8oKTt2YXIgcHRyPWNhdGNoSW5mby5nZXRfYmFzZV9wdHIoKTtpZighaW5mby5nZXRfcmV0aHJvd24oKSl7ZXhjZXB0aW9uQ2F1Z2h0LnB1c2goY2F0Y2hJbmZvKTtpbmZvLnNldF9yZXRocm93bih0cnVlKTtpbmZvLnNldF9jYXVnaHQoZmFsc2UpO3VuY2F1Z2h0RXhjZXB0aW9uQ291bnQrK31lbHNle2NhdGNoSW5mby5mcmVlKCl9ZXhjZXB0aW9uTGFzdD1wdHI7dGhyb3cgcHRyfWZ1bmN0aW9uIEV4Y2VwdGlvbkluZm8oZXhjUHRyKXt0aGlzLmV4Y1B0cj1leGNQdHI7dGhpcy5wdHI9ZXhjUHRyLUV4Y2VwdGlvbkluZm9BdHRycy5TSVpFO3RoaXMuc2V0X3R5cGU9ZnVuY3Rpb24odHlwZSl7SEVBUDMyW3RoaXMucHRyK0V4Y2VwdGlvbkluZm9BdHRycy5UWVBFX09GRlNFVD4+Ml09dHlwZX07dGhpcy5nZXRfdHlwZT1mdW5jdGlvbigpe3JldHVybiBIRUFQMzJbdGhpcy5wdHIrRXhjZXB0aW9uSW5mb0F0dHJzLlRZUEVfT0ZGU0VUPj4yXX07dGhpcy5zZXRfZGVzdHJ1Y3Rvcj1mdW5jdGlvbihkZXN0cnVjdG9yKXtIRUFQMzJbdGhpcy5wdHIrRXhjZXB0aW9uSW5mb0F0dHJzLkRFU1RSVUNUT1JfT0ZGU0VUPj4yXT1kZXN0cnVjdG9yfTt0aGlzLmdldF9kZXN0cnVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIEhFQVAzMlt0aGlzLnB0citFeGNlcHRpb25JbmZvQXR0cnMuREVTVFJVQ1RPUl9PRkZTRVQ+PjJdfTt0aGlzLnNldF9yZWZjb3VudD1mdW5jdGlvbihyZWZjb3VudCl7SEVBUDMyW3RoaXMucHRyK0V4Y2VwdGlvbkluZm9BdHRycy5SRUZDT1VOVF9PRkZTRVQ+PjJdPXJlZmNvdW50fTt0aGlzLnNldF9jYXVnaHQ9ZnVuY3Rpb24oY2F1Z2h0KXtjYXVnaHQ9Y2F1Z2h0PzE6MDtIRUFQOFt0aGlzLnB0citFeGNlcHRpb25JbmZvQXR0cnMuQ0FVR0hUX09GRlNFVD4+MF09Y2F1Z2h0fTt0aGlzLmdldF9jYXVnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gSEVBUDhbdGhpcy5wdHIrRXhjZXB0aW9uSW5mb0F0dHJzLkNBVUdIVF9PRkZTRVQ+PjBdIT0wfTt0aGlzLnNldF9yZXRocm93bj1mdW5jdGlvbihyZXRocm93bil7cmV0aHJvd249cmV0aHJvd24/MTowO0hFQVA4W3RoaXMucHRyK0V4Y2VwdGlvbkluZm9BdHRycy5SRVRIUk9XTl9PRkZTRVQ+PjBdPXJldGhyb3dufTt0aGlzLmdldF9yZXRocm93bj1mdW5jdGlvbigpe3JldHVybiBIRUFQOFt0aGlzLnB0citFeGNlcHRpb25JbmZvQXR0cnMuUkVUSFJPV05fT0ZGU0VUPj4wXSE9MH07dGhpcy5pbml0PWZ1bmN0aW9uKHR5cGUsZGVzdHJ1Y3Rvcil7dGhpcy5zZXRfdHlwZSh0eXBlKTt0aGlzLnNldF9kZXN0cnVjdG9yKGRlc3RydWN0b3IpO3RoaXMuc2V0X3JlZmNvdW50KDApO3RoaXMuc2V0X2NhdWdodChmYWxzZSk7dGhpcy5zZXRfcmV0aHJvd24oZmFsc2UpfTt0aGlzLmFkZF9yZWY9ZnVuY3Rpb24oKXt2YXIgdmFsdWU9SEVBUDMyW3RoaXMucHRyK0V4Y2VwdGlvbkluZm9BdHRycy5SRUZDT1VOVF9PRkZTRVQ+PjJdO0hFQVAzMlt0aGlzLnB0citFeGNlcHRpb25JbmZvQXR0cnMuUkVGQ09VTlRfT0ZGU0VUPj4yXT12YWx1ZSsxfTt0aGlzLnJlbGVhc2VfcmVmPWZ1bmN0aW9uKCl7dmFyIHByZXY9SEVBUDMyW3RoaXMucHRyK0V4Y2VwdGlvbkluZm9BdHRycy5SRUZDT1VOVF9PRkZTRVQ+PjJdO0hFQVAzMlt0aGlzLnB0citFeGNlcHRpb25JbmZvQXR0cnMuUkVGQ09VTlRfT0ZGU0VUPj4yXT1wcmV2LTE7cmV0dXJuIHByZXY9PT0xfX1mdW5jdGlvbiBfX19jeGFfdGhyb3cocHRyLHR5cGUsZGVzdHJ1Y3Rvcil7dmFyIGluZm89bmV3IEV4Y2VwdGlvbkluZm8ocHRyKTtpbmZvLmluaXQodHlwZSxkZXN0cnVjdG9yKTtleGNlcHRpb25MYXN0PXB0cjt1bmNhdWdodEV4Y2VwdGlvbkNvdW50Kys7dGhyb3cgcHRyfWZ1bmN0aW9uIHNldEVyck5vKHZhbHVlKXtIRUFQMzJbX19fZXJybm9fbG9jYXRpb24oKT4+Ml09dmFsdWU7cmV0dXJuIHZhbHVlfXZhciBTWVNDQUxMUz17bWFwcGluZ3M6e30sYnVmZmVyczpbbnVsbCxbXSxbXV0scHJpbnRDaGFyOmZ1bmN0aW9uKHN0cmVhbSxjdXJyKXt2YXIgYnVmZmVyPVNZU0NBTExTLmJ1ZmZlcnNbc3RyZWFtXTtpZihjdXJyPT09MHx8Y3Vycj09PTEwKXsoc3RyZWFtPT09MT9vdXQ6ZXJyKShVVEY4QXJyYXlUb1N0cmluZyhidWZmZXIsMCkpO2J1ZmZlci5sZW5ndGg9MH1lbHNle2J1ZmZlci5wdXNoKGN1cnIpfX0sdmFyYXJnczp1bmRlZmluZWQsZ2V0OmZ1bmN0aW9uKCl7U1lTQ0FMTFMudmFyYXJncys9NDt2YXIgcmV0PUhFQVAzMltTWVNDQUxMUy52YXJhcmdzLTQ+PjJdO3JldHVybiByZXR9LGdldFN0cjpmdW5jdGlvbihwdHIpe3ZhciByZXQ9VVRGOFRvU3RyaW5nKHB0cik7cmV0dXJuIHJldH0sZ2V0NjQ6ZnVuY3Rpb24obG93LGhpZ2gpe3JldHVybiBsb3d9fTtmdW5jdGlvbiBfX19zeXNfZmNudGw2NChmZCxjbWQsdmFyYXJncyl7U1lTQ0FMTFMudmFyYXJncz12YXJhcmdzO3JldHVybiAwfWZ1bmN0aW9uIF9fX3N5c19nZXRwaWQoKXtyZXR1cm4gNDJ9ZnVuY3Rpb24gX19fc3lzX2lvY3RsKGZkLG9wLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJncztyZXR1cm4gMH1mdW5jdGlvbiBfX19zeXNfb3BlbihwYXRoLGZsYWdzLHZhcmFyZ3Mpe1NZU0NBTExTLnZhcmFyZ3M9dmFyYXJnc31mdW5jdGlvbiBnZXRTaGlmdEZyb21TaXplKHNpemUpe3N3aXRjaChzaXplKXtjYXNlIDE6cmV0dXJuIDA7Y2FzZSAyOnJldHVybiAxO2Nhc2UgNDpyZXR1cm4gMjtjYXNlIDg6cmV0dXJuIDM7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIHR5cGUgc2l6ZTogIitzaXplKX19ZnVuY3Rpb24gZW1iaW5kX2luaXRfY2hhckNvZGVzKCl7dmFyIGNvZGVzPW5ldyBBcnJheSgyNTYpO2Zvcih2YXIgaT0wO2k8MjU2OysraSl7Y29kZXNbaV09U3RyaW5nLmZyb21DaGFyQ29kZShpKX1lbWJpbmRfY2hhckNvZGVzPWNvZGVzfXZhciBlbWJpbmRfY2hhckNvZGVzPXVuZGVmaW5lZDtmdW5jdGlvbiByZWFkTGF0aW4xU3RyaW5nKHB0cil7dmFyIHJldD0iIjt2YXIgYz1wdHI7d2hpbGUoSEVBUFU4W2NdKXtyZXQrPWVtYmluZF9jaGFyQ29kZXNbSEVBUFU4W2MrK11dfXJldHVybiByZXR9dmFyIGF3YWl0aW5nRGVwZW5kZW5jaWVzPXt9O3ZhciByZWdpc3RlcmVkVHlwZXM9e307dmFyIHR5cGVEZXBlbmRlbmNpZXM9e307dmFyIGNoYXJfMD00ODt2YXIgY2hhcl85PTU3O2Z1bmN0aW9uIG1ha2VMZWdhbEZ1bmN0aW9uTmFtZShuYW1lKXtpZih1bmRlZmluZWQ9PT1uYW1lKXtyZXR1cm4iX3Vua25vd24ifW5hbWU9bmFtZS5yZXBsYWNlKC9bXmEtekEtWjAtOV9dL2csIiQiKTt2YXIgZj1uYW1lLmNoYXJDb2RlQXQoMCk7aWYoZj49Y2hhcl8wJiZmPD1jaGFyXzkpe3JldHVybiJfIituYW1lfWVsc2V7cmV0dXJuIG5hbWV9fWZ1bmN0aW9uIGNyZWF0ZU5hbWVkRnVuY3Rpb24obmFtZSxib2R5KXtuYW1lPW1ha2VMZWdhbEZ1bmN0aW9uTmFtZShuYW1lKTtyZXR1cm4gbmV3IEZ1bmN0aW9uKCJib2R5IiwicmV0dXJuIGZ1bmN0aW9uICIrbmFtZSsiKCkge1xuIisnICAgICJ1c2Ugc3RyaWN0IjsnKyIgICAgcmV0dXJuIGJvZHkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiIrIn07XG4iKShib2R5KX1mdW5jdGlvbiBleHRlbmRFcnJvcihiYXNlRXJyb3JUeXBlLGVycm9yTmFtZSl7dmFyIGVycm9yQ2xhc3M9Y3JlYXRlTmFtZWRGdW5jdGlvbihlcnJvck5hbWUsZnVuY3Rpb24obWVzc2FnZSl7dGhpcy5uYW1lPWVycm9yTmFtZTt0aGlzLm1lc3NhZ2U9bWVzc2FnZTt2YXIgc3RhY2s9bmV3IEVycm9yKG1lc3NhZ2UpLnN0YWNrO2lmKHN0YWNrIT09dW5kZWZpbmVkKXt0aGlzLnN0YWNrPXRoaXMudG9TdHJpbmcoKSsiXG4iK3N0YWNrLnJlcGxhY2UoL15FcnJvcig6W15cbl0qKT9cbi8sIiIpfX0pO2Vycm9yQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYmFzZUVycm9yVHlwZS5wcm90b3R5cGUpO2Vycm9yQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yPWVycm9yQ2xhc3M7ZXJyb3JDbGFzcy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLm1lc3NhZ2U9PT11bmRlZmluZWQpe3JldHVybiB0aGlzLm5hbWV9ZWxzZXtyZXR1cm4gdGhpcy5uYW1lKyI6ICIrdGhpcy5tZXNzYWdlfX07cmV0dXJuIGVycm9yQ2xhc3N9dmFyIEJpbmRpbmdFcnJvcj11bmRlZmluZWQ7ZnVuY3Rpb24gdGhyb3dCaW5kaW5nRXJyb3IobWVzc2FnZSl7dGhyb3cgbmV3IEJpbmRpbmdFcnJvcihtZXNzYWdlKX12YXIgSW50ZXJuYWxFcnJvcj11bmRlZmluZWQ7ZnVuY3Rpb24gdGhyb3dJbnRlcm5hbEVycm9yKG1lc3NhZ2Upe3Rocm93IG5ldyBJbnRlcm5hbEVycm9yKG1lc3NhZ2UpfWZ1bmN0aW9uIHdoZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKG15VHlwZXMsZGVwZW5kZW50VHlwZXMsZ2V0VHlwZUNvbnZlcnRlcnMpe215VHlwZXMuZm9yRWFjaChmdW5jdGlvbih0eXBlKXt0eXBlRGVwZW5kZW5jaWVzW3R5cGVdPWRlcGVuZGVudFR5cGVzfSk7ZnVuY3Rpb24gb25Db21wbGV0ZSh0eXBlQ29udmVydGVycyl7dmFyIG15VHlwZUNvbnZlcnRlcnM9Z2V0VHlwZUNvbnZlcnRlcnModHlwZUNvbnZlcnRlcnMpO2lmKG15VHlwZUNvbnZlcnRlcnMubGVuZ3RoIT09bXlUeXBlcy5sZW5ndGgpe3Rocm93SW50ZXJuYWxFcnJvcigiTWlzbWF0Y2hlZCB0eXBlIGNvbnZlcnRlciBjb3VudCIpfWZvcih2YXIgaT0wO2k8bXlUeXBlcy5sZW5ndGg7KytpKXtyZWdpc3RlclR5cGUobXlUeXBlc1tpXSxteVR5cGVDb252ZXJ0ZXJzW2ldKX19dmFyIHR5cGVDb252ZXJ0ZXJzPW5ldyBBcnJheShkZXBlbmRlbnRUeXBlcy5sZW5ndGgpO3ZhciB1bnJlZ2lzdGVyZWRUeXBlcz1bXTt2YXIgcmVnaXN0ZXJlZD0wO2RlcGVuZGVudFR5cGVzLmZvckVhY2goZnVuY3Rpb24oZHQsaSl7aWYocmVnaXN0ZXJlZFR5cGVzLmhhc093blByb3BlcnR5KGR0KSl7dHlwZUNvbnZlcnRlcnNbaV09cmVnaXN0ZXJlZFR5cGVzW2R0XX1lbHNle3VucmVnaXN0ZXJlZFR5cGVzLnB1c2goZHQpO2lmKCFhd2FpdGluZ0RlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eShkdCkpe2F3YWl0aW5nRGVwZW5kZW5jaWVzW2R0XT1bXX1hd2FpdGluZ0RlcGVuZGVuY2llc1tkdF0ucHVzaChmdW5jdGlvbigpe3R5cGVDb252ZXJ0ZXJzW2ldPXJlZ2lzdGVyZWRUeXBlc1tkdF07KytyZWdpc3RlcmVkO2lmKHJlZ2lzdGVyZWQ9PT11bnJlZ2lzdGVyZWRUeXBlcy5sZW5ndGgpe29uQ29tcGxldGUodHlwZUNvbnZlcnRlcnMpfX0pfX0pO2lmKDA9PT11bnJlZ2lzdGVyZWRUeXBlcy5sZW5ndGgpe29uQ29tcGxldGUodHlwZUNvbnZlcnRlcnMpfX1mdW5jdGlvbiByZWdpc3RlclR5cGUocmF3VHlwZSxyZWdpc3RlcmVkSW5zdGFuY2Usb3B0aW9ucyl7b3B0aW9ucz1vcHRpb25zfHx7fTtpZighKCJhcmdQYWNrQWR2YW5jZSJpbiByZWdpc3RlcmVkSW5zdGFuY2UpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWdpc3RlclR5cGUgcmVnaXN0ZXJlZEluc3RhbmNlIHJlcXVpcmVzIGFyZ1BhY2tBZHZhbmNlIil9dmFyIG5hbWU9cmVnaXN0ZXJlZEluc3RhbmNlLm5hbWU7aWYoIXJhd1R5cGUpe3Rocm93QmluZGluZ0Vycm9yKCd0eXBlICInK25hbWUrJyIgbXVzdCBoYXZlIGEgcG9zaXRpdmUgaW50ZWdlciB0eXBlaWQgcG9pbnRlcicpfWlmKHJlZ2lzdGVyZWRUeXBlcy5oYXNPd25Qcm9wZXJ0eShyYXdUeXBlKSl7aWYob3B0aW9ucy5pZ25vcmVEdXBsaWNhdGVSZWdpc3RyYXRpb25zKXtyZXR1cm59ZWxzZXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJyIrbmFtZSsiJyB0d2ljZSIpfX1yZWdpc3RlcmVkVHlwZXNbcmF3VHlwZV09cmVnaXN0ZXJlZEluc3RhbmNlO2RlbGV0ZSB0eXBlRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2lmKGF3YWl0aW5nRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KHJhd1R5cGUpKXt2YXIgY2FsbGJhY2tzPWF3YWl0aW5nRGVwZW5kZW5jaWVzW3Jhd1R5cGVdO2RlbGV0ZSBhd2FpdGluZ0RlcGVuZGVuY2llc1tyYXdUeXBlXTtjYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbihjYil7Y2IoKX0pfX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9ib29sKHJhd1R5cGUsbmFtZSxzaXplLHRydWVWYWx1ZSxmYWxzZVZhbHVlKXt2YXIgc2hpZnQ9Z2V0U2hpZnRGcm9tU2l6ZShzaXplKTtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbih3dCl7cmV0dXJuISF3dH0sInRvV2lyZVR5cGUiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLG8pe3JldHVybiBvP3RydWVWYWx1ZTpmYWxzZVZhbHVlfSwiYXJnUGFja0FkdmFuY2UiOjgsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpmdW5jdGlvbihwb2ludGVyKXt2YXIgaGVhcDtpZihzaXplPT09MSl7aGVhcD1IRUFQOH1lbHNlIGlmKHNpemU9PT0yKXtoZWFwPUhFQVAxNn1lbHNlIGlmKHNpemU9PT00KXtoZWFwPUhFQVAzMn1lbHNle3Rocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gYm9vbGVhbiB0eXBlIHNpemU6ICIrbmFtZSl9cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKGhlYXBbcG9pbnRlcj4+c2hpZnRdKX0sZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9pc0FsaWFzT2Yob3RoZXIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIENsYXNzSGFuZGxlKSl7cmV0dXJuIGZhbHNlfWlmKCEob3RoZXIgaW5zdGFuY2VvZiBDbGFzc0hhbmRsZSkpe3JldHVybiBmYWxzZX12YXIgbGVmdENsYXNzPXRoaXMuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIGxlZnQ9dGhpcy4kJC5wdHI7dmFyIHJpZ2h0Q2xhc3M9b3RoZXIuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIHJpZ2h0PW90aGVyLiQkLnB0cjt3aGlsZShsZWZ0Q2xhc3MuYmFzZUNsYXNzKXtsZWZ0PWxlZnRDbGFzcy51cGNhc3QobGVmdCk7bGVmdENsYXNzPWxlZnRDbGFzcy5iYXNlQ2xhc3N9d2hpbGUocmlnaHRDbGFzcy5iYXNlQ2xhc3Mpe3JpZ2h0PXJpZ2h0Q2xhc3MudXBjYXN0KHJpZ2h0KTtyaWdodENsYXNzPXJpZ2h0Q2xhc3MuYmFzZUNsYXNzfXJldHVybiBsZWZ0Q2xhc3M9PT1yaWdodENsYXNzJiZsZWZ0PT09cmlnaHR9ZnVuY3Rpb24gc2hhbGxvd0NvcHlJbnRlcm5hbFBvaW50ZXIobyl7cmV0dXJue2NvdW50Om8uY291bnQsZGVsZXRlU2NoZWR1bGVkOm8uZGVsZXRlU2NoZWR1bGVkLHByZXNlcnZlUG9pbnRlck9uRGVsZXRlOm8ucHJlc2VydmVQb2ludGVyT25EZWxldGUscHRyOm8ucHRyLHB0clR5cGU6by5wdHJUeXBlLHNtYXJ0UHRyOm8uc21hcnRQdHIsc21hcnRQdHJUeXBlOm8uc21hcnRQdHJUeXBlfX1mdW5jdGlvbiB0aHJvd0luc3RhbmNlQWxyZWFkeURlbGV0ZWQob2JqKXtmdW5jdGlvbiBnZXRJbnN0YW5jZVR5cGVOYW1lKGhhbmRsZSl7cmV0dXJuIGhhbmRsZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcy5uYW1lfXRocm93QmluZGluZ0Vycm9yKGdldEluc3RhbmNlVHlwZU5hbWUob2JqKSsiIGluc3RhbmNlIGFscmVhZHkgZGVsZXRlZCIpfXZhciBmaW5hbGl6YXRpb25Hcm91cD1mYWxzZTtmdW5jdGlvbiBkZXRhY2hGaW5hbGl6ZXIoaGFuZGxlKXt9ZnVuY3Rpb24gcnVuRGVzdHJ1Y3RvcigkJCl7aWYoJCQuc21hcnRQdHIpeyQkLnNtYXJ0UHRyVHlwZS5yYXdEZXN0cnVjdG9yKCQkLnNtYXJ0UHRyKX1lbHNleyQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLnJhd0Rlc3RydWN0b3IoJCQucHRyKX19ZnVuY3Rpb24gcmVsZWFzZUNsYXNzSGFuZGxlKCQkKXskJC5jb3VudC52YWx1ZS09MTt2YXIgdG9EZWxldGU9MD09PSQkLmNvdW50LnZhbHVlO2lmKHRvRGVsZXRlKXtydW5EZXN0cnVjdG9yKCQkKX19ZnVuY3Rpb24gYXR0YWNoRmluYWxpemVyKGhhbmRsZSl7aWYoInVuZGVmaW5lZCI9PT10eXBlb2YgRmluYWxpemF0aW9uR3JvdXApe2F0dGFjaEZpbmFsaXplcj1mdW5jdGlvbihoYW5kbGUpe3JldHVybiBoYW5kbGV9O3JldHVybiBoYW5kbGV9ZmluYWxpemF0aW9uR3JvdXA9bmV3IEZpbmFsaXphdGlvbkdyb3VwKGZ1bmN0aW9uKGl0ZXIpe2Zvcih2YXIgcmVzdWx0PWl0ZXIubmV4dCgpOyFyZXN1bHQuZG9uZTtyZXN1bHQ9aXRlci5uZXh0KCkpe3ZhciAkJD1yZXN1bHQudmFsdWU7aWYoISQkLnB0cil7Y29uc29sZS53YXJuKCJvYmplY3QgYWxyZWFkeSBkZWxldGVkOiAiKyQkLnB0cil9ZWxzZXtyZWxlYXNlQ2xhc3NIYW5kbGUoJCQpfX19KTthdHRhY2hGaW5hbGl6ZXI9ZnVuY3Rpb24oaGFuZGxlKXtmaW5hbGl6YXRpb25Hcm91cC5yZWdpc3RlcihoYW5kbGUsaGFuZGxlLiQkLGhhbmRsZS4kJCk7cmV0dXJuIGhhbmRsZX07ZGV0YWNoRmluYWxpemVyPWZ1bmN0aW9uKGhhbmRsZSl7ZmluYWxpemF0aW9uR3JvdXAudW5yZWdpc3RlcihoYW5kbGUuJCQpfTtyZXR1cm4gYXR0YWNoRmluYWxpemVyKGhhbmRsZSl9ZnVuY3Rpb24gQ2xhc3NIYW5kbGVfY2xvbmUoKXtpZighdGhpcy4kJC5wdHIpe3Rocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZCh0aGlzKX1pZih0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlKXt0aGlzLiQkLmNvdW50LnZhbHVlKz0xO3JldHVybiB0aGlzfWVsc2V7dmFyIGNsb25lPWF0dGFjaEZpbmFsaXplcihPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSx7JCQ6e3ZhbHVlOnNoYWxsb3dDb3B5SW50ZXJuYWxQb2ludGVyKHRoaXMuJCQpfX0pKTtjbG9uZS4kJC5jb3VudC52YWx1ZSs9MTtjbG9uZS4kJC5kZWxldGVTY2hlZHVsZWQ9ZmFsc2U7cmV0dXJuIGNsb25lfX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9kZWxldGUoKXtpZighdGhpcy4kJC5wdHIpe3Rocm93SW5zdGFuY2VBbHJlYWR5RGVsZXRlZCh0aGlzKX1pZih0aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZCYmIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUpe3Rocm93QmluZGluZ0Vycm9yKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIil9ZGV0YWNoRmluYWxpemVyKHRoaXMpO3JlbGVhc2VDbGFzc0hhbmRsZSh0aGlzLiQkKTtpZighdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSl7dGhpcy4kJC5zbWFydFB0cj11bmRlZmluZWQ7dGhpcy4kJC5wdHI9dW5kZWZpbmVkfX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9pc0RlbGV0ZWQoKXtyZXR1cm4hdGhpcy4kJC5wdHJ9dmFyIGRlbGF5RnVuY3Rpb249dW5kZWZpbmVkO3ZhciBkZWxldGlvblF1ZXVlPVtdO2Z1bmN0aW9uIGZsdXNoUGVuZGluZ0RlbGV0ZXMoKXt3aGlsZShkZWxldGlvblF1ZXVlLmxlbmd0aCl7dmFyIG9iaj1kZWxldGlvblF1ZXVlLnBvcCgpO29iai4kJC5kZWxldGVTY2hlZHVsZWQ9ZmFsc2U7b2JqWyJkZWxldGUiXSgpfX1mdW5jdGlvbiBDbGFzc0hhbmRsZV9kZWxldGVMYXRlcigpe2lmKCF0aGlzLiQkLnB0cil7dGhyb3dJbnN0YW5jZUFscmVhZHlEZWxldGVkKHRoaXMpfWlmKHRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkJiYhdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSl7dGhyb3dCaW5kaW5nRXJyb3IoIk9iamVjdCBhbHJlYWR5IHNjaGVkdWxlZCBmb3IgZGVsZXRpb24iKX1kZWxldGlvblF1ZXVlLnB1c2godGhpcyk7aWYoZGVsZXRpb25RdWV1ZS5sZW5ndGg9PT0xJiZkZWxheUZ1bmN0aW9uKXtkZWxheUZ1bmN0aW9uKGZsdXNoUGVuZGluZ0RlbGV0ZXMpfXRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkPXRydWU7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gaW5pdF9DbGFzc0hhbmRsZSgpe0NsYXNzSGFuZGxlLnByb3RvdHlwZVsiaXNBbGlhc09mIl09Q2xhc3NIYW5kbGVfaXNBbGlhc09mO0NsYXNzSGFuZGxlLnByb3RvdHlwZVsiY2xvbmUiXT1DbGFzc0hhbmRsZV9jbG9uZTtDbGFzc0hhbmRsZS5wcm90b3R5cGVbImRlbGV0ZSJdPUNsYXNzSGFuZGxlX2RlbGV0ZTtDbGFzc0hhbmRsZS5wcm90b3R5cGVbImlzRGVsZXRlZCJdPUNsYXNzSGFuZGxlX2lzRGVsZXRlZDtDbGFzc0hhbmRsZS5wcm90b3R5cGVbImRlbGV0ZUxhdGVyIl09Q2xhc3NIYW5kbGVfZGVsZXRlTGF0ZXJ9ZnVuY3Rpb24gQ2xhc3NIYW5kbGUoKXt9dmFyIHJlZ2lzdGVyZWRQb2ludGVycz17fTtmdW5jdGlvbiBlbnN1cmVPdmVybG9hZFRhYmxlKHByb3RvLG1ldGhvZE5hbWUsaHVtYW5OYW1lKXtpZih1bmRlZmluZWQ9PT1wcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlKXt2YXIgcHJldkZ1bmM9cHJvdG9bbWV0aG9kTmFtZV07cHJvdG9bbWV0aG9kTmFtZV09ZnVuY3Rpb24oKXtpZighcHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZS5oYXNPd25Qcm9wZXJ0eShhcmd1bWVudHMubGVuZ3RoKSl7dGhyb3dCaW5kaW5nRXJyb3IoIkZ1bmN0aW9uICciK2h1bWFuTmFtZSsiJyBjYWxsZWQgd2l0aCBhbiBpbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMgKCIrYXJndW1lbnRzLmxlbmd0aCsiKSAtIGV4cGVjdHMgb25lIG9mICgiK3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGUrIikhIil9cmV0dXJuIHByb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbYXJndW1lbnRzLmxlbmd0aF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfTtwcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlPVtdO3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbcHJldkZ1bmMuYXJnQ291bnRdPXByZXZGdW5jfX1mdW5jdGlvbiBleHBvc2VQdWJsaWNTeW1ib2wobmFtZSx2YWx1ZSxudW1Bcmd1bWVudHMpe2lmKE1vZHVsZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSl7aWYodW5kZWZpbmVkPT09bnVtQXJndW1lbnRzfHx1bmRlZmluZWQhPT1Nb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZSYmdW5kZWZpbmVkIT09TW9kdWxlW25hbWVdLm92ZXJsb2FkVGFibGVbbnVtQXJndW1lbnRzXSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCByZWdpc3RlciBwdWJsaWMgbmFtZSAnIituYW1lKyInIHR3aWNlIil9ZW5zdXJlT3ZlcmxvYWRUYWJsZShNb2R1bGUsbmFtZSxuYW1lKTtpZihNb2R1bGUuaGFzT3duUHJvcGVydHkobnVtQXJndW1lbnRzKSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCByZWdpc3RlciBtdWx0aXBsZSBvdmVybG9hZHMgb2YgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIG51bWJlciBvZiBhcmd1bWVudHMgKCIrbnVtQXJndW1lbnRzKyIpISIpfU1vZHVsZVtuYW1lXS5vdmVybG9hZFRhYmxlW251bUFyZ3VtZW50c109dmFsdWV9ZWxzZXtNb2R1bGVbbmFtZV09dmFsdWU7aWYodW5kZWZpbmVkIT09bnVtQXJndW1lbnRzKXtNb2R1bGVbbmFtZV0ubnVtQXJndW1lbnRzPW51bUFyZ3VtZW50c319fWZ1bmN0aW9uIFJlZ2lzdGVyZWRDbGFzcyhuYW1lLGNvbnN0cnVjdG9yLGluc3RhbmNlUHJvdG90eXBlLHJhd0Rlc3RydWN0b3IsYmFzZUNsYXNzLGdldEFjdHVhbFR5cGUsdXBjYXN0LGRvd25jYXN0KXt0aGlzLm5hbWU9bmFtZTt0aGlzLmNvbnN0cnVjdG9yPWNvbnN0cnVjdG9yO3RoaXMuaW5zdGFuY2VQcm90b3R5cGU9aW5zdGFuY2VQcm90b3R5cGU7dGhpcy5yYXdEZXN0cnVjdG9yPXJhd0Rlc3RydWN0b3I7dGhpcy5iYXNlQ2xhc3M9YmFzZUNsYXNzO3RoaXMuZ2V0QWN0dWFsVHlwZT1nZXRBY3R1YWxUeXBlO3RoaXMudXBjYXN0PXVwY2FzdDt0aGlzLmRvd25jYXN0PWRvd25jYXN0O3RoaXMucHVyZVZpcnR1YWxGdW5jdGlvbnM9W119ZnVuY3Rpb24gdXBjYXN0UG9pbnRlcihwdHIscHRyQ2xhc3MsZGVzaXJlZENsYXNzKXt3aGlsZShwdHJDbGFzcyE9PWRlc2lyZWRDbGFzcyl7aWYoIXB0ckNsYXNzLnVwY2FzdCl7dGhyb3dCaW5kaW5nRXJyb3IoIkV4cGVjdGVkIG51bGwgb3IgaW5zdGFuY2Ugb2YgIitkZXNpcmVkQ2xhc3MubmFtZSsiLCBnb3QgYW4gaW5zdGFuY2Ugb2YgIitwdHJDbGFzcy5uYW1lKX1wdHI9cHRyQ2xhc3MudXBjYXN0KHB0cik7cHRyQ2xhc3M9cHRyQ2xhc3MuYmFzZUNsYXNzfXJldHVybiBwdHJ9ZnVuY3Rpb24gY29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGUoZGVzdHJ1Y3RvcnMsaGFuZGxlKXtpZihoYW5kbGU9PT1udWxsKXtpZih0aGlzLmlzUmVmZXJlbmNlKXt0aHJvd0JpbmRpbmdFcnJvcigibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSl9cmV0dXJuIDB9aWYoIWhhbmRsZS4kJCl7dGhyb3dCaW5kaW5nRXJyb3IoJ0Nhbm5vdCBwYXNzICInK19lbWJpbmRfcmVwcihoYW5kbGUpKyciIGFzIGEgJyt0aGlzLm5hbWUpfWlmKCFoYW5kbGUuJCQucHRyKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgIit0aGlzLm5hbWUpfXZhciBoYW5kbGVDbGFzcz1oYW5kbGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIHB0cj11cGNhc3RQb2ludGVyKGhhbmRsZS4kJC5wdHIsaGFuZGxlQ2xhc3MsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBwdHJ9ZnVuY3Rpb24gZ2VuZXJpY1BvaW50ZXJUb1dpcmVUeXBlKGRlc3RydWN0b3JzLGhhbmRsZSl7dmFyIHB0cjtpZihoYW5kbGU9PT1udWxsKXtpZih0aGlzLmlzUmVmZXJlbmNlKXt0aHJvd0JpbmRpbmdFcnJvcigibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSl9aWYodGhpcy5pc1NtYXJ0UG9pbnRlcil7cHRyPXRoaXMucmF3Q29uc3RydWN0b3IoKTtpZihkZXN0cnVjdG9ycyE9PW51bGwpe2Rlc3RydWN0b3JzLnB1c2godGhpcy5yYXdEZXN0cnVjdG9yLHB0cil9cmV0dXJuIHB0cn1lbHNle3JldHVybiAwfX1pZighaGFuZGxlLiQkKXt0aHJvd0JpbmRpbmdFcnJvcignQ2Fubm90IHBhc3MgIicrX2VtYmluZF9yZXByKGhhbmRsZSkrJyIgYXMgYSAnK3RoaXMubmFtZSl9aWYoIWhhbmRsZS4kJC5wdHIpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSl9aWYoIXRoaXMuaXNDb25zdCYmaGFuZGxlLiQkLnB0clR5cGUuaXNDb25zdCl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgIisoaGFuZGxlLiQkLnNtYXJ0UHRyVHlwZT9oYW5kbGUuJCQuc21hcnRQdHJUeXBlLm5hbWU6aGFuZGxlLiQkLnB0clR5cGUubmFtZSkrIiB0byBwYXJhbWV0ZXIgdHlwZSAiK3RoaXMubmFtZSl9dmFyIGhhbmRsZUNsYXNzPWhhbmRsZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcztwdHI9dXBjYXN0UG9pbnRlcihoYW5kbGUuJCQucHRyLGhhbmRsZUNsYXNzLHRoaXMucmVnaXN0ZXJlZENsYXNzKTtpZih0aGlzLmlzU21hcnRQb2ludGVyKXtpZih1bmRlZmluZWQ9PT1oYW5kbGUuJCQuc21hcnRQdHIpe3Rocm93QmluZGluZ0Vycm9yKCJQYXNzaW5nIHJhdyBwb2ludGVyIHRvIHNtYXJ0IHBvaW50ZXIgaXMgaWxsZWdhbCIpfXN3aXRjaCh0aGlzLnNoYXJpbmdQb2xpY3kpe2Nhc2UgMDppZihoYW5kbGUuJCQuc21hcnRQdHJUeXBlPT09dGhpcyl7cHRyPWhhbmRsZS4kJC5zbWFydFB0cn1lbHNle3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIrKGhhbmRsZS4kJC5zbWFydFB0clR5cGU/aGFuZGxlLiQkLnNtYXJ0UHRyVHlwZS5uYW1lOmhhbmRsZS4kJC5wdHJUeXBlLm5hbWUpKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpfWJyZWFrO2Nhc2UgMTpwdHI9aGFuZGxlLiQkLnNtYXJ0UHRyO2JyZWFrO2Nhc2UgMjppZihoYW5kbGUuJCQuc21hcnRQdHJUeXBlPT09dGhpcyl7cHRyPWhhbmRsZS4kJC5zbWFydFB0cn1lbHNle3ZhciBjbG9uZWRIYW5kbGU9aGFuZGxlWyJjbG9uZSJdKCk7cHRyPXRoaXMucmF3U2hhcmUocHRyLF9fZW12YWxfcmVnaXN0ZXIoZnVuY3Rpb24oKXtjbG9uZWRIYW5kbGVbImRlbGV0ZSJdKCl9KSk7aWYoZGVzdHJ1Y3RvcnMhPT1udWxsKXtkZXN0cnVjdG9ycy5wdXNoKHRoaXMucmF3RGVzdHJ1Y3RvcixwdHIpfX1icmVhaztkZWZhdWx0OnRocm93QmluZGluZ0Vycm9yKCJVbnN1cHBvcnRpbmcgc2hhcmluZyBwb2xpY3kiKX19cmV0dXJuIHB0cn1mdW5jdGlvbiBub25Db25zdE5vU21hcnRQdHJSYXdQb2ludGVyVG9XaXJlVHlwZShkZXN0cnVjdG9ycyxoYW5kbGUpe2lmKGhhbmRsZT09PW51bGwpe2lmKHRoaXMuaXNSZWZlcmVuY2Upe3Rocm93QmluZGluZ0Vycm9yKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKX1yZXR1cm4gMH1pZighaGFuZGxlLiQkKXt0aHJvd0JpbmRpbmdFcnJvcignQ2Fubm90IHBhc3MgIicrX2VtYmluZF9yZXByKGhhbmRsZSkrJyIgYXMgYSAnK3RoaXMubmFtZSl9aWYoIWhhbmRsZS4kJC5wdHIpe3Rocm93QmluZGluZ0Vycm9yKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSl9aWYoaGFuZGxlLiQkLnB0clR5cGUuaXNDb25zdCl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgIitoYW5kbGUuJCQucHRyVHlwZS5uYW1lKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpfXZhciBoYW5kbGVDbGFzcz1oYW5kbGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7dmFyIHB0cj11cGNhc3RQb2ludGVyKGhhbmRsZS4kJC5wdHIsaGFuZGxlQ2xhc3MsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBwdHJ9ZnVuY3Rpb24gc2ltcGxlUmVhZFZhbHVlRnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKEhFQVBVMzJbcG9pbnRlcj4+Ml0pfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyX2dldFBvaW50ZWUocHRyKXtpZih0aGlzLnJhd0dldFBvaW50ZWUpe3B0cj10aGlzLnJhd0dldFBvaW50ZWUocHRyKX1yZXR1cm4gcHRyfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyX2Rlc3RydWN0b3IocHRyKXtpZih0aGlzLnJhd0Rlc3RydWN0b3Ipe3RoaXMucmF3RGVzdHJ1Y3RvcihwdHIpfX1mdW5jdGlvbiBSZWdpc3RlcmVkUG9pbnRlcl9kZWxldGVPYmplY3QoaGFuZGxlKXtpZihoYW5kbGUhPT1udWxsKXtoYW5kbGVbImRlbGV0ZSJdKCl9fWZ1bmN0aW9uIGRvd25jYXN0UG9pbnRlcihwdHIscHRyQ2xhc3MsZGVzaXJlZENsYXNzKXtpZihwdHJDbGFzcz09PWRlc2lyZWRDbGFzcyl7cmV0dXJuIHB0cn1pZih1bmRlZmluZWQ9PT1kZXNpcmVkQ2xhc3MuYmFzZUNsYXNzKXtyZXR1cm4gbnVsbH12YXIgcnY9ZG93bmNhc3RQb2ludGVyKHB0cixwdHJDbGFzcyxkZXNpcmVkQ2xhc3MuYmFzZUNsYXNzKTtpZihydj09PW51bGwpe3JldHVybiBudWxsfXJldHVybiBkZXNpcmVkQ2xhc3MuZG93bmNhc3QocnYpfWZ1bmN0aW9uIGdldEluaGVyaXRlZEluc3RhbmNlQ291bnQoKXtyZXR1cm4gT2JqZWN0LmtleXMocmVnaXN0ZXJlZEluc3RhbmNlcykubGVuZ3RofWZ1bmN0aW9uIGdldExpdmVJbmhlcml0ZWRJbnN0YW5jZXMoKXt2YXIgcnY9W107Zm9yKHZhciBrIGluIHJlZ2lzdGVyZWRJbnN0YW5jZXMpe2lmKHJlZ2lzdGVyZWRJbnN0YW5jZXMuaGFzT3duUHJvcGVydHkoaykpe3J2LnB1c2gocmVnaXN0ZXJlZEluc3RhbmNlc1trXSl9fXJldHVybiBydn1mdW5jdGlvbiBzZXREZWxheUZ1bmN0aW9uKGZuKXtkZWxheUZ1bmN0aW9uPWZuO2lmKGRlbGV0aW9uUXVldWUubGVuZ3RoJiZkZWxheUZ1bmN0aW9uKXtkZWxheUZ1bmN0aW9uKGZsdXNoUGVuZGluZ0RlbGV0ZXMpfX1mdW5jdGlvbiBpbml0X2VtYmluZCgpe01vZHVsZVsiZ2V0SW5oZXJpdGVkSW5zdGFuY2VDb3VudCJdPWdldEluaGVyaXRlZEluc3RhbmNlQ291bnQ7TW9kdWxlWyJnZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzIl09Z2V0TGl2ZUluaGVyaXRlZEluc3RhbmNlcztNb2R1bGVbImZsdXNoUGVuZGluZ0RlbGV0ZXMiXT1mbHVzaFBlbmRpbmdEZWxldGVzO01vZHVsZVsic2V0RGVsYXlGdW5jdGlvbiJdPXNldERlbGF5RnVuY3Rpb259dmFyIHJlZ2lzdGVyZWRJbnN0YW5jZXM9e307ZnVuY3Rpb24gZ2V0QmFzZXN0UG9pbnRlcihjbGFzc18scHRyKXtpZihwdHI9PT11bmRlZmluZWQpe3Rocm93QmluZGluZ0Vycm9yKCJwdHIgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQiKX13aGlsZShjbGFzc18uYmFzZUNsYXNzKXtwdHI9Y2xhc3NfLnVwY2FzdChwdHIpO2NsYXNzXz1jbGFzc18uYmFzZUNsYXNzfXJldHVybiBwdHJ9ZnVuY3Rpb24gZ2V0SW5oZXJpdGVkSW5zdGFuY2UoY2xhc3NfLHB0cil7cHRyPWdldEJhc2VzdFBvaW50ZXIoY2xhc3NfLHB0cik7cmV0dXJuIHJlZ2lzdGVyZWRJbnN0YW5jZXNbcHRyXX1mdW5jdGlvbiBtYWtlQ2xhc3NIYW5kbGUocHJvdG90eXBlLHJlY29yZCl7aWYoIXJlY29yZC5wdHJUeXBlfHwhcmVjb3JkLnB0cil7dGhyb3dJbnRlcm5hbEVycm9yKCJtYWtlQ2xhc3NIYW5kbGUgcmVxdWlyZXMgcHRyIGFuZCBwdHJUeXBlIil9dmFyIGhhc1NtYXJ0UHRyVHlwZT0hIXJlY29yZC5zbWFydFB0clR5cGU7dmFyIGhhc1NtYXJ0UHRyPSEhcmVjb3JkLnNtYXJ0UHRyO2lmKGhhc1NtYXJ0UHRyVHlwZSE9PWhhc1NtYXJ0UHRyKXt0aHJvd0ludGVybmFsRXJyb3IoIkJvdGggc21hcnRQdHJUeXBlIGFuZCBzbWFydFB0ciBtdXN0IGJlIHNwZWNpZmllZCIpfXJlY29yZC5jb3VudD17dmFsdWU6MX07cmV0dXJuIGF0dGFjaEZpbmFsaXplcihPYmplY3QuY3JlYXRlKHByb3RvdHlwZSx7JCQ6e3ZhbHVlOnJlY29yZH19KSl9ZnVuY3Rpb24gUmVnaXN0ZXJlZFBvaW50ZXJfZnJvbVdpcmVUeXBlKHB0cil7dmFyIHJhd1BvaW50ZXI9dGhpcy5nZXRQb2ludGVlKHB0cik7aWYoIXJhd1BvaW50ZXIpe3RoaXMuZGVzdHJ1Y3RvcihwdHIpO3JldHVybiBudWxsfXZhciByZWdpc3RlcmVkSW5zdGFuY2U9Z2V0SW5oZXJpdGVkSW5zdGFuY2UodGhpcy5yZWdpc3RlcmVkQ2xhc3MscmF3UG9pbnRlcik7aWYodW5kZWZpbmVkIT09cmVnaXN0ZXJlZEluc3RhbmNlKXtpZigwPT09cmVnaXN0ZXJlZEluc3RhbmNlLiQkLmNvdW50LnZhbHVlKXtyZWdpc3RlcmVkSW5zdGFuY2UuJCQucHRyPXJhd1BvaW50ZXI7cmVnaXN0ZXJlZEluc3RhbmNlLiQkLnNtYXJ0UHRyPXB0cjtyZXR1cm4gcmVnaXN0ZXJlZEluc3RhbmNlWyJjbG9uZSJdKCl9ZWxzZXt2YXIgcnY9cmVnaXN0ZXJlZEluc3RhbmNlWyJjbG9uZSJdKCk7dGhpcy5kZXN0cnVjdG9yKHB0cik7cmV0dXJuIHJ2fX1mdW5jdGlvbiBtYWtlRGVmYXVsdEhhbmRsZSgpe2lmKHRoaXMuaXNTbWFydFBvaW50ZXIpe3JldHVybiBtYWtlQ2xhc3NIYW5kbGUodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcy5wb2ludGVlVHlwZSxwdHI6cmF3UG9pbnRlcixzbWFydFB0clR5cGU6dGhpcyxzbWFydFB0cjpwdHJ9KX1lbHNle3JldHVybiBtYWtlQ2xhc3NIYW5kbGUodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcyxwdHI6cHRyfSl9fXZhciBhY3R1YWxUeXBlPXRoaXMucmVnaXN0ZXJlZENsYXNzLmdldEFjdHVhbFR5cGUocmF3UG9pbnRlcik7dmFyIHJlZ2lzdGVyZWRQb2ludGVyUmVjb3JkPXJlZ2lzdGVyZWRQb2ludGVyc1thY3R1YWxUeXBlXTtpZighcmVnaXN0ZXJlZFBvaW50ZXJSZWNvcmQpe3JldHVybiBtYWtlRGVmYXVsdEhhbmRsZS5jYWxsKHRoaXMpfXZhciB0b1R5cGU7aWYodGhpcy5pc0NvbnN0KXt0b1R5cGU9cmVnaXN0ZXJlZFBvaW50ZXJSZWNvcmQuY29uc3RQb2ludGVyVHlwZX1lbHNle3RvVHlwZT1yZWdpc3RlcmVkUG9pbnRlclJlY29yZC5wb2ludGVyVHlwZX12YXIgZHA9ZG93bmNhc3RQb2ludGVyKHJhd1BvaW50ZXIsdGhpcy5yZWdpc3RlcmVkQ2xhc3MsdG9UeXBlLnJlZ2lzdGVyZWRDbGFzcyk7aWYoZHA9PT1udWxsKXtyZXR1cm4gbWFrZURlZmF1bHRIYW5kbGUuY2FsbCh0aGlzKX1pZih0aGlzLmlzU21hcnRQb2ludGVyKXtyZXR1cm4gbWFrZUNsYXNzSGFuZGxlKHRvVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dG9UeXBlLHB0cjpkcCxzbWFydFB0clR5cGU6dGhpcyxzbWFydFB0cjpwdHJ9KX1lbHNle3JldHVybiBtYWtlQ2xhc3NIYW5kbGUodG9UeXBlLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZSx7cHRyVHlwZTp0b1R5cGUscHRyOmRwfSl9fWZ1bmN0aW9uIGluaXRfUmVnaXN0ZXJlZFBvaW50ZXIoKXtSZWdpc3RlcmVkUG9pbnRlci5wcm90b3R5cGUuZ2V0UG9pbnRlZT1SZWdpc3RlcmVkUG9pbnRlcl9nZXRQb2ludGVlO1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZS5kZXN0cnVjdG9yPVJlZ2lzdGVyZWRQb2ludGVyX2Rlc3RydWN0b3I7UmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlWyJhcmdQYWNrQWR2YW5jZSJdPTg7UmVnaXN0ZXJlZFBvaW50ZXIucHJvdG90eXBlWyJyZWFkVmFsdWVGcm9tUG9pbnRlciJdPXNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyO1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZVsiZGVsZXRlT2JqZWN0Il09UmVnaXN0ZXJlZFBvaW50ZXJfZGVsZXRlT2JqZWN0O1JlZ2lzdGVyZWRQb2ludGVyLnByb3RvdHlwZVsiZnJvbVdpcmVUeXBlIl09UmVnaXN0ZXJlZFBvaW50ZXJfZnJvbVdpcmVUeXBlfWZ1bmN0aW9uIFJlZ2lzdGVyZWRQb2ludGVyKG5hbWUscmVnaXN0ZXJlZENsYXNzLGlzUmVmZXJlbmNlLGlzQ29uc3QsaXNTbWFydFBvaW50ZXIscG9pbnRlZVR5cGUsc2hhcmluZ1BvbGljeSxyYXdHZXRQb2ludGVlLHJhd0NvbnN0cnVjdG9yLHJhd1NoYXJlLHJhd0Rlc3RydWN0b3Ipe3RoaXMubmFtZT1uYW1lO3RoaXMucmVnaXN0ZXJlZENsYXNzPXJlZ2lzdGVyZWRDbGFzczt0aGlzLmlzUmVmZXJlbmNlPWlzUmVmZXJlbmNlO3RoaXMuaXNDb25zdD1pc0NvbnN0O3RoaXMuaXNTbWFydFBvaW50ZXI9aXNTbWFydFBvaW50ZXI7dGhpcy5wb2ludGVlVHlwZT1wb2ludGVlVHlwZTt0aGlzLnNoYXJpbmdQb2xpY3k9c2hhcmluZ1BvbGljeTt0aGlzLnJhd0dldFBvaW50ZWU9cmF3R2V0UG9pbnRlZTt0aGlzLnJhd0NvbnN0cnVjdG9yPXJhd0NvbnN0cnVjdG9yO3RoaXMucmF3U2hhcmU9cmF3U2hhcmU7dGhpcy5yYXdEZXN0cnVjdG9yPXJhd0Rlc3RydWN0b3I7aWYoIWlzU21hcnRQb2ludGVyJiZyZWdpc3RlcmVkQ2xhc3MuYmFzZUNsYXNzPT09dW5kZWZpbmVkKXtpZihpc0NvbnN0KXt0aGlzWyJ0b1dpcmVUeXBlIl09Y29uc3ROb1NtYXJ0UHRyUmF3UG9pbnRlclRvV2lyZVR5cGU7dGhpcy5kZXN0cnVjdG9yRnVuY3Rpb249bnVsbH1lbHNle3RoaXNbInRvV2lyZVR5cGUiXT1ub25Db25zdE5vU21hcnRQdHJSYXdQb2ludGVyVG9XaXJlVHlwZTt0aGlzLmRlc3RydWN0b3JGdW5jdGlvbj1udWxsfX1lbHNle3RoaXNbInRvV2lyZVR5cGUiXT1nZW5lcmljUG9pbnRlclRvV2lyZVR5cGV9fWZ1bmN0aW9uIHJlcGxhY2VQdWJsaWNTeW1ib2wobmFtZSx2YWx1ZSxudW1Bcmd1bWVudHMpe2lmKCFNb2R1bGUuaGFzT3duUHJvcGVydHkobmFtZSkpe3Rocm93SW50ZXJuYWxFcnJvcigiUmVwbGFjaW5nIG5vbmV4aXN0YW50IHB1YmxpYyBzeW1ib2wiKX1pZih1bmRlZmluZWQhPT1Nb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZSYmdW5kZWZpbmVkIT09bnVtQXJndW1lbnRzKXtNb2R1bGVbbmFtZV0ub3ZlcmxvYWRUYWJsZVtudW1Bcmd1bWVudHNdPXZhbHVlfWVsc2V7TW9kdWxlW25hbWVdPXZhbHVlO01vZHVsZVtuYW1lXS5hcmdDb3VudD1udW1Bcmd1bWVudHN9fWZ1bmN0aW9uIGR5bkNhbGxMZWdhY3koc2lnLHB0cixhcmdzKXt2YXIgZj1Nb2R1bGVbImR5bkNhbGxfIitzaWddO3JldHVybiBhcmdzJiZhcmdzLmxlbmd0aD9mLmFwcGx5KG51bGwsW3B0cl0uY29uY2F0KGFyZ3MpKTpmLmNhbGwobnVsbCxwdHIpfWZ1bmN0aW9uIGR5bkNhbGwoc2lnLHB0cixhcmdzKXtpZihzaWcuaW5kZXhPZigiaiIpIT0tMSl7cmV0dXJuIGR5bkNhbGxMZWdhY3koc2lnLHB0cixhcmdzKX1yZXR1cm4gd2FzbVRhYmxlLmdldChwdHIpLmFwcGx5KG51bGwsYXJncyl9ZnVuY3Rpb24gZ2V0RHluQ2FsbGVyKHNpZyxwdHIpe3ZhciBhcmdDYWNoZT1bXTtyZXR1cm4gZnVuY3Rpb24oKXthcmdDYWNoZS5sZW5ndGg9YXJndW1lbnRzLmxlbmd0aDtmb3IodmFyIGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXthcmdDYWNoZVtpXT1hcmd1bWVudHNbaV19cmV0dXJuIGR5bkNhbGwoc2lnLHB0cixhcmdDYWNoZSl9fWZ1bmN0aW9uIGVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKHNpZ25hdHVyZSxyYXdGdW5jdGlvbil7c2lnbmF0dXJlPXJlYWRMYXRpbjFTdHJpbmcoc2lnbmF0dXJlKTtmdW5jdGlvbiBtYWtlRHluQ2FsbGVyKCl7aWYoc2lnbmF0dXJlLmluZGV4T2YoImoiKSE9LTEpe3JldHVybiBnZXREeW5DYWxsZXIoc2lnbmF0dXJlLHJhd0Z1bmN0aW9uKX1yZXR1cm4gd2FzbVRhYmxlLmdldChyYXdGdW5jdGlvbil9dmFyIGZwPW1ha2VEeW5DYWxsZXIoKTtpZih0eXBlb2YgZnAhPT0iZnVuY3Rpb24iKXt0aHJvd0JpbmRpbmdFcnJvcigidW5rbm93biBmdW5jdGlvbiBwb2ludGVyIHdpdGggc2lnbmF0dXJlICIrc2lnbmF0dXJlKyI6ICIrcmF3RnVuY3Rpb24pfXJldHVybiBmcH12YXIgVW5ib3VuZFR5cGVFcnJvcj11bmRlZmluZWQ7ZnVuY3Rpb24gZ2V0VHlwZU5hbWUodHlwZSl7dmFyIHB0cj1fX19nZXRUeXBlTmFtZSh0eXBlKTt2YXIgcnY9cmVhZExhdGluMVN0cmluZyhwdHIpO19mcmVlKHB0cik7cmV0dXJuIHJ2fWZ1bmN0aW9uIHRocm93VW5ib3VuZFR5cGVFcnJvcihtZXNzYWdlLHR5cGVzKXt2YXIgdW5ib3VuZFR5cGVzPVtdO3ZhciBzZWVuPXt9O2Z1bmN0aW9uIHZpc2l0KHR5cGUpe2lmKHNlZW5bdHlwZV0pe3JldHVybn1pZihyZWdpc3RlcmVkVHlwZXNbdHlwZV0pe3JldHVybn1pZih0eXBlRGVwZW5kZW5jaWVzW3R5cGVdKXt0eXBlRGVwZW5kZW5jaWVzW3R5cGVdLmZvckVhY2godmlzaXQpO3JldHVybn11bmJvdW5kVHlwZXMucHVzaCh0eXBlKTtzZWVuW3R5cGVdPXRydWV9dHlwZXMuZm9yRWFjaCh2aXNpdCk7dGhyb3cgbmV3IFVuYm91bmRUeXBlRXJyb3IobWVzc2FnZSsiOiAiK3VuYm91bmRUeXBlcy5tYXAoZ2V0VHlwZU5hbWUpLmpvaW4oWyIsICJdKSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfY2xhc3MocmF3VHlwZSxyYXdQb2ludGVyVHlwZSxyYXdDb25zdFBvaW50ZXJUeXBlLGJhc2VDbGFzc1Jhd1R5cGUsZ2V0QWN0dWFsVHlwZVNpZ25hdHVyZSxnZXRBY3R1YWxUeXBlLHVwY2FzdFNpZ25hdHVyZSx1cGNhc3QsZG93bmNhc3RTaWduYXR1cmUsZG93bmNhc3QsbmFtZSxkZXN0cnVjdG9yU2lnbmF0dXJlLHJhd0Rlc3RydWN0b3Ipe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtnZXRBY3R1YWxUeXBlPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKGdldEFjdHVhbFR5cGVTaWduYXR1cmUsZ2V0QWN0dWFsVHlwZSk7aWYodXBjYXN0KXt1cGNhc3Q9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24odXBjYXN0U2lnbmF0dXJlLHVwY2FzdCl9aWYoZG93bmNhc3Qpe2Rvd25jYXN0PWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKGRvd25jYXN0U2lnbmF0dXJlLGRvd25jYXN0KX1yYXdEZXN0cnVjdG9yPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKGRlc3RydWN0b3JTaWduYXR1cmUscmF3RGVzdHJ1Y3Rvcik7dmFyIGxlZ2FsRnVuY3Rpb25OYW1lPW1ha2VMZWdhbEZ1bmN0aW9uTmFtZShuYW1lKTtleHBvc2VQdWJsaWNTeW1ib2wobGVnYWxGdW5jdGlvbk5hbWUsZnVuY3Rpb24oKXt0aHJvd1VuYm91bmRUeXBlRXJyb3IoIkNhbm5vdCBjb25zdHJ1Y3QgIituYW1lKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLFtiYXNlQ2xhc3NSYXdUeXBlXSl9KTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbcmF3VHlwZSxyYXdQb2ludGVyVHlwZSxyYXdDb25zdFBvaW50ZXJUeXBlXSxiYXNlQ2xhc3NSYXdUeXBlP1tiYXNlQ2xhc3NSYXdUeXBlXTpbXSxmdW5jdGlvbihiYXNlKXtiYXNlPWJhc2VbMF07dmFyIGJhc2VDbGFzczt2YXIgYmFzZVByb3RvdHlwZTtpZihiYXNlQ2xhc3NSYXdUeXBlKXtiYXNlQ2xhc3M9YmFzZS5yZWdpc3RlcmVkQ2xhc3M7YmFzZVByb3RvdHlwZT1iYXNlQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGV9ZWxzZXtiYXNlUHJvdG90eXBlPUNsYXNzSGFuZGxlLnByb3RvdHlwZX12YXIgY29uc3RydWN0b3I9Y3JlYXRlTmFtZWRGdW5jdGlvbihsZWdhbEZ1bmN0aW9uTmFtZSxmdW5jdGlvbigpe2lmKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSE9PWluc3RhbmNlUHJvdG90eXBlKXt0aHJvdyBuZXcgQmluZGluZ0Vycm9yKCJVc2UgJ25ldycgdG8gY29uc3RydWN0ICIrbmFtZSl9aWYodW5kZWZpbmVkPT09cmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHkpe3Rocm93IG5ldyBCaW5kaW5nRXJyb3IobmFtZSsiIGhhcyBubyBhY2Nlc3NpYmxlIGNvbnN0cnVjdG9yIil9dmFyIGJvZHk9cmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbYXJndW1lbnRzLmxlbmd0aF07aWYodW5kZWZpbmVkPT09Ym9keSl7dGhyb3cgbmV3IEJpbmRpbmdFcnJvcigiVHJpZWQgdG8gaW52b2tlIGN0b3Igb2YgIituYW1lKyIgd2l0aCBpbnZhbGlkIG51bWJlciBvZiBwYXJhbWV0ZXJzICgiK2FyZ3VtZW50cy5sZW5ndGgrIikgLSBleHBlY3RlZCAoIitPYmplY3Qua2V5cyhyZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keSkudG9TdHJpbmcoKSsiKSBwYXJhbWV0ZXJzIGluc3RlYWQhIil9cmV0dXJuIGJvZHkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7dmFyIGluc3RhbmNlUHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYmFzZVByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmNvbnN0cnVjdG9yfX0pO2NvbnN0cnVjdG9yLnByb3RvdHlwZT1pbnN0YW5jZVByb3RvdHlwZTt2YXIgcmVnaXN0ZXJlZENsYXNzPW5ldyBSZWdpc3RlcmVkQ2xhc3MobmFtZSxjb25zdHJ1Y3RvcixpbnN0YW5jZVByb3RvdHlwZSxyYXdEZXN0cnVjdG9yLGJhc2VDbGFzcyxnZXRBY3R1YWxUeXBlLHVwY2FzdCxkb3duY2FzdCk7dmFyIHJlZmVyZW5jZUNvbnZlcnRlcj1uZXcgUmVnaXN0ZXJlZFBvaW50ZXIobmFtZSxyZWdpc3RlcmVkQ2xhc3MsdHJ1ZSxmYWxzZSxmYWxzZSk7dmFyIHBvaW50ZXJDb252ZXJ0ZXI9bmV3IFJlZ2lzdGVyZWRQb2ludGVyKG5hbWUrIioiLHJlZ2lzdGVyZWRDbGFzcyxmYWxzZSxmYWxzZSxmYWxzZSk7dmFyIGNvbnN0UG9pbnRlckNvbnZlcnRlcj1uZXcgUmVnaXN0ZXJlZFBvaW50ZXIobmFtZSsiIGNvbnN0KiIscmVnaXN0ZXJlZENsYXNzLGZhbHNlLHRydWUsZmFsc2UpO3JlZ2lzdGVyZWRQb2ludGVyc1tyYXdUeXBlXT17cG9pbnRlclR5cGU6cG9pbnRlckNvbnZlcnRlcixjb25zdFBvaW50ZXJUeXBlOmNvbnN0UG9pbnRlckNvbnZlcnRlcn07cmVwbGFjZVB1YmxpY1N5bWJvbChsZWdhbEZ1bmN0aW9uTmFtZSxjb25zdHJ1Y3Rvcik7cmV0dXJuW3JlZmVyZW5jZUNvbnZlcnRlcixwb2ludGVyQ29udmVydGVyLGNvbnN0UG9pbnRlckNvbnZlcnRlcl19KX1mdW5jdGlvbiBuZXdfKGNvbnN0cnVjdG9yLGFyZ3VtZW50TGlzdCl7aWYoIShjb25zdHJ1Y3RvciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl7dGhyb3cgbmV3IFR5cGVFcnJvcigibmV3XyBjYWxsZWQgd2l0aCBjb25zdHJ1Y3RvciB0eXBlICIrdHlwZW9mIGNvbnN0cnVjdG9yKyIgd2hpY2ggaXMgbm90IGEgZnVuY3Rpb24iKX12YXIgZHVtbXk9Y3JlYXRlTmFtZWRGdW5jdGlvbihjb25zdHJ1Y3Rvci5uYW1lfHwidW5rbm93bkZ1bmN0aW9uTmFtZSIsZnVuY3Rpb24oKXt9KTtkdW1teS5wcm90b3R5cGU9Y29uc3RydWN0b3IucHJvdG90eXBlO3ZhciBvYmo9bmV3IGR1bW15O3ZhciByPWNvbnN0cnVjdG9yLmFwcGx5KG9iaixhcmd1bWVudExpc3QpO3JldHVybiByIGluc3RhbmNlb2YgT2JqZWN0P3I6b2JqfWZ1bmN0aW9uIHJ1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKXt3aGlsZShkZXN0cnVjdG9ycy5sZW5ndGgpe3ZhciBwdHI9ZGVzdHJ1Y3RvcnMucG9wKCk7dmFyIGRlbD1kZXN0cnVjdG9ycy5wb3AoKTtkZWwocHRyKX19ZnVuY3Rpb24gY3JhZnRJbnZva2VyRnVuY3Rpb24oaHVtYW5OYW1lLGFyZ1R5cGVzLGNsYXNzVHlwZSxjcHBJbnZva2VyRnVuYyxjcHBUYXJnZXRGdW5jKXt2YXIgYXJnQ291bnQ9YXJnVHlwZXMubGVuZ3RoO2lmKGFyZ0NvdW50PDIpe3Rocm93QmluZGluZ0Vycm9yKCJhcmdUeXBlcyBhcnJheSBzaXplIG1pc21hdGNoISBNdXN0IGF0IGxlYXN0IGdldCByZXR1cm4gdmFsdWUgYW5kICd0aGlzJyB0eXBlcyEiKX12YXIgaXNDbGFzc01ldGhvZEZ1bmM9YXJnVHlwZXNbMV0hPT1udWxsJiZjbGFzc1R5cGUhPT1udWxsO3ZhciBuZWVkc0Rlc3RydWN0b3JTdGFjaz1mYWxzZTtmb3IodmFyIGk9MTtpPGFyZ1R5cGVzLmxlbmd0aDsrK2kpe2lmKGFyZ1R5cGVzW2ldIT09bnVsbCYmYXJnVHlwZXNbaV0uZGVzdHJ1Y3RvckZ1bmN0aW9uPT09dW5kZWZpbmVkKXtuZWVkc0Rlc3RydWN0b3JTdGFjaz10cnVlO2JyZWFrfX12YXIgcmV0dXJucz1hcmdUeXBlc1swXS5uYW1lIT09InZvaWQiO3ZhciBhcmdzTGlzdD0iIjt2YXIgYXJnc0xpc3RXaXJlZD0iIjtmb3IodmFyIGk9MDtpPGFyZ0NvdW50LTI7KytpKXthcmdzTGlzdCs9KGkhPT0wPyIsICI6IiIpKyJhcmciK2k7YXJnc0xpc3RXaXJlZCs9KGkhPT0wPyIsICI6IiIpKyJhcmciK2krIldpcmVkIn12YXIgaW52b2tlckZuQm9keT0icmV0dXJuIGZ1bmN0aW9uICIrbWFrZUxlZ2FsRnVuY3Rpb25OYW1lKGh1bWFuTmFtZSkrIigiK2FyZ3NMaXN0KyIpIHtcbiIrImlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAiKyhhcmdDb3VudC0yKSsiKSB7XG4iKyJ0aHJvd0JpbmRpbmdFcnJvcignZnVuY3Rpb24gIitodW1hbk5hbWUrIiBjYWxsZWQgd2l0aCAnICsgYXJndW1lbnRzLmxlbmd0aCArICcgYXJndW1lbnRzLCBleHBlY3RlZCAiKyhhcmdDb3VudC0yKSsiIGFyZ3MhJyk7XG4iKyJ9XG4iO2lmKG5lZWRzRGVzdHJ1Y3RvclN0YWNrKXtpbnZva2VyRm5Cb2R5Kz0idmFyIGRlc3RydWN0b3JzID0gW107XG4ifXZhciBkdG9yU3RhY2s9bmVlZHNEZXN0cnVjdG9yU3RhY2s/ImRlc3RydWN0b3JzIjoibnVsbCI7dmFyIGFyZ3MxPVsidGhyb3dCaW5kaW5nRXJyb3IiLCJpbnZva2VyIiwiZm4iLCJydW5EZXN0cnVjdG9ycyIsInJldFR5cGUiLCJjbGFzc1BhcmFtIl07dmFyIGFyZ3MyPVt0aHJvd0JpbmRpbmdFcnJvcixjcHBJbnZva2VyRnVuYyxjcHBUYXJnZXRGdW5jLHJ1bkRlc3RydWN0b3JzLGFyZ1R5cGVzWzBdLGFyZ1R5cGVzWzFdXTtpZihpc0NsYXNzTWV0aG9kRnVuYyl7aW52b2tlckZuQm9keSs9InZhciB0aGlzV2lyZWQgPSBjbGFzc1BhcmFtLnRvV2lyZVR5cGUoIitkdG9yU3RhY2srIiwgdGhpcyk7XG4ifWZvcih2YXIgaT0wO2k8YXJnQ291bnQtMjsrK2kpe2ludm9rZXJGbkJvZHkrPSJ2YXIgYXJnIitpKyJXaXJlZCA9IGFyZ1R5cGUiK2krIi50b1dpcmVUeXBlKCIrZHRvclN0YWNrKyIsIGFyZyIraSsiKTsgLy8gIithcmdUeXBlc1tpKzJdLm5hbWUrIlxuIjthcmdzMS5wdXNoKCJhcmdUeXBlIitpKTthcmdzMi5wdXNoKGFyZ1R5cGVzW2krMl0pfWlmKGlzQ2xhc3NNZXRob2RGdW5jKXthcmdzTGlzdFdpcmVkPSJ0aGlzV2lyZWQiKyhhcmdzTGlzdFdpcmVkLmxlbmd0aD4wPyIsICI6IiIpK2FyZ3NMaXN0V2lyZWR9aW52b2tlckZuQm9keSs9KHJldHVybnM/InZhciBydiA9ICI6IiIpKyJpbnZva2VyKGZuIisoYXJnc0xpc3RXaXJlZC5sZW5ndGg+MD8iLCAiOiIiKSthcmdzTGlzdFdpcmVkKyIpO1xuIjtpZihuZWVkc0Rlc3RydWN0b3JTdGFjayl7aW52b2tlckZuQm9keSs9InJ1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKTtcbiJ9ZWxzZXtmb3IodmFyIGk9aXNDbGFzc01ldGhvZEZ1bmM/MToyO2k8YXJnVHlwZXMubGVuZ3RoOysraSl7dmFyIHBhcmFtTmFtZT1pPT09MT8idGhpc1dpcmVkIjoiYXJnIisoaS0yKSsiV2lyZWQiO2lmKGFyZ1R5cGVzW2ldLmRlc3RydWN0b3JGdW5jdGlvbiE9PW51bGwpe2ludm9rZXJGbkJvZHkrPXBhcmFtTmFtZSsiX2R0b3IoIitwYXJhbU5hbWUrIik7IC8vICIrYXJnVHlwZXNbaV0ubmFtZSsiXG4iO2FyZ3MxLnB1c2gocGFyYW1OYW1lKyJfZHRvciIpO2FyZ3MyLnB1c2goYXJnVHlwZXNbaV0uZGVzdHJ1Y3RvckZ1bmN0aW9uKX19fWlmKHJldHVybnMpe2ludm9rZXJGbkJvZHkrPSJ2YXIgcmV0ID0gcmV0VHlwZS5mcm9tV2lyZVR5cGUocnYpO1xuIisicmV0dXJuIHJldDtcbiJ9ZWxzZXt9aW52b2tlckZuQm9keSs9In1cbiI7YXJnczEucHVzaChpbnZva2VyRm5Cb2R5KTt2YXIgaW52b2tlckZ1bmN0aW9uPW5ld18oRnVuY3Rpb24sYXJnczEpLmFwcGx5KG51bGwsYXJnczIpO3JldHVybiBpbnZva2VyRnVuY3Rpb259ZnVuY3Rpb24gaGVhcDMyVmVjdG9yVG9BcnJheShjb3VudCxmaXJzdEVsZW1lbnQpe3ZhciBhcnJheT1bXTtmb3IodmFyIGk9MDtpPGNvdW50O2krKyl7YXJyYXkucHVzaChIRUFQMzJbKGZpcnN0RWxlbWVudD4+MikraV0pfXJldHVybiBhcnJheX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19jbGFzc19mdW5jdGlvbihyYXdDbGFzc1R5cGUsbWV0aG9kTmFtZSxhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIsaW52b2tlclNpZ25hdHVyZSxyYXdJbnZva2VyLGZuKXt2YXIgcmF3QXJnVHlwZXM9aGVhcDMyVmVjdG9yVG9BcnJheShhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIpO21ldGhvZE5hbWU9cmVhZExhdGluMVN0cmluZyhtZXRob2ROYW1lKTtyYXdJbnZva2VyPWVtYmluZF9fcmVxdWlyZUZ1bmN0aW9uKGludm9rZXJTaWduYXR1cmUscmF3SW52b2tlcik7d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10sW3Jhd0NsYXNzVHlwZV0sZnVuY3Rpb24oY2xhc3NUeXBlKXtjbGFzc1R5cGU9Y2xhc3NUeXBlWzBdO3ZhciBodW1hbk5hbWU9Y2xhc3NUeXBlLm5hbWUrIi4iK21ldGhvZE5hbWU7ZnVuY3Rpb24gdW5ib3VuZFR5cGVzSGFuZGxlcigpe3Rocm93VW5ib3VuZFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgIitodW1hbk5hbWUrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIscmF3QXJnVHlwZXMpfXZhciBwcm90bz1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yO2lmKHVuZGVmaW5lZD09PXByb3RvW21ldGhvZE5hbWVdKXt1bmJvdW5kVHlwZXNIYW5kbGVyLmFyZ0NvdW50PWFyZ0NvdW50LTE7cHJvdG9bbWV0aG9kTmFtZV09dW5ib3VuZFR5cGVzSGFuZGxlcn1lbHNle2Vuc3VyZU92ZXJsb2FkVGFibGUocHJvdG8sbWV0aG9kTmFtZSxodW1hbk5hbWUpO3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbYXJnQ291bnQtMV09dW5ib3VuZFR5cGVzSGFuZGxlcn13aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxyYXdBcmdUeXBlcyxmdW5jdGlvbihhcmdUeXBlcyl7dmFyIGludm9rZXJBcmdzQXJyYXk9W2FyZ1R5cGVzWzBdLG51bGxdLmNvbmNhdChhcmdUeXBlcy5zbGljZSgxKSk7dmFyIGZ1bmM9Y3JhZnRJbnZva2VyRnVuY3Rpb24oaHVtYW5OYW1lLGludm9rZXJBcmdzQXJyYXksbnVsbCxyYXdJbnZva2VyLGZuKTtpZih1bmRlZmluZWQ9PT1wcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlKXtmdW5jLmFyZ0NvdW50PWFyZ0NvdW50LTE7cHJvdG9bbWV0aG9kTmFtZV09ZnVuY31lbHNle3Byb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGVbYXJnQ291bnQtMV09ZnVuY31yZXR1cm5bXX0pO3JldHVybltdfSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfY29uc3RydWN0b3IocmF3Q2xhc3NUeXBlLGFyZ0NvdW50LHJhd0FyZ1R5cGVzQWRkcixpbnZva2VyU2lnbmF0dXJlLGludm9rZXIscmF3Q29uc3RydWN0b3Ipe2Fzc2VydChhcmdDb3VudD4wKTt2YXIgcmF3QXJnVHlwZXM9aGVhcDMyVmVjdG9yVG9BcnJheShhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIpO2ludm9rZXI9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oaW52b2tlclNpZ25hdHVyZSxpbnZva2VyKTt2YXIgYXJncz1bcmF3Q29uc3RydWN0b3JdO3ZhciBkZXN0cnVjdG9ycz1bXTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxbcmF3Q2xhc3NUeXBlXSxmdW5jdGlvbihjbGFzc1R5cGUpe2NsYXNzVHlwZT1jbGFzc1R5cGVbMF07dmFyIGh1bWFuTmFtZT0iY29uc3RydWN0b3IgIitjbGFzc1R5cGUubmFtZTtpZih1bmRlZmluZWQ9PT1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHkpe2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keT1bXX1pZih1bmRlZmluZWQhPT1jbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbYXJnQ291bnQtMV0pe3Rocm93IG5ldyBCaW5kaW5nRXJyb3IoIkNhbm5vdCByZWdpc3RlciBtdWx0aXBsZSBjb25zdHJ1Y3RvcnMgd2l0aCBpZGVudGljYWwgbnVtYmVyIG9mIHBhcmFtZXRlcnMgKCIrKGFyZ0NvdW50LTEpKyIpIGZvciBjbGFzcyAnIitjbGFzc1R5cGUubmFtZSsiJyEgT3ZlcmxvYWQgcmVzb2x1dGlvbiBpcyBjdXJyZW50bHkgb25seSBwZXJmb3JtZWQgdXNpbmcgdGhlIHBhcmFtZXRlciBjb3VudCwgbm90IGFjdHVhbCB0eXBlIGluZm8hIil9Y2xhc3NUeXBlLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W2FyZ0NvdW50LTFdPWZ1bmN0aW9uIHVuYm91bmRUeXBlSGFuZGxlcigpe3Rocm93VW5ib3VuZFR5cGVFcnJvcigiQ2Fubm90IGNvbnN0cnVjdCAiK2NsYXNzVHlwZS5uYW1lKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLHJhd0FyZ1R5cGVzKX07d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10scmF3QXJnVHlwZXMsZnVuY3Rpb24oYXJnVHlwZXMpe2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keVthcmdDb3VudC0xXT1mdW5jdGlvbiBjb25zdHJ1Y3Rvcl9ib2R5KCl7aWYoYXJndW1lbnRzLmxlbmd0aCE9PWFyZ0NvdW50LTEpe3Rocm93QmluZGluZ0Vycm9yKGh1bWFuTmFtZSsiIGNhbGxlZCB3aXRoICIrYXJndW1lbnRzLmxlbmd0aCsiIGFyZ3VtZW50cywgZXhwZWN0ZWQgIisoYXJnQ291bnQtMSkpfWRlc3RydWN0b3JzLmxlbmd0aD0wO2FyZ3MubGVuZ3RoPWFyZ0NvdW50O2Zvcih2YXIgaT0xO2k8YXJnQ291bnQ7KytpKXthcmdzW2ldPWFyZ1R5cGVzW2ldWyJ0b1dpcmVUeXBlIl0oZGVzdHJ1Y3RvcnMsYXJndW1lbnRzW2ktMV0pfXZhciBwdHI9aW52b2tlci5hcHBseShudWxsLGFyZ3MpO3J1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKTtyZXR1cm4gYXJnVHlwZXNbMF1bImZyb21XaXJlVHlwZSJdKHB0cil9O3JldHVybltdfSk7cmV0dXJuW119KX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19mdW5jdGlvbihyYXdDbGFzc1R5cGUsbWV0aG9kTmFtZSxhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIsaW52b2tlclNpZ25hdHVyZSxyYXdJbnZva2VyLGNvbnRleHQsaXNQdXJlVmlydHVhbCl7dmFyIHJhd0FyZ1R5cGVzPWhlYXAzMlZlY3RvclRvQXJyYXkoYXJnQ291bnQscmF3QXJnVHlwZXNBZGRyKTttZXRob2ROYW1lPXJlYWRMYXRpbjFTdHJpbmcobWV0aG9kTmFtZSk7cmF3SW52b2tlcj1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihpbnZva2VyU2lnbmF0dXJlLHJhd0ludm9rZXIpO3doZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLFtyYXdDbGFzc1R5cGVdLGZ1bmN0aW9uKGNsYXNzVHlwZSl7Y2xhc3NUeXBlPWNsYXNzVHlwZVswXTt2YXIgaHVtYW5OYW1lPWNsYXNzVHlwZS5uYW1lKyIuIittZXRob2ROYW1lO2lmKGlzUHVyZVZpcnR1YWwpe2NsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MucHVyZVZpcnR1YWxGdW5jdGlvbnMucHVzaChtZXRob2ROYW1lKX1mdW5jdGlvbiB1bmJvdW5kVHlwZXNIYW5kbGVyKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKCJDYW5ub3QgY2FsbCAiK2h1bWFuTmFtZSsiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixyYXdBcmdUeXBlcyl9dmFyIHByb3RvPWNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGU7dmFyIG1ldGhvZD1wcm90b1ttZXRob2ROYW1lXTtpZih1bmRlZmluZWQ9PT1tZXRob2R8fHVuZGVmaW5lZD09PW1ldGhvZC5vdmVybG9hZFRhYmxlJiZtZXRob2QuY2xhc3NOYW1lIT09Y2xhc3NUeXBlLm5hbWUmJm1ldGhvZC5hcmdDb3VudD09PWFyZ0NvdW50LTIpe3VuYm91bmRUeXBlc0hhbmRsZXIuYXJnQ291bnQ9YXJnQ291bnQtMjt1bmJvdW5kVHlwZXNIYW5kbGVyLmNsYXNzTmFtZT1jbGFzc1R5cGUubmFtZTtwcm90b1ttZXRob2ROYW1lXT11bmJvdW5kVHlwZXNIYW5kbGVyfWVsc2V7ZW5zdXJlT3ZlcmxvYWRUYWJsZShwcm90byxtZXRob2ROYW1lLGh1bWFuTmFtZSk7cHJvdG9bbWV0aG9kTmFtZV0ub3ZlcmxvYWRUYWJsZVthcmdDb3VudC0yXT11bmJvdW5kVHlwZXNIYW5kbGVyfXdoZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLHJhd0FyZ1R5cGVzLGZ1bmN0aW9uKGFyZ1R5cGVzKXt2YXIgbWVtYmVyRnVuY3Rpb249Y3JhZnRJbnZva2VyRnVuY3Rpb24oaHVtYW5OYW1lLGFyZ1R5cGVzLGNsYXNzVHlwZSxyYXdJbnZva2VyLGNvbnRleHQpO2lmKHVuZGVmaW5lZD09PXByb3RvW21ldGhvZE5hbWVdLm92ZXJsb2FkVGFibGUpe21lbWJlckZ1bmN0aW9uLmFyZ0NvdW50PWFyZ0NvdW50LTI7cHJvdG9bbWV0aG9kTmFtZV09bWVtYmVyRnVuY3Rpb259ZWxzZXtwcm90b1ttZXRob2ROYW1lXS5vdmVybG9hZFRhYmxlW2FyZ0NvdW50LTJdPW1lbWJlckZ1bmN0aW9ufXJldHVybltdfSk7cmV0dXJuW119KX1mdW5jdGlvbiB2YWxpZGF0ZVRoaXModGhpc18sY2xhc3NUeXBlLGh1bWFuTmFtZSl7aWYoISh0aGlzXyBpbnN0YW5jZW9mIE9iamVjdCkpe3Rocm93QmluZGluZ0Vycm9yKGh1bWFuTmFtZSsnIHdpdGggaW52YWxpZCAidGhpcyI6ICcrdGhpc18pfWlmKCEodGhpc18gaW5zdGFuY2VvZiBjbGFzc1R5cGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yKSl7dGhyb3dCaW5kaW5nRXJyb3IoaHVtYW5OYW1lKycgaW5jb21wYXRpYmxlIHdpdGggInRoaXMiIG9mIHR5cGUgJyt0aGlzXy5jb25zdHJ1Y3Rvci5uYW1lKX1pZighdGhpc18uJCQucHRyKXt0aHJvd0JpbmRpbmdFcnJvcigiY2Fubm90IGNhbGwgZW1zY3JpcHRlbiBiaW5kaW5nIG1ldGhvZCAiK2h1bWFuTmFtZSsiIG9uIGRlbGV0ZWQgb2JqZWN0Iil9cmV0dXJuIHVwY2FzdFBvaW50ZXIodGhpc18uJCQucHRyLHRoaXNfLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLGNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MpfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX3Byb3BlcnR5KGNsYXNzVHlwZSxmaWVsZE5hbWUsZ2V0dGVyUmV0dXJuVHlwZSxnZXR0ZXJTaWduYXR1cmUsZ2V0dGVyLGdldHRlckNvbnRleHQsc2V0dGVyQXJndW1lbnRUeXBlLHNldHRlclNpZ25hdHVyZSxzZXR0ZXIsc2V0dGVyQ29udGV4dCl7ZmllbGROYW1lPXJlYWRMYXRpbjFTdHJpbmcoZmllbGROYW1lKTtnZXR0ZXI9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oZ2V0dGVyU2lnbmF0dXJlLGdldHRlcik7d2hlbkRlcGVuZGVudFR5cGVzQXJlUmVzb2x2ZWQoW10sW2NsYXNzVHlwZV0sZnVuY3Rpb24oY2xhc3NUeXBlKXtjbGFzc1R5cGU9Y2xhc3NUeXBlWzBdO3ZhciBodW1hbk5hbWU9Y2xhc3NUeXBlLm5hbWUrIi4iK2ZpZWxkTmFtZTt2YXIgZGVzYz17Z2V0OmZ1bmN0aW9uKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKCJDYW5ub3QgYWNjZXNzICIraHVtYW5OYW1lKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLFtnZXR0ZXJSZXR1cm5UeXBlLHNldHRlckFyZ3VtZW50VHlwZV0pfSxlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWV9O2lmKHNldHRlcil7ZGVzYy5zZXQ9ZnVuY3Rpb24oKXt0aHJvd1VuYm91bmRUeXBlRXJyb3IoIkNhbm5vdCBhY2Nlc3MgIitodW1hbk5hbWUrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsW2dldHRlclJldHVyblR5cGUsc2V0dGVyQXJndW1lbnRUeXBlXSl9fWVsc2V7ZGVzYy5zZXQ9ZnVuY3Rpb24odil7dGhyb3dCaW5kaW5nRXJyb3IoaHVtYW5OYW1lKyIgaXMgYSByZWFkLW9ubHkgcHJvcGVydHkiKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUsZmllbGROYW1lLGRlc2MpO3doZW5EZXBlbmRlbnRUeXBlc0FyZVJlc29sdmVkKFtdLHNldHRlcj9bZ2V0dGVyUmV0dXJuVHlwZSxzZXR0ZXJBcmd1bWVudFR5cGVdOltnZXR0ZXJSZXR1cm5UeXBlXSxmdW5jdGlvbih0eXBlcyl7dmFyIGdldHRlclJldHVyblR5cGU9dHlwZXNbMF07dmFyIGRlc2M9e2dldDpmdW5jdGlvbigpe3ZhciBwdHI9dmFsaWRhdGVUaGlzKHRoaXMsY2xhc3NUeXBlLGh1bWFuTmFtZSsiIGdldHRlciIpO3JldHVybiBnZXR0ZXJSZXR1cm5UeXBlWyJmcm9tV2lyZVR5cGUiXShnZXR0ZXIoZ2V0dGVyQ29udGV4dCxwdHIpKX0sZW51bWVyYWJsZTp0cnVlfTtpZihzZXR0ZXIpe3NldHRlcj1lbWJpbmRfX3JlcXVpcmVGdW5jdGlvbihzZXR0ZXJTaWduYXR1cmUsc2V0dGVyKTt2YXIgc2V0dGVyQXJndW1lbnRUeXBlPXR5cGVzWzFdO2Rlc2Muc2V0PWZ1bmN0aW9uKHYpe3ZhciBwdHI9dmFsaWRhdGVUaGlzKHRoaXMsY2xhc3NUeXBlLGh1bWFuTmFtZSsiIHNldHRlciIpO3ZhciBkZXN0cnVjdG9ycz1bXTtzZXR0ZXIoc2V0dGVyQ29udGV4dCxwdHIsc2V0dGVyQXJndW1lbnRUeXBlWyJ0b1dpcmVUeXBlIl0oZGVzdHJ1Y3RvcnMsdikpO3J1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGNsYXNzVHlwZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUsZmllbGROYW1lLGRlc2MpO3JldHVybltdfSk7cmV0dXJuW119KX12YXIgZW12YWxfZnJlZV9saXN0PVtdO3ZhciBlbXZhbF9oYW5kbGVfYXJyYXk9W3t9LHt2YWx1ZTp1bmRlZmluZWR9LHt2YWx1ZTpudWxsfSx7dmFsdWU6dHJ1ZX0se3ZhbHVlOmZhbHNlfV07ZnVuY3Rpb24gX19lbXZhbF9kZWNyZWYoaGFuZGxlKXtpZihoYW5kbGU+NCYmMD09PS0tZW12YWxfaGFuZGxlX2FycmF5W2hhbmRsZV0ucmVmY291bnQpe2VtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdPXVuZGVmaW5lZDtlbXZhbF9mcmVlX2xpc3QucHVzaChoYW5kbGUpfX1mdW5jdGlvbiBjb3VudF9lbXZhbF9oYW5kbGVzKCl7dmFyIGNvdW50PTA7Zm9yKHZhciBpPTU7aTxlbXZhbF9oYW5kbGVfYXJyYXkubGVuZ3RoOysraSl7aWYoZW12YWxfaGFuZGxlX2FycmF5W2ldIT09dW5kZWZpbmVkKXsrK2NvdW50fX1yZXR1cm4gY291bnR9ZnVuY3Rpb24gZ2V0X2ZpcnN0X2VtdmFsKCl7Zm9yKHZhciBpPTU7aTxlbXZhbF9oYW5kbGVfYXJyYXkubGVuZ3RoOysraSl7aWYoZW12YWxfaGFuZGxlX2FycmF5W2ldIT09dW5kZWZpbmVkKXtyZXR1cm4gZW12YWxfaGFuZGxlX2FycmF5W2ldfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpbml0X2VtdmFsKCl7TW9kdWxlWyJjb3VudF9lbXZhbF9oYW5kbGVzIl09Y291bnRfZW12YWxfaGFuZGxlcztNb2R1bGVbImdldF9maXJzdF9lbXZhbCJdPWdldF9maXJzdF9lbXZhbH1mdW5jdGlvbiBfX2VtdmFsX3JlZ2lzdGVyKHZhbHVlKXtzd2l0Y2godmFsdWUpe2Nhc2UgdW5kZWZpbmVkOntyZXR1cm4gMX1jYXNlIG51bGw6e3JldHVybiAyfWNhc2UgdHJ1ZTp7cmV0dXJuIDN9Y2FzZSBmYWxzZTp7cmV0dXJuIDR9ZGVmYXVsdDp7dmFyIGhhbmRsZT1lbXZhbF9mcmVlX2xpc3QubGVuZ3RoP2VtdmFsX2ZyZWVfbGlzdC5wb3AoKTplbXZhbF9oYW5kbGVfYXJyYXkubGVuZ3RoO2VtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdPXtyZWZjb3VudDoxLHZhbHVlOnZhbHVlfTtyZXR1cm4gaGFuZGxlfX19ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZW12YWwocmF3VHlwZSxuYW1lKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbihoYW5kbGUpe3ZhciBydj1lbXZhbF9oYW5kbGVfYXJyYXlbaGFuZGxlXS52YWx1ZTtfX2VtdmFsX2RlY3JlZihoYW5kbGUpO3JldHVybiBydn0sInRvV2lyZVR5cGUiOmZ1bmN0aW9uKGRlc3RydWN0b3JzLHZhbHVlKXtyZXR1cm4gX19lbXZhbF9yZWdpc3Rlcih2YWx1ZSl9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9ZnVuY3Rpb24gZW51bVJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQsc2lnbmVkKXtzd2l0Y2goc2hpZnQpe2Nhc2UgMDpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7dmFyIGhlYXA9c2lnbmVkP0hFQVA4OkhFQVBVODtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oaGVhcFtwb2ludGVyXSl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7dmFyIGhlYXA9c2lnbmVkP0hFQVAxNjpIRUFQVTE2O3JldHVybiB0aGlzWyJmcm9tV2lyZVR5cGUiXShoZWFwW3BvaW50ZXI+PjFdKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihwb2ludGVyKXt2YXIgaGVhcD1zaWduZWQ/SEVBUDMyOkhFQVBVMzI7cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKGhlYXBbcG9pbnRlcj4+Ml0pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gaW50ZWdlciB0eXBlOiAiK25hbWUpfX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9lbnVtKHJhd1R5cGUsbmFtZSxzaXplLGlzU2lnbmVkKXt2YXIgc2hpZnQ9Z2V0U2hpZnRGcm9tU2l6ZShzaXplKTtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7ZnVuY3Rpb24gY3Rvcigpe31jdG9yLnZhbHVlcz17fTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLGNvbnN0cnVjdG9yOmN0b3IsImZyb21XaXJlVHlwZSI6ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudmFsdWVzW2NdfSwidG9XaXJlVHlwZSI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsYyl7cmV0dXJuIGMudmFsdWV9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmVudW1SZWFkVmFsdWVGcm9tUG9pbnRlcihuYW1lLHNoaWZ0LGlzU2lnbmVkKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pO2V4cG9zZVB1YmxpY1N5bWJvbChuYW1lLGN0b3IpfWZ1bmN0aW9uIHJlcXVpcmVSZWdpc3RlcmVkVHlwZShyYXdUeXBlLGh1bWFuTmFtZSl7dmFyIGltcGw9cmVnaXN0ZXJlZFR5cGVzW3Jhd1R5cGVdO2lmKHVuZGVmaW5lZD09PWltcGwpe3Rocm93QmluZGluZ0Vycm9yKGh1bWFuTmFtZSsiIGhhcyB1bmtub3duIHR5cGUgIitnZXRUeXBlTmFtZShyYXdUeXBlKSl9cmV0dXJuIGltcGx9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZW51bV92YWx1ZShyYXdFbnVtVHlwZSxuYW1lLGVudW1WYWx1ZSl7dmFyIGVudW1UeXBlPXJlcXVpcmVSZWdpc3RlcmVkVHlwZShyYXdFbnVtVHlwZSwiZW51bSIpO25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTt2YXIgRW51bT1lbnVtVHlwZS5jb25zdHJ1Y3Rvcjt2YXIgVmFsdWU9T2JqZWN0LmNyZWF0ZShlbnVtVHlwZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUse3ZhbHVlOnt2YWx1ZTplbnVtVmFsdWV9LGNvbnN0cnVjdG9yOnt2YWx1ZTpjcmVhdGVOYW1lZEZ1bmN0aW9uKGVudW1UeXBlLm5hbWUrIl8iK25hbWUsZnVuY3Rpb24oKXt9KX19KTtFbnVtLnZhbHVlc1tlbnVtVmFsdWVdPVZhbHVlO0VudW1bbmFtZV09VmFsdWV9ZnVuY3Rpb24gX2VtYmluZF9yZXByKHYpe2lmKHY9PT1udWxsKXtyZXR1cm4ibnVsbCJ9dmFyIHQ9dHlwZW9mIHY7aWYodD09PSJvYmplY3QifHx0PT09ImFycmF5Inx8dD09PSJmdW5jdGlvbiIpe3JldHVybiB2LnRvU3RyaW5nKCl9ZWxzZXtyZXR1cm4iIit2fX1mdW5jdGlvbiBmbG9hdFJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQpe3N3aXRjaChzaGlmdCl7Y2FzZSAyOnJldHVybiBmdW5jdGlvbihwb2ludGVyKXtyZXR1cm4gdGhpc1siZnJvbVdpcmVUeXBlIl0oSEVBUEYzMltwb2ludGVyPj4yXSl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocG9pbnRlcil7cmV0dXJuIHRoaXNbImZyb21XaXJlVHlwZSJdKEhFQVBGNjRbcG9pbnRlcj4+M10pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZmxvYXQgdHlwZTogIituYW1lKX19ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZmxvYXQocmF3VHlwZSxuYW1lLHNpemUpe3ZhciBzaGlmdD1nZXRTaGlmdEZyb21TaXplKHNpemUpO25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWV9LCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7aWYodHlwZW9mIHZhbHVlIT09Im51bWJlciImJnR5cGVvZiB2YWx1ZSE9PSJib29sZWFuIil7dGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgIicrX2VtYmluZF9yZXByKHZhbHVlKSsnIiB0byAnK3RoaXMubmFtZSl9cmV0dXJuIHZhbHVlfSwiYXJnUGFja0FkdmFuY2UiOjgsInJlYWRWYWx1ZUZyb21Qb2ludGVyIjpmbG9hdFJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQpLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfZnVuY3Rpb24obmFtZSxhcmdDb3VudCxyYXdBcmdUeXBlc0FkZHIsc2lnbmF0dXJlLHJhd0ludm9rZXIsZm4pe3ZhciBhcmdUeXBlcz1oZWFwMzJWZWN0b3JUb0FycmF5KGFyZ0NvdW50LHJhd0FyZ1R5cGVzQWRkcik7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3Jhd0ludm9rZXI9ZW1iaW5kX19yZXF1aXJlRnVuY3Rpb24oc2lnbmF0dXJlLHJhd0ludm9rZXIpO2V4cG9zZVB1YmxpY1N5bWJvbChuYW1lLGZ1bmN0aW9uKCl7dGhyb3dVbmJvdW5kVHlwZUVycm9yKCJDYW5ub3QgY2FsbCAiK25hbWUrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsYXJnVHlwZXMpfSxhcmdDb3VudC0xKTt3aGVuRGVwZW5kZW50VHlwZXNBcmVSZXNvbHZlZChbXSxhcmdUeXBlcyxmdW5jdGlvbihhcmdUeXBlcyl7dmFyIGludm9rZXJBcmdzQXJyYXk9W2FyZ1R5cGVzWzBdLG51bGxdLmNvbmNhdChhcmdUeXBlcy5zbGljZSgxKSk7cmVwbGFjZVB1YmxpY1N5bWJvbChuYW1lLGNyYWZ0SW52b2tlckZ1bmN0aW9uKG5hbWUsaW52b2tlckFyZ3NBcnJheSxudWxsLHJhd0ludm9rZXIsZm4pLGFyZ0NvdW50LTEpO3JldHVybltdfSl9ZnVuY3Rpb24gaW50ZWdlclJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQsc2lnbmVkKXtzd2l0Y2goc2hpZnQpe2Nhc2UgMDpyZXR1cm4gc2lnbmVkP2Z1bmN0aW9uIHJlYWRTOEZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQOFtwb2ludGVyXX06ZnVuY3Rpb24gcmVhZFU4RnJvbVBvaW50ZXIocG9pbnRlcil7cmV0dXJuIEhFQVBVOFtwb2ludGVyXX07Y2FzZSAxOnJldHVybiBzaWduZWQ/ZnVuY3Rpb24gcmVhZFMxNkZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQMTZbcG9pbnRlcj4+MV19OmZ1bmN0aW9uIHJlYWRVMTZGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gSEVBUFUxNltwb2ludGVyPj4xXX07Y2FzZSAyOnJldHVybiBzaWduZWQ/ZnVuY3Rpb24gcmVhZFMzMkZyb21Qb2ludGVyKHBvaW50ZXIpe3JldHVybiBIRUFQMzJbcG9pbnRlcj4+Ml19OmZ1bmN0aW9uIHJlYWRVMzJGcm9tUG9pbnRlcihwb2ludGVyKXtyZXR1cm4gSEVBUFUzMltwb2ludGVyPj4yXX07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGludGVnZXIgdHlwZTogIituYW1lKX19ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfaW50ZWdlcihwcmltaXRpdmVUeXBlLG5hbWUsc2l6ZSxtaW5SYW5nZSxtYXhSYW5nZSl7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO2lmKG1heFJhbmdlPT09LTEpe21heFJhbmdlPTQyOTQ5NjcyOTV9dmFyIHNoaWZ0PWdldFNoaWZ0RnJvbVNpemUoc2l6ZSk7dmFyIGZyb21XaXJlVHlwZT1mdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlfTtpZihtaW5SYW5nZT09PTApe3ZhciBiaXRzaGlmdD0zMi04KnNpemU7ZnJvbVdpcmVUeXBlPWZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWU8PGJpdHNoaWZ0Pj4+Yml0c2hpZnR9fXZhciBpc1Vuc2lnbmVkVHlwZT1uYW1lLmluZGV4T2YoInVuc2lnbmVkIikhPS0xO3JlZ2lzdGVyVHlwZShwcmltaXRpdmVUeXBlLHtuYW1lOm5hbWUsImZyb21XaXJlVHlwZSI6ZnJvbVdpcmVUeXBlLCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7aWYodHlwZW9mIHZhbHVlIT09Im51bWJlciImJnR5cGVvZiB2YWx1ZSE9PSJib29sZWFuIil7dGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgIicrX2VtYmluZF9yZXByKHZhbHVlKSsnIiB0byAnK3RoaXMubmFtZSl9aWYodmFsdWU8bWluUmFuZ2V8fHZhbHVlPm1heFJhbmdlKXt0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXNzaW5nIGEgbnVtYmVyICInK19lbWJpbmRfcmVwcih2YWx1ZSkrJyIgZnJvbSBKUyBzaWRlIHRvIEMvQysrIHNpZGUgdG8gYW4gYXJndW1lbnQgb2YgdHlwZSAiJytuYW1lKyciLCB3aGljaCBpcyBvdXRzaWRlIHRoZSB2YWxpZCByYW5nZSBbJyttaW5SYW5nZSsiLCAiK21heFJhbmdlKyJdISIpfXJldHVybiBpc1Vuc2lnbmVkVHlwZT92YWx1ZT4+PjA6dmFsdWV8MH0sImFyZ1BhY2tBZHZhbmNlIjo4LCJyZWFkVmFsdWVGcm9tUG9pbnRlciI6aW50ZWdlclJlYWRWYWx1ZUZyb21Qb2ludGVyKG5hbWUsc2hpZnQsbWluUmFuZ2UhPT0wKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfWZ1bmN0aW9uIF9fZW1iaW5kX3JlZ2lzdGVyX21lbW9yeV92aWV3KHJhd1R5cGUsZGF0YVR5cGVJbmRleCxuYW1lKXt2YXIgdHlwZU1hcHBpbmc9W0ludDhBcnJheSxVaW50OEFycmF5LEludDE2QXJyYXksVWludDE2QXJyYXksSW50MzJBcnJheSxVaW50MzJBcnJheSxGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5XTt2YXIgVEE9dHlwZU1hcHBpbmdbZGF0YVR5cGVJbmRleF07ZnVuY3Rpb24gZGVjb2RlTWVtb3J5VmlldyhoYW5kbGUpe2hhbmRsZT1oYW5kbGU+PjI7dmFyIGhlYXA9SEVBUFUzMjt2YXIgc2l6ZT1oZWFwW2hhbmRsZV07dmFyIGRhdGE9aGVhcFtoYW5kbGUrMV07cmV0dXJuIG5ldyBUQShidWZmZXIsZGF0YSxzaXplKX1uYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpkZWNvZGVNZW1vcnlWaWV3LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOmRlY29kZU1lbW9yeVZpZXd9LHtpZ25vcmVEdXBsaWNhdGVSZWdpc3RyYXRpb25zOnRydWV9KX1mdW5jdGlvbiBfX2VtYmluZF9yZWdpc3Rlcl9zdGRfc3RyaW5nKHJhd1R5cGUsbmFtZSl7bmFtZT1yZWFkTGF0aW4xU3RyaW5nKG5hbWUpO3ZhciBzdGRTdHJpbmdJc1VURjg9bmFtZT09PSJzdGQ6OnN0cmluZyI7cmVnaXN0ZXJUeXBlKHJhd1R5cGUse25hbWU6bmFtZSwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbih2YWx1ZSl7dmFyIGxlbmd0aD1IRUFQVTMyW3ZhbHVlPj4yXTt2YXIgc3RyO2lmKHN0ZFN0cmluZ0lzVVRGOCl7dmFyIGRlY29kZVN0YXJ0UHRyPXZhbHVlKzQ7Zm9yKHZhciBpPTA7aTw9bGVuZ3RoOysraSl7dmFyIGN1cnJlbnRCeXRlUHRyPXZhbHVlKzQraTtpZihpPT1sZW5ndGh8fEhFQVBVOFtjdXJyZW50Qnl0ZVB0cl09PTApe3ZhciBtYXhSZWFkPWN1cnJlbnRCeXRlUHRyLWRlY29kZVN0YXJ0UHRyO3ZhciBzdHJpbmdTZWdtZW50PVVURjhUb1N0cmluZyhkZWNvZGVTdGFydFB0cixtYXhSZWFkKTtpZihzdHI9PT11bmRlZmluZWQpe3N0cj1zdHJpbmdTZWdtZW50fWVsc2V7c3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDApO3N0cis9c3RyaW5nU2VnbWVudH1kZWNvZGVTdGFydFB0cj1jdXJyZW50Qnl0ZVB0cisxfX19ZWxzZXt2YXIgYT1uZXcgQXJyYXkobGVuZ3RoKTtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe2FbaV09U3RyaW5nLmZyb21DaGFyQ29kZShIRUFQVThbdmFsdWUrNCtpXSl9c3RyPWEuam9pbigiIil9X2ZyZWUodmFsdWUpO3JldHVybiBzdHJ9LCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyx2YWx1ZSl7aWYodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7dmFsdWU9bmV3IFVpbnQ4QXJyYXkodmFsdWUpfXZhciBnZXRMZW5ndGg7dmFyIHZhbHVlSXNPZlR5cGVTdHJpbmc9dHlwZW9mIHZhbHVlPT09InN0cmluZyI7aWYoISh2YWx1ZUlzT2ZUeXBlU3RyaW5nfHx2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl8fHZhbHVlIGluc3RhbmNlb2YgSW50OEFycmF5KSl7dGhyb3dCaW5kaW5nRXJyb3IoIkNhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gc3RkOjpzdHJpbmciKX1pZihzdGRTdHJpbmdJc1VURjgmJnZhbHVlSXNPZlR5cGVTdHJpbmcpe2dldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiBsZW5ndGhCeXRlc1VURjgodmFsdWUpfX1lbHNle2dldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB2YWx1ZS5sZW5ndGh9fXZhciBsZW5ndGg9Z2V0TGVuZ3RoKCk7dmFyIHB0cj1fbWFsbG9jKDQrbGVuZ3RoKzEpO0hFQVBVMzJbcHRyPj4yXT1sZW5ndGg7aWYoc3RkU3RyaW5nSXNVVEY4JiZ2YWx1ZUlzT2ZUeXBlU3RyaW5nKXtzdHJpbmdUb1VURjgodmFsdWUscHRyKzQsbGVuZ3RoKzEpfWVsc2V7aWYodmFsdWVJc09mVHlwZVN0cmluZyl7Zm9yKHZhciBpPTA7aTxsZW5ndGg7KytpKXt2YXIgY2hhckNvZGU9dmFsdWUuY2hhckNvZGVBdChpKTtpZihjaGFyQ29kZT4yNTUpe19mcmVlKHB0cik7dGhyb3dCaW5kaW5nRXJyb3IoIlN0cmluZyBoYXMgVVRGLTE2IGNvZGUgdW5pdHMgdGhhdCBkbyBub3QgZml0IGluIDggYml0cyIpfUhFQVBVOFtwdHIrNCtpXT1jaGFyQ29kZX19ZWxzZXtmb3IodmFyIGk9MDtpPGxlbmd0aDsrK2kpe0hFQVBVOFtwdHIrNCtpXT12YWx1ZVtpXX19fWlmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxwdHIpfXJldHVybiBwdHJ9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpmdW5jdGlvbihwdHIpe19mcmVlKHB0cil9fSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfc3RkX3dzdHJpbmcocmF3VHlwZSxjaGFyU2l6ZSxuYW1lKXtuYW1lPXJlYWRMYXRpbjFTdHJpbmcobmFtZSk7dmFyIGRlY29kZVN0cmluZyxlbmNvZGVTdHJpbmcsZ2V0SGVhcCxsZW5ndGhCeXRlc1VURixzaGlmdDtpZihjaGFyU2l6ZT09PTIpe2RlY29kZVN0cmluZz1VVEYxNlRvU3RyaW5nO2VuY29kZVN0cmluZz1zdHJpbmdUb1VURjE2O2xlbmd0aEJ5dGVzVVRGPWxlbmd0aEJ5dGVzVVRGMTY7Z2V0SGVhcD1mdW5jdGlvbigpe3JldHVybiBIRUFQVTE2fTtzaGlmdD0xfWVsc2UgaWYoY2hhclNpemU9PT00KXtkZWNvZGVTdHJpbmc9VVRGMzJUb1N0cmluZztlbmNvZGVTdHJpbmc9c3RyaW5nVG9VVEYzMjtsZW5ndGhCeXRlc1VURj1sZW5ndGhCeXRlc1VURjMyO2dldEhlYXA9ZnVuY3Rpb24oKXtyZXR1cm4gSEVBUFUzMn07c2hpZnQ9Mn1yZWdpc3RlclR5cGUocmF3VHlwZSx7bmFtZTpuYW1lLCJmcm9tV2lyZVR5cGUiOmZ1bmN0aW9uKHZhbHVlKXt2YXIgbGVuZ3RoPUhFQVBVMzJbdmFsdWU+PjJdO3ZhciBIRUFQPWdldEhlYXAoKTt2YXIgc3RyO3ZhciBkZWNvZGVTdGFydFB0cj12YWx1ZSs0O2Zvcih2YXIgaT0wO2k8PWxlbmd0aDsrK2kpe3ZhciBjdXJyZW50Qnl0ZVB0cj12YWx1ZSs0K2kqY2hhclNpemU7aWYoaT09bGVuZ3RofHxIRUFQW2N1cnJlbnRCeXRlUHRyPj5zaGlmdF09PTApe3ZhciBtYXhSZWFkQnl0ZXM9Y3VycmVudEJ5dGVQdHItZGVjb2RlU3RhcnRQdHI7dmFyIHN0cmluZ1NlZ21lbnQ9ZGVjb2RlU3RyaW5nKGRlY29kZVN0YXJ0UHRyLG1heFJlYWRCeXRlcyk7aWYoc3RyPT09dW5kZWZpbmVkKXtzdHI9c3RyaW5nU2VnbWVudH1lbHNle3N0cis9U3RyaW5nLmZyb21DaGFyQ29kZSgwKTtzdHIrPXN0cmluZ1NlZ21lbnR9ZGVjb2RlU3RhcnRQdHI9Y3VycmVudEJ5dGVQdHIrY2hhclNpemV9fV9mcmVlKHZhbHVlKTtyZXR1cm4gc3RyfSwidG9XaXJlVHlwZSI6ZnVuY3Rpb24oZGVzdHJ1Y3RvcnMsdmFsdWUpe2lmKCEodHlwZW9mIHZhbHVlPT09InN0cmluZyIpKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBDKysgc3RyaW5nIHR5cGUgIituYW1lKX12YXIgbGVuZ3RoPWxlbmd0aEJ5dGVzVVRGKHZhbHVlKTt2YXIgcHRyPV9tYWxsb2MoNCtsZW5ndGgrY2hhclNpemUpO0hFQVBVMzJbcHRyPj4yXT1sZW5ndGg+PnNoaWZ0O2VuY29kZVN0cmluZyh2YWx1ZSxwdHIrNCxsZW5ndGgrY2hhclNpemUpO2lmKGRlc3RydWN0b3JzIT09bnVsbCl7ZGVzdHJ1Y3RvcnMucHVzaChfZnJlZSxwdHIpfXJldHVybiBwdHJ9LCJhcmdQYWNrQWR2YW5jZSI6OCwicmVhZFZhbHVlRnJvbVBvaW50ZXIiOnNpbXBsZVJlYWRWYWx1ZUZyb21Qb2ludGVyLGRlc3RydWN0b3JGdW5jdGlvbjpmdW5jdGlvbihwdHIpe19mcmVlKHB0cil9fSl9ZnVuY3Rpb24gX19lbWJpbmRfcmVnaXN0ZXJfdm9pZChyYXdUeXBlLG5hbWUpe25hbWU9cmVhZExhdGluMVN0cmluZyhuYW1lKTtyZWdpc3RlclR5cGUocmF3VHlwZSx7aXNWb2lkOnRydWUsbmFtZTpuYW1lLCJhcmdQYWNrQWR2YW5jZSI6MCwiZnJvbVdpcmVUeXBlIjpmdW5jdGlvbigpe3JldHVybiB1bmRlZmluZWR9LCJ0b1dpcmVUeXBlIjpmdW5jdGlvbihkZXN0cnVjdG9ycyxvKXtyZXR1cm4gdW5kZWZpbmVkfX0pfWZ1bmN0aW9uIHJlcXVpcmVIYW5kbGUoaGFuZGxlKXtpZighaGFuZGxlKXt0aHJvd0JpbmRpbmdFcnJvcigiQ2Fubm90IHVzZSBkZWxldGVkIHZhbC4gaGFuZGxlID0gIitoYW5kbGUpfXJldHVybiBlbXZhbF9oYW5kbGVfYXJyYXlbaGFuZGxlXS52YWx1ZX1mdW5jdGlvbiBfX2VtdmFsX2FzKGhhbmRsZSxyZXR1cm5UeXBlLGRlc3RydWN0b3JzUmVmKXtoYW5kbGU9cmVxdWlyZUhhbmRsZShoYW5kbGUpO3JldHVyblR5cGU9cmVxdWlyZVJlZ2lzdGVyZWRUeXBlKHJldHVyblR5cGUsImVtdmFsOjphcyIpO3ZhciBkZXN0cnVjdG9ycz1bXTt2YXIgcmQ9X19lbXZhbF9yZWdpc3RlcihkZXN0cnVjdG9ycyk7SEVBUDMyW2Rlc3RydWN0b3JzUmVmPj4yXT1yZDtyZXR1cm4gcmV0dXJuVHlwZVsidG9XaXJlVHlwZSJdKGRlc3RydWN0b3JzLGhhbmRsZSl9dmFyIGVtdmFsX3N5bWJvbHM9e307ZnVuY3Rpb24gZ2V0U3RyaW5nT3JTeW1ib2woYWRkcmVzcyl7dmFyIHN5bWJvbD1lbXZhbF9zeW1ib2xzW2FkZHJlc3NdO2lmKHN5bWJvbD09PXVuZGVmaW5lZCl7cmV0dXJuIHJlYWRMYXRpbjFTdHJpbmcoYWRkcmVzcyl9ZWxzZXtyZXR1cm4gc3ltYm9sfX12YXIgZW12YWxfbWV0aG9kQ2FsbGVycz1bXTtmdW5jdGlvbiBfX2VtdmFsX2NhbGxfdm9pZF9tZXRob2QoY2FsbGVyLGhhbmRsZSxtZXRob2ROYW1lLGFyZ3Mpe2NhbGxlcj1lbXZhbF9tZXRob2RDYWxsZXJzW2NhbGxlcl07aGFuZGxlPXJlcXVpcmVIYW5kbGUoaGFuZGxlKTttZXRob2ROYW1lPWdldFN0cmluZ09yU3ltYm9sKG1ldGhvZE5hbWUpO2NhbGxlcihoYW5kbGUsbWV0aG9kTmFtZSxudWxsLGFyZ3MpfWZ1bmN0aW9uIF9fZW12YWxfYWRkTWV0aG9kQ2FsbGVyKGNhbGxlcil7dmFyIGlkPWVtdmFsX21ldGhvZENhbGxlcnMubGVuZ3RoO2VtdmFsX21ldGhvZENhbGxlcnMucHVzaChjYWxsZXIpO3JldHVybiBpZH1mdW5jdGlvbiBfX2VtdmFsX2xvb2t1cFR5cGVzKGFyZ0NvdW50LGFyZ1R5cGVzKXt2YXIgYT1uZXcgQXJyYXkoYXJnQ291bnQpO2Zvcih2YXIgaT0wO2k8YXJnQ291bnQ7KytpKXthW2ldPXJlcXVpcmVSZWdpc3RlcmVkVHlwZShIRUFQMzJbKGFyZ1R5cGVzPj4yKStpXSwicGFyYW1ldGVyICIraSl9cmV0dXJuIGF9ZnVuY3Rpb24gX19lbXZhbF9nZXRfbWV0aG9kX2NhbGxlcihhcmdDb3VudCxhcmdUeXBlcyl7dmFyIHR5cGVzPV9fZW12YWxfbG9va3VwVHlwZXMoYXJnQ291bnQsYXJnVHlwZXMpO3ZhciByZXRUeXBlPXR5cGVzWzBdO3ZhciBzaWduYXR1cmVOYW1lPXJldFR5cGUubmFtZSsiXyQiK3R5cGVzLnNsaWNlKDEpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkuam9pbigiXyIpKyIkIjt2YXIgcGFyYW1zPVsicmV0VHlwZSJdO3ZhciBhcmdzPVtyZXRUeXBlXTt2YXIgYXJnc0xpc3Q9IiI7Zm9yKHZhciBpPTA7aTxhcmdDb3VudC0xOysraSl7YXJnc0xpc3QrPShpIT09MD8iLCAiOiIiKSsiYXJnIitpO3BhcmFtcy5wdXNoKCJhcmdUeXBlIitpKTthcmdzLnB1c2godHlwZXNbMStpXSl9dmFyIGZ1bmN0aW9uTmFtZT1tYWtlTGVnYWxGdW5jdGlvbk5hbWUoIm1ldGhvZENhbGxlcl8iK3NpZ25hdHVyZU5hbWUpO3ZhciBmdW5jdGlvbkJvZHk9InJldHVybiBmdW5jdGlvbiAiK2Z1bmN0aW9uTmFtZSsiKGhhbmRsZSwgbmFtZSwgZGVzdHJ1Y3RvcnMsIGFyZ3MpIHtcbiI7dmFyIG9mZnNldD0wO2Zvcih2YXIgaT0wO2k8YXJnQ291bnQtMTsrK2kpe2Z1bmN0aW9uQm9keSs9IiAgICB2YXIgYXJnIitpKyIgPSBhcmdUeXBlIitpKyIucmVhZFZhbHVlRnJvbVBvaW50ZXIoYXJncyIrKG9mZnNldD8iKyIrb2Zmc2V0OiIiKSsiKTtcbiI7b2Zmc2V0Kz10eXBlc1tpKzFdWyJhcmdQYWNrQWR2YW5jZSJdfWZ1bmN0aW9uQm9keSs9IiAgICB2YXIgcnYgPSBoYW5kbGVbbmFtZV0oIithcmdzTGlzdCsiKTtcbiI7Zm9yKHZhciBpPTA7aTxhcmdDb3VudC0xOysraSl7aWYodHlwZXNbaSsxXVsiZGVsZXRlT2JqZWN0Il0pe2Z1bmN0aW9uQm9keSs9IiAgICBhcmdUeXBlIitpKyIuZGVsZXRlT2JqZWN0KGFyZyIraSsiKTtcbiJ9fWlmKCFyZXRUeXBlLmlzVm9pZCl7ZnVuY3Rpb25Cb2R5Kz0iICAgIHJldHVybiByZXRUeXBlLnRvV2lyZVR5cGUoZGVzdHJ1Y3RvcnMsIHJ2KTtcbiJ9ZnVuY3Rpb25Cb2R5Kz0ifTtcbiI7cGFyYW1zLnB1c2goZnVuY3Rpb25Cb2R5KTt2YXIgaW52b2tlckZ1bmN0aW9uPW5ld18oRnVuY3Rpb24scGFyYW1zKS5hcHBseShudWxsLGFyZ3MpO3JldHVybiBfX2VtdmFsX2FkZE1ldGhvZENhbGxlcihpbnZva2VyRnVuY3Rpb24pfWZ1bmN0aW9uIF9fZW12YWxfZ2V0X3Byb3BlcnR5KGhhbmRsZSxrZXkpe2hhbmRsZT1yZXF1aXJlSGFuZGxlKGhhbmRsZSk7a2V5PXJlcXVpcmVIYW5kbGUoa2V5KTtyZXR1cm4gX19lbXZhbF9yZWdpc3RlcihoYW5kbGVba2V5XSl9ZnVuY3Rpb24gX19lbXZhbF9pbmNyZWYoaGFuZGxlKXtpZihoYW5kbGU+NCl7ZW12YWxfaGFuZGxlX2FycmF5W2hhbmRsZV0ucmVmY291bnQrPTF9fWZ1bmN0aW9uIF9fZW12YWxfbmV3X2FycmF5KCl7cmV0dXJuIF9fZW12YWxfcmVnaXN0ZXIoW10pfWZ1bmN0aW9uIF9fZW12YWxfbmV3X2NzdHJpbmcodil7cmV0dXJuIF9fZW12YWxfcmVnaXN0ZXIoZ2V0U3RyaW5nT3JTeW1ib2wodikpfWZ1bmN0aW9uIF9fZW12YWxfcnVuX2Rlc3RydWN0b3JzKGhhbmRsZSl7dmFyIGRlc3RydWN0b3JzPWVtdmFsX2hhbmRsZV9hcnJheVtoYW5kbGVdLnZhbHVlO3J1bkRlc3RydWN0b3JzKGRlc3RydWN0b3JzKTtfX2VtdmFsX2RlY3JlZihoYW5kbGUpfWZ1bmN0aW9uIF9fZW12YWxfdGFrZV92YWx1ZSh0eXBlLGFyZ3Ype3R5cGU9cmVxdWlyZVJlZ2lzdGVyZWRUeXBlKHR5cGUsIl9lbXZhbF90YWtlX3ZhbHVlIik7dmFyIHY9dHlwZVsicmVhZFZhbHVlRnJvbVBvaW50ZXIiXShhcmd2KTtyZXR1cm4gX19lbXZhbF9yZWdpc3Rlcih2KX1mdW5jdGlvbiBfYWJvcnQoKXthYm9ydCgpfXZhciBfZW1zY3JpcHRlbl9nZXRfbm93O19lbXNjcmlwdGVuX2dldF9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gcGVyZm9ybWFuY2Uubm93KCl9O3ZhciBfZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYz10cnVlO2Z1bmN0aW9uIF9jbG9ja19nZXR0aW1lKGNsa19pZCx0cCl7dmFyIG5vdztpZihjbGtfaWQ9PT0wKXtub3c9RGF0ZS5ub3coKX1lbHNlIGlmKChjbGtfaWQ9PT0xfHxjbGtfaWQ9PT00KSYmX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWMpe25vdz1fZW1zY3JpcHRlbl9nZXRfbm93KCl9ZWxzZXtzZXRFcnJObygyOCk7cmV0dXJuLTF9SEVBUDMyW3RwPj4yXT1ub3cvMWUzfDA7SEVBUDMyW3RwKzQ+PjJdPW5vdyUxZTMqMWUzKjFlM3wwO3JldHVybiAwfWZ1bmN0aW9uIF9kbG9wZW4oZmlsZW5hbWUsZmxhZyl7YWJvcnQoIlRvIHVzZSBkbG9wZW4sIHlvdSBuZWVkIHRvIHVzZSBFbXNjcmlwdGVuJ3MgbGlua2luZyBzdXBwb3J0LCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyIpfWZ1bmN0aW9uIF9kbHN5bShoYW5kbGUsc3ltYm9sKXthYm9ydCgiVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgdG8gdXNlIEVtc2NyaXB0ZW4ncyBsaW5raW5nIHN1cHBvcnQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nIil9ZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZyhkZXN0LHNyYyxudW0pe0hFQVBVOC5jb3B5V2l0aGluKGRlc3Qsc3JjLHNyYytudW0pfWZ1bmN0aW9uIF9lbXNjcmlwdGVuX2dldF9oZWFwX3NpemUoKXtyZXR1cm4gSEVBUFU4Lmxlbmd0aH1mdW5jdGlvbiBlbXNjcmlwdGVuX3JlYWxsb2NfYnVmZmVyKHNpemUpe3RyeXt3YXNtTWVtb3J5Lmdyb3coc2l6ZS1idWZmZXIuYnl0ZUxlbmd0aCs2NTUzNT4+PjE2KTt1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyh3YXNtTWVtb3J5LmJ1ZmZlcik7cmV0dXJuIDF9Y2F0Y2goZSl7fX1mdW5jdGlvbiBfZW1zY3JpcHRlbl9yZXNpemVfaGVhcChyZXF1ZXN0ZWRTaXplKXt2YXIgb2xkU2l6ZT1fZW1zY3JpcHRlbl9nZXRfaGVhcF9zaXplKCk7dmFyIG1heEhlYXBTaXplPTIxNDc0ODM2NDg7aWYocmVxdWVzdGVkU2l6ZT5tYXhIZWFwU2l6ZSl7cmV0dXJuIGZhbHNlfWZvcih2YXIgY3V0RG93bj0xO2N1dERvd248PTQ7Y3V0RG93bio9Mil7dmFyIG92ZXJHcm93bkhlYXBTaXplPW9sZFNpemUqKDErLjIvY3V0RG93bik7b3Zlckdyb3duSGVhcFNpemU9TWF0aC5taW4ob3Zlckdyb3duSGVhcFNpemUscmVxdWVzdGVkU2l6ZSsxMDA2NjMyOTYpO3ZhciBuZXdTaXplPU1hdGgubWluKG1heEhlYXBTaXplLGFsaWduVXAoTWF0aC5tYXgocmVxdWVzdGVkU2l6ZSxvdmVyR3Jvd25IZWFwU2l6ZSksNjU1MzYpKTt2YXIgcmVwbGFjZW1lbnQ9ZW1zY3JpcHRlbl9yZWFsbG9jX2J1ZmZlcihuZXdTaXplKTtpZihyZXBsYWNlbWVudCl7cmV0dXJuIHRydWV9fXJldHVybiBmYWxzZX1mdW5jdGlvbiBfZW1zY3JpcHRlbl90aHJlYWRfc2xlZXAobXNlY3Mpe3ZhciBzdGFydD1fZW1zY3JpcHRlbl9nZXRfbm93KCk7d2hpbGUoX2Vtc2NyaXB0ZW5fZ2V0X25vdygpLXN0YXJ0PG1zZWNzKXt9fXZhciBFTlY9e307ZnVuY3Rpb24gZ2V0RXhlY3V0YWJsZU5hbWUoKXtyZXR1cm4gdGhpc1Byb2dyYW18fCIuL3RoaXMucHJvZ3JhbSJ9ZnVuY3Rpb24gZ2V0RW52U3RyaW5ncygpe2lmKCFnZXRFbnZTdHJpbmdzLnN0cmluZ3Mpe3ZhciBsYW5nPSh0eXBlb2YgbmF2aWdhdG9yPT09Im9iamVjdCImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04Ijt2YXIgZW52PXsiVVNFUiI6IndlYl91c2VyIiwiTE9HTkFNRSI6IndlYl91c2VyIiwiUEFUSCI6Ii8iLCJQV0QiOiIvIiwiSE9NRSI6Ii9ob21lL3dlYl91c2VyIiwiTEFORyI6bGFuZywiXyI6Z2V0RXhlY3V0YWJsZU5hbWUoKX07Zm9yKHZhciB4IGluIEVOVil7ZW52W3hdPUVOVlt4XX12YXIgc3RyaW5ncz1bXTtmb3IodmFyIHggaW4gZW52KXtzdHJpbmdzLnB1c2goeCsiPSIrZW52W3hdKX1nZXRFbnZTdHJpbmdzLnN0cmluZ3M9c3RyaW5nc31yZXR1cm4gZ2V0RW52U3RyaW5ncy5zdHJpbmdzfWZ1bmN0aW9uIF9lbnZpcm9uX2dldChfX2Vudmlyb24sZW52aXJvbl9idWYpe3ZhciBidWZTaXplPTA7Z2V0RW52U3RyaW5ncygpLmZvckVhY2goZnVuY3Rpb24oc3RyaW5nLGkpe3ZhciBwdHI9ZW52aXJvbl9idWYrYnVmU2l6ZTtIRUFQMzJbX19lbnZpcm9uK2kqND4+Ml09cHRyO3dyaXRlQXNjaWlUb01lbW9yeShzdHJpbmcscHRyKTtidWZTaXplKz1zdHJpbmcubGVuZ3RoKzF9KTtyZXR1cm4gMH1mdW5jdGlvbiBfZW52aXJvbl9zaXplc19nZXQocGVudmlyb25fY291bnQscGVudmlyb25fYnVmX3NpemUpe3ZhciBzdHJpbmdzPWdldEVudlN0cmluZ3MoKTtIRUFQMzJbcGVudmlyb25fY291bnQ+PjJdPXN0cmluZ3MubGVuZ3RoO3ZhciBidWZTaXplPTA7c3RyaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKHN0cmluZyl7YnVmU2l6ZSs9c3RyaW5nLmxlbmd0aCsxfSk7SEVBUDMyW3BlbnZpcm9uX2J1Zl9zaXplPj4yXT1idWZTaXplO3JldHVybiAwfWZ1bmN0aW9uIF9mZF9jbG9zZShmZCl7cmV0dXJuIDB9ZnVuY3Rpb24gX2ZkX2Zkc3RhdF9nZXQoZmQscGJ1Zil7dmFyIHR5cGU9ZmQ9PTF8fGZkPT0yPzI6YWJvcnQoKTtIRUFQOFtwYnVmPj4wXT10eXBlO3JldHVybiAwfWZ1bmN0aW9uIF9mZF9yZWFkKGZkLGlvdixpb3ZjbnQscG51bSl7dmFyIHN0cmVhbT1TWVNDQUxMUy5nZXRTdHJlYW1Gcm9tRkQoZmQpO3ZhciBudW09U1lTQ0FMTFMuZG9SZWFkdihzdHJlYW0saW92LGlvdmNudCk7SEVBUDMyW3BudW0+PjJdPW51bTtyZXR1cm4gMH1mdW5jdGlvbiBfZmRfc2VlayhmZCxvZmZzZXRfbG93LG9mZnNldF9oaWdoLHdoZW5jZSxuZXdPZmZzZXQpe31mdW5jdGlvbiBfZmRfd3JpdGUoZmQsaW92LGlvdmNudCxwbnVtKXt2YXIgbnVtPTA7Zm9yKHZhciBpPTA7aTxpb3ZjbnQ7aSsrKXt2YXIgcHRyPUhFQVAzMltpb3YraSo4Pj4yXTt2YXIgbGVuPUhFQVAzMltpb3YrKGkqOCs0KT4+Ml07Zm9yKHZhciBqPTA7ajxsZW47aisrKXtTWVNDQUxMUy5wcmludENoYXIoZmQsSEVBUFU4W3B0citqXSl9bnVtKz1sZW59SEVBUDMyW3BudW0+PjJdPW51bTtyZXR1cm4gMH1mdW5jdGlvbiBfZ210aW1lX3IodGltZSx0bVB0cil7dmFyIGRhdGU9bmV3IERhdGUoSEVBUDMyW3RpbWU+PjJdKjFlMyk7SEVBUDMyW3RtUHRyPj4yXT1kYXRlLmdldFVUQ1NlY29uZHMoKTtIRUFQMzJbdG1QdHIrND4+Ml09ZGF0ZS5nZXRVVENNaW51dGVzKCk7SEVBUDMyW3RtUHRyKzg+PjJdPWRhdGUuZ2V0VVRDSG91cnMoKTtIRUFQMzJbdG1QdHIrMTI+PjJdPWRhdGUuZ2V0VVRDRGF0ZSgpO0hFQVAzMlt0bVB0cisxNj4+Ml09ZGF0ZS5nZXRVVENNb250aCgpO0hFQVAzMlt0bVB0cisyMD4+Ml09ZGF0ZS5nZXRVVENGdWxsWWVhcigpLTE5MDA7SEVBUDMyW3RtUHRyKzI0Pj4yXT1kYXRlLmdldFVUQ0RheSgpO0hFQVAzMlt0bVB0ciszNj4+Ml09MDtIRUFQMzJbdG1QdHIrMzI+PjJdPTA7dmFyIHN0YXJ0PURhdGUuVVRDKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSwwLDEsMCwwLDAsMCk7dmFyIHlkYXk9KGRhdGUuZ2V0VGltZSgpLXN0YXJ0KS8oMWUzKjYwKjYwKjI0KXwwO0hFQVAzMlt0bVB0cisyOD4+Ml09eWRheTtpZighX2dtdGltZV9yLkdNVFN0cmluZylfZ210aW1lX3IuR01UU3RyaW5nPWFsbG9jYXRlVVRGOCgiR01UIik7SEVBUDMyW3RtUHRyKzQwPj4yXT1fZ210aW1lX3IuR01UU3RyaW5nO3JldHVybiB0bVB0cn1mdW5jdGlvbiBfdHpzZXQoKXtpZihfdHpzZXQuY2FsbGVkKXJldHVybjtfdHpzZXQuY2FsbGVkPXRydWU7dmFyIGN1cnJlbnRZZWFyPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKTt2YXIgd2ludGVyPW5ldyBEYXRlKGN1cnJlbnRZZWFyLDAsMSk7dmFyIHN1bW1lcj1uZXcgRGF0ZShjdXJyZW50WWVhciw2LDEpO3ZhciB3aW50ZXJPZmZzZXQ9d2ludGVyLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIHN1bW1lck9mZnNldD1zdW1tZXIuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgc3RkVGltZXpvbmVPZmZzZXQ9TWF0aC5tYXgod2ludGVyT2Zmc2V0LHN1bW1lck9mZnNldCk7SEVBUDMyW19fZ2V0X3RpbWV6b25lKCk+PjJdPXN0ZFRpbWV6b25lT2Zmc2V0KjYwO0hFQVAzMltfX2dldF9kYXlsaWdodCgpPj4yXT1OdW1iZXIod2ludGVyT2Zmc2V0IT1zdW1tZXJPZmZzZXQpO2Z1bmN0aW9uIGV4dHJhY3Rab25lKGRhdGUpe3ZhciBtYXRjaD1kYXRlLnRvVGltZVN0cmluZygpLm1hdGNoKC9cKChbQS1aYS16IF0rKVwpJC8pO3JldHVybiBtYXRjaD9tYXRjaFsxXToiR01UIn12YXIgd2ludGVyTmFtZT1leHRyYWN0Wm9uZSh3aW50ZXIpO3ZhciBzdW1tZXJOYW1lPWV4dHJhY3Rab25lKHN1bW1lcik7dmFyIHdpbnRlck5hbWVQdHI9YWxsb2NhdGVVVEY4KHdpbnRlck5hbWUpO3ZhciBzdW1tZXJOYW1lUHRyPWFsbG9jYXRlVVRGOChzdW1tZXJOYW1lKTtpZihzdW1tZXJPZmZzZXQ8d2ludGVyT2Zmc2V0KXtIRUFQMzJbX19nZXRfdHpuYW1lKCk+PjJdPXdpbnRlck5hbWVQdHI7SEVBUDMyW19fZ2V0X3R6bmFtZSgpKzQ+PjJdPXN1bW1lck5hbWVQdHJ9ZWxzZXtIRUFQMzJbX19nZXRfdHpuYW1lKCk+PjJdPXN1bW1lck5hbWVQdHI7SEVBUDMyW19fZ2V0X3R6bmFtZSgpKzQ+PjJdPXdpbnRlck5hbWVQdHJ9fWZ1bmN0aW9uIF9sb2NhbHRpbWVfcih0aW1lLHRtUHRyKXtfdHpzZXQoKTt2YXIgZGF0ZT1uZXcgRGF0ZShIRUFQMzJbdGltZT4+Ml0qMWUzKTtIRUFQMzJbdG1QdHI+PjJdPWRhdGUuZ2V0U2Vjb25kcygpO0hFQVAzMlt0bVB0cis0Pj4yXT1kYXRlLmdldE1pbnV0ZXMoKTtIRUFQMzJbdG1QdHIrOD4+Ml09ZGF0ZS5nZXRIb3VycygpO0hFQVAzMlt0bVB0cisxMj4+Ml09ZGF0ZS5nZXREYXRlKCk7SEVBUDMyW3RtUHRyKzE2Pj4yXT1kYXRlLmdldE1vbnRoKCk7SEVBUDMyW3RtUHRyKzIwPj4yXT1kYXRlLmdldEZ1bGxZZWFyKCktMTkwMDtIRUFQMzJbdG1QdHIrMjQ+PjJdPWRhdGUuZ2V0RGF5KCk7dmFyIHN0YXJ0PW5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwwLDEpO3ZhciB5ZGF5PShkYXRlLmdldFRpbWUoKS1zdGFydC5nZXRUaW1lKCkpLygxZTMqNjAqNjAqMjQpfDA7SEVBUDMyW3RtUHRyKzI4Pj4yXT15ZGF5O0hFQVAzMlt0bVB0ciszNj4+Ml09LShkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkqNjApO3ZhciBzdW1tZXJPZmZzZXQ9bmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgd2ludGVyT2Zmc2V0PXN0YXJ0LmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIGRzdD0oc3VtbWVyT2Zmc2V0IT13aW50ZXJPZmZzZXQmJmRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4od2ludGVyT2Zmc2V0LHN1bW1lck9mZnNldCkpfDA7SEVBUDMyW3RtUHRyKzMyPj4yXT1kc3Q7dmFyIHpvbmVQdHI9SEVBUDMyW19fZ2V0X3R6bmFtZSgpKyhkc3Q/NDowKT4+Ml07SEVBUDMyW3RtUHRyKzQwPj4yXT16b25lUHRyO3JldHVybiB0bVB0cn1mdW5jdGlvbiBfcHRocmVhZF9jcmVhdGUoKXtyZXR1cm4gNn1mdW5jdGlvbiBfcHRocmVhZF9qb2luKCl7cmV0dXJuIDI4fWZ1bmN0aW9uIF9zZXRUZW1wUmV0MCgkaSl7c2V0VGVtcFJldDAoJGl8MCl9ZnVuY3Rpb24gX19pc0xlYXBZZWFyKHllYXIpe3JldHVybiB5ZWFyJTQ9PT0wJiYoeWVhciUxMDAhPT0wfHx5ZWFyJTQwMD09PTApfWZ1bmN0aW9uIF9fYXJyYXlTdW0oYXJyYXksaW5kZXgpe3ZhciBzdW09MDtmb3IodmFyIGk9MDtpPD1pbmRleDtzdW0rPWFycmF5W2krK10pe31yZXR1cm4gc3VtfXZhciBfX01PTlRIX0RBWVNfTEVBUD1bMzEsMjksMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO3ZhciBfX01PTlRIX0RBWVNfUkVHVUxBUj1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2Z1bmN0aW9uIF9fYWRkRGF5cyhkYXRlLGRheXMpe3ZhciBuZXdEYXRlPW5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTt3aGlsZShkYXlzPjApe3ZhciBsZWFwPV9faXNMZWFwWWVhcihuZXdEYXRlLmdldEZ1bGxZZWFyKCkpO3ZhciBjdXJyZW50TW9udGg9bmV3RGF0ZS5nZXRNb250aCgpO3ZhciBkYXlzSW5DdXJyZW50TW9udGg9KGxlYXA/X19NT05USF9EQVlTX0xFQVA6X19NT05USF9EQVlTX1JFR1VMQVIpW2N1cnJlbnRNb250aF07aWYoZGF5cz5kYXlzSW5DdXJyZW50TW9udGgtbmV3RGF0ZS5nZXREYXRlKCkpe2RheXMtPWRheXNJbkN1cnJlbnRNb250aC1uZXdEYXRlLmdldERhdGUoKSsxO25ld0RhdGUuc2V0RGF0ZSgxKTtpZihjdXJyZW50TW9udGg8MTEpe25ld0RhdGUuc2V0TW9udGgoY3VycmVudE1vbnRoKzEpfWVsc2V7bmV3RGF0ZS5zZXRNb250aCgwKTtuZXdEYXRlLnNldEZ1bGxZZWFyKG5ld0RhdGUuZ2V0RnVsbFllYXIoKSsxKX19ZWxzZXtuZXdEYXRlLnNldERhdGUobmV3RGF0ZS5nZXREYXRlKCkrZGF5cyk7cmV0dXJuIG5ld0RhdGV9fXJldHVybiBuZXdEYXRlfWZ1bmN0aW9uIF9zdHJmdGltZShzLG1heHNpemUsZm9ybWF0LHRtKXt2YXIgdG1fem9uZT1IRUFQMzJbdG0rNDA+PjJdO3ZhciBkYXRlPXt0bV9zZWM6SEVBUDMyW3RtPj4yXSx0bV9taW46SEVBUDMyW3RtKzQ+PjJdLHRtX2hvdXI6SEVBUDMyW3RtKzg+PjJdLHRtX21kYXk6SEVBUDMyW3RtKzEyPj4yXSx0bV9tb246SEVBUDMyW3RtKzE2Pj4yXSx0bV95ZWFyOkhFQVAzMlt0bSsyMD4+Ml0sdG1fd2RheTpIRUFQMzJbdG0rMjQ+PjJdLHRtX3lkYXk6SEVBUDMyW3RtKzI4Pj4yXSx0bV9pc2RzdDpIRUFQMzJbdG0rMzI+PjJdLHRtX2dtdG9mZjpIRUFQMzJbdG0rMzY+PjJdLHRtX3pvbmU6dG1fem9uZT9VVEY4VG9TdHJpbmcodG1fem9uZSk6IiJ9O3ZhciBwYXR0ZXJuPVVURjhUb1N0cmluZyhmb3JtYXQpO3ZhciBFWFBBTlNJT05fUlVMRVNfMT17IiVjIjoiJWEgJWIgJWQgJUg6JU06JVMgJVkiLCIlRCI6IiVtLyVkLyV5IiwiJUYiOiIlWS0lbS0lZCIsIiVoIjoiJWIiLCIlciI6IiVJOiVNOiVTICVwIiwiJVIiOiIlSDolTSIsIiVUIjoiJUg6JU06JVMiLCIleCI6IiVtLyVkLyV5IiwiJVgiOiIlSDolTTolUyIsIiVFYyI6IiVjIiwiJUVDIjoiJUMiLCIlRXgiOiIlbS8lZC8leSIsIiVFWCI6IiVIOiVNOiVTIiwiJUV5IjoiJXkiLCIlRVkiOiIlWSIsIiVPZCI6IiVkIiwiJU9lIjoiJWUiLCIlT0giOiIlSCIsIiVPSSI6IiVJIiwiJU9tIjoiJW0iLCIlT00iOiIlTSIsIiVPUyI6IiVTIiwiJU91IjoiJXUiLCIlT1UiOiIlVSIsIiVPViI6IiVWIiwiJU93IjoiJXciLCIlT1ciOiIlVyIsIiVPeSI6IiV5In07Zm9yKHZhciBydWxlIGluIEVYUEFOU0lPTl9SVUxFU18xKXtwYXR0ZXJuPXBhdHRlcm4ucmVwbGFjZShuZXcgUmVnRXhwKHJ1bGUsImciKSxFWFBBTlNJT05fUlVMRVNfMVtydWxlXSl9dmFyIFdFRUtEQVlTPVsiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiXTt2YXIgTU9OVEhTPVsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXTtmdW5jdGlvbiBsZWFkaW5nU29tZXRoaW5nKHZhbHVlLGRpZ2l0cyxjaGFyYWN0ZXIpe3ZhciBzdHI9dHlwZW9mIHZhbHVlPT09Im51bWJlciI/dmFsdWUudG9TdHJpbmcoKTp2YWx1ZXx8IiI7d2hpbGUoc3RyLmxlbmd0aDxkaWdpdHMpe3N0cj1jaGFyYWN0ZXJbMF0rc3RyfXJldHVybiBzdHJ9ZnVuY3Rpb24gbGVhZGluZ051bGxzKHZhbHVlLGRpZ2l0cyl7cmV0dXJuIGxlYWRpbmdTb21ldGhpbmcodmFsdWUsZGlnaXRzLCIwIil9ZnVuY3Rpb24gY29tcGFyZUJ5RGF5KGRhdGUxLGRhdGUyKXtmdW5jdGlvbiBzZ24odmFsdWUpe3JldHVybiB2YWx1ZTwwPy0xOnZhbHVlPjA/MTowfXZhciBjb21wYXJlO2lmKChjb21wYXJlPXNnbihkYXRlMS5nZXRGdWxsWWVhcigpLWRhdGUyLmdldEZ1bGxZZWFyKCkpKT09PTApe2lmKChjb21wYXJlPXNnbihkYXRlMS5nZXRNb250aCgpLWRhdGUyLmdldE1vbnRoKCkpKT09PTApe2NvbXBhcmU9c2duKGRhdGUxLmdldERhdGUoKS1kYXRlMi5nZXREYXRlKCkpfX1yZXR1cm4gY29tcGFyZX1mdW5jdGlvbiBnZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoKXtzd2l0Y2goamFuRm91cnRoLmdldERheSgpKXtjYXNlIDA6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLTEsMTEsMjkpO2Nhc2UgMTpyZXR1cm4gamFuRm91cnRoO2Nhc2UgMjpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCksMCwzKTtjYXNlIDM6cmV0dXJuIG5ldyBEYXRlKGphbkZvdXJ0aC5nZXRGdWxsWWVhcigpLDAsMik7Y2FzZSA0OnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2UgNTpyZXR1cm4gbmV3IERhdGUoamFuRm91cnRoLmdldEZ1bGxZZWFyKCktMSwxMSwzMSk7Y2FzZSA2OnJldHVybiBuZXcgRGF0ZShqYW5Gb3VydGguZ2V0RnVsbFllYXIoKS0xLDExLDMwKX19ZnVuY3Rpb24gZ2V0V2Vla0Jhc2VkWWVhcihkYXRlKXt2YXIgdGhpc0RhdGU9X19hZGREYXlzKG5ldyBEYXRlKGRhdGUudG1feWVhcisxOTAwLDAsMSksZGF0ZS50bV95ZGF5KTt2YXIgamFuRm91cnRoVGhpc1llYXI9bmV3IERhdGUodGhpc0RhdGUuZ2V0RnVsbFllYXIoKSwwLDQpO3ZhciBqYW5Gb3VydGhOZXh0WWVhcj1uZXcgRGF0ZSh0aGlzRGF0ZS5nZXRGdWxsWWVhcigpKzEsMCw0KTt2YXIgZmlyc3RXZWVrU3RhcnRUaGlzWWVhcj1nZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoVGhpc1llYXIpO3ZhciBmaXJzdFdlZWtTdGFydE5leHRZZWFyPWdldEZpcnN0V2Vla1N0YXJ0RGF0ZShqYW5Gb3VydGhOZXh0WWVhcik7aWYoY29tcGFyZUJ5RGF5KGZpcnN0V2Vla1N0YXJ0VGhpc1llYXIsdGhpc0RhdGUpPD0wKXtpZihjb21wYXJlQnlEYXkoZmlyc3RXZWVrU3RhcnROZXh0WWVhcix0aGlzRGF0ZSk8PTApe3JldHVybiB0aGlzRGF0ZS5nZXRGdWxsWWVhcigpKzF9ZWxzZXtyZXR1cm4gdGhpc0RhdGUuZ2V0RnVsbFllYXIoKX19ZWxzZXtyZXR1cm4gdGhpc0RhdGUuZ2V0RnVsbFllYXIoKS0xfX12YXIgRVhQQU5TSU9OX1JVTEVTXzI9eyIlYSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIFdFRUtEQVlTW2RhdGUudG1fd2RheV0uc3Vic3RyaW5nKDAsMyl9LCIlQSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIFdFRUtEQVlTW2RhdGUudG1fd2RheV19LCIlYiI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIE1PTlRIU1tkYXRlLnRtX21vbl0uc3Vic3RyaW5nKDAsMyl9LCIlQiI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIE1PTlRIU1tkYXRlLnRtX21vbl19LCIlQyI6ZnVuY3Rpb24oZGF0ZSl7dmFyIHllYXI9ZGF0ZS50bV95ZWFyKzE5MDA7cmV0dXJuIGxlYWRpbmdOdWxscyh5ZWFyLzEwMHwwLDIpfSwiJWQiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nTnVsbHMoZGF0ZS50bV9tZGF5LDIpfSwiJWUiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nU29tZXRoaW5nKGRhdGUudG1fbWRheSwyLCIgIil9LCIlZyI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGdldFdlZWtCYXNlZFllYXIoZGF0ZSkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlRyI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGdldFdlZWtCYXNlZFllYXIoZGF0ZSl9LCIlSCI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX2hvdXIsMil9LCIlSSI6ZnVuY3Rpb24oZGF0ZSl7dmFyIHR3ZWx2ZUhvdXI9ZGF0ZS50bV9ob3VyO2lmKHR3ZWx2ZUhvdXI9PTApdHdlbHZlSG91cj0xMjtlbHNlIGlmKHR3ZWx2ZUhvdXI+MTIpdHdlbHZlSG91ci09MTI7cmV0dXJuIGxlYWRpbmdOdWxscyh0d2VsdmVIb3VyLDIpfSwiJWoiOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBsZWFkaW5nTnVsbHMoZGF0ZS50bV9tZGF5K19fYXJyYXlTdW0oX19pc0xlYXBZZWFyKGRhdGUudG1feWVhcisxOTAwKT9fX01PTlRIX0RBWVNfTEVBUDpfX01PTlRIX0RBWVNfUkVHVUxBUixkYXRlLnRtX21vbi0xKSwzKX0sIiVtIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fbW9uKzEsMil9LCIlTSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGxlYWRpbmdOdWxscyhkYXRlLnRtX21pbiwyKX0sIiVuIjpmdW5jdGlvbigpe3JldHVybiJcbiJ9LCIlcCI6ZnVuY3Rpb24oZGF0ZSl7aWYoZGF0ZS50bV9ob3VyPj0wJiZkYXRlLnRtX2hvdXI8MTIpe3JldHVybiJBTSJ9ZWxzZXtyZXR1cm4iUE0ifX0sIiVTIjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gbGVhZGluZ051bGxzKGRhdGUudG1fc2VjLDIpfSwiJXQiOmZ1bmN0aW9uKCl7cmV0dXJuIlx0In0sIiV1IjpmdW5jdGlvbihkYXRlKXtyZXR1cm4gZGF0ZS50bV93ZGF5fHw3fSwiJVUiOmZ1bmN0aW9uKGRhdGUpe3ZhciBqYW5GaXJzdD1uZXcgRGF0ZShkYXRlLnRtX3llYXIrMTkwMCwwLDEpO3ZhciBmaXJzdFN1bmRheT1qYW5GaXJzdC5nZXREYXkoKT09PTA/amFuRmlyc3Q6X19hZGREYXlzKGphbkZpcnN0LDctamFuRmlyc3QuZ2V0RGF5KCkpO3ZhciBlbmREYXRlPW5ldyBEYXRlKGRhdGUudG1feWVhcisxOTAwLGRhdGUudG1fbW9uLGRhdGUudG1fbWRheSk7aWYoY29tcGFyZUJ5RGF5KGZpcnN0U3VuZGF5LGVuZERhdGUpPDApe3ZhciBmZWJydWFyeUZpcnN0VW50aWxFbmRNb250aD1fX2FycmF5U3VtKF9faXNMZWFwWWVhcihlbmREYXRlLmdldEZ1bGxZZWFyKCkpP19fTU9OVEhfREFZU19MRUFQOl9fTU9OVEhfREFZU19SRUdVTEFSLGVuZERhdGUuZ2V0TW9udGgoKS0xKS0zMTt2YXIgZmlyc3RTdW5kYXlVbnRpbEVuZEphbnVhcnk9MzEtZmlyc3RTdW5kYXkuZ2V0RGF0ZSgpO3ZhciBkYXlzPWZpcnN0U3VuZGF5VW50aWxFbmRKYW51YXJ5K2ZlYnJ1YXJ5Rmlyc3RVbnRpbEVuZE1vbnRoK2VuZERhdGUuZ2V0RGF0ZSgpO3JldHVybiBsZWFkaW5nTnVsbHMoTWF0aC5jZWlsKGRheXMvNyksMil9cmV0dXJuIGNvbXBhcmVCeURheShmaXJzdFN1bmRheSxqYW5GaXJzdCk9PT0wPyIwMSI6IjAwIn0sIiVWIjpmdW5jdGlvbihkYXRlKXt2YXIgamFuRm91cnRoVGhpc1llYXI9bmV3IERhdGUoZGF0ZS50bV95ZWFyKzE5MDAsMCw0KTt2YXIgamFuRm91cnRoTmV4dFllYXI9bmV3IERhdGUoZGF0ZS50bV95ZWFyKzE5MDEsMCw0KTt2YXIgZmlyc3RXZWVrU3RhcnRUaGlzWWVhcj1nZXRGaXJzdFdlZWtTdGFydERhdGUoamFuRm91cnRoVGhpc1llYXIpO3ZhciBmaXJzdFdlZWtTdGFydE5leHRZZWFyPWdldEZpcnN0V2Vla1N0YXJ0RGF0ZShqYW5Gb3VydGhOZXh0WWVhcik7dmFyIGVuZERhdGU9X19hZGREYXlzKG5ldyBEYXRlKGRhdGUudG1feWVhcisxOTAwLDAsMSksZGF0ZS50bV95ZGF5KTtpZihjb21wYXJlQnlEYXkoZW5kRGF0ZSxmaXJzdFdlZWtTdGFydFRoaXNZZWFyKTwwKXtyZXR1cm4iNTMifWlmKGNvbXBhcmVCeURheShmaXJzdFdlZWtTdGFydE5leHRZZWFyLGVuZERhdGUpPD0wKXtyZXR1cm4iMDEifXZhciBkYXlzRGlmZmVyZW5jZTtpZihmaXJzdFdlZWtTdGFydFRoaXNZZWFyLmdldEZ1bGxZZWFyKCk8ZGF0ZS50bV95ZWFyKzE5MDApe2RheXNEaWZmZXJlbmNlPWRhdGUudG1feWRheSszMi1maXJzdFdlZWtTdGFydFRoaXNZZWFyLmdldERhdGUoKX1lbHNle2RheXNEaWZmZXJlbmNlPWRhdGUudG1feWRheSsxLWZpcnN0V2Vla1N0YXJ0VGhpc1llYXIuZ2V0RGF0ZSgpfXJldHVybiBsZWFkaW5nTnVsbHMoTWF0aC5jZWlsKGRheXNEaWZmZXJlbmNlLzcpLDIpfSwiJXciOmZ1bmN0aW9uKGRhdGUpe3JldHVybiBkYXRlLnRtX3dkYXl9LCIlVyI6ZnVuY3Rpb24oZGF0ZSl7dmFyIGphbkZpcnN0PW5ldyBEYXRlKGRhdGUudG1feWVhciwwLDEpO3ZhciBmaXJzdE1vbmRheT1qYW5GaXJzdC5nZXREYXkoKT09PTE/amFuRmlyc3Q6X19hZGREYXlzKGphbkZpcnN0LGphbkZpcnN0LmdldERheSgpPT09MD8xOjctamFuRmlyc3QuZ2V0RGF5KCkrMSk7dmFyIGVuZERhdGU9bmV3IERhdGUoZGF0ZS50bV95ZWFyKzE5MDAsZGF0ZS50bV9tb24sZGF0ZS50bV9tZGF5KTtpZihjb21wYXJlQnlEYXkoZmlyc3RNb25kYXksZW5kRGF0ZSk8MCl7dmFyIGZlYnJ1YXJ5Rmlyc3RVbnRpbEVuZE1vbnRoPV9fYXJyYXlTdW0oX19pc0xlYXBZZWFyKGVuZERhdGUuZ2V0RnVsbFllYXIoKSk/X19NT05USF9EQVlTX0xFQVA6X19NT05USF9EQVlTX1JFR1VMQVIsZW5kRGF0ZS5nZXRNb250aCgpLTEpLTMxO3ZhciBmaXJzdE1vbmRheVVudGlsRW5kSmFudWFyeT0zMS1maXJzdE1vbmRheS5nZXREYXRlKCk7dmFyIGRheXM9Zmlyc3RNb25kYXlVbnRpbEVuZEphbnVhcnkrZmVicnVhcnlGaXJzdFVudGlsRW5kTW9udGgrZW5kRGF0ZS5nZXREYXRlKCk7cmV0dXJuIGxlYWRpbmdOdWxscyhNYXRoLmNlaWwoZGF5cy83KSwyKX1yZXR1cm4gY29tcGFyZUJ5RGF5KGZpcnN0TW9uZGF5LGphbkZpcnN0KT09PTA/IjAxIjoiMDAifSwiJXkiOmZ1bmN0aW9uKGRhdGUpe3JldHVybihkYXRlLnRtX3llYXIrMTkwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlWSI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUudG1feWVhcisxOTAwfSwiJXoiOmZ1bmN0aW9uKGRhdGUpe3ZhciBvZmY9ZGF0ZS50bV9nbXRvZmY7dmFyIGFoZWFkPW9mZj49MDtvZmY9TWF0aC5hYnMob2ZmKS82MDtvZmY9b2ZmLzYwKjEwMCtvZmYlNjA7cmV0dXJuKGFoZWFkPyIrIjoiLSIpK1N0cmluZygiMDAwMCIrb2ZmKS5zbGljZSgtNCl9LCIlWiI6ZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGRhdGUudG1fem9uZX0sIiUlIjpmdW5jdGlvbigpe3JldHVybiIlIn19O2Zvcih2YXIgcnVsZSBpbiBFWFBBTlNJT05fUlVMRVNfMil7aWYocGF0dGVybi5pbmRleE9mKHJ1bGUpPj0wKXtwYXR0ZXJuPXBhdHRlcm4ucmVwbGFjZShuZXcgUmVnRXhwKHJ1bGUsImciKSxFWFBBTlNJT05fUlVMRVNfMltydWxlXShkYXRlKSl9fXZhciBieXRlcz1pbnRBcnJheUZyb21TdHJpbmcocGF0dGVybixmYWxzZSk7aWYoYnl0ZXMubGVuZ3RoPm1heHNpemUpe3JldHVybiAwfXdyaXRlQXJyYXlUb01lbW9yeShieXRlcyxzKTtyZXR1cm4gYnl0ZXMubGVuZ3RoLTF9ZnVuY3Rpb24gX3N0cmZ0aW1lX2wocyxtYXhzaXplLGZvcm1hdCx0bSl7cmV0dXJuIF9zdHJmdGltZShzLG1heHNpemUsZm9ybWF0LHRtKX1mdW5jdGlvbiBfc3lzY29uZihuYW1lKXtzd2l0Y2gobmFtZSl7Y2FzZSAzMDpyZXR1cm4gMTYzODQ7Y2FzZSA4NTp2YXIgbWF4SGVhcFNpemU9MjE0NzQ4MzY0ODtyZXR1cm4gbWF4SGVhcFNpemUvMTYzODQ7Y2FzZSAxMzI6Y2FzZSAxMzM6Y2FzZSAxMjpjYXNlIDEzNzpjYXNlIDEzODpjYXNlIDE1OmNhc2UgMjM1OmNhc2UgMTY6Y2FzZSAxNzpjYXNlIDE4OmNhc2UgMTk6Y2FzZSAyMDpjYXNlIDE0OTpjYXNlIDEzOmNhc2UgMTA6Y2FzZSAyMzY6Y2FzZSAxNTM6Y2FzZSA5OmNhc2UgMjE6Y2FzZSAyMjpjYXNlIDE1OTpjYXNlIDE1NDpjYXNlIDE0OmNhc2UgNzc6Y2FzZSA3ODpjYXNlIDEzOTpjYXNlIDgyOmNhc2UgNjg6Y2FzZSA2NzpjYXNlIDE2NDpjYXNlIDExOmNhc2UgMjk6Y2FzZSA0NzpjYXNlIDQ4OmNhc2UgOTU6Y2FzZSA1MjpjYXNlIDUxOmNhc2UgNDY6cmV0dXJuIDIwMDgwOTtjYXNlIDI3OmNhc2UgMjQ2OmNhc2UgMTI3OmNhc2UgMTI4OmNhc2UgMjM6Y2FzZSAyNDpjYXNlIDE2MDpjYXNlIDE2MTpjYXNlIDE4MTpjYXNlIDE4MjpjYXNlIDI0MjpjYXNlIDE4MzpjYXNlIDE4NDpjYXNlIDI0MzpjYXNlIDI0NDpjYXNlIDI0NTpjYXNlIDE2NTpjYXNlIDE3ODpjYXNlIDE3OTpjYXNlIDQ5OmNhc2UgNTA6Y2FzZSAxNjg6Y2FzZSAxNjk6Y2FzZSAxNzU6Y2FzZSAxNzA6Y2FzZSAxNzE6Y2FzZSAxNzI6Y2FzZSA5NzpjYXNlIDc2OmNhc2UgMzI6Y2FzZSAxNzM6Y2FzZSAzNTpjYXNlIDgwOmNhc2UgODE6Y2FzZSA3OTpyZXR1cm4tMTtjYXNlIDE3NjpjYXNlIDE3NzpjYXNlIDc6Y2FzZSAxNTU6Y2FzZSA4OmNhc2UgMTU3OmNhc2UgMTI1OmNhc2UgMTI2OmNhc2UgOTI6Y2FzZSA5MzpjYXNlIDEyOTpjYXNlIDEzMDpjYXNlIDEzMTpjYXNlIDk0OmNhc2UgOTE6cmV0dXJuIDE7Y2FzZSA3NDpjYXNlIDYwOmNhc2UgNjk6Y2FzZSA3MDpjYXNlIDQ6cmV0dXJuIDEwMjQ7Y2FzZSAzMTpjYXNlIDQyOmNhc2UgNzI6cmV0dXJuIDMyO2Nhc2UgODc6Y2FzZSAyNjpjYXNlIDMzOnJldHVybiAyMTQ3NDgzNjQ3O2Nhc2UgMzQ6Y2FzZSAxOnJldHVybiA0NzgzOTtjYXNlIDM4OmNhc2UgMzY6cmV0dXJuIDk5O2Nhc2UgNDM6Y2FzZSAzNzpyZXR1cm4gMjA0ODtjYXNlIDA6cmV0dXJuIDIwOTcxNTI7Y2FzZSAzOnJldHVybiA2NTUzNjtjYXNlIDI4OnJldHVybiAzMjc2ODtjYXNlIDQ0OnJldHVybiAzMjc2NztjYXNlIDc1OnJldHVybiAxNjM4NDtjYXNlIDM5OnJldHVybiAxZTM7Y2FzZSA4OTpyZXR1cm4gNzAwO2Nhc2UgNzE6cmV0dXJuIDI1NjtjYXNlIDQwOnJldHVybiAyNTU7Y2FzZSAyOnJldHVybiAxMDA7Y2FzZSAxODA6cmV0dXJuIDY0O2Nhc2UgMjU6cmV0dXJuIDIwO2Nhc2UgNTpyZXR1cm4gMTY7Y2FzZSA2OnJldHVybiA2O2Nhc2UgNzM6cmV0dXJuIDQ7Y2FzZSA4NDp7aWYodHlwZW9mIG5hdmlnYXRvcj09PSJvYmplY3QiKXJldHVybiBuYXZpZ2F0b3JbImhhcmR3YXJlQ29uY3VycmVuY3kiXXx8MTtyZXR1cm4gMX19c2V0RXJyTm8oMjgpO3JldHVybi0xfWZ1bmN0aW9uIF90aW1lKHB0cil7dmFyIHJldD1EYXRlLm5vdygpLzFlM3wwO2lmKHB0cil7SEVBUDMyW3B0cj4+Ml09cmV0fXJldHVybiByZXR9ZW1iaW5kX2luaXRfY2hhckNvZGVzKCk7QmluZGluZ0Vycm9yPU1vZHVsZVsiQmluZGluZ0Vycm9yIl09ZXh0ZW5kRXJyb3IoRXJyb3IsIkJpbmRpbmdFcnJvciIpO0ludGVybmFsRXJyb3I9TW9kdWxlWyJJbnRlcm5hbEVycm9yIl09ZXh0ZW5kRXJyb3IoRXJyb3IsIkludGVybmFsRXJyb3IiKTtpbml0X0NsYXNzSGFuZGxlKCk7aW5pdF9SZWdpc3RlcmVkUG9pbnRlcigpO2luaXRfZW1iaW5kKCk7VW5ib3VuZFR5cGVFcnJvcj1Nb2R1bGVbIlVuYm91bmRUeXBlRXJyb3IiXT1leHRlbmRFcnJvcihFcnJvciwiVW5ib3VuZFR5cGVFcnJvciIpO2luaXRfZW12YWwoKTtmdW5jdGlvbiBpbnRBcnJheUZyb21TdHJpbmcoc3RyaW5neSxkb250QWRkTnVsbCxsZW5ndGgpe3ZhciBsZW49bGVuZ3RoPjA/bGVuZ3RoOmxlbmd0aEJ5dGVzVVRGOChzdHJpbmd5KSsxO3ZhciB1OGFycmF5PW5ldyBBcnJheShsZW4pO3ZhciBudW1CeXRlc1dyaXR0ZW49c3RyaW5nVG9VVEY4QXJyYXkoc3RyaW5neSx1OGFycmF5LDAsdThhcnJheS5sZW5ndGgpO2lmKGRvbnRBZGROdWxsKXU4YXJyYXkubGVuZ3RoPW51bUJ5dGVzV3JpdHRlbjtyZXR1cm4gdThhcnJheX12YXIgYXNtTGlicmFyeUFyZz17ImQiOl9fX2N4YV9hbGxvY2F0ZV9leGNlcHRpb24sInIiOl9fX2N4YV9yZXRocm93LCJjIjpfX19jeGFfdGhyb3csIkUiOl9fX3N5c19mY250bDY0LCJDIjpfX19zeXNfZ2V0cGlkLCJVIjpfX19zeXNfaW9jdGwsIlYiOl9fX3N5c19vcGVuLCJYIjpfX2VtYmluZF9yZWdpc3Rlcl9ib29sLCJqIjpfX2VtYmluZF9yZWdpc3Rlcl9jbGFzcywiSyI6X19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfY2xhc3NfZnVuY3Rpb24sImciOl9fZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX2NvbnN0cnVjdG9yLCJmIjpfX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19mdW5jdGlvbiwiZSI6X19lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfcHJvcGVydHksIlciOl9fZW1iaW5kX3JlZ2lzdGVyX2VtdmFsLCJtIjpfX2VtYmluZF9yZWdpc3Rlcl9lbnVtLCJiIjpfX2VtYmluZF9yZWdpc3Rlcl9lbnVtX3ZhbHVlLCJHIjpfX2VtYmluZF9yZWdpc3Rlcl9mbG9hdCwiaCI6X19lbWJpbmRfcmVnaXN0ZXJfZnVuY3Rpb24sIm4iOl9fZW1iaW5kX3JlZ2lzdGVyX2ludGVnZXIsImsiOl9fZW1iaW5kX3JlZ2lzdGVyX21lbW9yeV92aWV3LCJIIjpfX2VtYmluZF9yZWdpc3Rlcl9zdGRfc3RyaW5nLCJ1IjpfX2VtYmluZF9yZWdpc3Rlcl9zdGRfd3N0cmluZywiWSI6X19lbWJpbmRfcmVnaXN0ZXJfdm9pZCwieCI6X19lbXZhbF9hcywicCI6X19lbXZhbF9jYWxsX3ZvaWRfbWV0aG9kLCJpIjpfX2VtdmFsX2RlY3JlZiwicSI6X19lbXZhbF9nZXRfbWV0aG9kX2NhbGxlciwieSI6X19lbXZhbF9nZXRfcHJvcGVydHksImwiOl9fZW12YWxfaW5jcmVmLCJzIjpfX2VtdmFsX25ld19hcnJheSwieiI6X19lbXZhbF9uZXdfY3N0cmluZywidyI6X19lbXZhbF9ydW5fZGVzdHJ1Y3RvcnMsInQiOl9fZW12YWxfdGFrZV92YWx1ZSwiYSI6X2Fib3J0LCJCIjpfY2xvY2tfZ2V0dGltZSwiXyI6X2Rsb3BlbiwiWiI6X2Rsc3ltLCJNIjpfZW1zY3JpcHRlbl9tZW1jcHlfYmlnLCJOIjpfZW1zY3JpcHRlbl9yZXNpemVfaGVhcCwiTyI6X2Vtc2NyaXB0ZW5fdGhyZWFkX3NsZWVwLCJRIjpfZW52aXJvbl9nZXQsIlIiOl9lbnZpcm9uX3NpemVzX2dldCwiRiI6X2ZkX2Nsb3NlLCJTIjpfZmRfZmRzdGF0X2dldCwiVCI6X2ZkX3JlYWQsIkwiOl9mZF9zZWVrLCJEIjpfZmRfd3JpdGUsIiQiOl9nbXRpbWVfciwiYWEiOl9sb2NhbHRpbWVfciwidiI6X3B0aHJlYWRfY3JlYXRlLCJJIjpfcHRocmVhZF9qb2luLCJBIjpfc2V0VGVtcFJldDAsIlAiOl9zdHJmdGltZV9sLCJvIjpfc3lzY29uZiwiSiI6X3RpbWV9O3ZhciBhc209Y3JlYXRlV2FzbSgpO3ZhciBfX193YXNtX2NhbGxfY3RvcnM9TW9kdWxlWyJfX193YXNtX2NhbGxfY3RvcnMiXT1hc21bImNhIl07dmFyIF9tYWxsb2M9TW9kdWxlWyJfbWFsbG9jIl09YXNtWyJkYSJdO3ZhciBfX19lcnJub19sb2NhdGlvbj1Nb2R1bGVbIl9fX2Vycm5vX2xvY2F0aW9uIl09YXNtWyJmYSJdO3ZhciBfZnJlZT1Nb2R1bGVbIl9mcmVlIl09YXNtWyJnYSJdO3ZhciBfX19nZXRUeXBlTmFtZT1Nb2R1bGVbIl9fX2dldFR5cGVOYW1lIl09YXNtWyJoYSJdO3ZhciBfX19lbWJpbmRfcmVnaXN0ZXJfbmF0aXZlX2FuZF9idWlsdGluX3R5cGVzPU1vZHVsZVsiX19fZW1iaW5kX3JlZ2lzdGVyX25hdGl2ZV9hbmRfYnVpbHRpbl90eXBlcyJdPWFzbVsiaWEiXTt2YXIgX19nZXRfdHpuYW1lPU1vZHVsZVsiX19nZXRfdHpuYW1lIl09YXNtWyJqYSJdO3ZhciBfX2dldF9kYXlsaWdodD1Nb2R1bGVbIl9fZ2V0X2RheWxpZ2h0Il09YXNtWyJrYSJdO3ZhciBfX2dldF90aW1lem9uZT1Nb2R1bGVbIl9fZ2V0X3RpbWV6b25lIl09YXNtWyJsYSJdO3ZhciBkeW5DYWxsX3ZpaWppaT1Nb2R1bGVbImR5bkNhbGxfdmlpamlpIl09YXNtWyJtYSJdO3ZhciBkeW5DYWxsX2pqaj1Nb2R1bGVbImR5bkNhbGxfampqIl09YXNtWyJuYSJdO3ZhciBkeW5DYWxsX2ppamk9TW9kdWxlWyJkeW5DYWxsX2ppamkiXT1hc21bIm9hIl07dmFyIGR5bkNhbGxfaWlpaWlqPU1vZHVsZVsiZHluQ2FsbF9paWlpaWoiXT1hc21bInBhIl07dmFyIGR5bkNhbGxfaWlpaWlqaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlqaiJdPWFzbVsicWEiXTt2YXIgZHluQ2FsbF9paWlpaWlqaj1Nb2R1bGVbImR5bkNhbGxfaWlpaWlpamoiXT1hc21bInJhIl07dmFyIGNhbGxlZFJ1bjtkZXBlbmRlbmNpZXNGdWxmaWxsZWQ9ZnVuY3Rpb24gcnVuQ2FsbGVyKCl7aWYoIWNhbGxlZFJ1bilydW4oKTtpZighY2FsbGVkUnVuKWRlcGVuZGVuY2llc0Z1bGZpbGxlZD1ydW5DYWxsZXJ9O2Z1bmN0aW9uIHJ1bihhcmdzKXthcmdzPWFyZ3N8fGFyZ3VtZW50c187aWYocnVuRGVwZW5kZW5jaWVzPjApe3JldHVybn1wcmVSdW4oKTtpZihydW5EZXBlbmRlbmNpZXM+MCl7cmV0dXJufWZ1bmN0aW9uIGRvUnVuKCl7aWYoY2FsbGVkUnVuKXJldHVybjtjYWxsZWRSdW49dHJ1ZTtNb2R1bGVbImNhbGxlZFJ1biJdPXRydWU7aWYoQUJPUlQpcmV0dXJuO2luaXRSdW50aW1lKCk7cHJlTWFpbigpO3JlYWR5UHJvbWlzZVJlc29sdmUoTW9kdWxlKTtpZihNb2R1bGVbIm9uUnVudGltZUluaXRpYWxpemVkIl0pTW9kdWxlWyJvblJ1bnRpbWVJbml0aWFsaXplZCJdKCk7cG9zdFJ1bigpfWlmKE1vZHVsZVsic2V0U3RhdHVzIl0pe01vZHVsZVsic2V0U3RhdHVzIl0oIlJ1bm5pbmcuLi4iKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe01vZHVsZVsic2V0U3RhdHVzIl0oIiIpfSwxKTtkb1J1bigpfSwxKX1lbHNle2RvUnVuKCl9fU1vZHVsZVsicnVuIl09cnVuO2lmKE1vZHVsZVsicHJlSW5pdCJdKXtpZih0eXBlb2YgTW9kdWxlWyJwcmVJbml0Il09PSJmdW5jdGlvbiIpTW9kdWxlWyJwcmVJbml0Il09W01vZHVsZVsicHJlSW5pdCJdXTt3aGlsZShNb2R1bGVbInByZUluaXQiXS5sZW5ndGg+MCl7TW9kdWxlWyJwcmVJbml0Il0ucG9wKCkoKX19cnVuKCk7CgoKICByZXR1cm4gTW9kdWxlCn0KKTsKfSkoKTsKLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBjb25zdCBGUGhpX1dvcmtlcl9SdW50aW1lID0gKE1vZHVsZSk7CjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuLi9idWlsZC90ZW1wL2VuZ2luZXMvRlBoaS5FbmdpbmUuQ29uc3QuanMKY29uc3QgRXh0cmFjdGlvblJlc3VsdCA9IHsKICAgIE9LOiAwLAogICAgTk9UX0VWQUxVQVRFRDogMSwgICAgCiAgICBCQURfQU5HTEU6IDIsICAgIAogICAgVE9PX0ZBUjogMywgICAgCiAgICBUT09fQ0xPU0U6IDQsICAgIAogICAgT1VUX09GX0JPVU5EUzogNSwgICAgIAogICAgQkFEX0FTUEVDVF9SQVRJTzogNiwgICAgCiAgICBET0NVTUVOVF9OT1RfRk9VTkQ6IDcsICAgIAogICAgRkFDRV9OT1RfRk9VTkQ6IDgsICAgIAogICAgTVJaX05PVF9GT1VORDogOSwKICAgIEFUVFJJQlVURVNfTk9UX0ZPVU5EOiAxMCwKICAgIFVOREVSRVhQT1NFRDogMTEsIAogICAgT1ZFUkVYUE9TRUQ6IDEyLCAKICAgIEJMVVJSRUQ6IDEzLCAKICAgIElOU1VGRklDSUVOVF9TQU1QTEVTOiAxNCwgCiAgICBJTlNVRkZJQ0lFTlRfVElNRTogMTUsCiAgICBUT09fREVMQVlFRDogMTYsIAogICAgVE9PX01PVkVNRU5UOiAxNywgCiAgICBGUkVFWkVEX0RPQ1VNRU5UOiAxOCwgCiAgICBUT09fTVVDSF9ST0xMOiAxOSwgCiAgICBUT09fU01BTEw6IDIwIAp9Cgpjb25zdCBFeHRyYWN0aW9uUmVzdWx0U3RyID0gewogICAgMDogIk9LIiwKICAgIDE6ICJOT1RfRVZBTFVBVEVEIiwgICAgCiAgICAyOiAiQkFEX0FOR0xFIiwgICAgCiAgICAzOiAiVE9PX0ZBUiIsICAgIAogICAgNDogIlRPT19DTE9TRSIsICAgIAogICAgNTogIk9VVF9PRl9CT1VORFMiLCAgICAgCiAgICA2OiAiQkFEX0FTUEVDVF9SQVRJTyIsICAgIAogICAgNzogIkRPQ1VNRU5UX05PVF9GT1VORCIsICAgIAogICAgODogIkZBQ0VfTk9UX0ZPVU5EIiwgICAgCiAgICA5OiAiTVJaX05PVF9GT1VORCIsCiAgICAxMDogIkFUVFJJQlVURVNfTk9UX0ZPVU5EIiwKICAgIDExOiAiVU5ERVJFWFBPU0VEIiwgCiAgICAxMjogIk9WRVJFWFBPU0VEIiwgCiAgICAxMzogIkJMVVJSRUQiLCAKICAgIDE0OiAiSU5TVUZGSUNJRU5UX1NBTVBMRVMiLCAKICAgIDE1OiAiSU5TVUZGSUNJRU5UX1RJTUUiLAogICAgMTY6ICJUT09fREVMQVlFRCIsIAogICAgMTc6ICJUT09fTU9WRU1FTlQiLCAKICAgIDE4OiAiRlJFRVpFRF9ET0NVTUVOVCIsIAogICAgMTk6ICJUT09fTVVDSF9ST0xMIiwgCiAgICAyMDogIlRPT19TTUFMTCIgCn0KOy8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4uL2J1aWxkL3RlbXAvZW5naW5lcy9mYWNlcGhpL3dvcmtlci9GUGhpLldvcmtlci5FdmVudHMuanMKCgoKCgovKioKICogR2xvYmFsIGluc3RhbmNlcwogKi8KdmFyIGluc3RhbmNlID0gbnVsbDsKdmFyIG9jckVuZ2luZSA9IG51bGw7CnZhciBmYWNlTXJ6RW5naW5lID0gbnVsbDsKdmFyIGRvY3VtZW50RW5naW5lID0gbnVsbDsKdmFyIGRvY3VtZW50Q2FwdHVyZSA9IG51bGw7CgovKioKICogRXh0cmFjdG9yIE1vZGVscwogKi8KdmFyIGRvY3VtZW50TW9kZWwgPSBudWxsOwp2YXIgZmFjZU1vZGVsID0gbnVsbDsKdmFyIG1yek1vZGVsID0gbnVsbDsKdmFyIG9jck1vZGVsID0gbnVsbDsKCi8qKgogKiBXb3JrZXIgY29uZmlndXJhdGlvbgogKi8KdmFyIGJ1bmRsZVBhdGggPSAiIjsKdmFyIGxhc3REZXRlY3RUaW1lc3RhbXAgPSAtMTsKCi8qKgogKiBFdmVudCB0byBpbml0aWFsaXplIGFsbCByZXF1aXJlZCBjb21wb25lbnRzIGZvciB0aGUgZXh0cmFjdGlvbi4KICoKICogQHBhcmFtIHthcnJheX0gbWVzc2FnZQogKi8KY29uc3QgcHJlbG9hZEluaXRFeHRyYWN0b3IgPSBhc3luYyAobWVzc2FnZSkgPT4gewogICAgZGVidWdNZXNzYWdlKCJbV29ya2VyXTogUmVjZWl2ZWQgbWVzc2FnZSBpbiAiICsgInByZUluaXQiICsgIiBldmVudCIpOwoKICAgIC8vIFByb2Nlc3MgaW5wdXQgdmFyaWFibGVzCiAgICBidW5kbGVQYXRoID0gbWVzc2FnZS5idW5kbGVQYXRoOwoKICAgIHRyeSB7CiAgICAgICAgbGV0IHdhc21pbnN0YW5jZSA9IG51bGw7CiAgICAgICAgbGV0IGRvd25sb2FkQnVmZiA9IG51bGw7CgogICAgICAgIC8vIEFzeW5jIGZldGNoZXMgYmVmb3JlIGdldCB0aGUgbW9kZWxzIGluc3RhbmNlCiAgICAgICAgZG93bmxvYWRCdWZmID0gYXdhaXQgZmV0Y2goYnVuZGxlUGF0aCArICcvbW9kZWxzL2ZhY2VwaGlfaWRfY2FyZHNfY29ybmVyX2RldGVjdG9yXzFfMl9tb2RlbC5kYXQnKTsKICAgICAgICBkb2N1bWVudE1vZGVsID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGF3YWl0IGRvd25sb2FkQnVmZi5hcnJheUJ1ZmZlcigpKTsKCiAgICAgICAgZG93bmxvYWRCdWZmID0gYXdhaXQgZmV0Y2goYnVuZGxlUGF0aCArICcvbW9kZWxzL2ZhY2VwaGlfZmFjZV9kZXRlY3Rvcl8xXzBfbW9kZWwuZGF0Jyk7CiAgICAgICAgZmFjZU1vZGVsID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGF3YWl0IGRvd25sb2FkQnVmZi5hcnJheUJ1ZmZlcigpKTsKCiAgICAgICAgZG93bmxvYWRCdWZmID0gYXdhaXQgZmV0Y2goYnVuZGxlUGF0aCArICcvbW9kZWxzL2ZhY2VwaGlfbXJ6X2RldGVjdG9yXzFfMF9tb2RlbC5kYXQnKTsKICAgICAgICBtcnpNb2RlbCA9IG5ldyBVaW50OENsYW1wZWRBcnJheShhd2FpdCBkb3dubG9hZEJ1ZmYuYXJyYXlCdWZmZXIoKSk7CgogICAgICAgIGRvd25sb2FkQnVmZiA9IGF3YWl0IGZldGNoKGJ1bmRsZVBhdGggKyAnL21vZGVscy9mYWNlcGhpX29jcl9tcnpfMV8wX21vZGVsLmRhdCcpOwogICAgICAgIG9jck1vZGVsID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGF3YWl0IGRvd25sb2FkQnVmZi5hcnJheUJ1ZmZlcigpKTsKCiAgICAgICAgLy8gQXN5bmMgZmV0Y2ggYmVmb3JlIGdldCB0aGUgaW5zdGFuY2UKICAgICAgICBkb3dubG9hZEJ1ZmYgPSBhd2FpdCBmZXRjaChidW5kbGVQYXRoICsgIi9GUEJSZWNvZ25pdGlvbi53YXNtIik7CiAgICAgICAgd2FzbWluc3RhbmNlID0gYXdhaXQgZG93bmxvYWRCdWZmLmFycmF5QnVmZmVyKCk7CgogICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGluc3RhbmNlIGluIGdsb2JhbHMgaW5zdGFuY2UKICAgICAgICBpbnN0YW5jZSA9IGF3YWl0IEZQaGlfV29ya2VyX1J1bnRpbWUoewogICAgICAgICAgICB3YXNtQmluYXJ5IDogd2FzbWluc3RhbmNlLAogICAgICAgICAgICBvblJ1bnRpbWVJbml0aWFsaXplZCA6ICgpID0+IHNlbGYucG9zdE1lc3NhZ2UoeyBjbWQ6ICJyZWFkeSIgfSkKICAgICAgICB9KQoKICAgICAgICAvLyBSZXBvcnQgdGhlIHN1Y2Nlc3NmdWwgbG9hZCBvZiBpbnN0YW5jZSB0byBkZWJ1ZyBtZXNzYWdlCiAgICAgICAgZGVidWdNZXNzYWdlKCJbV29ya2VyXTogUHJlbG9hZGluZyB3YXNtIGluc3RhbmNlIGZyb20gcGF0aDogIiArIGJ1bmRsZVBhdGggKyAiL0ZQQlJlY29nbml0aW9uLndhc20iKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyBDcml0aWNhbCBlcnJvciBoYXMgb2NjdXJyZWQgaW4gdGhlIFdvcmtlciBTaWRlLCBzZW5kaW5nIHRvIG1haW4gdGhyZWFkCiAgICAgICAgZXJyb3JNZXNzYWdlKCJbV29ya2VyXTogIiArIGUpOwogICAgfQp9CgovKioKICogRXZlbnQgdG8gaW5pdGlhbGl6ZSBhbGwgcmVxdWlyZWQgZW5naW5lcyBmb3IgdGhlIGV4dHJhY3Rpb24uCiAqLwpjb25zdCBpbml0aWFsaXplRXh0cmFjdG9yID0gYXN5bmMgKCkgPT4gewogICAgLy8gUHJlcGFyZSB0aGUgZGlhZ25vc3RpY0NvZGUgaW5zdGFuY2UKICAgIGxldCBkaWFnbm9zdGljQ29kZSA9IC0xOwoKICAgIC8vIFJlY292ZXIgdGhlIHJlZmVyZW5jZSB0byBlcnJvciBjb2RlIGZ1bmN0aW9ucwogICAgY29uc3QgZXJyb3JDb2RlID0gaW5zdGFuY2UuZ2V0TWVzc2FnZUVycm9yQ29kZURvY3VtZW50OwoKICAgIHRyeSB7CiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgZW5naW5lcwogICAgICAgIG9jckVuZ2luZSA9IG5ldyBpbnN0YW5jZS5SZWNvZ25pemVyT0NSRW5naW5lKCk7CiAgICAgICAgZG9jdW1lbnRDYXB0dXJlID0gbmV3IGluc3RhbmNlLkRvY3VtZW50Q2FwdHVyZUVuZ2luZSgpOwogICAgICAgIGZhY2VNcnpFbmdpbmUgPSBuZXcgaW5zdGFuY2UuUmVjb2duaXplckZhY2VNcnpFbmdpbmUoKTsKCiAgICAgICAgLy8gQ2hlY2sgaWYgaXMgbG9hYmxlIHRoZSBtb2RlbHMgYW5kIGxvYWQgaXQKICAgICAgICBpZigoZGlhZ25vc3RpY0NvZGUgPSBlcnJvckNvZGUoZG9jdW1lbnRDYXB0dXJlLmxvYWREb2N1bWVudERhdGFGcm9tQnVmZmVyKGRvY3VtZW50TW9kZWwpKSkgIT09ICJPSyIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFcnJvciBsb2FkaW5nIHRoZSBtb2RlbCAnRG9jdW1lbnRDYXB0dXJlJywgIiwgZGlhZ25vc3RpY0NvZGUpOwogICAgICAgIH0gZWxzZSBpZigoZGlhZ25vc3RpY0NvZGUgPSBlcnJvckNvZGUoZmFjZU1yekVuZ2luZS5sb2FkTXJ6RGF0YUZyb21CdWZmZXIobXJ6TW9kZWwpKSkgIT09ICJPSyIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFcnJvciBsb2FkaW5nIHRoZSBtb2RlbCAnTXJ6TW9kZWwnLCAiLCBkaWFnbm9zdGljQ29kZSk7CiAgICAgICAgfSBlbHNlIGlmKChkaWFnbm9zdGljQ29kZSA9IGVycm9yQ29kZShmYWNlTXJ6RW5naW5lLmxvYWRGYWNlRGF0YUZyb21CdWZmZXIoZmFjZU1vZGVsKSkpICE9PSAiT0siKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRXJyb3IgbG9hZGluZyB0aGUgbW9kZWwgJ0ZhY2VNb2RlbCcsICIsIGRpYWdub3N0aWNDb2RlKTsKICAgICAgICB9IGVsc2UgaWYoKGRpYWdub3N0aWNDb2RlID0gZXJyb3JDb2RlKG9jckVuZ2luZS5sb2FkT2NyRGF0YUZyb21CdWZmZXIob2NyTW9kZWwpKSkgIT09ICJPSyIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFcnJvciBsb2FkaW5nIHRoZSBtb2RlbCAnT2NyTW9kZWwnLCAiLCBkaWFnbm9zdGljQ29kZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gTG9hZCB0aGUgcmVzdCBvZiB1c2VkIG1vZGVscyBvZiBmYWNlIGVuZ2luZS4KICAgICAgICAgICAgZmFjZU1yekVuZ2luZS5sb2FkRG9jdW1lbnREYXRhRnJvbUJ1ZmZlcihkb2N1bWVudE1vZGVsKTsKCiAgICAgICAgICAgIC8vIExvYWQgdGhlIHJlc3Qgb2YgdXNlZCBtb2RlbHMgb2Ygb2NyIGVuZ2luZS4KICAgICAgICAgICAgb2NyRW5naW5lLmxvYWREb2N1bWVudERhdGFGcm9tQnVmZmVyKGRvY3VtZW50TW9kZWwpOwogICAgICAgICAgICBvY3JFbmdpbmUubG9hZE1yekRhdGFGcm9tQnVmZmVyKG1yek1vZGVsKTsKCiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoeyBjbWQ6ICJpbml0IiB9KTsKICAgICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gQ3JpdGljYWwgZXJyb3IgaGFzIG9jY3VycmVkIGluIHRoZSBXb3JrZXIgU2lkZSwgc2VuZGluZyB0byBtYWluIHRocmVhZAogICAgICAgIGVycm9yTWVzc2FnZSgiW1dvcmtlcl06ICIgKyBlKTsKICAgIH0KfQoKLyoqCiAqIEV2ZW50IHRvIGRldGVjdCB0aGUgZG9jdW1lbnQgYW5kIGV4dHJhY3QgZGF0YQogKgogKiBAcGFyYW0ge2FycmF5fSBtZXNzYWdlCiAqLwpjb25zdCBkZXRlY3QgPSBhc3luYyAobWVzc2FnZSkgPT4gewogICAgbGV0IHBvc3REYXRhID0geyBjbWQ6ICJkZXRlY3QiLCByZXN1bHQ6IHt9IH07CgogICAgLy8gTWVhc3VyZSB0aGUgdGltZSBiZXR3ZWVuIGRldGVjdGlvbnMKICAgIHBvc3REYXRhLm1wcyA9IE1hdGgucm91bmQoKDEgLyBkaWZmVGltZShsYXN0RGV0ZWN0VGltZXN0YW1wKSkgKiAxMDApIC8gMTAwOwoKICAgIC8vIFJlZnJlc2ggdGhlIHRpbWVzdGFtcAogICAgbGFzdERldGVjdFRpbWVzdGFtcCA9IERhdGUubm93KCk7CgogICAgbGV0IGVycm9yVGlsdCA9IDE7CgogICAgbGV0IGltYWdlUGFyYW0gPSBtZXNzYWdlLmltYWdlOwogICAgbGV0IGltYWdlRGF0YVBhcmFtID0gbmV3IEltYWdlRGF0YShtZXNzYWdlLmltYWdlLCBtZXNzYWdlLndpZHRoLCBtZXNzYWdlLmhlaWdodCk7CiAgICBsZXQgYWNjZXNzaWJpbGl0eVBhcmFtID0gbWVzc2FnZS5hY2Nlc3NpYmlsaXR5OwogICAgbGV0IHRlc3RpbmdUaW1lc3RhbXAgPSBtZXNzYWdlLnRpbWVzdGFtcCB8fCAtMTsKCiAgICBsZXQgcmVzdWx0T2NyID0gbnVsbDsKICAgIGxldCByZXN1bHRGYWNlTXJ6ID0gbnVsbDsKICAgIGxldCByZXN1bHREb2N1bWVudCA9IG51bGw7CiAgICBsZXQgc2l6ZU9iaiA9IG51bGw7CiAgICBsZXQgaW1hZ2VPYmogPSBudWxsOwogICAgbGV0IG9wdGlvbnMgPSBudWxsOwoKICAgIGxldCBmYWNlSW1hZ2UgPSBudWxsOwogICAgbGV0IGRvY3VtZW50SW1hZ2UgPSBudWxsOwoKICAgIHRyeSB7CiAgICAgICAgc2l6ZU9iaiA9IG5ldyBpbnN0YW5jZS5TaXplKG1lc3NhZ2Uud2lkdGgsIG1lc3NhZ2UuaGVpZ2h0KTsKICAgICAgICBpbWFnZU9iaiA9IG5ldyBpbnN0YW5jZS5JbWFnZShpbWFnZVBhcmFtLCBzaXplT2JqLCBpbnN0YW5jZS5PcmllbnRhdGlvbi5GQUNFX1VQLCBpbnN0YW5jZS5JbWFnZUZvcm1hdC5SR0JBKTsKICAgICAgICBvcHRpb25zID0gbmV3IGluc3RhbmNlLlJlY29nbml6ZXJPcHRpb25zKCk7CiAgICAgICAgc2l6ZU9iai5kZWxldGUoKTsKCiAgICAgICAgaWYgKHRlc3RpbmdUaW1lc3RhbXAgPiAwKSB7CiAgICAgICAgICAgIGltYWdlT2JqLnNldFRpbWVzdGFtcCh0ZXN0aW5nVGltZXN0YW1wLnRvU3RyaW5nKCkpOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0RG9jdW1lbnQgPSBkb2N1bWVudENhcHR1cmUucmVjb2duaXplRnJvbUltYWdlKGltYWdlT2JqKQoKICAgICAgICBpZihyZXN1bHREb2N1bWVudC5kaXFhUmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgcmVzdWx0RG9jdW1lbnQuZGlxYVJlc3VsdC5kaWFnbm9zdGljLnZhbHVlICE9PSAxKXsKICAgICAgICAgICAgcG9zdERhdGEucmVzdWx0WyJkaXFhUmVzdWx0Il0gPSB7CiAgICAgICAgICAgICAgICBibHVyIDogcmVzdWx0RG9jdW1lbnQuZGlxYVJlc3VsdC5ibHVyLAogICAgICAgICAgICAgICAgZXhwb3N1cmUgOiByZXN1bHREb2N1bWVudC5kaXFhUmVzdWx0LmV4cG9zdXJlLAogICAgICAgICAgICAgICAgZXhwb3N1cmVNZWRpYW4gOiByZXN1bHREb2N1bWVudC5kaXFhUmVzdWx0LmV4cG9zdXJlTWVkaWFuLAogICAgICAgICAgICAgICAgZGlhZ25vc3RpYyA6IHJlc3VsdERvY3VtZW50LmRpcWFSZXN1bHQuZGlhZ25vc3RpYy52YWx1ZQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZihyZXN1bHREb2N1bWVudC5zaGFwZUZpbHRlckRpYWdub3N0aWMgIT09IHVuZGVmaW5lZCAmJiByZXN1bHREb2N1bWVudC5zaGFwZUZpbHRlckRpYWdub3N0aWMudmFsdWUgIT09IDEpewogICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbInNoYXBlRmlsdGVyRGlhZ25vc3RpYyJdID0gewogICAgICAgICAgICAgICAgZGlhZ25vc3RpYyA6IHJlc3VsdERvY3VtZW50LnNoYXBlRmlsdGVyRGlhZ25vc3RpYy52YWx1ZQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzdWx0RG9jdW1lbnQuZXJyb3IgPT09IGluc3RhbmNlLkRvY3VtZW50RXJyb3JDb2RlLk9LICYmIHJlc3VsdERvY3VtZW50LmRpYWdub3N0aWMgPT09IGluc3RhbmNlLkRvY3VtZW50RGlhZ25vc3RpYy5PSyApewogICAgICAgICAgICAvLyBQcmVwYXJlIGV4dHJhY3Rpb24gb3B0aW9ucwogICAgICAgICAgICBvcHRpb25zLmdlbmVyYXRlSW1hZ2UgPSB0cnVlOwoKICAgICAgICAgICAgLy8gU2V0IHRoZSBkb2N1bWVudExvY2F0aW9uIG9iamVjdAogICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbImRvY3VtZW50TG9jYXRpb24iXSA9IHsKICAgICAgICAgICAgICAgIHRvcFJpZ2h0OiB7CiAgICAgICAgICAgICAgICAgICAgeDogcmVzdWx0RG9jdW1lbnQuZG9jdW1lbnRMb2NhdGlvbi50b3BSaWdodC54LAogICAgICAgICAgICAgICAgICAgIHk6IHJlc3VsdERvY3VtZW50LmRvY3VtZW50TG9jYXRpb24udG9wUmlnaHQueQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHRvcExlZnQ6IHsKICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHREb2N1bWVudC5kb2N1bWVudExvY2F0aW9uLnRvcExlZnQueCwKICAgICAgICAgICAgICAgICAgICB5OiByZXN1bHREb2N1bWVudC5kb2N1bWVudExvY2F0aW9uLnRvcExlZnQueQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJvdHRvbVJpZ2h0OiB7CiAgICAgICAgICAgICAgICAgICAgeDogcmVzdWx0RG9jdW1lbnQuZG9jdW1lbnRMb2NhdGlvbi5ib3R0b21SaWdodC54LAogICAgICAgICAgICAgICAgICAgIHk6IHJlc3VsdERvY3VtZW50LmRvY3VtZW50TG9jYXRpb24uYm90dG9tUmlnaHQueQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJvdHRvbUxlZnQ6IHsKICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHREb2N1bWVudC5kb2N1bWVudExvY2F0aW9uLmJvdHRvbUxlZnQueCwKICAgICAgICAgICAgICAgICAgICB5OiByZXN1bHREb2N1bWVudC5kb2N1bWVudExvY2F0aW9uLmJvdHRvbUxlZnQueQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgYmVzdEltYWdlID0gcmVzdWx0RG9jdW1lbnQuYmVzdEltYWdlOwoKICAgICAgICAgICAgLy8gUHJvY2VzcyBkb2N1bWVudCBleHRyYWN0aW9uCiAgICAgICAgICAgIGRvY3VtZW50SW1hZ2UgPSBpbnN0YW5jZS5jcm9wSW1hZ2VXaXRoTG9jYXRpb24oYmVzdEltYWdlLCByZXN1bHREb2N1bWVudC5kb2N1bWVudExvY2F0aW9uKTsKCiAgICAgICAgICAgIC8vUmVzZXQgRG9jdW1lbnRDYXB0dXJlRW5naW5lCiAgICAgICAgICAgIGRvY3VtZW50Q2FwdHVyZS5yZXNldCgpOwoKICAgICAgICAgICAgLy8gU2V0IHRoZSBkb2N1bWVudEltYWdlIG9iamVjdAogICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbImRvY3VtZW50SW1hZ2UiXSA9IHsKICAgICAgICAgICAgICAgIGJ1ZmZlcjogbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGRvY3VtZW50SW1hZ2UuaW1hZ2VUb1JnYmEoKSksCiAgICAgICAgICAgICAgICB3aWR0aDogZG9jdW1lbnRJbWFnZS53aWR0aCgpLAogICAgICAgICAgICAgICAgaGVpZ2h0OiBkb2N1bWVudEltYWdlLmhlaWdodCgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGRvY3VtZW50SW1hZ2UuZGVsZXRlKCk7CgogICAgICAgICAgICAvLyBHZXQgZGF0YSBmcm9tIEZhY2VNcnpFbmdpbmUKICAgICAgICAgICAgcmVzdWx0RmFjZU1yeiA9IGZhY2VNcnpFbmdpbmUucmVjb2duaXplRnJvbUltYWdlKGJlc3RJbWFnZSwgb3B0aW9ucyk7CgogICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbImZhY2VEZXRlY3QiXSA9IHJlc3VsdEZhY2VNcnouZmFjZUxvY2F0aW9uLmlzVmFsaWQoKTsKICAgICAgICAgICAgcG9zdERhdGEucmVzdWx0WyJtcnpEZXRlY3QiXSA9IHJlc3VsdEZhY2VNcnoubXJ6TG9jYXRpb24uaXNWYWxpZCgpOwoKICAgICAgICAgICAgLy8gUHJvY2VzcyBGYWNlIExvY2F0aW9uCiAgICAgICAgICAgIGlmIChyZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi5pc1ZhbGlkKCkpIHsKICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgZmFjZUxvY2F0aW9uIG9iamVjdAogICAgICAgICAgICAgICAgcG9zdERhdGEucmVzdWx0WyJmYWNlTG9jYXRpb24iXSA9IHsKICAgICAgICAgICAgICAgICAgICB0b3BSaWdodDogewogICAgICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi50b3BSaWdodC54LAogICAgICAgICAgICAgICAgICAgICAgICB5OiByZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi50b3BSaWdodC55CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB0b3BMZWZ0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlc3VsdEZhY2VNcnouZmFjZUxvY2F0aW9uLnRvcExlZnQueCwKICAgICAgICAgICAgICAgICAgICAgICAgeTogcmVzdWx0RmFjZU1yei5mYWNlTG9jYXRpb24udG9wTGVmdC55CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBib3R0b21SaWdodDogewogICAgICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi5ib3R0b21SaWdodC54LAogICAgICAgICAgICAgICAgICAgICAgICB5OiByZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi5ib3R0b21SaWdodC55CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBib3R0b21MZWZ0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlc3VsdEZhY2VNcnouZmFjZUxvY2F0aW9uLmJvdHRvbUxlZnQueCwKICAgICAgICAgICAgICAgICAgICAgICAgeTogcmVzdWx0RmFjZU1yei5mYWNlTG9jYXRpb24uYm90dG9tTGVmdC55CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIGRvY3VtZW50IGV4dHJhY3Rpb24KICAgICAgICAgICAgICAgIGZhY2VJbWFnZSA9IGluc3RhbmNlLmNyb3BJbWFnZVdpdGhMb2NhdGlvbihiZXN0SW1hZ2UsIHJlc3VsdEZhY2VNcnouZmFjZUxvY2F0aW9uKTsKCiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGZhY2VJbWFnZSBvYmplY3QKICAgICAgICAgICAgICAgIHBvc3REYXRhLnJlc3VsdFsiZmFjZUltYWdlIl0gPSB7CiAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBuZXcgVWludDhDbGFtcGVkQXJyYXkoZmFjZUltYWdlLmltYWdlVG9SZ2JhKCkpLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiBmYWNlSW1hZ2Uud2lkdGgoKSwKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGZhY2VJbWFnZS5oZWlnaHQoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBmYWNlSW1hZ2UuZGVsZXRlKCk7CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcG9zdERhdGFbImRpYWdub3N0aWMiXSA9IEV4dHJhY3Rpb25SZXN1bHQuRkFDRV9OT1RfRk9VTkQ7CiAgICAgICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbImRpYWdub3N0aWMiXSA9IEV4dHJhY3Rpb25SZXN1bHQuRkFDRV9OT1RfRk9VTkQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChyZXN1bHRGYWNlTXJ6Lm1yekxvY2F0aW9uLmlzVmFsaWQoKSkgewogICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBtcnpMb2NhdGlvbiBvYmplY3QKICAgICAgICAgICAgICAgIHBvc3REYXRhLnJlc3VsdFsibXJ6TG9jYXRpb24iXSA9IHsKICAgICAgICAgICAgICAgICAgICB0b3BSaWdodDogewogICAgICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHRGYWNlTXJ6Lm1yekxvY2F0aW9uLnRvcFJpZ2h0LngsCiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHJlc3VsdEZhY2VNcnoubXJ6TG9jYXRpb24udG9wUmlnaHQueQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgdG9wTGVmdDogewogICAgICAgICAgICAgICAgICAgICAgICB4OiByZXN1bHRGYWNlTXJ6Lm1yekxvY2F0aW9uLnRvcExlZnQueCwKICAgICAgICAgICAgICAgICAgICAgICAgeTogcmVzdWx0RmFjZU1yei5tcnpMb2NhdGlvbi50b3BMZWZ0LnkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGJvdHRvbVJpZ2h0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlc3VsdEZhY2VNcnoubXJ6TG9jYXRpb24uYm90dG9tUmlnaHQueCwKICAgICAgICAgICAgICAgICAgICAgICAgeTogcmVzdWx0RmFjZU1yei5tcnpMb2NhdGlvbi5ib3R0b21SaWdodC55CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBib3R0b21MZWZ0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlc3VsdEZhY2VNcnoubXJ6TG9jYXRpb24uYm90dG9tTGVmdC54LAogICAgICAgICAgICAgICAgICAgICAgICB5OiByZXN1bHRGYWNlTXJ6Lm1yekxvY2F0aW9uLmJvdHRvbUxlZnQueQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIE9DUiBEYXRhCiAgICAgICAgICAgICAgICByZXN1bHRPY3IgPSBvY3JFbmdpbmUucmVjb2duaXplRnJvbUltYWdlKGJlc3RJbWFnZSwgb3B0aW9ucyk7CgogICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBPQ1IgUmVzdWx0cwogICAgICAgICAgICAgICAgaWYgKHJlc3VsdE9jci5vY3JSZXN1bHQgIT09ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgcG9zdERhdGEucmVzdWx0Lm9jclJlc3VsdCA9IHJlc3VsdE9jci5vY3JSZXN1bHQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gRGVsZXRlIHJlc3VsdCBvZiBNUloKICAgICAgICAgICAgICAgIHJlc3VsdE9jci5kZWxldGUoKTsKICAgICAgICAgICAgICAgIGJlc3RJbWFnZS5kZWxldGUoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoIXJlc3VsdEZhY2VNcnoubXJ6TG9jYXRpb24uaXNWYWxpZCgpICYmICFyZXN1bHRGYWNlTXJ6LmZhY2VMb2NhdGlvbi5pc1ZhbGlkKCkpIHsKICAgICAgICAgICAgICAgIHBvc3REYXRhWyJkaWFnbm9zdGljIl0gPSBFeHRyYWN0aW9uUmVzdWx0LkFUVFJJQlVURVNfTk9UX0ZPVU5EOwogICAgICAgICAgICAgICAgcG9zdERhdGEucmVzdWx0WyJkaWFnbm9zdGljIl0gPSBFeHRyYWN0aW9uUmVzdWx0LkFUVFJJQlVURVNfTk9UX0ZPVU5EOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcG9zdERhdGFbImRpYWdub3N0aWMiXSA9IHJlc3VsdERvY3VtZW50LmRpYWdub3N0aWMudmFsdWU7CiAgICAgICAgICAgICAgICBwb3N0RGF0YS5yZXN1bHRbImRpYWdub3N0aWMiXSA9IHJlc3VsdERvY3VtZW50LmRpYWdub3N0aWMudmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENsZWFuIHJlc3VsdCBkb2N1bWVudAogICAgICAgICAgICByZXN1bHREb2N1bWVudC5kZWxldGUoKTsKCiAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgZmFjZSByZXN1bHQgZXh0cmFjdGlvbgogICAgICAgICAgICByZXN1bHRGYWNlTXJ6LmRlbGV0ZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9fY2xlYW5BY2Nlc3NpYmlsaXR5RXJyb3JzKHBvc3REYXRhLCByZXN1bHREb2N1bWVudCwgYWNjZXNzaWJpbGl0eVBhcmFtKTsKICAgICAgICB9CgogICAgICAgIC8vIENsZWFudXAgV2ViQXNzZW1ibHkgT2JqZWN0cwogICAgICAgIGRlbGV0ZVdhc21WYXIoCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgIHNpemVPYmosCiAgICAgICAgICAgIGltYWdlT2JqCiAgICAgICAgKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyBDbGVhbnVwIHRoZSByZXN1bHQgZm9yIGF2b2lkIHBhcnRpYWwgZGV0ZWN0aW9uIHJlc3VsdHMKICAgICAgICBwb3N0RGF0YS5yZXN1bHQgPSB7fTsKCiAgICAgICAgLy8gU2V0IHRoZSBlcnJvciBjb2RlIGZvciBjYXRjaAogICAgICAgIF9fY2xlYW5BY2Nlc3NpYmlsaXR5RXJyb3JzKHBvc3REYXRhLCB7IGRpYWdub3N0aWM6IHsgdmFsdWU6IGVycm9yVGlsdCB9IH0sIGFjY2Vzc2liaWxpdHlQYXJhbSk7CgogICAgICAgIC8vIFNlbmQgbG9ncyBpbnRvIHdlYiBjb25zb2xlCiAgICAgICAgZXJyb3JNZXNzYWdlKCJbV29ya2VyXTogIiArIGUpOwoKICAgICAgICAvLyBDbGVhbnVwIFdlYkFzc2VtYmx5IE9iamVjdHMKICAgICAgICBkZWxldGVXYXNtVmFyKAogICAgICAgICAgICBmYWNlSW1hZ2UsCiAgICAgICAgICAgIGRvY3VtZW50SW1hZ2UsCiAgICAgICAgICAgIHJlc3VsdE9jciwKICAgICAgICAgICAgcmVzdWx0RmFjZU1yeiwKICAgICAgICAgICAgcmVzdWx0RG9jdW1lbnQsCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgIHNpemVPYmosCiAgICAgICAgICAgIGltYWdlT2JqCiAgICAgICAgKTsKICAgIH0KCiAgICAvLyBTZW5kIGluZm9ybWF0aW9uIHRvIG1haW4gdGhyZWFkCiAgICBzZWxmLnBvc3RNZXNzYWdlKHBvc3REYXRhKTsKfQoKLyoqCiAqIEdldCB0aGUgZXh0cmFjdG9yIHZlcnNpb24gZnJvbSBXZWJBc3NlbWJseSBzaWRlLgogKi8KY29uc3QgdmVyc2lvbiA9IGFzeW5jICgpID0+IHsKICAgIGxldCByZXR1cm5Kc29uID0geyBjbWQgOiAidmVyc2lvbiIgfTsKCiAgICByZXR1cm5Kc29uWyJ2ZXJzaW9uIl0gPSBpbnN0YW5jZS5nZXRWZXJzaW9uKCk7CgogICAgc2VsZi5wb3N0TWVzc2FnZShyZXR1cm5Kc29uKTsKfQoKLyoqCiAqIERlc3Ryb3kgY3JlYXRlZCBvYmplY3RzIGluIFdlYkFzc2VtYmx5IHNpZGUKICovCiBjb25zdCBkZXN0cm95ID0gYXN5bmMgKCkgPT4gewogICAgLy8gRGVzdHJveSBXZWJBc3NlbWJseSBHbG9iYWxzCiAgICBkZWxldGVXYXNtVmFyKAogICAgICAgIGluc3RhbmNlLAogICAgICAgIG9jckVuZ2luZSwKICAgICAgICBmYWNlTXJ6RW5naW5lLAogICAgICAgIGRvY3VtZW50RW5naW5lLAogICAgICAgIGRvY3VtZW50Q2FwdHVyZQogICAgKTsKCiAgICAvLyBDbG9zZSBXb3JrZXIgVGhyZWFkCiAgICBjbG9zZSgpOwp9OwoKLyoqCiAqIFJlc2V0IGJ1ZmZlcnMgb24gZGVtYW5kCiAqLwpjb25zdCByZXNldEJ1ZmZlcnMgPSBhc3luYyAoKSA9PiB7CiAgICBsZXQgcmV0dXJuSnNvbiA9IHsgY21kOiAicmVzZXRCdWZmZXJzIiB9OwoKICAgIGRvY3VtZW50Q2FwdHVyZS5yZXNldCgpOwoKICAgIHNlbGYucG9zdE1lc3NhZ2UocmV0dXJuSnNvbik7Cn0KCi8qKgogKiBNZXRob2QgdG8gY2xlYW4gdGhlIGFjY2Vzc2liaWxpdHkgZGF0YSBpZiBpcyBuZWVkZWQKICoKICogQHBhcmFtIHthcnJheX0gcG9zdERhdGEgVGhlIG9iamVjdCB3aXRoIGRhdGEgYmVmb3JlIHNlbnQgaXQKICogQHBhcmFtIHthcnJheX0gcmVzdWx0RGV0ZWN0IFJhdyBkZXRlY3Rpb24gZGF0YQogKiBAcGFyYW0ge2Jvb2xlYW59IGFjY2Vzc2liaWxpdHlQYXJhbSBUaGUgYWNjZXNzaWJpbGl0eSBwYXJhbSBlbmFibGVkCiAqLwpjb25zdCBfX2NsZWFuQWNjZXNzaWJpbGl0eUVycm9ycyA9IChwb3N0RGF0YSwgcmVzdWx0RGV0ZWN0LCBhY2Nlc3NpYmlsaXR5UGFyYW0pID0+IHsKICAgIGlmIChhY2Nlc3NpYmlsaXR5UGFyYW0gIT09IHRydWUpIHsKICAgICAgICBwb3N0RGF0YS5kaWFnbm9zdGljID0gcmVzdWx0RGV0ZWN0LmRpYWdub3N0aWMudmFsdWU7CiAgICB9IGVsc2UgewogICAgICAgIHBvc3REYXRhLmRpYWdub3N0aWMgPSAwOwogICAgfQp9CgoKCjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuLi9idWlsZC90ZW1wL2VuZ2luZXMvZmFjZXBoaS93b3JrZXIvRlBoaS5Xb3JrZXIuTWFpbi5qcwoKCgovKioKICogT3V0cHV0IG1lc3NhZ2VzIHBhc3NlZCBieSB0aGUgbG9nZ2VyIHN5c3RlbS4KICovCi8vIGNvbnNvbGUubG9nID0gbG9nZ2VyLmluZm9NZXNzYWdlOwovLyBjb25zb2xlLndhcm4gPSBsb2dnZXIud2FybmluZ01lc3NhZ2U7Ci8vIGNvbnNvbGUuZGVidWcgPSBsb2dnZXIuZGVidWdNZXNzYWdlOwovLyBjb25zb2xlLmVycm9yID0gbG9nZ2VyLmVycm9yTWVzc2FnZTsKCgovKioKICogRW50cnlwb2ludCBvZiBtZXNzYWdlIGRhdGEgcmVjZWl2ZWQKICoKICogQHBhcmFtIHtvYmplY3R9IG1lc3NhZ2UgdGhlIG9iamVjdCBvZiB0aGUgZXZlbnQKICovCnNlbGYub25tZXNzYWdlID0gKG1lc3NhZ2UpID0+IHsKICAgIHN3aXRjaCAobWVzc2FnZS5kYXRhLmNtZCkgewogICAgICAgIGNhc2UgInByZUluaXQiOgogICAgICAgICAgICBwcmVsb2FkSW5pdEV4dHJhY3RvcihtZXNzYWdlLmRhdGEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJpbml0IjoKICAgICAgICAgICAgaW5pdGlhbGl6ZUV4dHJhY3RvcihtZXNzYWdlLmRhdGEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJkZXRlY3QiOgogICAgICAgICAgICBkZXRlY3QobWVzc2FnZS5kYXRhKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAidmVyc2lvbiI6CiAgICAgICAgICAgIHZlcnNpb24obWVzc2FnZS5kYXRhKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiZGVzdHJveSI6CiAgICAgICAgICAgIGRlc3Ryb3kobWVzc2FnZS5kYXRhKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVzZXRCdWZmZXJzIjoKICAgICAgICAgICAgcmVzZXRCdWZmZXJzKG1lc3NhZ2UuZGF0YSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGRlYnVnTWVzc2FnZSgidW5rbm93bk1lc3NhZ2UiKTsKICAgICAgICAgICAgYnJlYWs7CiAgICB9Cgp9Cg==\")],{type:\"text/javascript\"}))),b))}async initializeEngine(){try{this.__worker.postMessage({cmd:\"preInit\",licenseKey:this.__licenseKey,bundlePath:this.__engineLocation+\"/FPhi.Engine.Facephi\",imageFormat:this.__imageFormat,imageQuality:this.__imageQuality,blurredThreshold:this.__blurredThreshold}),await new Promise((e=>{this.__worker.onmessage=t=>{\"ready\"===t.data.cmd&&e()}})),this.__worker.postMessage({cmd:\"init\"}),await new Promise((e=>{this.__worker.onmessage=t=>{\"init\"===t.data.cmd&&e()}}))}catch(e){throw new Error(\"Fail to initialize the engine!\")}}detectImage(e){const{width:t,height:i}=e,l=e.getContext(\"2d\").getImageData(0,0,t,i);return this.__worker.postMessage({cmd:\"detect\",image:l.data,width:t,height:i,accessibility:this.__accessibility,timestamp:Date.now()}),new Promise((e=>{this.__worker.onmessage=t=>{\"detect\"===t.data.cmd&&e(this.__generateResultObject(t.data))}}))}async cleanImageBuffer(){return this.__frontDocument=null,this.__faceImage=null,this.__backDocument=null,this.__worker.postMessage({cmd:\"resetBuffers\"}),new Promise((e=>{this.__worker.onmessage=t=>{\"resetBuffers\"===t.data.cmd&&e()}}))}async finalizeEngine(){this.__worker.postMessage({cmd:\"destroy\"})}get __attributes(){return{licenseKey:{type:\"string\",property:\"__licenseKey\"},bundlePath:{type:\"string\",property:\"__engineLocation\"},imageFormat:{type:\"string\",property:\"__imageFormat\"},imageQuality:{type:\"number\",property:\"__imageQuality\"},accessibility:{type:\"boolean\",property:\"__accessibility\"},blurredThreshold:{type:\"number\",property:\"__blurredThreshold\"}}}get __scanResultType(){return{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20}}__mapperToRealConfig(e){for(const[t,i]of Object.entries(e))void 0!==this.__attributes[t]&&(this[this.__attributes[t].property]=i)}__transformDate(e){try{let t,i,l;const a=Number((new Date).getFullYear().toString().slice(-2));return t=parseInt(e.slice(0,2))>a?\"19\"+e.slice(0,2):\"20\"+e.slice(0,2),i=e.slice(2,4),l=e.slice(4,7),l+\"/\"+i+\"/\"+t}catch(e){return null}}__generateResultObject(e){let t={};const i={};if(t.diagnostic=this.__scanResultType[e.result.diagnostic],t.detectionStatus={status:this.__scanResultType[e.result.diagnostic],quad:0,glare:0,internalStatus:e.result.diagnostic},t.simpleModeOutput=0,void 0!==e.result.diqaResult&&e.result.diqaResult.blur<this.__blurredThreshold)return this.__generateErrorResultObject(13);if(0===e.result.diagnostic){if(!1!==e.result.faceDetect){const t=e.result.documentImage.buffer,l=e.result.documentImage.width,a=e.result.documentImage.height;this.__frontDocument=new ImageData(new Uint8ClampedArray(t),l,a,i);const n=e.result.faceImage.buffer,s=e.result.faceImage.width,d=e.result.faceImage.height;this.__faceImage=new ImageData(new Uint8ClampedArray(n),s,d,i)}else{const t=e.result.documentImage.buffer,l=e.result.documentImage.width,a=e.result.documentImage.height;this.__backDocument=new ImageData(new Uint8ClampedArray(t),l,a,i)}if(t.images={frontDocument:this.__convertToImageOutput(this.__frontDocument),faceImage:this.__convertToImageOutput(this.__faceImage),backDocument:this.__convertToImageOutput(this.__backDocument),signatureImage:null},t.imagesRaw={frontDocument:this.__frontDocument,faceImage:this.__faceImage,backDocument:this.__backDocument,signatureImage:null},t.extractionRaw={},this.__mrzRawString=e.result.ocrResult,!1!==e.result.mrzDetect&&void 0!==this.__mrzRawString&&93===this.__mrzRawString.length){let e=(e=>{if(null!=e&&\"\"!==e){let t={},i=null,l=null;const a=e.split(\"\\n\");if(a.length>=3){const e=new RegExp(\"([A|C|I][A-Z0-9<]{1})([A-Z]{3})([A-Z0-9<]{9})([0-9<]{1})([A-Z0-9<]{15})\"),n=new RegExp(\"([0-9]{6})([0-9]{1})(.{1})([0-9]{6})([0-9]{1})([A-Z]{3})([A-Z0-9<]{11})([0-9]{1})\"),s=new RegExp(\"([A-Z0-9<]{30})\");if(t.extractionValidated=e.test(a[0])&&n.test(a[1])&&s.test(a[2]),t.extractionValidated)return i=e.exec(a[0]),t.documentType=i[1],t.countryEmitterCode=i[2],t.documentNumber=i[3].replaceAll(\"<\",\"\"),t.opt1=i[5],t.documentId=i[5].replaceAll(\"<\",\"\"),i=n.exec(a[1]),t.birthDate=i[1],t.gender=i[3],t.documentExpiry=i[4],t.nationality=i[6],t.opt2=i[7],i=s.exec(a[2]),l=i[1].replaceAll(/[<]{3,}/g,\"\").split(\"<<\").map((e=>e.replaceAll(\"<\",\" \"))),t.firstName=l[1],t.lastName=l[0],t}}return null})(this.__mrzRawString);if(null===e)return this.__generateErrorResultObject(13);t.extractionRaw.mrz={rawData:this.__mrzRawString,opt1:e.opt1,opt2:e.opt2,firstName:e.firstName,lastName:e.lastName,documentId:e.documentId,documentNumber:e.documentNumber,documentIssuer:e.countryEmitterCode,dateOfExpiry:e.documentExpiry,dateOfBirth:e.birthDate,gender:e.gender,nationality:e.nationality}}}return t.extractionData={firstName:R((()=>t.extractionRaw.mrz.firstName))||R((()=>t.extractionRaw.ocr.firstName))||null,lastName:R((()=>t.extractionRaw.mrz.lastName))||R((()=>t.extractionRaw.ocr.lastName))||null,gender:R((()=>t.extractionRaw.mrz.gender))||R((()=>t.extractionRaw.ocr.gender))||null,nationality:R((()=>t.extractionRaw.mrz.nationality))||R((()=>t.extractionRaw.ocr.nationality))||null,dateOfBirth:this.__transformDate(R((()=>t.extractionRaw.mrz.dateOfBirth)))||R((()=>t.extractionRaw.ocr.dateOfBirth))||null,documentId:R((()=>t.extractionRaw.mrz.documentId))||R((()=>t.extractionRaw.ocr.documentId))||null,documentNumber:R((()=>t.extractionRaw.mrz.documentNumber))||R((()=>t.extractionRaw.ocr.documentNumber))||null},t}__generateErrorResultObject(e){return{diagnostic:e,simpleModeOutput:0,detectionStatus:{status:e,glare:0,quad:0,internalStatus:e}}}__convertToImageOutput(e){if(null!==e){let t=document.createElement(\"canvas\"),i=t.getContext(\"2d\");return t.width=e.width,t.height=e.height,i.putImageData(e,0,0),t.toDataURL(this.__imageFormat,this.__imageQuality)}return null}__roundUpLenght(e,t){return Math.ceil(e/t)*t}}class g{constructor(e){this.__licenseKey=\"\",this.__engineLocation=\"\",this.__mockInformation={},this.__detectsCount=0,this.__detectsNeeded=10,this.__mapperToRealConfig(e)}async initializeEngine(){}async detectImage(e){return this.__detectsCount<this.__detectsNeeded?(this.__detectsCount++,await(async e=>new Promise((e=>setTimeout(e,200))))(),{result:1}):this.__generateResultObject(this.__mockInformation,e.getContext(\"2d\").getImageData(0,0,e.width,e.height))}async cleanImageBuffer(e){}async finalizeEngine(){}get __attributes(){return{licenseKey:{type:\"string\",property:\"__licenseKey\"},bundlePath:{type:\"string\",property:\"__engineLocation\"},mockInformation:{type:\"object\",property:\"__mockInformation\"}}}get __scanResultType(){return{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10}}__mapperToRealConfig(e){for(const[t,i]of Object.entries(e))void 0!==this.__attributes[t]&&(this[this.__attributes[t].property]=i)}__generateResultObject(e,t){let i=null;return i=e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype?{extractionRaw:{mrz:{rawData:null,opt1:null,opt2:null,firstName:null,lastName:null,documentId:null,documentNumber:null,documentIssuer:null,dateOfExpiry:null,dateOfBirth:null,gender:null,nationality:null},ocr:{firstName:null,lastName:null,documentId:null,documentNumber:null,dateOfBirth:null,dateOfExpiry:null,dateOfIssue:null,gender:null,nationality:null}},extractionData:{firstName:null,lastName:null,gender:null,nationality:null,dateOfBirth:null,placeOfBirth:null,documentId:null,documentNumber:null,address:null}}:e,{diagnostic:this.__scanResultType[0],images:{backDocument:this.__convertToImageOutput(t),frontDocument:this.__convertToImageOutput(t)},imagesRaw:{backDocument:t,frontDocument:t},extractionRaw:{mrz:i.extractionRaw.mrz,ocr:i.extractionRaw.ocr},extractionData:i.extractionData}}__convertToImageOutput(e){if(null!==e){let t=document.createElement(\"canvas\"),i=t.getContext(\"2d\");return t.width=e.width,t.height=e.height,i.putImageData(e,0,0),t.toDataURL(this.__imageFormat,this.__imageQuality)}return null}}function W(e,t,i,l){return new(i||(i=Promise))((function(a,n){function s(e){try{c(l.next(e))}catch(e){n(e)}}function d(e){try{c(l.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,d)}c((l=l.apply(e,t||[])).next())}))}let V=0;class p{constructor(e){this.action=e,this.messageID=function(){const e=V;return V+=1,e}()}}class G extends p{constructor(e,t){super(G.action),this.wasmModuleName=e.wasmModuleName,this.licenseKey=e.licenseKey,this.userId=t,this.registerLoadCallback=null!==e.loadProgressCallback,this.allowHelloMessage=e.allowHelloMessage,this.engineLocation=e.engineLocation,this.wasmType=e.wasmType,this.numberOfWorkers=e.numberOfWorkers}}var X,y,C,N,S;G.action=\"init\",function(e){e[e.Any=0]=\"Any\",e[e.Recognizer=1]=\"Recognizer\",e[e.RecognizerSettings=2]=\"RecognizerSettings\",e[e.Callback=3]=\"Callback\"}(X||(X={}));class A extends p{constructor(e,t){super(A.action),this.className=e,this.params=t}}A.action=\"createNewNativeObject\";class Y extends p{constructor(e,t,i){super(Y.action),this.recognizerHandles=e,this.allowMultipleResults=t,this.registeredMetadataCallbacks=i}}Y.action=\"createRecognizerRunner\";class F extends p{constructor(e,t){super(F.action),this.recognizerHandles=e,this.allowMultipleResults=t}}F.action=\"reconfigureRecognizerRunner\";class E extends p{constructor(){super(E.action)}}E.action=\"deleteRecognizerRunner\";class v extends p{constructor(e,t,i){super(v.action),this.objectHandle=e,this.methodName=t,this.params=i}}v.action=\"invokeObject\";class U extends p{constructor(e){super(U.action),this.frame=e}getTransferrables(){return[this.frame.imageData.data.buffer]}}U.action=\"processImage\";class T extends p{constructor(e){super(T.action),this.hardReset=e}}T.action=\"resetRecognizers\";class J{constructor(){this.onDebugText=!1,this.onDetectionFailed=!1,this.onQuadDetection=!1,this.onPointsDetection=!1,this.onFirstSideResult=!1,this.onGlare=!1}}class H extends p{constructor(e){super(H.action),this.registeredMetadataCallbacks=e}}H.action=\"registerMetadataCallbacks\";class w extends p{constructor(e){super(w.action),this.detectionOnlyMode=e}}w.action=\"setDetectionOnly\";class K extends p{constructor(e){super(K.action),this.callbackNonEmpty=e}}K.action=\"setClearTimeoutCallback\";class f extends p{constructor(e){super(f.action),this.cameraPreviewMirrored=e}}f.action=\"setCameraPreviewMirrored\";class x extends p{constructor(e){super(x.action),this.userId=e}}function k(e,t){return i=>{const l=i;l.success?e():t(l.error)}}function B(e,t){return i=>{const l=i;l.success?e(i):t(l.error)}}x.action=\"getProductIntegrationInfo\",function(e){e[e.onDebugText=0]=\"onDebugText\",e[e.onDetectionFailed=1]=\"onDetectionFailed\",e[e.onQuadDetection=2]=\"onQuadDetection\",e[e.onPointsDetection=3]=\"onPointsDetection\",e[e.onFirstSideResult=4]=\"onFirstSideResult\",e[e.clearTimeoutCallback=5]=\"clearTimeoutCallback\",e[e.onGlare=6]=\"onGlare\",e[e.recognizerCallback=7]=\"recognizerCallback\"}(y||(y={})),function(e){e.Basic=\"BASIC\",e.Advanced=\"ADVANCED\",e.AdvancedWithThreads=\"ADVANCED_WITH_THREADS\"}(C||(C={}));class L{constructor(e,t,i){this.wasmSDKWorker=e,this.objectHandle=i,this.recognizerName=t,this.callbacks=new Map}getRemoteObjectHandle(){return this.objectHandle}currentSettings(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t(\"Invalid object handle: \"+this.objectHandle);const i=new v(this.objectHandle,\"currentSettings\",[]),l=B((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(i,l)}))}toSignedJSON(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t(\"Invalid object handle: \"+this.objectHandle);const i=new v(this.objectHandle,\"toSignedJSON\",[]),l=B((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(i,l)}))}clearAllCallbacks(){this.callbacks.clear(),this.wasmSDKWorker.unregisterRecognizerCallbacks(this.objectHandle)}removeFunctions(e){this.clearAllCallbacks();const t=Object.keys(e);let i=!1;for(const l of t){const t=e[l];\"function\"==typeof t&&(this.callbacks.set(l,t),e[l]={parameter:{recognizerHandle:this.objectHandle,callbackName:l},type:X.Callback},i=!0)}return i&&this.wasmSDKWorker.registerRecognizerCallbacks(this.objectHandle,this),e}updateSettings(e){return new Promise(((t,i)=>{if(0>this.objectHandle)return void i(\"Invalid object handle: \"+this.objectHandle);const l=new v(this.objectHandle,\"updateSettings\",[{parameter:this.removeFunctions(e),type:X.RecognizerSettings}]),a=k(t,i);this.wasmSDKWorker.postMessage(l,a)}))}invokeCallback(e,t){const i=this.callbacks.get(e);void 0!==i?i(...t):console.warn(\"Cannot find callback\",e)}getResult(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t(\"Invalid object handle: \"+this.objectHandle);const i=new v(this.objectHandle,\"getResult\",[]),l=B((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(i,l)}))}delete(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t(\"Invalid object handle: \"+this.objectHandle);this.clearAllCallbacks();const i=new v(this.objectHandle,\"delete\",[]),l=k((()=>{this.objectHandle=-1,e()}),t);this.wasmSDKWorker.postMessage(i,l)}))}}function O(e){const t=new J;return t.onDebugText=!!e.onDebugText,t.onDetectionFailed=!!e.onDetectionFailed,t.onPointsDetection=!!e.onPointsDetection,t.onQuadDetection=!!e.onQuadDetection,t.onFirstSideResult=!!e.onFirstSideResult,t.onGlare=!!e.onGlare,t}class M{constructor(e){this.deleted=!1,this.wasmSDKWorker=e}processImage(e){return new Promise(((t,i)=>{if(this.deleted)return void i(\"Recognizer runner is deleted. It cannot be used anymore!\");const l=new U(e),a=B((e=>{t(e.recognitionState)}),i);this.wasmSDKWorker.postTransferrableMessage(l,a)}))}reconfigureRecognizers(e,t){return new Promise(((i,l)=>{if(this.deleted)return void l(\"Recognizer runner is deleted. It cannot be used anymore!\");const a=z(e),n=new F(a,t),s=k(i,l);this.wasmSDKWorker.postMessage(n,s)}))}setMetadataCallbacks(e){return new Promise(((t,i)=>{const l=new H(O(e)),a=k(t,i);this.wasmSDKWorker.postMessageAndRegisterCallbacks(l,e,a)}))}resetRecognizers(e){return new Promise(((t,i)=>{const l=new T(e),a=k(t,i);this.wasmSDKWorker.postMessage(l,a)}))}setDetectionOnlyMode(e){return new Promise(((t,i)=>{const l=new w(e),a=k(t,i);this.wasmSDKWorker.postMessage(l,a)}))}setClearTimeoutCallback(e){return new Promise(((t,i)=>{const l=new K(null!==e),a=k(t,i);this.wasmSDKWorker.registerClearTimeoutCallback(e),this.wasmSDKWorker.postMessage(l,a)}))}setCameraPreviewMirrored(e){return new Promise(((t,i)=>{const l=new f(e),a=k(t,i);this.wasmSDKWorker.postMessage(l,a)}))}delete(){return this.deleted?Promise.reject(\"Recognizer runner is already deleted.\"):new Promise(((e,t)=>{const i=new E,l=k((()=>{this.deleted=!0,e()}),t);this.wasmSDKWorker.postMessage(i,l)}))}}function z(e){const t=[];for(const i of e)t.push(i.getRemoteObjectHandle());return t}class D{constructor(e){this.wasmSDKWorker=e}createRecognizerRunner(e,t=!1,i={}){return new Promise(((l,a)=>{const n=z(e),s=new Y(n,t,O(i)),d=k((()=>{l(new M(this.wasmSDKWorker))}),a);this.wasmSDKWorker.postMessageAndRegisterCallbacks(s,i,d)}))}newRecognizer(e,...t){return new Promise(((i,l)=>{const a=new A(e,function(e){const t=[];for(let i of e){let e=X.Any;i instanceof L&&(e=X.Recognizer,i=i.getRemoteObjectHandle()),t.push({parameter:i,type:e})}return t}(t)),n=B((t=>{const l=new L(this.wasmSDKWorker,e,t.objectHandle);i(l)}),l);this.wasmSDKWorker.postMessage(a,n)}))}}class P{constructor(e,t,i,l){this.eventHandlers={},this.metadataCallbacks={},this.clearTimeoutCallback=null,this.loadedWasmType=C.Basic,this.mbWasmWorker=e,this.mbWasmWorker.onmessage=e=>{this.handleWorkerEvent(e)},this.mbWasmWorker.onerror=()=>{l(\"Problem during initialization of worker file!\")},this.mbWasmModule=new D(this),this.loadCallback=t,this.recognizersWithCallbacks=new Map,this.userId=i,this.showOverlay=!1}postMessage(e,t){this.eventHandlers[e.messageID]=t,this.mbWasmWorker.postMessage(e)}postTransferrableMessage(e,t){this.eventHandlers[e.messageID]=t,this.mbWasmWorker.postMessage(e,e.getTransferrables())}postMessageAndRegisterCallbacks(e,t,i){this.eventHandlers[e.messageID]=i,this.metadataCallbacks=t,this.mbWasmWorker.postMessage(e)}registerClearTimeoutCallback(e){this.clearTimeoutCallback=e}registerRecognizerCallbacks(e,t){this.recognizersWithCallbacks.set(e,t)}unregisterRecognizerCallbacks(e){this.recognizersWithCallbacks.delete(e)}delete(){this.mbWasmWorker.terminate()}getProductIntegrationInfo(){return new Promise(((e,t)=>{const i=new x(this.userId),l=B((t=>{e(t.result)}),t);this.postMessage(i,l)}))}handleWorkerEvent(e){if(\"isCallbackMessage\"in e.data){const t=e.data;switch(t.callbackType){case y.onDebugText:\"function\"==typeof this.metadataCallbacks.onDebugText&&this.metadataCallbacks.onDebugText(t.callbackParameters[0]);break;case y.onDetectionFailed:\"function\"==typeof this.metadataCallbacks.onDetectionFailed&&this.metadataCallbacks.onDetectionFailed();break;case y.onPointsDetection:\"function\"==typeof this.metadataCallbacks.onPointsDetection&&this.metadataCallbacks.onPointsDetection(t.callbackParameters[0]);break;case y.onQuadDetection:\"function\"==typeof this.metadataCallbacks.onQuadDetection&&this.metadataCallbacks.onQuadDetection(t.callbackParameters[0]);break;case y.onFirstSideResult:\"function\"==typeof this.metadataCallbacks.onFirstSideResult&&this.metadataCallbacks.onFirstSideResult();break;case y.clearTimeoutCallback:this.clearTimeoutCallback&&\"function\"==typeof this.clearTimeoutCallback.onClearTimeout&&this.clearTimeoutCallback.onClearTimeout();break;case y.onGlare:\"function\"==typeof this.metadataCallbacks.onGlare&&this.metadataCallbacks.onGlare(t.callbackParameters[0]);break;case y.recognizerCallback:{const e=t.callbackParameters.shift(),i=this.recognizersWithCallbacks.get(e.recognizerHandle);void 0!==i?i.invokeCallback(e.callbackName,t.callbackParameters):console.warn(\"Cannot find recognizer to deliver callback message. Maybe it's destroyed?\",e);break}default:throw Error(\"Unknown callback type: \"+y[t.callbackType])}}else if(\"isLoadProgressMessage\"in e.data){const t=e.data;\"function\"==typeof this.loadCallback&&this.loadCallback(t.progress)}else{const t=e.data,i=this.eventHandlers[t.messageID];delete this.eventHandlers[t.messageID],i(t)}}static createWasmWorker(e,t,i){return W(this,void 0,void 0,(function*(){return new Promise(((l,a)=>{const n=new P(e,t.loadProgressCallback,i,a),s=new G(t,i),d=B((e=>{const t=e;n.showOverlay=t.showOverlay,n.loadedWasmType=t.wasmType,l(n)}),(e=>{n&&\"function\"==typeof n.delete&&n.delete(),a(e)}));n.postMessage(s,d)}))}))}}class _{constructor(e,t){if(!e.code||!e.message)throw Error(\"Instance of SDKError is required to have code and message.\");this.message=e.message,this.code=e.code,this.details=t}}!function(e){e.WORKER_WASM_LOAD_FAILURE=\"WORKER_WASM_LOAD_FAILURE\",e.WORKER_WASM_INIT_MISSING=\"WORKER_WASM_INIT_MISSING\",e.WORKER_FUNCTION_INVOKE_FAILURE=\"WORKER_FUNCTION_INVOKE_FAILURE\",e.WORKER_RECOGNIZER_CREATION_FAILURE=\"WORKER_RECOGNIZER_CREATION_FAILURE\",e.WORKER_RUNNER_EXISTS=\"WORKER_RUNNER_EXISTS\",e.WORKER_RUNNER_CREATION_FAILURE=\"WORKER_RUNNER_CREATION_FAILURE\",e.WORKER_RUNNER_MISSING=\"WORKER_RUNNER_MISSING\",e.WORKER_RUNNER_RECONFIGURE_FAILURE=\"WORKER_RUNNER_RECONFIGURE_FAILURE\",e.WORKER_RUNNER_DELETED=\"WORKER_RUNNER_DELETED\",e.WORKER_RUNNER_DELETE_FAILURE=\"WORKER_RUNNER_DELETE_FAILURE\",e.WORKER_OBJECT_INVOKE_FAILURE=\"WORKER_OBJECT_INVOKE_FAILURE\",e.WORKER_IMAGE_PROCESS_FAILURE=\"WORKER_IMAGE_PROCESS_FAILURE\",e.WORKER_HANDLE_UNDEFINED=\"WORKER_HANDLE_UNDEFINED\",e.WORKER_MESSAGE_ACTION_UNKNOWN=\"WORKER_MESSAGE_ACTION_UNKNOWN\",e.WORKER_LICENSE_UNLOCK_ERROR=\"WORKER_LICENSE_UNLOCK_ERROR\",e.WORKER_INTEGRATION_INFO_FAILURE=\"WORKER_INTEGRATION_INFO_FAILURE\",e.LOCAL_SDK_RUNNER_MISSING=\"LOCAL_SDK_RUNNER_MISSING\",e.LOCAL_SDK_RUNNER_EMPTY=\"LOCAL_SDK_RUNNER_EMPTY\",e.LICENSE_UNLOCK_ERROR=\"LICENSE_UNLOCK_ERROR\",e.FRAME_CAPTURE_SVG_UNSUPPORTED=\"FRAME_CAPTURE_SVG_UNSUPPORTED\",e.FRAME_CAPTURE_CANVAS_MISSING=\"FRAME_CAPTURE_CANVAS_MISSING\",e.SDK_WASM_SETTINGS_MISSING=\"SDK_WASM_SETTINGS_MISSING\",e.SDK_LICENSE_KEY_MISSING=\"SDK_LICENSE_KEY_MISSING\",e.SDK_WASM_MODULE_NAME_MISSING=\"SDK_WASM_MODULE_NAME_MISSING\",e.SDK_ENGINE_LOCATION_INVALID=\"SDK_ENGINE_LOCATION_INVALID\",e.SDK_MISSING=\"SDK_MISSING\",e.SDK_RECOGNIZERS_MISSING=\"SDK_RECOGNIZERS_MISSING\",e.VIDEO_RECOGNIZER_ELEMENT_MISSING=\"VIDEO_RECOGNIZER_ELEMENT_MISSING\",e.VIDEO_RECOGNIZER_CAMERA_MISSING=\"VIDEO_RECOGNIZER_CAMERA_MISSING\",e.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED=\"VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED\",e.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE=\"VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE\",e.VIDEO_RECOGNIZER_CAMERA_IN_USE=\"VIDEO_RECOGNIZER_CAMERA_IN_USE\",e.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED=\"VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED\",e.VIDEO_RECOGNIZER_FEED_RELEASED=\"VIDEO_RECOGNIZER_FEED_RELEASED\",e.VIDEO_RECOGNIZER_FEED_NOT_PAUSED=\"VIDEO_RECOGNIZER_FEED_NOT_PAUSED\",e.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED=\"VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED\",e.VIDEO_RECOGNIZER_FEED_PAUSED=\"VIDEO_RECOGNIZER_FEED_PAUSED\",e.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE=\"VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE\",e.VIDEO_RECOGNIZER_FEED_MISSING=\"VIDEO_RECOGNIZER_FEED_MISSING\"}(N||(N={})),function(e){e.WORKER_HANDLE_UNDEFINED=\"Cannot find object with handle: undefined\",e.WORKER_WASM_LOAD_FAILURE=\"Failed to load WASM in web worker!\",e.WORKER_WASM_INIT_MISSING=\"WASM module is not initialized!\",e.WORKER_FUNCTION_INVOKE_FAILURE=\"Failed to invoke function!\",e.WORKER_RECOGNIZER_CREATION_FAILURE=\"Failed to create new recognizer!\",e.WORKER_RUNNER_EXISTS=\"Recognizer runner is already created! Multiple instances are not allowed!\",e.WORKER_RUNNER_CREATION_FAILURE=\"Failed to create new recognizer runner!\",e.WORKER_RUNNER_MISSING=\"Recognizer runner is not created! There is nothing to reconfigure!\",e.WORKER_RUNNER_RECONFIGURE_FAILURE=\"Failed to reconfigure recognizer runner!\",e.WORKER_RUNNER_DELETED=\"Recognizer runner is already deleted!\",e.WORKER_RUNNER_DELETE_FAILURE=\"Failed to delete recognizer runner!\",e.WORKER_OBJECT_INVOKE_FAILURE=\"Failed to invoke object!\",e.WORKER_IMAGE_PROCESS_FAILURE=\"Recognizer runner is not initialized! Cannot process image!\",e.WORKER_INTEGRATION_INFO_FAILURE=\"Failed to get product integration info!\",e.LOCAL_SDK_RUNNER_MISSING=\"Property nativeRecognizerRunner is not available!\",e.LOCAL_SDK_RUNNER_EMPTY=\"Native RecognizerRunner cannot be empty!\",e.LICENSE_TOKEN_STATE_INCORRECT=\"Internal error (Incorrect token state)\",e.LICENSE_PAYLOAD_VERIFICATION_FAILED=\"Failed to verify server permission's digital signature!\",e.LICENSE_PAYLOAD_CORRUPTED=\"Server permission payload is corrupted!\",e.LICENSE_PERMISSION_EXPIRED=\"Internal error (server permission expired)\",e.LICENSE_REMOTE_LOCKED=\"Provided license key has been remotely locked. Please contact support for more information!\",e.FRAME_CAPTURE_SVG_UNSUPPORTED=\"Recognition of SVG elements not supported!\",e.FRAME_CAPTURE_CANVAS_MISSING=\"Could not get canvas 2d context!\",e.SDK_WASM_SETTINGS_MISSING=\"Missing WASM load settings!\",e.SDK_LICENSE_KEY_MISSING=\"Missing license key!\",e.SDK_WASM_MODULE_NAME_MISSING=\"Missing WASM module name!\",e.SDK_ENGINE_LOCATION_INVALID=\"Setting property 'engineLocation' must be a string!\",e.SDK_MISSING=\"SDK is not provided!\",e.SDK_RECOGNIZERS_MISSING=\"To create RecognizerRunner at least 1 recognizer is required.\",e.VIDEO_RECOGNIZER_ELEMENT_MISSING=\"Video element, i.e. camera feed is not provided!\",e.VIDEO_RECOGNIZER_CAMERA_MISSING=\"Camera not found!\",e.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED=\"Camera not allowed!\",e.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE=\"Camera not available!\",e.VIDEO_RECOGNIZER_CAMERA_IN_USE=\"Camera in use!\",e.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED=\"Media devices not supported by browser.\",e.VIDEO_RECOGNIZER_FEED_RELEASED=\"The associated video feed has been released!\",e.VIDEO_RECOGNIZER_FEED_NOT_PAUSED=\"The associated video feed is not paused. Use resumeRecognition instead!\",e.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED=\"The play() request was interrupted or prevented by browser security rules!\",e.VIDEO_RECOGNIZER_FEED_PAUSED=\"Cannot resume recognition while video feed is paused! Use recognize or startRecognition\",e.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE=\"Could not reset recognizers!\",e.VIDEO_RECOGNIZER_FEED_MISSING=\"Missing video feed!\"}(S||(S={})),S.VIDEO_RECOGNIZER_FEED_MISSING,N.VIDEO_RECOGNIZER_FEED_MISSING,S.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE,N.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE,S.VIDEO_RECOGNIZER_FEED_PAUSED,N.VIDEO_RECOGNIZER_FEED_PAUSED,S.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED,N.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED,S.VIDEO_RECOGNIZER_FEED_NOT_PAUSED,N.VIDEO_RECOGNIZER_FEED_NOT_PAUSED,S.VIDEO_RECOGNIZER_FEED_RELEASED,N.VIDEO_RECOGNIZER_FEED_RELEASED,N.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED,S.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED,N.VIDEO_RECOGNIZER_CAMERA_MISSING,S.VIDEO_RECOGNIZER_CAMERA_MISSING,S.VIDEO_RECOGNIZER_ELEMENT_MISSING,N.VIDEO_RECOGNIZER_ELEMENT_MISSING;const j={wasmSettingsMissing:{message:S.SDK_WASM_SETTINGS_MISSING,code:N.SDK_WASM_SETTINGS_MISSING},licenseKeyMissing:{message:S.SDK_LICENSE_KEY_MISSING,code:N.SDK_LICENSE_KEY_MISSING},wasmModuleNameMissing:{message:S.SDK_WASM_MODULE_NAME_MISSING,code:N.SDK_WASM_MODULE_NAME_MISSING},engineLocationInvalid:{message:S.SDK_ENGINE_LOCATION_INVALID,code:N.SDK_ENGINE_LOCATION_INVALID},missing:{message:S.SDK_MISSING,code:N.SDK_MISSING},recognizersMissing:{message:S.SDK_RECOGNIZERS_MISSING,code:N.SDK_RECOGNIZERS_MISSING}},Q={svgUnsupported:{message:S.FRAME_CAPTURE_SVG_UNSUPPORTED,code:N.FRAME_CAPTURE_SVG_UNSUPPORTED},canvasMissing:{message:S.FRAME_CAPTURE_CANVAS_MISSING,code:N.FRAME_CAPTURE_CANVAS_MISSING}};var q,$,ee;let te;N.LICENSE_UNLOCK_ERROR,S.LICENSE_TOKEN_STATE_INCORRECT,N.LICENSE_UNLOCK_ERROR,S.LICENSE_PAYLOAD_VERIFICATION_FAILED,N.LICENSE_UNLOCK_ERROR,S.LICENSE_PAYLOAD_CORRUPTED,N.LICENSE_UNLOCK_ERROR,S.LICENSE_PERMISSION_EXPIRED,N.LICENSE_UNLOCK_ERROR,S.LICENSE_REMOTE_LOCKED,N.LICENSE_UNLOCK_ERROR,N.LICENSE_UNLOCK_ERROR,S.LOCAL_SDK_RUNNER_MISSING,N.LOCAL_SDK_RUNNER_MISSING,S.LOCAL_SDK_RUNNER_EMPTY,N.LOCAL_SDK_RUNNER_EMPTY,S.WORKER_IMAGE_PROCESS_FAILURE,N.WORKER_IMAGE_PROCESS_FAILURE,S.WORKER_OBJECT_INVOKE_FAILURE,N.WORKER_OBJECT_INVOKE_FAILURE,S.WORKER_RUNNER_DELETE_FAILURE,N.WORKER_RUNNER_DELETE_FAILURE,S.WORKER_RUNNER_DELETED,N.WORKER_RUNNER_DELETED,S.WORKER_RUNNER_RECONFIGURE_FAILURE,N.WORKER_RUNNER_RECONFIGURE_FAILURE,S.WORKER_RUNNER_MISSING,N.WORKER_RUNNER_MISSING,S.WORKER_RUNNER_CREATION_FAILURE,N.WORKER_RUNNER_CREATION_FAILURE,S.WORKER_RUNNER_EXISTS,N.WORKER_RUNNER_EXISTS,S.WORKER_RECOGNIZER_CREATION_FAILURE,N.WORKER_RECOGNIZER_CREATION_FAILURE,S.WORKER_FUNCTION_INVOKE_FAILURE,N.WORKER_FUNCTION_INVOKE_FAILURE,S.WORKER_WASM_INIT_MISSING,N.WORKER_WASM_INIT_MISSING,S.WORKER_WASM_LOAD_FAILURE,N.WORKER_WASM_LOAD_FAILURE,S.WORKER_HANDLE_UNDEFINED,N.WORKER_HANDLE_UNDEFINED,S.WORKER_INTEGRATION_INFO_FAILURE,N.WORKER_INTEGRATION_INFO_FAILURE,function(e){e[e.BackFacingCamera=0]=\"BackFacingCamera\",e[e.FrontFacingCamera=1]=\"FrontFacingCamera\"}(q||(q={})),function(e){e[e.RotatedLeft90=0]=\"RotatedLeft90\",e[e.NoRotation=1]=\"NoRotation\",e[e.RotatedRight90=2]=\"RotatedRight90\",e[e.Rotated180=3]=\"Rotated180\"}($||($={})),function(e){e[e.Empty=0]=\"Empty\",e[e.Uncertain=1]=\"Uncertain\",e[e.Valid=2]=\"Valid\",e[e.StageValid=3]=\"StageValid\"}(ee||(ee={}));class ie{constructor(e,t,i){this.imageData=e,this.orientation=t,this.videoFrame=i}}var le,ae,ne,se,de,ce,he,oe,re,me,Ie,Ze,be,Re,ue,ge,We;!function(e){e[e.Invalid=0]=\"Invalid\",e[e.RequiresServerPermission=1]=\"RequiresServerPermission\",e[e.Valid=2]=\"Valid\"}(le||(le={})),function(e){e.LicenseTokenStateInvalid=\"LICENSE_TOKEN_STATE_INVALID\",e.NetworkError=\"NETWORK_ERROR\",e.RemoteLock=\"REMOTE_LOCK\",e.PermissionExpired=\"PERMISSION_EXPIRED\",e.PayloadCorrupted=\"PAYLOAD_CORRUPTED\",e.PayloadSignatureVerificationFailed=\"PAYLOAD_SIGNATURE_VERIFICATION_FAILED\",e.IncorrectTokenState=\"INCORRECT_TOKEN_STATE\"}(ae||(ae={})),function(e){e[e.Ok=0]=\"Ok\",e[e.NetworkError=1]=\"NetworkError\",e[e.RemoteLock=2]=\"RemoteLock\",e[e.PermissionExpired=3]=\"PermissionExpired\",e[e.PayloadCorrupted=4]=\"PayloadCorrupted\",e[e.PayloadSignatureVerificationFailed=5]=\"PayloadSignatureVerificationFailed\",e[e.IncorrectTokenState=6]=\"IncorrectTokenState\"}(ne||(ne={})),function(e){e[e.Fail=0]=\"Fail\",e[e.Success=1]=\"Success\",e[e.CameraTooHigh=2]=\"CameraTooHigh\",e[e.FallbackSuccess=3]=\"FallbackSuccess\",e[e.Partial=4]=\"Partial\",e[e.CameraAtAngle=5]=\"CameraAtAngle\",e[e.CameraTooNear=6]=\"CameraTooNear\",e[e.DocumentTooCloseToEdge=7]=\"DocumentTooCloseToEdge\"}(se||(se={})),function(e){e.MediaDevicesNotSupported=\"MediaDevicesNotSupported\",e.CameraNotFound=\"CameraNotFound\",e.CameraNotAllowed=\"CameraNotAllowed\",e.CameraInUse=\"CameraInUse\",e.CameraNotAvailable=\"CameraNotAvailable\",e.VideoElementNotProvided=\"VideoElementNotProvided\"}(de||(de={})),function(e){e[e.Recognition=0]=\"Recognition\",e[e.RecognitionTest=1]=\"RecognitionTest\",e[e.DetectionTest=2]=\"DetectionTest\"}(ce||(ce={}));class Ve{constructor(e){if(this.allowHelloMessage=!0,this.engineLocation=\"\",this.wasmType=null,this.numberOfWorkers=null,this.loadProgressCallback=null,this.wasmModuleName=\"BlinkIDWasmSDK\",!e)throw new _(j.licenseKeyMissing);this.licenseKey=e}}function pe(){return\"10000000-1000-4000-8000-100000000000\".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}!function(e){e[e.NONE=0]=\"NONE\",e[e.QR_CODE=1]=\"QR_CODE\",e[e.DATA_MATRIX=2]=\"DATA_MATRIX\",e[e.UPC_E=3]=\"UPC_E\",e[e.UPC_A=4]=\"UPC_A\",e[e.EAN_8=5]=\"EAN_8\",e[e.EAN_13=6]=\"EAN_13\",e[e.CODE_128=7]=\"CODE_128\",e[e.CODE_39=8]=\"CODE_39\",e[e.ITF=9]=\"ITF\",e[e.AZTEC_BARCODE=10]=\"AZTEC_BARCODE\",e[e.PDF417_BARCODE=11]=\"PDF417_BARCODE\"}(he||(he={})),function(e){e[e.None=0]=\"None\",e[e.ImageOnly=1]=\"ImageOnly\",e[e.ResultFieldsOnly=2]=\"ResultFieldsOnly\",e[e.FullResult=3]=\"FullResult\"}(oe||(oe={})),function(e){e[e.DocumentType=0]=\"DocumentType\",e[e.StandardVersionNumber=1]=\"StandardVersionNumber\",e[e.CustomerFamilyName=2]=\"CustomerFamilyName\",e[e.CustomerFirstName=3]=\"CustomerFirstName\",e[e.CustomerFullName=4]=\"CustomerFullName\",e[e.DateOfBirth=5]=\"DateOfBirth\",e[e.Sex=6]=\"Sex\",e[e.EyeColor=7]=\"EyeColor\",e[e.AddressStreet=8]=\"AddressStreet\",e[e.AddressCity=9]=\"AddressCity\",e[e.AddressJurisdictionCode=10]=\"AddressJurisdictionCode\",e[e.AddressPostalCode=11]=\"AddressPostalCode\",e[e.FullAddress=12]=\"FullAddress\",e[e.Height=13]=\"Height\",e[e.HeightIn=14]=\"HeightIn\",e[e.HeightCm=15]=\"HeightCm\",e[e.CustomerMiddleName=16]=\"CustomerMiddleName\",e[e.HairColor=17]=\"HairColor\",e[e.NameSuffix=18]=\"NameSuffix\",e[e.AKAFullName=19]=\"AKAFullName\",e[e.AKAFamilyName=20]=\"AKAFamilyName\",e[e.AKAGivenName=21]=\"AKAGivenName\",e[e.AKASuffixName=22]=\"AKASuffixName\",e[e.WeightRange=23]=\"WeightRange\",e[e.WeightPounds=24]=\"WeightPounds\",e[e.WeightKilograms=25]=\"WeightKilograms\",e[e.CustomerIdNumber=26]=\"CustomerIdNumber\",e[e.FamilyNameTruncation=27]=\"FamilyNameTruncation\",e[e.FirstNameTruncation=28]=\"FirstNameTruncation\",e[e.MiddleNameTruncation=29]=\"MiddleNameTruncation\",e[e.PlaceOfBirth=30]=\"PlaceOfBirth\",e[e.AddressStreet2=31]=\"AddressStreet2\",e[e.RaceEthnicity=32]=\"RaceEthnicity\",e[e.NamePrefix=33]=\"NamePrefix\",e[e.CountryIdentification=34]=\"CountryIdentification\",e[e.ResidenceStreetAddress=35]=\"ResidenceStreetAddress\",e[e.ResidenceStreetAddress2=36]=\"ResidenceStreetAddress2\",e[e.ResidenceCity=37]=\"ResidenceCity\",e[e.ResidenceJurisdictionCode=38]=\"ResidenceJurisdictionCode\",e[e.ResidencePostalCode=39]=\"ResidencePostalCode\",e[e.ResidenceFullAddress=40]=\"ResidenceFullAddress\",e[e.Under18=41]=\"Under18\",e[e.Under19=42]=\"Under19\",e[e.Under21=43]=\"Under21\",e[e.SocialSecurityNumber=44]=\"SocialSecurityNumber\",e[e.AKASocialSecurityNumber=45]=\"AKASocialSecurityNumber\",e[e.AKAMiddleName=46]=\"AKAMiddleName\",e[e.AKAPrefixName=47]=\"AKAPrefixName\",e[e.OrganDonor=48]=\"OrganDonor\",e[e.Veteran=49]=\"Veteran\",e[e.AKADateOfBirth=50]=\"AKADateOfBirth\",e[e.IssuerIdentificationNumber=51]=\"IssuerIdentificationNumber\",e[e.DocumentExpirationDate=52]=\"DocumentExpirationDate\",e[e.JurisdictionVersionNumber=53]=\"JurisdictionVersionNumber\",e[e.JurisdictionVehicleClass=54]=\"JurisdictionVehicleClass\",e[e.JurisdictionRestrictionCodes=55]=\"JurisdictionRestrictionCodes\",e[e.JurisdictionEndorsementCodes=56]=\"JurisdictionEndorsementCodes\",e[e.DocumentIssueDate=57]=\"DocumentIssueDate\",e[e.FederalCommercialVehicleCodes=58]=\"FederalCommercialVehicleCodes\",e[e.IssuingJurisdiction=59]=\"IssuingJurisdiction\",e[e.StandardVehicleClassification=60]=\"StandardVehicleClassification\",e[e.IssuingJurisdictionName=61]=\"IssuingJurisdictionName\",e[e.StandardEndorsementCode=62]=\"StandardEndorsementCode\",e[e.StandardRestrictionCode=63]=\"StandardRestrictionCode\",e[e.JurisdictionVehicleClassificationDescription=64]=\"JurisdictionVehicleClassificationDescription\",e[e.JurisdictionEndorsmentCodeDescription=65]=\"JurisdictionEndorsmentCodeDescription\",e[e.JurisdictionRestrictionCodeDescription=66]=\"JurisdictionRestrictionCodeDescription\",e[e.InventoryControlNumber=67]=\"InventoryControlNumber\",e[e.CardRevisionDate=68]=\"CardRevisionDate\",e[e.DocumentDiscriminator=69]=\"DocumentDiscriminator\",e[e.LimitedDurationDocument=70]=\"LimitedDurationDocument\",e[e.AuditInformation=71]=\"AuditInformation\",e[e.ComplianceType=72]=\"ComplianceType\",e[e.IssueTimestamp=73]=\"IssueTimestamp\",e[e.PermitExpirationDate=74]=\"PermitExpirationDate\",e[e.PermitIdentifier=75]=\"PermitIdentifier\",e[e.PermitIssueDate=76]=\"PermitIssueDate\",e[e.NumberOfDuplicates=77]=\"NumberOfDuplicates\",e[e.HAZMATExpirationDate=78]=\"HAZMATExpirationDate\",e[e.MedicalIndicator=79]=\"MedicalIndicator\",e[e.NonResident=80]=\"NonResident\",e[e.UniqueCustomerId=81]=\"UniqueCustomerId\",e[e.DataDiscriminator=82]=\"DataDiscriminator\",e[e.DocumentExpirationMonth=83]=\"DocumentExpirationMonth\",e[e.DocumentNonexpiring=84]=\"DocumentNonexpiring\",e[e.SecurityVersion=85]=\"SecurityVersion\",e[e.Count=86]=\"Count\"}(re||(re={})),function(e){e[e.NONE=0]=\"NONE\",e[e.ALBANIA=1]=\"ALBANIA\",e[e.ALGERIA=2]=\"ALGERIA\",e[e.ARGENTINA=3]=\"ARGENTINA\",e[e.AUSTRALIA=4]=\"AUSTRALIA\",e[e.AUSTRIA=5]=\"AUSTRIA\",e[e.AZERBAIJAN=6]=\"AZERBAIJAN\",e[e.BAHRAIN=7]=\"BAHRAIN\",e[e.BANGLADESH=8]=\"BANGLADESH\",e[e.BELGIUM=9]=\"BELGIUM\",e[e.BOSNIA_AND_HERZEGOVINA=10]=\"BOSNIA_AND_HERZEGOVINA\",e[e.BRUNEI=11]=\"BRUNEI\",e[e.BULGARIA=12]=\"BULGARIA\",e[e.CAMBODIA=13]=\"CAMBODIA\",e[e.CANADA=14]=\"CANADA\",e[e.CHILE=15]=\"CHILE\",e[e.COLOMBIA=16]=\"COLOMBIA\",e[e.COSTA_RICA=17]=\"COSTA_RICA\",e[e.CROATIA=18]=\"CROATIA\",e[e.CYPRUS=19]=\"CYPRUS\",e[e.CZECHIA=20]=\"CZECHIA\",e[e.DENMARK=21]=\"DENMARK\",e[e.DOMINICAN_REPUBLIC=22]=\"DOMINICAN_REPUBLIC\",e[e.EGYPT=23]=\"EGYPT\",e[e.ESTONIA=24]=\"ESTONIA\",e[e.FINLAND=25]=\"FINLAND\",e[e.FRANCE=26]=\"FRANCE\",e[e.GEORGIA=27]=\"GEORGIA\",e[e.GERMANY=28]=\"GERMANY\",e[e.GHANA=29]=\"GHANA\",e[e.GREECE=30]=\"GREECE\",e[e.GUATEMALA=31]=\"GUATEMALA\",e[e.HONG_KONG=32]=\"HONG_KONG\",e[e.HUNGARY=33]=\"HUNGARY\",e[e.INDIA=34]=\"INDIA\",e[e.INDONESIA=35]=\"INDONESIA\",e[e.IRELAND=36]=\"IRELAND\",e[e.ISRAEL=37]=\"ISRAEL\",e[e.ITALY=38]=\"ITALY\",e[e.JORDAN=39]=\"JORDAN\",e[e.KAZAKHSTAN=40]=\"KAZAKHSTAN\",e[e.KENYA=41]=\"KENYA\",e[e.KOSOVO=42]=\"KOSOVO\",e[e.KUWAIT=43]=\"KUWAIT\",e[e.LATVIA=44]=\"LATVIA\",e[e.LITHUANIA=45]=\"LITHUANIA\",e[e.MALAYSIA=46]=\"MALAYSIA\",e[e.MALDIVES=47]=\"MALDIVES\",e[e.MALTA=48]=\"MALTA\",e[e.MAURITIUS=49]=\"MAURITIUS\",e[e.MEXICO=50]=\"MEXICO\",e[e.MOROCCO=51]=\"MOROCCO\",e[e.NETHERLANDS=52]=\"NETHERLANDS\",e[e.NEW_ZEALAND=53]=\"NEW_ZEALAND\",e[e.NIGERIA=54]=\"NIGERIA\",e[e.PAKISTAN=55]=\"PAKISTAN\",e[e.PANAMA=56]=\"PANAMA\",e[e.PARAGUAY=57]=\"PARAGUAY\",e[e.PHILIPPINES=58]=\"PHILIPPINES\",e[e.POLAND=59]=\"POLAND\",e[e.PORTUGAL=60]=\"PORTUGAL\",e[e.PUERTO_RICO=61]=\"PUERTO_RICO\",e[e.QATAR=62]=\"QATAR\",e[e.ROMANIA=63]=\"ROMANIA\",e[e.RUSSIA=64]=\"RUSSIA\",e[e.SAUDI_ARABIA=65]=\"SAUDI_ARABIA\",e[e.SERBIA=66]=\"SERBIA\",e[e.SINGAPORE=67]=\"SINGAPORE\",e[e.SLOVAKIA=68]=\"SLOVAKIA\",e[e.SLOVENIA=69]=\"SLOVENIA\",e[e.SOUTH_AFRICA=70]=\"SOUTH_AFRICA\",e[e.SPAIN=71]=\"SPAIN\",e[e.SWEDEN=72]=\"SWEDEN\",e[e.SWITZERLAND=73]=\"SWITZERLAND\",e[e.TAIWAN=74]=\"TAIWAN\",e[e.THAILAND=75]=\"THAILAND\",e[e.TUNISIA=76]=\"TUNISIA\",e[e.TURKEY=77]=\"TURKEY\",e[e.UAE=78]=\"UAE\",e[e.UGANDA=79]=\"UGANDA\",e[e.UK=80]=\"UK\",e[e.UKRAINE=81]=\"UKRAINE\",e[e.USA=82]=\"USA\",e[e.VIETNAM=83]=\"VIETNAM\",e[e.BRAZIL=84]=\"BRAZIL\",e[e.NORWAY=85]=\"NORWAY\",e[e.OMAN=86]=\"OMAN\",e[e.ECUADOR=87]=\"ECUADOR\",e[e.EL_SALVADOR=88]=\"EL_SALVADOR\",e[e.SRI_LANKA=89]=\"SRI_LANKA\",e[e.PERU=90]=\"PERU\",e[e.URUGUAY=91]=\"URUGUAY\",e[e.BAHAMAS=92]=\"BAHAMAS\",e[e.BERMUDA=93]=\"BERMUDA\",e[e.BOLIVIA=94]=\"BOLIVIA\",e[e.CHINA=95]=\"CHINA\",e[e.EUROPEAN_UNION=96]=\"EUROPEAN_UNION\",e[e.HAITI=97]=\"HAITI\",e[e.HONDURAS=98]=\"HONDURAS\",e[e.ICELAND=99]=\"ICELAND\",e[e.JAPAN=100]=\"JAPAN\",e[e.LUXEMBOURG=101]=\"LUXEMBOURG\",e[e.MONTENEGRO=102]=\"MONTENEGRO\",e[e.NICARAGUA=103]=\"NICARAGUA\",e[e.SOUTH_KOREA=104]=\"SOUTH_KOREA\",e[e.VENEZUELA=105]=\"VENEZUELA\",e[e.AFGHANISTAN=106]=\"AFGHANISTAN\",e[e.ALAND_ISLANDS=107]=\"ALAND_ISLANDS\",e[e.AMERICAN_SAMOA=108]=\"AMERICAN_SAMOA\",e[e.ANDORRA=109]=\"ANDORRA\",e[e.ANGOLA=110]=\"ANGOLA\",e[e.ANGUILLA=111]=\"ANGUILLA\",e[e.ANTARCTICA=112]=\"ANTARCTICA\",e[e.ANTIGUA_AND_BARBUDA=113]=\"ANTIGUA_AND_BARBUDA\",e[e.ARMENIA=114]=\"ARMENIA\",e[e.ARUBA=115]=\"ARUBA\",e[e.BAILIWICK_OF_GUERNSEY=116]=\"BAILIWICK_OF_GUERNSEY\",e[e.BAILIWICK_OF_JERSEY=117]=\"BAILIWICK_OF_JERSEY\",e[e.BARBADOS=118]=\"BARBADOS\",e[e.BELARUS=119]=\"BELARUS\",e[e.BELIZE=120]=\"BELIZE\",e[e.BENIN=121]=\"BENIN\",e[e.BHUTAN=122]=\"BHUTAN\",e[e.BONAIRE_SAINT_EUSTATIUS_AND_SABA=123]=\"BONAIRE_SAINT_EUSTATIUS_AND_SABA\",e[e.BOTSWANA=124]=\"BOTSWANA\",e[e.BOUVET_ISLAND=125]=\"BOUVET_ISLAND\",e[e.BRITISH_INDIAN_OCEAN_TERRITORY=126]=\"BRITISH_INDIAN_OCEAN_TERRITORY\",e[e.BURKINA_FASO=127]=\"BURKINA_FASO\",e[e.BURUNDI=128]=\"BURUNDI\",e[e.CAMEROON=129]=\"CAMEROON\",e[e.CAPE_VERDE=130]=\"CAPE_VERDE\",e[e.CARIBBEAN_NETHERLANDS=131]=\"CARIBBEAN_NETHERLANDS\",e[e.CAYMAN_ISLANDS=132]=\"CAYMAN_ISLANDS\",e[e.CENTRAL_AFRICAN_REPUBLIC=133]=\"CENTRAL_AFRICAN_REPUBLIC\",e[e.CHAD=134]=\"CHAD\",e[e.CHRISTMAS_ISLAND=135]=\"CHRISTMAS_ISLAND\",e[e.COCOS_ISLANDS=136]=\"COCOS_ISLANDS\",e[e.COMOROS=137]=\"COMOROS\",e[e.CONGO=138]=\"CONGO\",e[e.COOK_ISLANDS=139]=\"COOK_ISLANDS\",e[e.CUBA=140]=\"CUBA\",e[e.CURACAO=141]=\"CURACAO\",e[e.DEMOCRATIC_REPUBLIC_OF_THE_CONGO=142]=\"DEMOCRATIC_REPUBLIC_OF_THE_CONGO\",e[e.DJIBOUTI=143]=\"DJIBOUTI\",e[e.DOMINICA=144]=\"DOMINICA\",e[e.EAST_TIMOR=145]=\"EAST_TIMOR\",e[e.EQUATORIAL_GUINEA=146]=\"EQUATORIAL_GUINEA\",e[e.ERITREA=147]=\"ERITREA\",e[e.ETHIOPIA=148]=\"ETHIOPIA\",e[e.FALKLAND_ISLANDS=149]=\"FALKLAND_ISLANDS\",e[e.FAROE_ISLANDS=150]=\"FAROE_ISLANDS\",e[e.FEDERATED_STATES_OF_MICRONESIA=151]=\"FEDERATED_STATES_OF_MICRONESIA\",e[e.FIJI=152]=\"FIJI\",e[e.FRENCH_GUIANA=153]=\"FRENCH_GUIANA\",e[e.FRENCH_POLYNESIA=154]=\"FRENCH_POLYNESIA\",e[e.FRENCH_SOUTHERN_TERRITORIES=155]=\"FRENCH_SOUTHERN_TERRITORIES\",e[e.GABON=156]=\"GABON\",e[e.GAMBIA=157]=\"GAMBIA\",e[e.GIBRALTAR=158]=\"GIBRALTAR\",e[e.GREENLAND=159]=\"GREENLAND\",e[e.GRENADA=160]=\"GRENADA\",e[e.GUADELOUPE=161]=\"GUADELOUPE\",e[e.GUAM=162]=\"GUAM\",e[e.GUINEA=163]=\"GUINEA\",e[e.GUINEA_BISSAU=164]=\"GUINEA_BISSAU\",e[e.GUYANA=165]=\"GUYANA\",e[e.HEARD_ISLAND_AND_MCDONALD_ISLANDS=166]=\"HEARD_ISLAND_AND_MCDONALD_ISLANDS\",e[e.IRAN=167]=\"IRAN\",e[e.IRAQ=168]=\"IRAQ\",e[e.ISLE_OF_MAN=169]=\"ISLE_OF_MAN\",e[e.IVORY_COAST=170]=\"IVORY_COAST\",e[e.JAMAICA=171]=\"JAMAICA\",e[e.KIRIBATI=172]=\"KIRIBATI\",e[e.KYRGYZSTAN=173]=\"KYRGYZSTAN\",e[e.LAOS=174]=\"LAOS\",e[e.LEBANON=175]=\"LEBANON\",e[e.LESOTHO=176]=\"LESOTHO\",e[e.LIBERIA=177]=\"LIBERIA\",e[e.LIBYA=178]=\"LIBYA\",e[e.LIECHTENSTEIN=179]=\"LIECHTENSTEIN\",e[e.MACAU=180]=\"MACAU\",e[e.MADAGASCAR=181]=\"MADAGASCAR\",e[e.MALAWI=182]=\"MALAWI\",e[e.MALI=183]=\"MALI\",e[e.MARSHALL_ISLANDS=184]=\"MARSHALL_ISLANDS\",e[e.MARTINIQUE=185]=\"MARTINIQUE\",e[e.MAURITANIA=186]=\"MAURITANIA\",e[e.MAYOTTE=187]=\"MAYOTTE\",e[e.MOLDOVA=188]=\"MOLDOVA\",e[e.MONACO=189]=\"MONACO\",e[e.MONGOLIA=190]=\"MONGOLIA\",e[e.MONTSERRAT=191]=\"MONTSERRAT\",e[e.MOZAMBIQUE=192]=\"MOZAMBIQUE\",e[e.MYANMAR=193]=\"MYANMAR\",e[e.NAMIBIA=194]=\"NAMIBIA\",e[e.NAURU=195]=\"NAURU\",e[e.NEPAL=196]=\"NEPAL\",e[e.NEW_CALEDONIA=197]=\"NEW_CALEDONIA\",e[e.NIGER=198]=\"NIGER\",e[e.NIUE=199]=\"NIUE\",e[e.NORFOLK_ISLAND=200]=\"NORFOLK_ISLAND\",e[e.NORTHERN_CYPRUS=201]=\"NORTHERN_CYPRUS\",e[e.NORTHERN_MARIANA_ISLANDS=202]=\"NORTHERN_MARIANA_ISLANDS\",e[e.NORTH_KOREA=203]=\"NORTH_KOREA\",e[e.NORTH_MACEDONIA=204]=\"NORTH_MACEDONIA\",e[e.PALAU=205]=\"PALAU\",e[e.PALESTINE=206]=\"PALESTINE\",e[e.PAPUA_NEW_GUINEA=207]=\"PAPUA_NEW_GUINEA\",e[e.PITCAIRN=208]=\"PITCAIRN\",e[e.REUNION=209]=\"REUNION\",e[e.RWANDA=210]=\"RWANDA\",e[e.SAINT_BARTHELEMY=211]=\"SAINT_BARTHELEMY\",e[e.SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA=212]=\"SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA\",e[e.SAINT_KITTS_AND_NEVIS=213]=\"SAINT_KITTS_AND_NEVIS\",e[e.SAINT_LUCIA=214]=\"SAINT_LUCIA\",e[e.SAINT_MARTIN=215]=\"SAINT_MARTIN\",e[e.SAINT_PIERRE_AND_MIQUELON=216]=\"SAINT_PIERRE_AND_MIQUELON\",e[e.SAINT_VINCENT_AND_THE_GRENADINES=217]=\"SAINT_VINCENT_AND_THE_GRENADINES\",e[e.SAMOA=218]=\"SAMOA\",e[e.SAN_MARINO=219]=\"SAN_MARINO\",e[e.SAO_TOME_AND_PRINCIPE=220]=\"SAO_TOME_AND_PRINCIPE\",e[e.SENEGAL=221]=\"SENEGAL\",e[e.SEYCHELLES=222]=\"SEYCHELLES\",e[e.SIERRA_LEONE=223]=\"SIERRA_LEONE\",e[e.SINT_MAARTEN=224]=\"SINT_MAARTEN\",e[e.SOLOMON_ISLANDS=225]=\"SOLOMON_ISLANDS\",e[e.SOMALIA=226]=\"SOMALIA\",e[e.SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS=227]=\"SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS\",e[e.SOUTH_SUDAN=228]=\"SOUTH_SUDAN\",e[e.SUDAN=229]=\"SUDAN\",e[e.SURINAME=230]=\"SURINAME\",e[e.SVALBARD_AND_JAN_MAYEN=231]=\"SVALBARD_AND_JAN_MAYEN\",e[e.ESWATINI=232]=\"ESWATINI\",e[e.SYRIA=233]=\"SYRIA\",e[e.TAJIKISTAN=234]=\"TAJIKISTAN\",e[e.TANZANIA=235]=\"TANZANIA\",e[e.TOGO=236]=\"TOGO\",e[e.TOKELAU=237]=\"TOKELAU\",e[e.TONGA=238]=\"TONGA\",e[e.TRINIDAD_AND_TOBAGO=239]=\"TRINIDAD_AND_TOBAGO\",e[e.TURKMENISTAN=240]=\"TURKMENISTAN\",e[e.TURKS_AND_CAICOS_ISLANDS=241]=\"TURKS_AND_CAICOS_ISLANDS\",e[e.TUVALU=242]=\"TUVALU\",e[e.UNITED_STATES_MINOR_OUTLYING_ISLANDS=243]=\"UNITED_STATES_MINOR_OUTLYING_ISLANDS\",e[e.UZBEKISTAN=244]=\"UZBEKISTAN\",e[e.VANUATU=245]=\"VANUATU\",e[e.VATICAN_CITY=246]=\"VATICAN_CITY\",e[e.VIRGIN_ISLANDS_BRITISH=247]=\"VIRGIN_ISLANDS_BRITISH\",e[e.VIRGIN_ISLANDS_US=248]=\"VIRGIN_ISLANDS_US\",e[e.WALLIS_AND_FUTUNA=249]=\"WALLIS_AND_FUTUNA\",e[e.WESTERN_SAHARA=250]=\"WESTERN_SAHARA\",e[e.YEMEN=251]=\"YEMEN\",e[e.YUGOSLAVIA=252]=\"YUGOSLAVIA\",e[e.ZAMBIA=253]=\"ZAMBIA\",e[e.ZIMBABWE=254]=\"ZIMBABWE\",e[e.COUNT=255]=\"COUNT\"}(me||(me={})),function(e){e[e.NONE=0]=\"NONE\",e[e.ALABAMA=1]=\"ALABAMA\",e[e.ALASKA=2]=\"ALASKA\",e[e.ALBERTA=3]=\"ALBERTA\",e[e.ARIZONA=4]=\"ARIZONA\",e[e.ARKANSAS=5]=\"ARKANSAS\",e[e.AUSTRALIAN_CAPITAL_TERRITORY=6]=\"AUSTRALIAN_CAPITAL_TERRITORY\",e[e.BRITISH_COLUMBIA=7]=\"BRITISH_COLUMBIA\",e[e.CALIFORNIA=8]=\"CALIFORNIA\",e[e.COLORADO=9]=\"COLORADO\",e[e.CONNECTICUT=10]=\"CONNECTICUT\",e[e.DELAWARE=11]=\"DELAWARE\",e[e.DISTRICT_OF_COLUMBIA=12]=\"DISTRICT_OF_COLUMBIA\",e[e.FLORIDA=13]=\"FLORIDA\",e[e.GEORGIA=14]=\"GEORGIA\",e[e.HAWAII=15]=\"HAWAII\",e[e.IDAHO=16]=\"IDAHO\",e[e.ILLINOIS=17]=\"ILLINOIS\",e[e.INDIANA=18]=\"INDIANA\",e[e.IOWA=19]=\"IOWA\",e[e.KANSAS=20]=\"KANSAS\",e[e.KENTUCKY=21]=\"KENTUCKY\",e[e.LOUISIANA=22]=\"LOUISIANA\",e[e.MAINE=23]=\"MAINE\",e[e.MANITOBA=24]=\"MANITOBA\",e[e.MARYLAND=25]=\"MARYLAND\",e[e.MASSACHUSETTS=26]=\"MASSACHUSETTS\",e[e.MICHIGAN=27]=\"MICHIGAN\",e[e.MINNESOTA=28]=\"MINNESOTA\",e[e.MISSISSIPPI=29]=\"MISSISSIPPI\",e[e.MISSOURI=30]=\"MISSOURI\",e[e.MONTANA=31]=\"MONTANA\",e[e.NEBRASKA=32]=\"NEBRASKA\",e[e.NEVADA=33]=\"NEVADA\",e[e.NEW_BRUNSWICK=34]=\"NEW_BRUNSWICK\",e[e.NEW_HAMPSHIRE=35]=\"NEW_HAMPSHIRE\",e[e.NEW_JERSEY=36]=\"NEW_JERSEY\",e[e.NEW_MEXICO=37]=\"NEW_MEXICO\",e[e.NEW_SOUTH_WALES=38]=\"NEW_SOUTH_WALES\",e[e.NEW_YORK=39]=\"NEW_YORK\",e[e.NORTHERN_TERRITORY=40]=\"NORTHERN_TERRITORY\",e[e.NORTH_CAROLINA=41]=\"NORTH_CAROLINA\",e[e.NORTH_DAKOTA=42]=\"NORTH_DAKOTA\",e[e.NOVA_SCOTIA=43]=\"NOVA_SCOTIA\",e[e.OHIO=44]=\"OHIO\",e[e.OKLAHOMA=45]=\"OKLAHOMA\",e[e.ONTARIO=46]=\"ONTARIO\",e[e.OREGON=47]=\"OREGON\",e[e.PENNSYLVANIA=48]=\"PENNSYLVANIA\",e[e.QUEBEC=49]=\"QUEBEC\",e[e.QUEENSLAND=50]=\"QUEENSLAND\",e[e.RHODE_ISLAND=51]=\"RHODE_ISLAND\",e[e.SASKATCHEWAN=52]=\"SASKATCHEWAN\",e[e.SOUTH_AUSTRALIA=53]=\"SOUTH_AUSTRALIA\",e[e.SOUTH_CAROLINA=54]=\"SOUTH_CAROLINA\",e[e.SOUTH_DAKOTA=55]=\"SOUTH_DAKOTA\",e[e.TASMANIA=56]=\"TASMANIA\",e[e.TENNESSEE=57]=\"TENNESSEE\",e[e.TEXAS=58]=\"TEXAS\",e[e.UTAH=59]=\"UTAH\",e[e.VERMONT=60]=\"VERMONT\",e[e.VICTORIA=61]=\"VICTORIA\",e[e.VIRGINIA=62]=\"VIRGINIA\",e[e.WASHINGTON=63]=\"WASHINGTON\",e[e.WESTERN_AUSTRALIA=64]=\"WESTERN_AUSTRALIA\",e[e.WEST_VIRGINIA=65]=\"WEST_VIRGINIA\",e[e.WISCONSIN=66]=\"WISCONSIN\",e[e.WYOMING=67]=\"WYOMING\",e[e.YUKON=68]=\"YUKON\",e[e.CIUDAD_DE_MEXICO=69]=\"CIUDAD_DE_MEXICO\",e[e.JALISCO=70]=\"JALISCO\",e[e.NEWFOUNDLAND_AND_LABRADOR=71]=\"NEWFOUNDLAND_AND_LABRADOR\",e[e.NUEVO_LEON=72]=\"NUEVO_LEON\",e[e.BAJA_CALIFORNIA=73]=\"BAJA_CALIFORNIA\",e[e.CHIHUAHUA=74]=\"CHIHUAHUA\",e[e.GUANAJUATO=75]=\"GUANAJUATO\",e[e.GUERRERO=76]=\"GUERRERO\",e[e.MEXICO=77]=\"MEXICO\",e[e.MICHOACAN=78]=\"MICHOACAN\",e[e.NEW_YORK_CITY=79]=\"NEW_YORK_CITY\",e[e.TAMAULIPAS=80]=\"TAMAULIPAS\",e[e.VERACRUZ=81]=\"VERACRUZ\",e[e.CHIAPAS=82]=\"CHIAPAS\",e[e.COAHUILA=83]=\"COAHUILA\",e[e.DURANGO=84]=\"DURANGO\",e[e.GUERRERO_COCULA=85]=\"GUERRERO_COCULA\",e[e.GUERRERO_JUCHITAN=86]=\"GUERRERO_JUCHITAN\",e[e.GUERRERO_TEPECOACUILCO=87]=\"GUERRERO_TEPECOACUILCO\",e[e.GUERRERO_TLACOAPA=88]=\"GUERRERO_TLACOAPA\",e[e.GUJARAT=89]=\"GUJARAT\",e[e.HIDALGO=90]=\"HIDALGO\",e[e.KARNATAKA=91]=\"KARNATAKA\",e[e.KERALA=92]=\"KERALA\",e[e.KHYBER_PAKHTUNKHWA=93]=\"KHYBER_PAKHTUNKHWA\",e[e.MADHYA_PRADESH=94]=\"MADHYA_PRADESH\",e[e.MAHARASHTRA=95]=\"MAHARASHTRA\",e[e.MORELOS=96]=\"MORELOS\",e[e.NAYARIT=97]=\"NAYARIT\",e[e.OAXACA=98]=\"OAXACA\",e[e.PUEBLA=99]=\"PUEBLA\",e[e.PUNJAB=100]=\"PUNJAB\",e[e.QUERETARO=101]=\"QUERETARO\",e[e.SAN_LUIS_POTOSI=102]=\"SAN_LUIS_POTOSI\",e[e.SINALOA=103]=\"SINALOA\",e[e.SONORA=104]=\"SONORA\",e[e.TABASCO=105]=\"TABASCO\",e[e.TAMIL_NADU=106]=\"TAMIL_NADU\",e[e.YUCATAN=107]=\"YUCATAN\",e[e.ZACATECAS=108]=\"ZACATECAS\",e[e.AGUASCALIENTES=109]=\"AGUASCALIENTES\",e[e.BAJA_CALIFORNIA_SUR=110]=\"BAJA_CALIFORNIA_SUR\",e[e.CAMPECHE=111]=\"CAMPECHE\",e[e.COLIMA=112]=\"COLIMA\",e[e.QUINTANA_ROO_BENITO_JUAREZ=113]=\"QUINTANA_ROO_BENITO_JUAREZ\",e[e.UINTANA_ROO=114]=\"UINTANA_ROO\",e[e.QUINTANA_ROO_SOLIDARIDAD=115]=\"QUINTANA_ROO_SOLIDARIDAD\",e[e.TLAXCALA=116]=\"TLAXCALA\",e[e.COUNT=117]=\"COUNT\"}(Ie||(Ie={})),function(e){e[e.NONE=0]=\"NONE\",e[e.CONSULAR_ID=1]=\"CONSULAR_ID\",e[e.DL=2]=\"DL\",e[e.DL_PUBLIC_SERVICES_CARD=3]=\"DL_PUBLIC_SERVICES_CARD\",e[e.EMPLOYMENT_PASS=4]=\"EMPLOYMENT_PASS\",e[e.FIN_CARD=5]=\"FIN_CARD\",e[e.ID=6]=\"ID\",e[e.MULTIPURPOSE_ID=7]=\"MULTIPURPOSE_ID\",e[e.MyKad=8]=\"MyKad\",e[e.MyKid=9]=\"MyKid\",e[e.MyPR=10]=\"MyPR\",e[e.MyTentera=11]=\"MyTentera\",e[e.PAN_CARD=12]=\"PAN_CARD\",e[e.PROFESSIONAL_ID=13]=\"PROFESSIONAL_ID\",e[e.PUBLIC_SERVICES_CARD=14]=\"PUBLIC_SERVICES_CARD\",e[e.RESIDENCE_PERMIT=15]=\"RESIDENCE_PERMIT\",e[e.RESIDENT_ID=16]=\"RESIDENT_ID\",e[e.TEMPORARY_RESIDENCE_PERMIT=17]=\"TEMPORARY_RESIDENCE_PERMIT\",e[e.VOTER_ID=18]=\"VOTER_ID\",e[e.WORK_PERMIT=19]=\"WORK_PERMIT\",e[e.iKAD=20]=\"iKAD\",e[e.MILITARY_ID=21]=\"MILITARY_ID\",e[e.MyKAS=22]=\"MyKAS\",e[e.SOCIAL_SECURITY_CARD=23]=\"SOCIAL_SECURITY_CARD\",e[e.HEALTH_INSURANCE_CARD=24]=\"HEALTH_INSURANCE_CARD\",e[e.PASSPORT=25]=\"PASSPORT\",e[e.S_PASS=26]=\"S_PASS\",e[e.ADDRESS_CARD=27]=\"ADDRESS_CARD\",e[e.ALIEN_ID=28]=\"ALIEN_ID\",e[e.ALIEN_PASSPORT=29]=\"ALIEN_PASSPORT\",e[e.GREEN_CARD=30]=\"GREEN_CARD\",e[e.MINORS_ID=31]=\"MINORS_ID\",e[e.POSTAL_ID=32]=\"POSTAL_ID\",e[e.PROFESSIONAL_DL=33]=\"PROFESSIONAL_DL\",e[e.TAX_ID=34]=\"TAX_ID\",e[e.WEAPON_PERMIT=35]=\"WEAPON_PERMIT\",e[e.VISA=36]=\"VISA\",e[e.BORDER_CROSSING_CARD=37]=\"BORDER_CROSSING_CARD\",e[e.DRIVER_CARD=38]=\"DRIVER_CARD\",e[e.GLOBAL_ENTRY_CARD=39]=\"GLOBAL_ENTRY_CARD\",e[e.MyPolis=40]=\"MyPolis\",e[e.NEXUS_CARD=41]=\"NEXUS_CARD\",e[e.PASSPORT_CARD=42]=\"PASSPORT_CARD\",e[e.PROOF_OF_AGE_CARD=43]=\"PROOF_OF_AGE_CARD\",e[e.REFUGEE_ID=44]=\"REFUGEE_ID\",e[e.TRIBAL_ID=45]=\"TRIBAL_ID\",e[e.VETERAN_ID=46]=\"VETERAN_ID\",e[e.CITIZENSHIP_CERTIFICATE=47]=\"CITIZENSHIP_CERTIFICATE\",e[e.MY_NUMBER_CARD=48]=\"MY_NUMBER_CARD\",e[e.COUNT=49]=\"COUNT\"}(Ze||(Ze={})),function(e){e[e.NotAvailable=0]=\"NotAvailable\",e[e.BlackAndWhite=1]=\"BlackAndWhite\",e[e.Color=2]=\"Color\"}(be||(be={})),function(e){e[e.NotAvailable=0]=\"NotAvailable\",e[e.NotDetected=1]=\"NotDetected\",e[e.Detected=2]=\"Detected\"}(Re||(Re={})),function(e){e[e.Success=0]=\"Success\",e[e.DetectionFailed=1]=\"DetectionFailed\",e[e.ImagePreprocessingFailed=2]=\"ImagePreprocessingFailed\",e[e.StabilityTestFailed=3]=\"StabilityTestFailed\",e[e.ScanningWrongSide=4]=\"ScanningWrongSide\",e[e.FieldIdentificationFailed=5]=\"FieldIdentificationFailed\",e[e.MandatoryFieldMissing=6]=\"MandatoryFieldMissing\",e[e.InvalidCharactersFound=7]=\"InvalidCharactersFound\",e[e.ImageReturnFailed=8]=\"ImageReturnFailed\",e[e.BarcodeRecognitionFailed=9]=\"BarcodeRecognitionFailed\",e[e.MrzParsingFailed=10]=\"MrzParsingFailed\",e[e.ClassFiltered=11]=\"ClassFiltered\",e[e.UnsupportedClass=12]=\"UnsupportedClass\",e[e.UnsupportedByLicense=13]=\"UnsupportedByLicense\",e[e.AwaitingOtherSide=14]=\"AwaitingOtherSide\",e[e.Count=15]=\"Count\"}(ue||(ue={})),function(e){e[e.None=0]=\"None\",e[e.MrzId=1]=\"MrzId\",e[e.MrzVisa=2]=\"MrzVisa\",e[e.MrzPassport=3]=\"MrzPassport\",e[e.PhotoId=4]=\"PhotoId\",e[e.FullRecognition=5]=\"FullRecognition\",e[e.BarcodeId=6]=\"BarcodeId\",e[e.Count=7]=\"Count\"}(ge||(ge={})),function(e){e[e.None=0]=\"None\",e[e.AAMVACompliant=1]=\"AAMVACompliant\",e[e.ArgentinaID=2]=\"ArgentinaID\",e[e.ArgentinaAlienID=3]=\"ArgentinaAlienID\",e[e.ArgentinaDL=4]=\"ArgentinaDL\",e[e.ColombiaID=5]=\"ColombiaID\",e[e.ColombiaDL=6]=\"ColombiaDL\",e[e.NigeriaVoterID=7]=\"NigeriaVoterID\",e[e.NigeriaDL=8]=\"NigeriaDL\",e[e.PanamaID=9]=\"PanamaID\",e[e.SouthAfricaID=10]=\"SouthAfricaID\"}(We||(We={}));class Ge{constructor(e){this.__licenseKey=\"\",this.__engineLocation=\"\",this.__mapperToRealConfig(e),this.__glare=!1,this.__detectionStatus=0,this.__quad={topLeft:{x:0,y:0},topRight:{x:0,y:0},bottomLeft:{x:0,y:0},bottomRight:{x:0,y:0}}}async initializeEngine(){try{const e=new Ve(this.__licenseKey);e.engineLocation=this.__engineLocation+\"/FPhi.Engine.Microblink\",e.allowHelloMessage=!1,this.__sdkInstance=await function(e){return W(this,void 0,void 0,(function*(){return new Promise(((t,i)=>{if(!e||\"object\"!=typeof e)return void i(new _(j.wasmSettingsMissing));if(\"string\"!=typeof e.licenseKey)return void i(new _(j.licenseKeyMissing));if(!e.wasmModuleName)return void i(new _(j.wasmModuleNameMissing));if(\"string\"!=typeof e.engineLocation)return void i(new _(j.engineLocationInvalid));const l=function(){try{let e=localStorage.getItem(\"mb-user-id\");return null===e&&(e=pe(),localStorage.setItem(\"mb-user-id\",e)),e}catch(e){return pe()}}();try{const a=new Blob([String.raw`!function(){\"use strict\";\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */function e(e,t,s,n){return new(s||(s=Promise))((function(r,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}let t=0;class s{constructor(e){this.action=e,this.messageID=function(){const e=t;return t+=1,e}()}}class n extends s{constructor(e,t){super(n.action),this.wasmModuleName=e.wasmModuleName,this.licenseKey=e.licenseKey,this.userId=t,this.registerLoadCallback=null!==e.loadProgressCallback,this.allowHelloMessage=e.allowHelloMessage,this.engineLocation=e.engineLocation,this.wasmType=e.wasmType,this.numberOfWorkers=e.numberOfWorkers}}var r,i;n.action=\"init\",function(e){e[e.Any=0]=\"Any\",e[e.Recognizer=1]=\"Recognizer\",e[e.RecognizerSettings=2]=\"RecognizerSettings\",e[e.Callback=3]=\"Callback\"}(r||(r={}));class o extends s{constructor(e,t){super(o.action),this.funcName=e,this.params=t}}o.action=\"invokeFunction\";class a extends s{constructor(e,t){super(a.action),this.className=e,this.params=t}}a.action=\"createNewNativeObject\";class c extends s{constructor(e,t,s){super(c.action),this.recognizerHandles=e,this.allowMultipleResults=t,this.registeredMetadataCallbacks=s}}c.action=\"createRecognizerRunner\";class E extends s{constructor(e,t){super(E.action),this.recognizerHandles=e,this.allowMultipleResults=t}}E.action=\"reconfigureRecognizerRunner\";class R extends s{constructor(){super(R.action)}}R.action=\"deleteRecognizerRunner\";class l extends s{constructor(e,t,s){super(l.action),this.objectHandle=e,this.methodName=t,this.params=s}}l.action=\"invokeObject\";class _ extends s{constructor(e){super(_.action),this.frame=e}getTransferrables(){return[this.frame.imageData.data.buffer]}}_.action=\"processImage\";class u extends s{constructor(e){super(u.action),this.hardReset=e}}u.action=\"resetRecognizers\";class I extends s{constructor(e){super(I.action),this.registeredMetadataCallbacks=e}}I.action=\"registerMetadataCallbacks\";class d extends s{constructor(e){super(d.action),this.detectionOnlyMode=e}}d.action=\"setDetectionOnly\";class N extends s{constructor(e){super(N.action),this.callbackNonEmpty=e}}N.action=\"setClearTimeoutCallback\";class O extends s{constructor(e){super(O.action),this.cameraPreviewMirrored=e}}O.action=\"setCameraPreviewMirrored\";class h extends s{constructor(e){super(h.action),this.userId=e}}h.action=\"getProductIntegrationInfo\";class S{constructor(e,t,s){this.success=!0,this.error=null,this.messageID=e,this.success=t,this.error=s}}class g{constructor(e,t,s,n){this.success=!0,this.showOverlay=!0,this.messageID=e,this.success=t,this.showOverlay=s,this.wasmType=n}}class C extends S{constructor(e,t){super(e,!0,null),this.result=t}}class m extends S{constructor(e,t){super(e,!0,null),this.objectHandle=t}}class A extends S{constructor(e,t){super(e,!0,null),this.recognitionState=t}}class D extends S{constructor(e,t){super(e,!0,null),this.result=t}}class f{constructor(e){this.isLoadProgressMessage=!0,this.progress=e}}!function(e){e[e.onDebugText=0]=\"onDebugText\",e[e.onDetectionFailed=1]=\"onDetectionFailed\",e[e.onQuadDetection=2]=\"onQuadDetection\",e[e.onPointsDetection=3]=\"onPointsDetection\",e[e.onFirstSideResult=4]=\"onFirstSideResult\",e[e.clearTimeoutCallback=5]=\"clearTimeoutCallback\",e[e.onGlare=6]=\"onGlare\",e[e.recognizerCallback=7]=\"recognizerCallback\"}(i||(i={}));class M{constructor(e,t){this.isCallbackMessage=!0,this.callbackType=e,this.callbackParameters=t}}function T(e,t){return t=t||\"\",\"\"===(e=e||\"\")?t:e.endsWith(\"/\")?t.startsWith(\"/\")?e+t.substring(1):e+t:t.startsWith(\"/\")?e+t:e+\"/\"+t}var p,L,w;function y(t){return e(this,void 0,void 0,(function*(){const e=yield(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])))(),s=yield(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,12,1,10,0,67,0,0,0,0,252,0,26,11])))(),n=yield(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,65,0,192,26,11])))(),r=yield(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))(),i=yield(async e=>{try{return\"undefined\"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));if(!(e&&s&&n&&r))return p.Basic;if(!i)return p.Advanced;try{return new Worker(t+\"/Worker.test.js\").terminate(),p.AdvancedWithThreads}catch(e){return p.Advanced}}))}!function(e){e.Basic=\"BASIC\",e.Advanced=\"ADVANCED\",e.AdvancedWithThreads=\"ADVANCED_WITH_THREADS\"}(p||(p={}));class U{constructor(e,t){if(!e.code||!e.message)throw Error(\"Instance of SDKError is required to have code and message.\");this.message=e.message,this.code=e.code,this.details=t}}!function(e){e.WORKER_WASM_LOAD_FAILURE=\"WORKER_WASM_LOAD_FAILURE\",e.WORKER_WASM_INIT_MISSING=\"WORKER_WASM_INIT_MISSING\",e.WORKER_FUNCTION_INVOKE_FAILURE=\"WORKER_FUNCTION_INVOKE_FAILURE\",e.WORKER_RECOGNIZER_CREATION_FAILURE=\"WORKER_RECOGNIZER_CREATION_FAILURE\",e.WORKER_RUNNER_EXISTS=\"WORKER_RUNNER_EXISTS\",e.WORKER_RUNNER_CREATION_FAILURE=\"WORKER_RUNNER_CREATION_FAILURE\",e.WORKER_RUNNER_MISSING=\"WORKER_RUNNER_MISSING\",e.WORKER_RUNNER_RECONFIGURE_FAILURE=\"WORKER_RUNNER_RECONFIGURE_FAILURE\",e.WORKER_RUNNER_DELETED=\"WORKER_RUNNER_DELETED\",e.WORKER_RUNNER_DELETE_FAILURE=\"WORKER_RUNNER_DELETE_FAILURE\",e.WORKER_OBJECT_INVOKE_FAILURE=\"WORKER_OBJECT_INVOKE_FAILURE\",e.WORKER_IMAGE_PROCESS_FAILURE=\"WORKER_IMAGE_PROCESS_FAILURE\",e.WORKER_HANDLE_UNDEFINED=\"WORKER_HANDLE_UNDEFINED\",e.WORKER_MESSAGE_ACTION_UNKNOWN=\"WORKER_MESSAGE_ACTION_UNKNOWN\",e.WORKER_LICENSE_UNLOCK_ERROR=\"WORKER_LICENSE_UNLOCK_ERROR\",e.WORKER_INTEGRATION_INFO_FAILURE=\"WORKER_INTEGRATION_INFO_FAILURE\",e.LOCAL_SDK_RUNNER_MISSING=\"LOCAL_SDK_RUNNER_MISSING\",e.LOCAL_SDK_RUNNER_EMPTY=\"LOCAL_SDK_RUNNER_EMPTY\",e.LICENSE_UNLOCK_ERROR=\"LICENSE_UNLOCK_ERROR\",e.FRAME_CAPTURE_SVG_UNSUPPORTED=\"FRAME_CAPTURE_SVG_UNSUPPORTED\",e.FRAME_CAPTURE_CANVAS_MISSING=\"FRAME_CAPTURE_CANVAS_MISSING\",e.SDK_WASM_SETTINGS_MISSING=\"SDK_WASM_SETTINGS_MISSING\",e.SDK_LICENSE_KEY_MISSING=\"SDK_LICENSE_KEY_MISSING\",e.SDK_WASM_MODULE_NAME_MISSING=\"SDK_WASM_MODULE_NAME_MISSING\",e.SDK_ENGINE_LOCATION_INVALID=\"SDK_ENGINE_LOCATION_INVALID\",e.SDK_MISSING=\"SDK_MISSING\",e.SDK_RECOGNIZERS_MISSING=\"SDK_RECOGNIZERS_MISSING\",e.VIDEO_RECOGNIZER_ELEMENT_MISSING=\"VIDEO_RECOGNIZER_ELEMENT_MISSING\",e.VIDEO_RECOGNIZER_CAMERA_MISSING=\"VIDEO_RECOGNIZER_CAMERA_MISSING\",e.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED=\"VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED\",e.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE=\"VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE\",e.VIDEO_RECOGNIZER_CAMERA_IN_USE=\"VIDEO_RECOGNIZER_CAMERA_IN_USE\",e.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED=\"VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED\",e.VIDEO_RECOGNIZER_FEED_RELEASED=\"VIDEO_RECOGNIZER_FEED_RELEASED\",e.VIDEO_RECOGNIZER_FEED_NOT_PAUSED=\"VIDEO_RECOGNIZER_FEED_NOT_PAUSED\",e.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED=\"VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED\",e.VIDEO_RECOGNIZER_FEED_PAUSED=\"VIDEO_RECOGNIZER_FEED_PAUSED\",e.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE=\"VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE\",e.VIDEO_RECOGNIZER_FEED_MISSING=\"VIDEO_RECOGNIZER_FEED_MISSING\"}(L||(L={})),function(e){e.WORKER_HANDLE_UNDEFINED=\"Cannot find object with handle: undefined\",e.WORKER_WASM_LOAD_FAILURE=\"Failed to load WASM in web worker!\",e.WORKER_WASM_INIT_MISSING=\"WASM module is not initialized!\",e.WORKER_FUNCTION_INVOKE_FAILURE=\"Failed to invoke function!\",e.WORKER_RECOGNIZER_CREATION_FAILURE=\"Failed to create new recognizer!\",e.WORKER_RUNNER_EXISTS=\"Recognizer runner is already created! Multiple instances are not allowed!\",e.WORKER_RUNNER_CREATION_FAILURE=\"Failed to create new recognizer runner!\",e.WORKER_RUNNER_MISSING=\"Recognizer runner is not created! There is nothing to reconfigure!\",e.WORKER_RUNNER_RECONFIGURE_FAILURE=\"Failed to reconfigure recognizer runner!\",e.WORKER_RUNNER_DELETED=\"Recognizer runner is already deleted!\",e.WORKER_RUNNER_DELETE_FAILURE=\"Failed to delete recognizer runner!\",e.WORKER_OBJECT_INVOKE_FAILURE=\"Failed to invoke object!\",e.WORKER_IMAGE_PROCESS_FAILURE=\"Recognizer runner is not initialized! Cannot process image!\",e.WORKER_INTEGRATION_INFO_FAILURE=\"Failed to get product integration info!\",e.LOCAL_SDK_RUNNER_MISSING=\"Property nativeRecognizerRunner is not available!\",e.LOCAL_SDK_RUNNER_EMPTY=\"Native RecognizerRunner cannot be empty!\",e.LICENSE_TOKEN_STATE_INCORRECT=\"Internal error (Incorrect token state)\",e.LICENSE_PAYLOAD_VERIFICATION_FAILED=\"Failed to verify server permission's digital signature!\",e.LICENSE_PAYLOAD_CORRUPTED=\"Server permission payload is corrupted!\",e.LICENSE_PERMISSION_EXPIRED=\"Internal error (server permission expired)\",e.LICENSE_REMOTE_LOCKED=\"Provided license key has been remotely locked. Please contact support for more information!\",e.FRAME_CAPTURE_SVG_UNSUPPORTED=\"Recognition of SVG elements not supported!\",e.FRAME_CAPTURE_CANVAS_MISSING=\"Could not get canvas 2d context!\",e.SDK_WASM_SETTINGS_MISSING=\"Missing WASM load settings!\",e.SDK_LICENSE_KEY_MISSING=\"Missing license key!\",e.SDK_WASM_MODULE_NAME_MISSING=\"Missing WASM module name!\",e.SDK_ENGINE_LOCATION_INVALID=\"Setting property 'engineLocation' must be a string!\",e.SDK_MISSING=\"SDK is not provided!\",e.SDK_RECOGNIZERS_MISSING=\"To create RecognizerRunner at least 1 recognizer is required.\",e.VIDEO_RECOGNIZER_ELEMENT_MISSING=\"Video element, i.e. camera feed is not provided!\",e.VIDEO_RECOGNIZER_CAMERA_MISSING=\"Camera not found!\",e.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED=\"Camera not allowed!\",e.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE=\"Camera not available!\",e.VIDEO_RECOGNIZER_CAMERA_IN_USE=\"Camera in use!\",e.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED=\"Media devices not supported by browser.\",e.VIDEO_RECOGNIZER_FEED_RELEASED=\"The associated video feed has been released!\",e.VIDEO_RECOGNIZER_FEED_NOT_PAUSED=\"The associated video feed is not paused. Use resumeRecognition instead!\",e.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED=\"The play() request was interrupted or prevented by browser security rules!\",e.VIDEO_RECOGNIZER_FEED_PAUSED=\"Cannot resume recognition while video feed is paused! Use recognize or startRecognition\",e.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE=\"Could not reset recognizers!\",e.VIDEO_RECOGNIZER_FEED_MISSING=\"Missing video feed!\"}(w||(w={}));const F={licenseTokenStateIncorrect:{code:L.LICENSE_UNLOCK_ERROR,message:w.LICENSE_TOKEN_STATE_INCORRECT},licensePayloadVerificationFailed:{code:L.LICENSE_UNLOCK_ERROR,message:w.LICENSE_PAYLOAD_VERIFICATION_FAILED},licensePayloadCorrupted:{code:L.LICENSE_UNLOCK_ERROR,message:w.LICENSE_PAYLOAD_CORRUPTED},licensePermissionExpired:{code:L.LICENSE_UNLOCK_ERROR,message:w.LICENSE_PERMISSION_EXPIRED},licenseRemoteLocked:{code:L.LICENSE_UNLOCK_ERROR,message:w.LICENSE_REMOTE_LOCKED},licenseNetworkError:{code:L.LICENSE_UNLOCK_ERROR},licenseInvalid:{code:L.LICENSE_UNLOCK_ERROR}},b={imageProcessFailure:{message:w.WORKER_IMAGE_PROCESS_FAILURE,code:L.WORKER_IMAGE_PROCESS_FAILURE},objectInvokeFailure:{message:w.WORKER_OBJECT_INVOKE_FAILURE,code:L.WORKER_OBJECT_INVOKE_FAILURE},runnerDeleteFailure:{message:w.WORKER_RUNNER_DELETE_FAILURE,code:L.WORKER_RUNNER_DELETE_FAILURE},runnerDeleted:{message:w.WORKER_RUNNER_DELETED,code:L.WORKER_RUNNER_DELETED},runnerReconfigureFailure:{message:w.WORKER_RUNNER_RECONFIGURE_FAILURE,code:L.WORKER_RUNNER_RECONFIGURE_FAILURE},runnerMissing:{message:w.WORKER_RUNNER_MISSING,code:L.WORKER_RUNNER_MISSING},runnerCreationFailure:{message:w.WORKER_RUNNER_CREATION_FAILURE,code:L.WORKER_RUNNER_CREATION_FAILURE},runnerExists:{message:w.WORKER_RUNNER_EXISTS,code:L.WORKER_RUNNER_EXISTS},recognizerCreationFailure:{message:w.WORKER_RECOGNIZER_CREATION_FAILURE,code:L.WORKER_RECOGNIZER_CREATION_FAILURE},functionInvokeFailure:{message:w.WORKER_FUNCTION_INVOKE_FAILURE,code:L.WORKER_FUNCTION_INVOKE_FAILURE},wasmInitMissing:{message:w.WORKER_WASM_INIT_MISSING,code:L.WORKER_WASM_INIT_MISSING},wasmLoadFailure:{message:w.WORKER_WASM_LOAD_FAILURE,code:L.WORKER_WASM_LOAD_FAILURE},handleUndefined:{message:w.WORKER_HANDLE_UNDEFINED,code:L.WORKER_HANDLE_UNDEFINED},integrationInfoFailure:{message:w.WORKER_INTEGRATION_INFO_FAILURE,code:L.WORKER_INTEGRATION_INFO_FAILURE}};var k,K;!function(e){e[e.Invalid=0]=\"Invalid\",e[e.RequiresServerPermission=1]=\"RequiresServerPermission\",e[e.Valid=2]=\"Valid\"}(k||(k={})),function(e){e.LicenseTokenStateInvalid=\"LICENSE_TOKEN_STATE_INVALID\",e.NetworkError=\"NETWORK_ERROR\",e.RemoteLock=\"REMOTE_LOCK\",e.PermissionExpired=\"PERMISSION_EXPIRED\",e.PayloadCorrupted=\"PAYLOAD_CORRUPTED\",e.PayloadSignatureVerificationFailed=\"PAYLOAD_SIGNATURE_VERIFICATION_FAILED\",e.IncorrectTokenState=\"INCORRECT_TOKEN_STATE\"}(K||(K={}));function v(e){return{licenseId:e.licenseId,licensee:e.licensee,packageName:e.packageName,platform:\"Browser\",sdkName:e.sdkName,sdkVersion:e.sdkVersion}}var P;function W(t,s){return e(this,void 0,void 0,(function*(){try{const e=yield fetch(\"https://baltazar.microblink.com/api/v1/status/check\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},cache:\"no-cache\",body:JSON.stringify(v(t))});if(e.ok){const t=\"\"+(yield e.text());return s.submitServerPermission(t)}return{status:P.NetworkError,lease:0,networkErrorDescription:\"Server responded with status \"+e.status}}catch(e){return{status:P.NetworkError,lease:0,networkErrorDescription:\"Unexpected error: \"+JSON.stringify(e)}}}))}function G(e){return e===p.AdvancedWithThreads}!function(e){e[e.Ok=0]=\"Ok\",e[e.NetworkError=1]=\"NetworkError\",e[e.RemoteLock=2]=\"RemoteLock\",e[e.PermissionExpired=3]=\"PermissionExpired\",e[e.PayloadCorrupted=4]=\"PayloadCorrupted\",e[e.PayloadSignatureVerificationFailed=5]=\"PayloadSignatureVerificationFailed\",e[e.IncorrectTokenState=6]=\"IncorrectTokenState\"}(P||(P={}));new class{constructor(){this.context=self,this.wasmModule=null,this.nativeRecognizerRunner=null,this.objects={},this.nextObjectHandle=0,this.metadataCallbacks={},this.clearTimeoutCallback=null,this.context.onmessage=e=>{const t=e.data;switch(t.action){case n.action:this.processInitMessage(t);break;case o.action:this.processInvokeFunction(t);break;case a.action:this.processCreateNewRecognizer(t);break;case l.action:this.processInvokeObject(t);break;case c.action:this.processCreateRecognizerRunner(t);break;case E.action:this.processReconfigureRecognizerRunner(t);break;case R.action:this.processDeleteRecognizerRunner(t);break;case _.action:this.processImage(t);break;case u.action:this.resetRecognizers(t);break;case d.action:this.setDetectionOnly(t);break;case O.action:this.setCameraPreviewMirrored(t);break;case I.action:this.registerMetadataCallbacks(t);break;case N.action:this.registerClearTimeoutCallback(t);break;case h.action:this.processGetProductIntegrationInfo(t);break;default:throw new U({code:L.WORKER_MESSAGE_ACTION_UNKNOWN,message:\"Unknown message action: \"+JSON.stringify(t.action)})}}}getNextObjectHandle(){const e=this.nextObjectHandle;return this.nextObjectHandle=this.nextObjectHandle+1,e}notifyError(e,t){this.context.postMessage(new S(e.messageID,!1,t))}notifySuccess(e){this.context.postMessage(new S(e.messageID,!0,null))}notifyInitSuccess(e,t,s){this.context.postMessage(new g(e.messageID,!0,t,s))}unwrapParameters(e){const t=[];for(const s of e.params){let n=s.parameter;s.type===r.Recognizer?(n=this.objects[n],void 0===n&&this.notifyError(e,new U(b.handleUndefined))):s.type===r.RecognizerSettings&&(n=this.restoreFunctions(n)),t.push(n)}return t}restoreFunctions(e){const t=Object.keys(e);for(const s of t){const t=e[s];\"object\"==typeof t&&null!==t&&\"parameter\"in t&&\"type\"in t&&t.type===r.Callback&&(e[s]=(...e)=>{const s=new M(i.recognizerCallback,[t.parameter].concat(e));this.context.postMessage(s)})}return e}scanForTransferrables(e){if(\"object\"==typeof e){const t=Object.keys(e),s=[];for(const n of t){const t=e[n];t instanceof ImageData?s.push(t.data.buffer):t instanceof Uint8Array?s.push(t.buffer):null!==t&&\"object\"==typeof t&&s.push(...this.scanForTransferrables(t))}return s}return[]}registerHeartBeat(e){this.unregisterHeartBeat(),this.lease=e;let t=e-Math.floor(Date.now()/1e3);t>120?t-=120:t/=2,this.inFlightHeartBeatTimeoutId=setTimeout((()=>{this.obtainNewServerPermission(!0)}),1e3*t)}unregisterHeartBeat(){this.lease&&delete this.lease,this.inFlightHeartBeatTimeoutId&&(clearTimeout(this.inFlightHeartBeatTimeoutId),delete this.inFlightHeartBeatTimeoutId)}obtainNewServerPermission(t){return e(this,void 0,void 0,(function*(){if(this.wasmModule){const e=this.wasmModule.getActiveLicenseTokenInfo(),s=yield W(e,this.wasmModule);switch(s.status){case P.Ok:case P.RemoteLock:this.registerHeartBeat(s.lease);break;case P.NetworkError:case P.PayloadSignatureVerificationFailed:case P.PayloadCorrupted:t?(console.warn(\"Problem with obtaining server permission. Will attempt in 10 seconds \"+P[s.status]),this.inFlightHeartBeatTimeoutId=setTimeout((()=>{this.obtainNewServerPermission(!1)}),1e4)):console.error(\"Problem with obtaining server permission. \"+P[s.status]);break;case P.IncorrectTokenState:case P.PermissionExpired:console.error(\"Internal error: \"+P[s.status])}return s.status}return console.error(\"Internal inconsistency! Wasm module not initialized where it's expected to be!\"),P.IncorrectTokenState}))}willSoonExpire(){if(this.lease){if(this.wasmModule.getActiveLicenseTokenInfo().unlockResult===k.Valid){const e=Math.floor(Date.now()/1e3);return 30>this.lease-e}return!0}return!1}calculateWasmType(t){return e(this,void 0,void 0,(function*(){return null!==t.wasmType?t.wasmType:yield y(t.engineLocation)}))}calculateEngineLocationPrefix(e,t){const s=T(\"\"===e.engineLocation?self.location.origin:e.engineLocation,function(e){switch(e){case p.AdvancedWithThreads:return\"advanced-threads\";case p.Advanced:return\"advanced\";case p.Basic:return\"basic\"}}(t));return e.allowHelloMessage&&console.log(\"Engine location prefix is:\",s),s}processInitMessage(t){return e(this,void 0,void 0,(function*(){const s=yield this.calculateWasmType(t),n=this.calculateEngineLocationPrefix(t,s);let r={locateFile:e=>T(n,e)};t.registerLoadCallback&&(r=Object.assign(r,{setStatus:e=>{const t=new f(function(e){if(\"Running...\"===e)return 100;if(0===e.length)return 0;const t=/([^(]+)\\((\\d+(\\.\\d+)?)\\/(\\d+)\\)/.exec(e);if(t)return 100*parseInt(t[2])/parseInt(t[4]);return NaN}(e));this.context.postMessage(t)}}));try{const i=T(n,t.wasmModuleName+\".js\");G(s)&&(r=function(e,t,s){return t&&t>0&&(e=Object.assign(e,{allowedThreads:t})),null!==s&&(e=Object.assign(e,{mainScriptUrlOrBlob:s})),e}(r,t.numberOfWorkers,i)),importScripts(i);(0,self[t.wasmModuleName])(r).then((n=>e(this,void 0,void 0,(function*(){G(s)&&(t.allowHelloMessage&&console.log(\"Waiting for thread workers to boot...\"),yield function(t){return e(this,void 0,void 0,(function*(){t.threadWorkersReadyPromise&&(yield t.threadWorkersReadyPromise)}))}(n));const r=yield function(t,s,n,r){return e(this,void 0,void 0,(function*(){const e=r.initializeWithLicenseKey(t,n,s);switch(e.unlockResult){case k.Invalid:return{error:new U(Object.assign(Object.assign({},F.licenseInvalid),{message:e.licenseError}),{type:K.LicenseTokenStateInvalid})};case k.Valid:return{error:null,showOverlay:(i=e.isTrial,o=e.allowRemoveDemoOverlay,a=e.allowRemoveProductionOverlay,!(i&&o||!i&&a))};case k.RequiresServerPermission:{const t=yield W(e,r);switch(t.status){case P.Ok:return{error:null,lease:t.lease};case P.NetworkError:{let e=\"\";return t.networkErrorDescription&&(e=\" \"+t.networkErrorDescription),{error:new U(Object.assign(Object.assign({},F.licenseNetworkError),{message:\"There has been a network error while obtaining the server permission!\"+e}),{type:K.NetworkError})}}case P.RemoteLock:return{error:new U(F.licenseRemoteLocked,{type:K.RemoteLock}),lease:t.lease};case P.PermissionExpired:return{error:new U(F.licensePermissionExpired,{type:K.PermissionExpired}),lease:t.lease};case P.PayloadCorrupted:return{error:new U(F.licensePayloadCorrupted,{type:K.PayloadCorrupted}),lease:t.lease};case P.PayloadSignatureVerificationFailed:return{error:new U(F.licensePayloadVerificationFailed,{type:K.PayloadSignatureVerificationFailed}),lease:t.lease};case P.IncorrectTokenState:return{error:new U(F.licenseTokenStateIncorrect,{type:K.IncorrectTokenState}),lease:t.lease}}}}var i,o,a}))}(t.licenseKey,t.allowHelloMessage,t.userId,n);null===r.error?(this.wasmModule=n,r.lease?this.registerHeartBeat(r.lease):this.unregisterHeartBeat(),this.notifyInitSuccess(t,!!r.showOverlay,s)):this.notifyError(t,r.error)}))),(e=>{this.notifyError(t,new U(b.wasmLoadFailure,e))}))}catch(e){this.notifyError(t,new U(b.wasmLoadFailure,e))}}))}processInvokeFunction(e){if(null===this.wasmModule)return void this.notifyError(e,new U(b.wasmInitMissing));const t=e.funcName,s=this.unwrapParameters(e);try{const n=this.wasmModule[t](...s);this.context.postMessage(new C(e.messageID,n))}catch(t){this.notifyError(e,new U(b.functionInvokeFailure,t))}}processCreateNewRecognizer(e){if(null===this.wasmModule)return void this.notifyError(e,new U(b.wasmInitMissing));const t=e.className,s=this.unwrapParameters(e);try{const n=new this.wasmModule[t](...s),r=this.getNextObjectHandle();this.objects[r]=n,this.context.postMessage(new m(e.messageID,r))}catch(t){this.notifyError(e,new U(b.recognizerCreationFailure,t))}}getRecognizers(e){const t=[];for(const s of e){t.push(this.objects[s])}return t}processCreateRecognizerRunner(t){return e(this,void 0,void 0,(function*(){if(null===this.wasmModule)this.notifyError(t,new U(b.wasmInitMissing));else if(null!==this.nativeRecognizerRunner)this.notifyError(t,new U(b.runnerExists));else{this.setupMetadataCallbacks(t.registeredMetadataCallbacks);try{if(this.willSoonExpire()){const e=yield this.obtainNewServerPermission(!1);if(e!==P.Ok){const s=P[e];return void this.notifyError(t,new U({code:L.WORKER_LICENSE_UNLOCK_ERROR,message:\"Cannot initialize recognizers because of invalid server permission: \\n                                    \"+s},{type:K[s]}))}}const e=this.getRecognizers(t.recognizerHandles);this.nativeRecognizerRunner=new this.wasmModule.RecognizerRunner(e,t.allowMultipleResults,this.metadataCallbacks),this.notifySuccess(t)}catch(e){this.notifyError(t,new U(b.runnerCreationFailure,e))}}}))}processReconfigureRecognizerRunner(e){if(null===this.wasmModule)this.notifyError(e,new U(b.wasmInitMissing));else if(null===this.nativeRecognizerRunner)this.notifyError(e,new U(b.runnerMissing));else try{const t=this.getRecognizers(e.recognizerHandles);this.nativeRecognizerRunner.reconfigureRecognizers(t,e.allowMultipleResults),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.runnerReconfigureFailure,t))}}processDeleteRecognizerRunner(e){if(null!==this.nativeRecognizerRunner)try{this.nativeRecognizerRunner.delete(),this.nativeRecognizerRunner=null,this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.runnerDeleteFailure,t))}else this.notifyError(e,new U(b.runnerDeleted))}wrapFunctions(e,t){if(\"object\"!=typeof e)return e;const s=Object.assign({},e),n=Object.keys(s);for(const e of n){if(\"function\"==typeof s[e]){s[e]={parameter:{recognizerHandle:t,callbackName:e},type:r.Callback}}}return s}processInvokeObject(e){try{const t=e.objectHandle,s=e.methodName,n=this.unwrapParameters(e),r=this.objects[t];if(void 0===r)this.notifyError(e,new U({message:\"Cannot find object with handle: \"+t,code:L.WORKER_HANDLE_UNDEFINED}));else{const i=this.wrapFunctions(r[s](...n),t),o=this.scanForTransferrables(i);\"delete\"===s&&delete this.objects[t],this.context.postMessage(new C(e.messageID,i),o)}}catch(t){this.notifyError(e,new U(b.objectInvokeFailure,t))}}processImage(e){if(null!==this.nativeRecognizerRunner)try{const t=this.nativeRecognizerRunner.processImage(e.frame);this.context.postMessage(new A(e.messageID,t))}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}else this.notifyError(e,new U(b.imageProcessFailure))}resetRecognizers(e){if(null!==this.nativeRecognizerRunner)try{this.nativeRecognizerRunner.resetRecognizers(e.hardReset),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}else this.notifyError(e,new U(b.imageProcessFailure))}setDetectionOnly(e){if(null!==this.nativeRecognizerRunner)try{this.nativeRecognizerRunner.setDetectionOnlyMode(e.detectionOnlyMode),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}else this.notifyError(e,new U(b.imageProcessFailure))}setCameraPreviewMirrored(e){if(null!==this.nativeRecognizerRunner)try{this.nativeRecognizerRunner.setCameraPreviewMirrored(e.cameraPreviewMirrored),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}else this.notifyError(e,new U(b.imageProcessFailure))}setupMetadataCallbacks(e){e.onDebugText?this.metadataCallbacks.onDebugText=e=>{const t=new M(i.onDebugText,[e]);this.context.postMessage(t)}:delete this.metadataCallbacks.onDebugText,e.onDetectionFailed?this.metadataCallbacks.onDetectionFailed=()=>{const e=new M(i.onDetectionFailed,[]);this.context.postMessage(e)}:delete this.metadataCallbacks.onDetectionFailed,e.onPointsDetection?this.metadataCallbacks.onPointsDetection=e=>{const t=new M(i.onPointsDetection,[e]);this.context.postMessage(t)}:delete this.metadataCallbacks.onPointsDetection,e.onQuadDetection?this.metadataCallbacks.onQuadDetection=e=>{const t=new M(i.onQuadDetection,[e]);this.context.postMessage(t)}:delete this.metadataCallbacks.onQuadDetection,e.onFirstSideResult?this.metadataCallbacks.onFirstSideResult=()=>{const e=new M(i.onFirstSideResult,[]);this.context.postMessage(e)}:delete this.metadataCallbacks.onFirstSideResult,e.onGlare?this.metadataCallbacks.onGlare=e=>{const t=new M(i.onGlare,[e]);this.context.postMessage(t)}:delete this.metadataCallbacks.onGlare}registerMetadataCallbacks(e){if(null!==this.nativeRecognizerRunner){this.setupMetadataCallbacks(e.registeredMetadataCallbacks);try{this.nativeRecognizerRunner.setJSDelegate(this.metadataCallbacks),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}}else this.notifyError(e,new U(b.imageProcessFailure))}registerClearTimeoutCallback(e){if(null!==this.nativeRecognizerRunner){this.clearTimeoutCallback=e.callbackNonEmpty?{onClearTimeout:()=>{const e=new M(i.clearTimeoutCallback,[]);this.context.postMessage(e)}}:null;try{this.nativeRecognizerRunner.setClearTimeoutCallback(this.clearTimeoutCallback),this.notifySuccess(e)}catch(t){this.notifyError(e,new U(b.imageProcessFailure,t))}}else this.notifyError(e,new U(b.imageProcessFailure))}processGetProductIntegrationInfo(e){if(null!==this.wasmModule)try{const t=this.wasmModule.getActiveLicenseTokenInfo(),s={userId:e.userId,licenseId:t.licenseId,licensee:t.licensee,productName:t.sdkName,productVersion:t.sdkVersion,platform:\"Browser\",device:self.navigator.userAgent,packageName:t.packageName};this.context.postMessage(new D(e.messageID,s))}catch(t){this.notifyError(e,new U(b.objectInvokeFailure,t))}else this.notifyError(e,new U(b.wasmInitMissing))}}}();\n`],{type:\"application/javascript\"}),n=URL.createObjectURL(a),s=new Worker(n);P.createWasmWorker(s,e,l).then((e=>{t(e)}),i)}catch(t){i(t)}}))}))}(e),this.__sdkRecognizer=await function(e){return W(this,void 0,void 0,(function*(){return e.mbWasmModule.newRecognizer(\"BlinkIdCombinedRecognizer\")}))}(this.__sdkInstance),this.__sdkSettings=await this.__sdkRecognizer.currentSettings(),this.__sdkSettings.returnFullDocumentImage=!0,this.__sdkSettings.saveCameraFrames=!0,this.__sdkSettings.fullDocumentImageDpi=400,this.__sdkSettings.returnFaceImage=!0,this.__sdkSettings.faceImageDpi=400,this.__sdkSettings.returnSignatureImage=!0,this.__sdkSettings.signatureImageDpi=400,this.__sdkSettings.anonymizationMode=oe.FullResult,await this.__sdkRecognizer.updateSettings(this.__sdkSettings);const t={onQuadDetection:e=>{this.__detectionStatus=e.detectionStatus,this.__quad={topLeft:e.topLeft,topRight:e.topRight,bottomLeft:e.bottomLeft,bottomRight:e.bottomRight}},onGlare:e=>{this.__glare=e}};this.__sdkRunnerRecognizer=await function(e,t,i=!1,l={}){return W(this,void 0,void 0,(function*(){if(\"object\"!=typeof e)throw new _(j.missing);if(\"object\"!=typeof t||1>t.length)throw new _(j.recognizersMissing);return e.mbWasmModule.createRecognizerRunner(t,i,l)}))}(this.__sdkInstance,[this.__sdkRecognizer],!1,t)}catch(e){throw new Error(\"Fail to initialize the engine!\")}}async detectImage(e,t){const i=function(e){let t,i,l=!1;if(e instanceof HTMLVideoElement)t=e.videoWidth,i=e.videoHeight,l=!0;else if(e instanceof HTMLImageElement)t=e.naturalWidth,i=e.naturalHeight;else{if(e instanceof SVGImageElement)throw new _(Q.svgUnsupported);t=e.width,i=e.height}te=te||document.createElement(\"canvas\"),te.width=t,te.height=i;const a=te.getContext(\"2d\");if(!a)throw new _(Q.canvasMissing);a.drawImage(e,0,0,te.width,te.height);const n=a.getImageData(0,0,te.width,te.height);return new ie(n,$.NoRotation,l)}(e),l=await this.__sdkRunnerRecognizer.processImage(i),a=await this.__sdkRecognizer.getResult();let n=this.__generateResultObject(l,a,t),s=0;switch(this.__detectionStatus){case se.Fail:s=1;break;case se.CameraTooHigh:s=3;break;case se.CameraTooNear:s=4;break;case se.DocumentTooCloseToEdge:s=5;break;case se.CameraAtAngle:s=2;break;case se.Partial:s=5}return n.detectionStatus={status:s,quad:this.__quad,glare:this.__glare,internalStatus:a.processingStatus},n}async cleanImageBuffer(){await this.__sdkRunnerRecognizer.resetRecognizers(!0)}async finalizeEngine(){this.__deleteWasmVar(this.__sdkRecognizer,this.__sdkRunnerRecognizer,this.__sdkSettings,this.__sdkInstance)}get __attributes(){return{licenseKey:{type:\"string\",property:\"__licenseKey\"},bundlePath:{type:\"string\",property:\"__engineLocation\"},imageFormat:{type:\"string\",property:\"__imageFormat\"},imageQuality:{type:\"number\",property:\"__imageQuality\"}}}get __scanResultType(){return{[ee.Valid]:0,[ee.StageValid]:0,[ee.Uncertain]:1,[ee.Empty]:1}}__mapperToRealConfig(e){for(const[t,i]of Object.entries(e))void 0!==this.__attributes[t]&&(this[this.__attributes[t].property]=i)}__generateResultObject(e,t,i){let l={};return e!==ee.Empty&&this.__validateResultDiagnostic(t.state,i)?(l.diagnostic=this.__scanResultType[t.state],l.simpleModeOutput=0,l.images={backDocument:this.__convertToImageOutput(t.fullDocumentBackImage.rawImage),frontDocument:this.__convertToImageOutput(t.fullDocumentFrontImage.rawImage),faceImage:this.__convertToImageOutput(t.faceImage.rawImage),signatureImage:this.__convertToImageOutput(t.signatureImage.rawImage)},l.imagesRaw={backDocument:t.fullDocumentBackImage.rawImage,frontDocument:t.fullDocumentFrontImage.rawImage,faceImage:t.faceImage.rawImage,signatureImage:t.signatureImage.rawImage},l.imagesFullsize={backDocument:this.__convertToImageOutput(t.backCameraFrame.frame),frontDocument:this.__convertToImageOutput(t.frontCameraFrame.frame),faceImage:this.__convertToImageOutput(t.faceImage.rawImage),signatureImage:this.__convertToImageOutput(t.signatureImage.rawImage)},l.extractionRaw={},l.extractionRaw.mrz={rawData:t.mrz.rawMRZString||null,opt1:t.mrz.opt1||null,opt2:t.mrz.opt2||null,firstName:t.mrz.secondaryID||null,lastName:t.mrz.primaryID||null,documentId:t.mrz.sanitizedOpt1||null,documentNumber:t.mrz.documentNumber||null,documentIssuer:t.mrz.issuer||null,dateOfExpiry:t.mrz.dateOfExpiry.originalString||null,dateOfBirth:t.mrz.dateOfBirth.originalString||null,gender:t.mrz.gender||null,nationality:t.mrz.nationality||null},l.extractionRaw.ocr={firstName:t.frontViz.firstName||null,lastName:t.frontViz.lastName||null,documentId:t.frontViz.personalIdNumber||null,documentNumber:t.frontViz.documentNumber||null,dateOfBirth:t.frontViz.dateOfBirth.originalString||null,dateOfExpiry:t.frontViz.dateOfExpiry.originalString||null,dateOfIssue:t.frontViz.dateOfIssue.originalString||null,gender:t.frontViz.sex||null,nationality:t.frontViz.nationality||null},l.extractionData={firstName:t.firstName||null,lastName:t.lastName.replaceAll(\"\\n\",\" \")||null,gender:t.sex||null,nationality:t.nationality||null,dateOfBirth:t.dateOfBirth.originalString.replaceAll(\" \",\"/\")||null,placeOfBirth:t.placeOfBirth.replaceAll(\"\\n\",\", \")||null,documentId:t.personalIdNumber||null,documentNumber:t.documentNumber||null,address:t.address.replaceAll(\"\\n\",\", \")||null,documentCountryIssuer:t.classInfo.isoAlpha3CountryCode,documentType:this.__getDocumentType(t.classInfo.documentType),debug1:t.classInfo.documentType},t.dateOfExpiryPermanent?l.extractionData.dateOfIssue=t.dateOfIssue.originalString.replaceAll(\" \",\"/\")||null:l.extractionData.dateOfExpiry=t.dateOfExpiry.originalString.replaceAll(\" \",\"/\")||null):l.diagnostic=1,l}__getDocumentType(e){switch(e){case Ze.NONE:return 1;case Ze.ID:return 2;case Ze.PASSPORT_CARD:return 3;case Ze.VISA:return 4;case Ze.GREEN_CARD:return 5;case Ze.DRIVER_CARD:return 6;case Ze.RESIDENT_ID:return 7;case Ze.SOCIAL_SECURITY_CARD:return 8;case Ze.HEALTH_INSURANCE_CARD:return 9;case Ze.TEMPORARY_RESIDENCE_PERMIT:return 10;default:return 0}}__validateResultDiagnostic(t,i){return t===ee.StageValid&&i===e.Mode.Front||t===ee.Valid&&i===e.Mode.Back}__deleteWasmVar(...e){e.forEach((e=>{null!==e&&void 0!==e.delete&&e.delete()}))}__convertToImageOutput(e){if(null!==e){let t=document.createElement(\"canvas\"),i=t.getContext(\"2d\");return t.width=e.width,t.height=e.height,i.putImageData(e,0,0),t.toDataURL(this.__imageFormat,this.__imageQuality)}return null}}class Xe{static __engines={Dummy:g,Microblink:Ge,Facephi:u};static getAvailableEngines(){return Object.keys(Xe.__engines)}static generateInstance(e,t){return new Xe.__engines[e](t)}}let ye=null;class Ce{static worker=null;static getInternalLicenseResolve=null;static preinit=!1;static callGetInternalLicense=!1;static async __checkWorker(e){if(null===Ce.worker){let t=Ce,i=new Worker((null===ye&&(ye=URL.createObjectURL(new Blob([atob(\"dmFyIGU7Y29uc3QgdD0oZT0idW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5jdXJyZW50U2NyaXB0P2RvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjOnZvaWQgMCxmdW5jdGlvbih0KXt2YXIgcixuLGEsbyxpLHUscyxjLGYsbCxkLHAsaCx5LG0sZyx2Oyh0PXZvaWQgMCE9PSh0PXR8fHt9KT90Ont9KS5yZWFkeT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSx0KXtuPWUsYT10fSkpO3ZhciB3PXt9O2ZvcihvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmKHdbb109dFtvXSk7dmFyIGI9W10sVD0iIjsidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5jdXJyZW50U2NyaXB0JiYoVD1kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYyksZSYmKFQ9ZSksVD0wIT09VC5pbmRleE9mKCJibG9iOiIpP1Quc3Vic3RyKDAsVC5sYXN0SW5kZXhPZigiLyIpKzEpOiIiLHQucHJpbnR8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7dmFyICQ9dC5wcmludEVycnx8Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7Zm9yKG8gaW4gdyl3Lmhhc093blByb3BlcnR5KG8pJiYodFtvXT13W29dKTt3PW51bGwsdC5hcmd1bWVudHMmJihiPXQuYXJndW1lbnRzKSx0LnRoaXNQcm9ncmFtJiZ0LnRoaXNQcm9ncmFtLHQucXVpdCYmdC5xdWl0LHQud2FzbUJpbmFyeSYmKGk9dC53YXNtQmluYXJ5KSx0Lm5vRXhpdFJ1bnRpbWUsIm9iamVjdCIhPXR5cGVvZiBXZWJBc3NlbWJseSYmVigibm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCIpO3ZhciBfPSExLEM9InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2Rlcj9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp2b2lkIDA7ZnVuY3Rpb24gUChlLHQpe3JldHVybiBlP2Z1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49dCtyLGE9dDtlW2FdJiYhKGE+PW4pOykrK2E7aWYoYS10PjE2JiZlLnN1YmFycmF5JiZDKXJldHVybiBDLmRlY29kZShlLnN1YmFycmF5KHQsYSkpO2Zvcih2YXIgbz0iIjt0PGE7KXt2YXIgaT1lW3QrK107aWYoMTI4Jmkpe3ZhciB1PTYzJmVbdCsrXTtpZigxOTIhPSgyMjQmaSkpe3ZhciBzPTYzJmVbdCsrXTtpZigoaT0yMjQ9PSgyNDAmaSk/KDE1JmkpPDwxMnx1PDw2fHM6KDcmaSk8PDE4fHU8PDEyfHM8PDZ8NjMmZVt0KytdKTw2NTUzNilvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpO2Vsc2V7dmFyIGM9aS02NTUzNjtvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGM+PjEwLDU2MzIwfDEwMjMmYyl9fWVsc2Ugbys9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmaSk8PDZ8dSl9ZWxzZSBvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGkpfXJldHVybiBvfShjLGUsdCk6IiJ9ZnVuY3Rpb24gRChlLHQscixuKXtpZighKG4+MCkpcmV0dXJuIDA7Zm9yKHZhciBhPXIsbz1yK24tMSxpPTA7aTxlLmxlbmd0aDsrK2kpe3ZhciB1PWUuY2hhckNvZGVBdChpKTtpZih1Pj01NTI5NiYmdTw9NTczNDMmJih1PTY1NTM2KygoMTAyMyZ1KTw8MTApfDEwMjMmZS5jaGFyQ29kZUF0KCsraSkpLHU8PTEyNyl7aWYocj49bylicmVhazt0W3IrK109dX1lbHNlIGlmKHU8PTIwNDcpe2lmKHIrMT49bylicmVhazt0W3IrK109MTkyfHU+PjYsdFtyKytdPTEyOHw2MyZ1fWVsc2UgaWYodTw9NjU1MzUpe2lmKHIrMj49bylicmVhazt0W3IrK109MjI0fHU+PjEyLHRbcisrXT0xMjh8dT4+NiY2Myx0W3IrK109MTI4fDYzJnV9ZWxzZXtpZihyKzM+PW8pYnJlYWs7dFtyKytdPTI0MHx1Pj4xOCx0W3IrK109MTI4fHU+PjEyJjYzLHRbcisrXT0xMjh8dT4+NiY2Myx0W3IrK109MTI4fDYzJnV9fXJldHVybiB0W3JdPTAsci1hfWZ1bmN0aW9uIEEoZSl7Zm9yKHZhciB0PTAscj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgbj1lLmNoYXJDb2RlQXQocik7bj49NTUyOTYmJm48PTU3MzQzJiYobj02NTUzNisoKDEwMjMmbik8PDEwKXwxMDIzJmUuY2hhckNvZGVBdCgrK3IpKSxuPD0xMjc/Kyt0OnQrPW48PTIwNDc/MjpuPD02NTUzNT8zOjR9cmV0dXJuIHR9dmFyIE89InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2Rlcj9uZXcgVGV4dERlY29kZXIoInV0Zi0xNmxlIik6dm9pZCAwO2Z1bmN0aW9uIFMoZSx0KXtmb3IodmFyIHI9ZSxuPXI+PjEsYT1uK3QvMjshKG4+PWEpJiZsW25dOykrK247aWYoKHI9bjw8MSktZT4zMiYmTylyZXR1cm4gTy5kZWNvZGUoYy5zdWJhcnJheShlLHIpKTtmb3IodmFyIG89IiIsaT0wOyEoaT49dC8yKTsrK2kpe3ZhciB1PWZbZSsyKmk+PjFdO2lmKDA9PXUpYnJlYWs7bys9U3RyaW5nLmZyb21DaGFyQ29kZSh1KX1yZXR1cm4gb31mdW5jdGlvbiBGKGUsdCxyKXtpZih2b2lkIDA9PT1yJiYocj0yMTQ3NDgzNjQ3KSxyPDIpcmV0dXJuIDA7Zm9yKHZhciBuPXQsYT0oci09Mik8MiplLmxlbmd0aD9yLzI6ZS5sZW5ndGgsbz0wO288YTsrK28pe3ZhciBpPWUuY2hhckNvZGVBdChvKTtmW3Q+PjFdPWksdCs9Mn1yZXR1cm4gZlt0Pj4xXT0wLHQtbn1mdW5jdGlvbiBNKGUpe3JldHVybiAyKmUubGVuZ3RofWZ1bmN0aW9uIEUoZSx0KXtmb3IodmFyIHI9MCxuPSIiOyEocj49dC80KTspe3ZhciBhPWRbZSs0KnI+PjJdO2lmKDA9PWEpYnJlYWs7aWYoKytyLGE+PTY1NTM2KXt2YXIgbz1hLTY1NTM2O24rPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8bz4+MTAsNTYzMjB8MTAyMyZvKX1lbHNlIG4rPVN0cmluZy5mcm9tQ2hhckNvZGUoYSl9cmV0dXJuIG59ZnVuY3Rpb24gVyhlLHQscil7aWYodm9pZCAwPT09ciYmKHI9MjE0NzQ4MzY0Nykscjw0KXJldHVybiAwO2Zvcih2YXIgbj10LGE9bityLTQsbz0wO288ZS5sZW5ndGg7KytvKXt2YXIgaT1lLmNoYXJDb2RlQXQobyk7aWYoaT49NTUyOTYmJmk8PTU3MzQzJiYoaT02NTUzNisoKDEwMjMmaSk8PDEwKXwxMDIzJmUuY2hhckNvZGVBdCgrK28pKSxkW3Q+PjJdPWksKHQrPTQpKzQ+YSlicmVha31yZXR1cm4gZFt0Pj4yXT0wLHQtbn1mdW5jdGlvbiBJKGUpe2Zvcih2YXIgdD0wLHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIG49ZS5jaGFyQ29kZUF0KHIpO24+PTU1Mjk2JiZuPD01NzM0MyYmKytyLHQrPTR9cmV0dXJuIHR9ZnVuY3Rpb24gayhlKXt2YXIgdD1BKGUpKzEscj1udCh0KTtyZXR1cm4gciYmRChlLHMscix0KSxyfXQuSU5JVElBTF9NRU1PUlk7dmFyIFI9W10sWT1bXSxVPVtdLHg9W107ZnVuY3Rpb24gSChlKXtSLnVuc2hpZnQoZSl9ZnVuY3Rpb24gaihlKXt4LnVuc2hpZnQoZSl9WS5wdXNoKHtmdW5jOmZ1bmN0aW9uKCl7dHQoKX19KTt2YXIgej0wLE49bnVsbCxCPW51bGw7ZnVuY3Rpb24gVihlKXt0Lm9uQWJvcnQmJnQub25BYm9ydChlKSwkKGUrPSIiKSxfPSEwLGU9ImFib3J0KCIrZSsiKS4gQnVpbGQgd2l0aCAtcyBBU1NFUlRJT05TPTEgZm9yIG1vcmUgaW5mby4iO3ZhciByPW5ldyBXZWJBc3NlbWJseS5SdW50aW1lRXJyb3IoZSk7dGhyb3cgYShyKSxyfXQucHJlbG9hZGVkSW1hZ2VzPXt9LHQucHJlbG9hZGVkQXVkaW9zPXt9O3ZhciBMLEosRz0iRlBoaVNlbHBoSURUb2tlbml6ZXJXYXNtLndhc20iO2Z1bmN0aW9uIHEoZSl7Zm9yKDtlLmxlbmd0aD4wOyl7dmFyIHI9ZS5zaGlmdCgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByKXt2YXIgbj1yLmZ1bmM7Im51bWJlciI9PXR5cGVvZiBuP3ZvaWQgMD09PXIuYXJnP20uZ2V0KG4pKCk6bS5nZXQobikoci5hcmcpOm4odm9pZCAwPT09ci5hcmc/bnVsbDpyLmFyZyl9ZWxzZSByKHQpfX1MPUcsSj0iZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIsKFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aD9MLnN0YXJ0c1dpdGgoSik6MD09PUwuaW5kZXhPZihKKSl8fChyPUcsRz10LmxvY2F0ZUZpbGU/dC5sb2NhdGVGaWxlKHIsVCk6VCtyKTtmdW5jdGlvbiBYKGUpe3RoaXMuZXhjUHRyPWUsdGhpcy5wdHI9ZS0xNix0aGlzLnNldF90eXBlPWZ1bmN0aW9uKGUpe2RbdGhpcy5wdHIrOD4+Ml09ZX0sdGhpcy5nZXRfdHlwZT1mdW5jdGlvbigpe3JldHVybiBkW3RoaXMucHRyKzg+PjJdfSx0aGlzLnNldF9kZXN0cnVjdG9yPWZ1bmN0aW9uKGUpe2RbdGhpcy5wdHIrMD4+Ml09ZX0sdGhpcy5nZXRfZGVzdHJ1Y3Rvcj1mdW5jdGlvbigpe3JldHVybiBkW3RoaXMucHRyKzA+PjJdfSx0aGlzLnNldF9yZWZjb3VudD1mdW5jdGlvbihlKXtkW3RoaXMucHRyKzQ+PjJdPWV9LHRoaXMuc2V0X2NhdWdodD1mdW5jdGlvbihlKXtlPWU/MTowLHNbdGhpcy5wdHIrMTI+PjBdPWV9LHRoaXMuZ2V0X2NhdWdodD1mdW5jdGlvbigpe3JldHVybiAwIT1zW3RoaXMucHRyKzEyPj4wXX0sdGhpcy5zZXRfcmV0aHJvd249ZnVuY3Rpb24oZSl7ZT1lPzE6MCxzW3RoaXMucHRyKzEzPj4wXT1lfSx0aGlzLmdldF9yZXRocm93bj1mdW5jdGlvbigpe3JldHVybiAwIT1zW3RoaXMucHRyKzEzPj4wXX0sdGhpcy5pbml0PWZ1bmN0aW9uKGUsdCl7dGhpcy5zZXRfdHlwZShlKSx0aGlzLnNldF9kZXN0cnVjdG9yKHQpLHRoaXMuc2V0X3JlZmNvdW50KDApLHRoaXMuc2V0X2NhdWdodCghMSksdGhpcy5zZXRfcmV0aHJvd24oITEpfSx0aGlzLmFkZF9yZWY9ZnVuY3Rpb24oKXt2YXIgZT1kW3RoaXMucHRyKzQ+PjJdO2RbdGhpcy5wdHIrND4+Ml09ZSsxfSx0aGlzLnJlbGVhc2VfcmVmPWZ1bmN0aW9uKCl7dmFyIGU9ZFt0aGlzLnB0cis0Pj4yXTtyZXR1cm4gZFt0aGlzLnB0cis0Pj4yXT1lLTEsMT09PWV9fWZ1bmN0aW9uIFooKXtpZighWi5jYWxsZWQpe1ouY2FsbGVkPSEwO3ZhciBlPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSx0PW5ldyBEYXRlKGUsMCwxKSxyPW5ldyBEYXRlKGUsNiwxKSxuPXQuZ2V0VGltZXpvbmVPZmZzZXQoKSxhPXIuZ2V0VGltZXpvbmVPZmZzZXQoKSxvPU1hdGgubWF4KG4sYSk7ZFtzdCgpPj4yXT02MCpvLGRbdXQoKT4+Ml09TnVtYmVyKG4hPWEpO3ZhciBpPWYodCksdT1mKHIpLHM9ayhpKSxjPWsodSk7YTxuPyhkW2l0KCk+PjJdPXMsZFtpdCgpKzQ+PjJdPWMpOihkW2l0KCk+PjJdPWMsZFtpdCgpKzQ+PjJdPXMpfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9ZS50b1RpbWVTdHJpbmcoKS5tYXRjaCgvXCgoW0EtWmEteiBdKylcKSQvKTtyZXR1cm4gdD90WzFdOiJHTVQifX1mdW5jdGlvbiBLKGUpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIDA7Y2FzZSAyOnJldHVybiAxO2Nhc2UgNDpyZXR1cm4gMjtjYXNlIDg6cmV0dXJuIDM7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIHR5cGUgc2l6ZTogIitlKX19dmFyIFE9dm9pZCAwO2Z1bmN0aW9uIGVlKGUpe2Zvcih2YXIgdD0iIixyPWU7Y1tyXTspdCs9UVtjW3IrK11dO3JldHVybiB0fXZhciB0ZT17fSxyZT17fSxuZT17fTtmdW5jdGlvbiBhZShlKXtpZih2b2lkIDA9PT1lKXJldHVybiJfdW5rbm93biI7dmFyIHQ9KGU9ZS5yZXBsYWNlKC9bXmEtekEtWjAtOV9dL2csIiQiKSkuY2hhckNvZGVBdCgwKTtyZXR1cm4gdD49NDgmJnQ8PTU3PyJfIitlOmV9ZnVuY3Rpb24gb2UoZSx0KXtyZXR1cm4gZT1hZShlKSxuZXcgRnVuY3Rpb24oImJvZHkiLCJyZXR1cm4gZnVuY3Rpb24gIitlKycoKSB7XG4gICAgInVzZSBzdHJpY3QiOyAgICByZXR1cm4gYm9keS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbicpKHQpfWZ1bmN0aW9uIGllKGUsdCl7dmFyIHI9b2UodCwoZnVuY3Rpb24oZSl7dGhpcy5uYW1lPXQsdGhpcy5tZXNzYWdlPWU7dmFyIHI9bmV3IEVycm9yKGUpLnN0YWNrO3ZvaWQgMCE9PXImJih0aGlzLnN0YWNrPXRoaXMudG9TdHJpbmcoKSsiXG4iK3IucmVwbGFjZSgvXkVycm9yKDpbXlxuXSopP1xuLywiIikpfSkpO3JldHVybiByLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yLHIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMubWVzc2FnZT90aGlzLm5hbWU6dGhpcy5uYW1lKyI6ICIrdGhpcy5tZXNzYWdlfSxyfXZhciB1ZT12b2lkIDA7ZnVuY3Rpb24gc2UoZSl7dGhyb3cgbmV3IHVlKGUpfXZhciBjZT12b2lkIDA7ZnVuY3Rpb24gZmUoZSl7dGhyb3cgbmV3IGNlKGUpfWZ1bmN0aW9uIGxlKGUsdCxyKXtmdW5jdGlvbiBuKHQpe3ZhciBuPXIodCk7bi5sZW5ndGghPT1lLmxlbmd0aCYmZmUoIk1pc21hdGNoZWQgdHlwZSBjb252ZXJ0ZXIgY291bnQiKTtmb3IodmFyIGE9MDthPGUubGVuZ3RoOysrYSlkZShlW2FdLG5bYV0pfWUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bmVbZV09dH0pKTt2YXIgYT1uZXcgQXJyYXkodC5sZW5ndGgpLG89W10saT0wO3QuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtyZS5oYXNPd25Qcm9wZXJ0eShlKT9hW3RdPXJlW2VdOihvLnB1c2goZSksdGUuaGFzT3duUHJvcGVydHkoZSl8fCh0ZVtlXT1bXSksdGVbZV0ucHVzaCgoZnVuY3Rpb24oKXthW3RdPXJlW2VdLCsraT09PW8ubGVuZ3RoJiZuKGEpfSkpKX0pKSwwPT09by5sZW5ndGgmJm4oYSl9ZnVuY3Rpb24gZGUoZSx0LHIpe2lmKHI9cnx8e30sISgiYXJnUGFja0FkdmFuY2UiaW4gdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigicmVnaXN0ZXJUeXBlIHJlZ2lzdGVyZWRJbnN0YW5jZSByZXF1aXJlcyBhcmdQYWNrQWR2YW5jZSIpO3ZhciBuPXQubmFtZTtpZihlfHxzZSgndHlwZSAiJytuKyciIG11c3QgaGF2ZSBhIHBvc2l0aXZlIGludGVnZXIgdHlwZWlkIHBvaW50ZXInKSxyZS5oYXNPd25Qcm9wZXJ0eShlKSl7aWYoci5pZ25vcmVEdXBsaWNhdGVSZWdpc3RyYXRpb25zKXJldHVybjtzZSgiQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJyIrbisiJyB0d2ljZSIpfWlmKHJlW2VdPXQsZGVsZXRlIG5lW2VdLHRlLmhhc093blByb3BlcnR5KGUpKXt2YXIgYT10ZVtlXTtkZWxldGUgdGVbZV0sYS5mb3JFYWNoKChmdW5jdGlvbihlKXtlKCl9KSl9fWZ1bmN0aW9uIHBlKGUpe3NlKGUuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3MubmFtZSsiIGluc3RhbmNlIGFscmVhZHkgZGVsZXRlZCIpfXZhciBoZT0hMTtmdW5jdGlvbiB5ZShlKXt9ZnVuY3Rpb24gbWUoZSl7dmFyIHQ7ZS5jb3VudC52YWx1ZS09MSwwPT09ZS5jb3VudC52YWx1ZSYmKCh0PWUpLnNtYXJ0UHRyP3Quc21hcnRQdHJUeXBlLnJhd0Rlc3RydWN0b3IodC5zbWFydFB0cik6dC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcy5yYXdEZXN0cnVjdG9yKHQucHRyKSl9ZnVuY3Rpb24gZ2UoZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBGaW5hbGl6YXRpb25Hcm91cD8oZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGUpOihoZT1uZXcgRmluYWxpemF0aW9uR3JvdXAoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLm5leHQoKTshdC5kb25lO3Q9ZS5uZXh0KCkpe3ZhciByPXQudmFsdWU7ci5wdHI/bWUocik6Y29uc29sZS53YXJuKCJvYmplY3QgYWxyZWFkeSBkZWxldGVkOiAiK3IucHRyKX19KSksZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGhlLnJlZ2lzdGVyKGUsZS4kJCxlLiQkKSxlfSx5ZT1mdW5jdGlvbihlKXtoZS51bnJlZ2lzdGVyKGUuJCQpfSxnZShlKSl9dmFyIHZlPXZvaWQgMCx3ZT1bXTtmdW5jdGlvbiBiZSgpe2Zvcig7d2UubGVuZ3RoOyl7dmFyIGU9d2UucG9wKCk7ZS4kJC5kZWxldGVTY2hlZHVsZWQ9ITEsZS5kZWxldGUoKX19ZnVuY3Rpb24gVGUoKXt9dmFyICRlPXt9O2Z1bmN0aW9uIF9lKGUsdCxyKXtpZih2b2lkIDA9PT1lW3RdLm92ZXJsb2FkVGFibGUpe3ZhciBuPWVbdF07ZVt0XT1mdW5jdGlvbigpe3JldHVybiBlW3RdLm92ZXJsb2FkVGFibGUuaGFzT3duUHJvcGVydHkoYXJndW1lbnRzLmxlbmd0aCl8fHNlKCJGdW5jdGlvbiAnIityKyInIGNhbGxlZCB3aXRoIGFuIGludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cyAoIithcmd1bWVudHMubGVuZ3RoKyIpIC0gZXhwZWN0cyBvbmUgb2YgKCIrZVt0XS5vdmVybG9hZFRhYmxlKyIpISIpLGVbdF0ub3ZlcmxvYWRUYWJsZVthcmd1bWVudHMubGVuZ3RoXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGVbdF0ub3ZlcmxvYWRUYWJsZT1bXSxlW3RdLm92ZXJsb2FkVGFibGVbbi5hcmdDb3VudF09bn19ZnVuY3Rpb24gQ2UoZSx0LHIsbixhLG8saSx1KXt0aGlzLm5hbWU9ZSx0aGlzLmNvbnN0cnVjdG9yPXQsdGhpcy5pbnN0YW5jZVByb3RvdHlwZT1yLHRoaXMucmF3RGVzdHJ1Y3Rvcj1uLHRoaXMuYmFzZUNsYXNzPWEsdGhpcy5nZXRBY3R1YWxUeXBlPW8sdGhpcy51cGNhc3Q9aSx0aGlzLmRvd25jYXN0PXUsdGhpcy5wdXJlVmlydHVhbEZ1bmN0aW9ucz1bXX1mdW5jdGlvbiBQZShlLHQscil7Zm9yKDt0IT09cjspdC51cGNhc3R8fHNlKCJFeHBlY3RlZCBudWxsIG9yIGluc3RhbmNlIG9mICIrci5uYW1lKyIsIGdvdCBhbiBpbnN0YW5jZSBvZiAiK3QubmFtZSksZT10LnVwY2FzdChlKSx0PXQuYmFzZUNsYXNzO3JldHVybiBlfWZ1bmN0aW9uIERlKGUsdCl7aWYobnVsbD09PXQpcmV0dXJuIHRoaXMuaXNSZWZlcmVuY2UmJnNlKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKSwwO3QuJCR8fHNlKCdDYW5ub3QgcGFzcyAiJytWZSh0KSsnIiBhcyBhICcrdGhpcy5uYW1lKSx0LiQkLnB0cnx8c2UoIkNhbm5vdCBwYXNzIGRlbGV0ZWQgb2JqZWN0IGFzIGEgcG9pbnRlciBvZiB0eXBlICIrdGhpcy5uYW1lKTt2YXIgcj10LiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzO3JldHVybiBQZSh0LiQkLnB0cixyLHRoaXMucmVnaXN0ZXJlZENsYXNzKX1mdW5jdGlvbiBBZShlLHQpe2lmKG51bGw9PT10KXJldHVybiB0aGlzLmlzUmVmZXJlbmNlJiZzZSgibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSksdGhpcy5pc1NtYXJ0UG9pbnRlcj8ocj10aGlzLnJhd0NvbnN0cnVjdG9yKCksbnVsbCE9PWUmJmUucHVzaCh0aGlzLnJhd0Rlc3RydWN0b3Iscikscik6MDt0LiQkfHxzZSgnQ2Fubm90IHBhc3MgIicrVmUodCkrJyIgYXMgYSAnK3RoaXMubmFtZSksdC4kJC5wdHJ8fHNlKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSksIXRoaXMuaXNDb25zdCYmdC4kJC5wdHJUeXBlLmlzQ29uc3QmJnNlKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIrKHQuJCQuc21hcnRQdHJUeXBlP3QuJCQuc21hcnRQdHJUeXBlLm5hbWU6dC4kJC5wdHJUeXBlLm5hbWUpKyIgdG8gcGFyYW1ldGVyIHR5cGUgIit0aGlzLm5hbWUpO3ZhciByLG49dC4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcztpZihyPVBlKHQuJCQucHRyLG4sdGhpcy5yZWdpc3RlcmVkQ2xhc3MpLHRoaXMuaXNTbWFydFBvaW50ZXIpc3dpdGNoKHZvaWQgMD09PXQuJCQuc21hcnRQdHImJnNlKCJQYXNzaW5nIHJhdyBwb2ludGVyIHRvIHNtYXJ0IHBvaW50ZXIgaXMgaWxsZWdhbCIpLHRoaXMuc2hhcmluZ1BvbGljeSl7Y2FzZSAwOnQuJCQuc21hcnRQdHJUeXBlPT09dGhpcz9yPXQuJCQuc21hcnRQdHI6c2UoIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgIisodC4kJC5zbWFydFB0clR5cGU/dC4kJC5zbWFydFB0clR5cGUubmFtZTp0LiQkLnB0clR5cGUubmFtZSkrIiB0byBwYXJhbWV0ZXIgdHlwZSAiK3RoaXMubmFtZSk7YnJlYWs7Y2FzZSAxOnI9dC4kJC5zbWFydFB0cjticmVhaztjYXNlIDI6aWYodC4kJC5zbWFydFB0clR5cGU9PT10aGlzKXI9dC4kJC5zbWFydFB0cjtlbHNle3ZhciBhPXQuY2xvbmUoKTtyPXRoaXMucmF3U2hhcmUocixCZSgoZnVuY3Rpb24oKXthLmRlbGV0ZSgpfSkpKSxudWxsIT09ZSYmZS5wdXNoKHRoaXMucmF3RGVzdHJ1Y3RvcixyKX1icmVhaztkZWZhdWx0OnNlKCJVbnN1cHBvcnRpbmcgc2hhcmluZyBwb2xpY3kiKX1yZXR1cm4gcn1mdW5jdGlvbiBPZShlLHQpe2lmKG51bGw9PT10KXJldHVybiB0aGlzLmlzUmVmZXJlbmNlJiZzZSgibnVsbCBpcyBub3QgYSB2YWxpZCAiK3RoaXMubmFtZSksMDt0LiQkfHxzZSgnQ2Fubm90IHBhc3MgIicrVmUodCkrJyIgYXMgYSAnK3RoaXMubmFtZSksdC4kJC5wdHJ8fHNlKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSksdC4kJC5wdHJUeXBlLmlzQ29uc3QmJnNlKCJDYW5ub3QgY29udmVydCBhcmd1bWVudCBvZiB0eXBlICIrdC4kJC5wdHJUeXBlLm5hbWUrIiB0byBwYXJhbWV0ZXIgdHlwZSAiK3RoaXMubmFtZSk7dmFyIHI9dC4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcztyZXR1cm4gUGUodC4kJC5wdHIscix0aGlzLnJlZ2lzdGVyZWRDbGFzcyl9ZnVuY3Rpb24gU2UoZSl7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKHBbZT4+Ml0pfWZ1bmN0aW9uIEZlKGUsdCxyKXtpZih0PT09cilyZXR1cm4gZTtpZih2b2lkIDA9PT1yLmJhc2VDbGFzcylyZXR1cm4gbnVsbDt2YXIgbj1GZShlLHQsci5iYXNlQ2xhc3MpO3JldHVybiBudWxsPT09bj9udWxsOnIuZG93bmNhc3Qobil9dmFyIE1lPXt9O2Z1bmN0aW9uIEVlKGUsdCl7cmV0dXJuIHQucHRyVHlwZSYmdC5wdHJ8fGZlKCJtYWtlQ2xhc3NIYW5kbGUgcmVxdWlyZXMgcHRyIGFuZCBwdHJUeXBlIiksISF0LnNtYXJ0UHRyVHlwZSE9ISF0LnNtYXJ0UHRyJiZmZSgiQm90aCBzbWFydFB0clR5cGUgYW5kIHNtYXJ0UHRyIG11c3QgYmUgc3BlY2lmaWVkIiksdC5jb3VudD17dmFsdWU6MX0sZ2UoT2JqZWN0LmNyZWF0ZShlLHskJDp7dmFsdWU6dH19KSl9ZnVuY3Rpb24gV2UoZSx0LHIsbixhLG8saSx1LHMsYyxmKXt0aGlzLm5hbWU9ZSx0aGlzLnJlZ2lzdGVyZWRDbGFzcz10LHRoaXMuaXNSZWZlcmVuY2U9cix0aGlzLmlzQ29uc3Q9bix0aGlzLmlzU21hcnRQb2ludGVyPWEsdGhpcy5wb2ludGVlVHlwZT1vLHRoaXMuc2hhcmluZ1BvbGljeT1pLHRoaXMucmF3R2V0UG9pbnRlZT11LHRoaXMucmF3Q29uc3RydWN0b3I9cyx0aGlzLnJhd1NoYXJlPWMsdGhpcy5yYXdEZXN0cnVjdG9yPWYsYXx8dm9pZCAwIT09dC5iYXNlQ2xhc3M/dGhpcy50b1dpcmVUeXBlPUFlOm4/KHRoaXMudG9XaXJlVHlwZT1EZSx0aGlzLmRlc3RydWN0b3JGdW5jdGlvbj1udWxsKToodGhpcy50b1dpcmVUeXBlPU9lLHRoaXMuZGVzdHJ1Y3RvckZ1bmN0aW9uPW51bGwpfWZ1bmN0aW9uIEllKGUscil7ZT1lZShlKTt2YXIgbj1mdW5jdGlvbigpe3ZhciBuLGEsbztyZXR1cm4tMSE9ZS5pbmRleE9mKCJqIik/KG49ZSxhPXIsbz1bXSxmdW5jdGlvbigpe28ubGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGg7Zm9yKHZhciBlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylvW2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3ZhciBhLG8saTtyZXR1cm4tMSE9ZS5pbmRleE9mKCJqIik/KGE9cixvPW4saT10WyJkeW5DYWxsXyIrZV0sbyYmby5sZW5ndGg/aS5hcHBseShudWxsLFthXS5jb25jYXQobykpOmkuY2FsbChudWxsLGEpKTptLmdldChyKS5hcHBseShudWxsLG4pfShuLGEsbyl9KTptLmdldChyKX0oKTtyZXR1cm4iZnVuY3Rpb24iIT10eXBlb2YgbiYmc2UoInVua25vd24gZnVuY3Rpb24gcG9pbnRlciB3aXRoIHNpZ25hdHVyZSAiK2UrIjogIityKSxufXZhciBrZT12b2lkIDA7ZnVuY3Rpb24gUmUoZSl7dmFyIHQ9YXQoZSkscj1lZSh0KTtyZXR1cm4gb3QodCkscn1mdW5jdGlvbiBZZShlLHQpe3ZhciByPVtdLG49e307dGhyb3cgdC5mb3JFYWNoKChmdW5jdGlvbiBlKHQpe2lmKCFuW3RdJiYhcmVbdF0pe2lmKG5lW3RdKXJldHVybiB2b2lkIG5lW3RdLmZvckVhY2goZSk7ci5wdXNoKHQpLG5bdF09ITB9fSkpLG5ldyBrZShlKyI6ICIrci5tYXAoUmUpLmpvaW4oWyIsICJdKSl9ZnVuY3Rpb24gVWUoZSx0KXtmb3IodmFyIHI9W10sbj0wO248ZTtuKyspci5wdXNoKGRbKHQ+PjIpK25dKTtyZXR1cm4gcn1mdW5jdGlvbiB4ZShlKXtmb3IoO2UubGVuZ3RoOyl7dmFyIHQ9ZS5wb3AoKTtlLnBvcCgpKHQpfX1mdW5jdGlvbiBIZShlLHQscil7cmV0dXJuIGUgaW5zdGFuY2VvZiBPYmplY3R8fHNlKHIrJyB3aXRoIGludmFsaWQgInRoaXMiOiAnK2UpLGUgaW5zdGFuY2VvZiB0LnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcnx8c2UocisnIGluY29tcGF0aWJsZSB3aXRoICJ0aGlzIiBvZiB0eXBlICcrZS5jb25zdHJ1Y3Rvci5uYW1lKSxlLiQkLnB0cnx8c2UoImNhbm5vdCBjYWxsIGVtc2NyaXB0ZW4gYmluZGluZyBtZXRob2QgIityKyIgb24gZGVsZXRlZCBvYmplY3QiKSxQZShlLiQkLnB0cixlLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLHQucmVnaXN0ZXJlZENsYXNzKX12YXIgamU9W10semU9W3t9LHt2YWx1ZTp2b2lkIDB9LHt2YWx1ZTpudWxsfSx7dmFsdWU6ITB9LHt2YWx1ZTohMX1dO2Z1bmN0aW9uIE5lKGUpe2U+NCYmMD09LS16ZVtlXS5yZWZjb3VudCYmKHplW2VdPXZvaWQgMCxqZS5wdXNoKGUpKX1mdW5jdGlvbiBCZShlKXtzd2l0Y2goZSl7Y2FzZSB2b2lkIDA6cmV0dXJuIDE7Y2FzZSBudWxsOnJldHVybiAyO2Nhc2UhMDpyZXR1cm4gMztjYXNlITE6cmV0dXJuIDQ7ZGVmYXVsdDp2YXIgdD1qZS5sZW5ndGg/amUucG9wKCk6emUubGVuZ3RoO3JldHVybiB6ZVt0XT17cmVmY291bnQ6MSx2YWx1ZTplfSx0fX1mdW5jdGlvbiBWZShlKXtpZihudWxsPT09ZSlyZXR1cm4ibnVsbCI7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuIm9iamVjdCI9PT10fHwiYXJyYXkiPT09dHx8ImZ1bmN0aW9uIj09PXQ/ZS50b1N0cmluZygpOiIiK2V9ZnVuY3Rpb24gTGUoZSl7cmV0dXJuIGUlND09MCYmKGUlMTAwIT0wfHxlJTQwMD09MCl9ZnVuY3Rpb24gSmUoZSx0KXtmb3IodmFyIHI9MCxuPTA7bjw9dDtyKz1lW24rK10pO3JldHVybiByfWc9ZnVuY3Rpb24oKXtyZXR1cm4gcGVyZm9ybWFuY2Uubm93KCl9O3ZhciBHZT1bMzEsMjksMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdLHFlPVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07ZnVuY3Rpb24gWGUoZSx0KXtmb3IodmFyIHI9bmV3IERhdGUoZS5nZXRUaW1lKCkpO3Q+MDspe3ZhciBuPUxlKHIuZ2V0RnVsbFllYXIoKSksYT1yLmdldE1vbnRoKCksbz0obj9HZTpxZSlbYV07aWYoISh0Pm8tci5nZXREYXRlKCkpKXtyLnNldERhdGUoci5nZXREYXRlKCkrdCk7YnJlYWt9dC09by1yLmdldERhdGUoKSsxLHIuc2V0RGF0ZSgxKSxhPDExP3Iuc2V0TW9udGgoYSsxKTooci5zZXRNb250aCgwKSxyLnNldEZ1bGxZZWFyKHIuZ2V0RnVsbFllYXIoKSsxKSl9cmV0dXJuIHJ9ZnVuY3Rpb24gWmUoZSl7cmV0dXJuIHBhcnNlSW50KGUpfWZ1bmN0aW9uIEtlKGUsdCxyKXt2YXIgbj1yPjA/cjpBKGUpKzEsYT1uZXcgQXJyYXkobiksbz1EKGUsYSwwLGEubGVuZ3RoKTtyZXR1cm4gdCYmKGEubGVuZ3RoPW8pLGF9IWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheSgyNTYpLHQ9MDt0PDI1NjsrK3QpZVt0XT1TdHJpbmcuZnJvbUNoYXJDb2RlKHQpO1E9ZX0oKSx1ZT10LkJpbmRpbmdFcnJvcj1pZShFcnJvciwiQmluZGluZ0Vycm9yIiksY2U9dC5JbnRlcm5hbEVycm9yPWllKEVycm9yLCJJbnRlcm5hbEVycm9yIiksVGUucHJvdG90eXBlLmlzQWxpYXNPZj1mdW5jdGlvbihlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBUZSYmZSBpbnN0YW5jZW9mIFRlKSlyZXR1cm4hMTtmb3IodmFyIHQ9dGhpcy4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcyxyPXRoaXMuJCQucHRyLG49ZS4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcyxhPWUuJCQucHRyO3QuYmFzZUNsYXNzOylyPXQudXBjYXN0KHIpLHQ9dC5iYXNlQ2xhc3M7Zm9yKDtuLmJhc2VDbGFzczspYT1uLnVwY2FzdChhKSxuPW4uYmFzZUNsYXNzO3JldHVybiB0PT09biYmcj09PWF9LFRlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe2lmKHRoaXMuJCQucHRyfHxwZSh0aGlzKSx0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlKXJldHVybiB0aGlzLiQkLmNvdW50LnZhbHVlKz0xLHRoaXM7dmFyIGUsdD1nZShPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSx7JCQ6e3ZhbHVlOntjb3VudDooZT10aGlzLiQkKS5jb3VudCxkZWxldGVTY2hlZHVsZWQ6ZS5kZWxldGVTY2hlZHVsZWQscHJlc2VydmVQb2ludGVyT25EZWxldGU6ZS5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSxwdHI6ZS5wdHIscHRyVHlwZTplLnB0clR5cGUsc21hcnRQdHI6ZS5zbWFydFB0cixzbWFydFB0clR5cGU6ZS5zbWFydFB0clR5cGV9fX0pKTtyZXR1cm4gdC4kJC5jb3VudC52YWx1ZSs9MSx0LiQkLmRlbGV0ZVNjaGVkdWxlZD0hMSx0fSxUZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7dGhpcy4kJC5wdHJ8fHBlKHRoaXMpLHRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkJiYhdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSYmc2UoIk9iamVjdCBhbHJlYWR5IHNjaGVkdWxlZCBmb3IgZGVsZXRpb24iKSx5ZSh0aGlzKSxtZSh0aGlzLiQkKSx0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlfHwodGhpcy4kJC5zbWFydFB0cj12b2lkIDAsdGhpcy4kJC5wdHI9dm9pZCAwKX0sVGUucHJvdG90eXBlLmlzRGVsZXRlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLiQkLnB0cn0sVGUucHJvdG90eXBlLmRlbGV0ZUxhdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCQucHRyfHxwZSh0aGlzKSx0aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZCYmIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUmJnNlKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIiksd2UucHVzaCh0aGlzKSwxPT09d2UubGVuZ3RoJiZ2ZSYmdmUoYmUpLHRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkPSEwLHRoaXN9LFdlLnByb3RvdHlwZS5nZXRQb2ludGVlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJhd0dldFBvaW50ZWUmJihlPXRoaXMucmF3R2V0UG9pbnRlZShlKSksZX0sV2UucHJvdG90eXBlLmRlc3RydWN0b3I9ZnVuY3Rpb24oZSl7dGhpcy5yYXdEZXN0cnVjdG9yJiZ0aGlzLnJhd0Rlc3RydWN0b3IoZSl9LFdlLnByb3RvdHlwZS5hcmdQYWNrQWR2YW5jZT04LFdlLnByb3RvdHlwZS5yZWFkVmFsdWVGcm9tUG9pbnRlcj1TZSxXZS5wcm90b3R5cGUuZGVsZXRlT2JqZWN0PWZ1bmN0aW9uKGUpe251bGwhPT1lJiZlLmRlbGV0ZSgpfSxXZS5wcm90b3R5cGUuZnJvbVdpcmVUeXBlPWZ1bmN0aW9uKGUpe3ZhciB0LHI9dGhpcy5nZXRQb2ludGVlKGUpO2lmKCFyKXJldHVybiB0aGlzLmRlc3RydWN0b3IoZSksbnVsbDt2YXIgbj1NZVtmdW5jdGlvbihlLHQpe2Zvcih2b2lkIDA9PT10JiZzZSgicHRyIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIik7ZS5iYXNlQ2xhc3M7KXQ9ZS51cGNhc3QodCksZT1lLmJhc2VDbGFzcztyZXR1cm4gdH0odGhpcy5yZWdpc3RlcmVkQ2xhc3MscildO2lmKHZvaWQgMCE9PW4pe2lmKDA9PT1uLiQkLmNvdW50LnZhbHVlKXJldHVybiBuLiQkLnB0cj1yLG4uJCQuc21hcnRQdHI9ZSxuLmNsb25lKCk7dmFyIGE9bi5jbG9uZSgpO3JldHVybiB0aGlzLmRlc3RydWN0b3IoZSksYX1mdW5jdGlvbiBvKCl7cmV0dXJuIHRoaXMuaXNTbWFydFBvaW50ZXI/RWUodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcy5wb2ludGVlVHlwZSxwdHI6cixzbWFydFB0clR5cGU6dGhpcyxzbWFydFB0cjplfSk6RWUodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcyxwdHI6ZX0pfXZhciBpPSRlW3RoaXMucmVnaXN0ZXJlZENsYXNzLmdldEFjdHVhbFR5cGUocildO2lmKCFpKXJldHVybiBvLmNhbGwodGhpcyk7dD10aGlzLmlzQ29uc3Q/aS5jb25zdFBvaW50ZXJUeXBlOmkucG9pbnRlclR5cGU7dmFyIHU9RmUocix0aGlzLnJlZ2lzdGVyZWRDbGFzcyx0LnJlZ2lzdGVyZWRDbGFzcyk7cmV0dXJuIG51bGw9PT11P28uY2FsbCh0aGlzKTp0aGlzLmlzU21hcnRQb2ludGVyP0VlKHQucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOnQscHRyOnUsc21hcnRQdHJUeXBlOnRoaXMsc21hcnRQdHI6ZX0pOkVlKHQucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOnQscHRyOnV9KX0sdC5nZXRJbmhlcml0ZWRJbnN0YW5jZUNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKE1lKS5sZW5ndGh9LHQuZ2V0TGl2ZUluaGVyaXRlZEluc3RhbmNlcz1mdW5jdGlvbigpe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiBNZSlNZS5oYXNPd25Qcm9wZXJ0eSh0KSYmZS5wdXNoKE1lW3RdKTtyZXR1cm4gZX0sdC5mbHVzaFBlbmRpbmdEZWxldGVzPWJlLHQuc2V0RGVsYXlGdW5jdGlvbj1mdW5jdGlvbihlKXt2ZT1lLHdlLmxlbmd0aCYmdmUmJnZlKGJlKX0sa2U9dC5VbmJvdW5kVHlwZUVycm9yPWllKEVycm9yLCJVbmJvdW5kVHlwZUVycm9yIiksdC5jb3VudF9lbXZhbF9oYW5kbGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD01O3Q8emUubGVuZ3RoOysrdCl2b2lkIDAhPT16ZVt0XSYmKytlO3JldHVybiBlfSx0LmdldF9maXJzdF9lbXZhbD1mdW5jdGlvbigpe2Zvcih2YXIgZT01O2U8emUubGVuZ3RoOysrZSlpZih2b2lkIDAhPT16ZVtlXSlyZXR1cm4gemVbZV07cmV0dXJuIG51bGx9O3ZhciBRZT17YzpmdW5jdGlvbihlKXtyZXR1cm4gbnQoZSsxNikrMTZ9LGI6ZnVuY3Rpb24oZSx0LHIpe3Rocm93IG5ldyBYKGUpLmluaXQodCxyKSxlfSx3OmZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhLG8saSx1LHMsYyxmO3JldHVybiByPWUsbj10LFooKSxhPW5ldyBEYXRlKDFlMypkW3I+PjJdKSxkW24+PjJdPWEuZ2V0U2Vjb25kcygpLGRbbis0Pj4yXT1hLmdldE1pbnV0ZXMoKSxkW24rOD4+Ml09YS5nZXRIb3VycygpLGRbbisxMj4+Ml09YS5nZXREYXRlKCksZFtuKzE2Pj4yXT1hLmdldE1vbnRoKCksZFtuKzIwPj4yXT1hLmdldEZ1bGxZZWFyKCktMTkwMCxkW24rMjQ+PjJdPWEuZ2V0RGF5KCksbz1uZXcgRGF0ZShhLmdldEZ1bGxZZWFyKCksMCwxKSxpPShhLmdldFRpbWUoKS1vLmdldFRpbWUoKSkvODY0ZTV8MCxkW24rMjg+PjJdPWksZFtuKzM2Pj4yXT0tNjAqYS5nZXRUaW1lem9uZU9mZnNldCgpLGM9MHwoKHU9bmV3IERhdGUoYS5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSkhPShzPW8uZ2V0VGltZXpvbmVPZmZzZXQoKSkmJmEuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4ocyx1KSksZFtuKzMyPj4yXT1jLGY9ZFtpdCgpKyhjPzQ6MCk+PjJdLGRbbis0MD4+Ml09ZixufSx5OmZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIG89SyhyKTtkZShlLHtuYW1lOnQ9ZWUodCksZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiEhZX0sdG9XaXJlVHlwZTpmdW5jdGlvbihlLHQpe3JldHVybiB0P246YX0sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpmdW5jdGlvbihlKXt2YXIgbjtpZigxPT09ciluPXM7ZWxzZSBpZigyPT09ciluPWY7ZWxzZXtpZig0IT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGJvb2xlYW4gdHlwZSBzaXplOiAiK3QpO249ZH1yZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUobltlPj5vXSl9LGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9LGc6ZnVuY3Rpb24oZSxyLG4sYSxvLGksdSxzLGMsZixsLGQscCl7bD1lZShsKSxpPUllKG8saSkscyYmKHM9SWUodSxzKSksZiYmKGY9SWUoYyxmKSkscD1JZShkLHApO3ZhciBoPWFlKGwpOyFmdW5jdGlvbihlLHIsbil7dC5oYXNPd25Qcm9wZXJ0eShlKT8oc2UoIkNhbm5vdCByZWdpc3RlciBwdWJsaWMgbmFtZSAnIitlKyInIHR3aWNlIiksX2UodCxlLGUpLHQuaGFzT3duUHJvcGVydHkobikmJnNlKCJDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgb3ZlcmxvYWRzIG9mIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBudW1iZXIgb2YgYXJndW1lbnRzICgiK24rIikhIiksdFtlXS5vdmVybG9hZFRhYmxlW25dPXIpOnRbZV09cn0oaCwoZnVuY3Rpb24oKXtZZSgiQ2Fubm90IGNvbnN0cnVjdCAiK2wrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsW2FdKX0pKSxsZShbZSxyLG5dLGE/W2FdOltdLChmdW5jdGlvbihyKXtyPXJbMF0sbz1hPyhuPXIucmVnaXN0ZXJlZENsYXNzKS5pbnN0YW5jZVByb3RvdHlwZTpUZS5wcm90b3R5cGU7dmFyIG4sbyx1PW9lKGgsKGZ1bmN0aW9uKCl7aWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpIT09Yyl0aHJvdyBuZXcgdWUoIlVzZSAnbmV3JyB0byBjb25zdHJ1Y3QgIitsKTtpZih2b2lkIDA9PT1tLmNvbnN0cnVjdG9yX2JvZHkpdGhyb3cgbmV3IHVlKGwrIiBoYXMgbm8gYWNjZXNzaWJsZSBjb25zdHJ1Y3RvciIpO3ZhciBlPW0uY29uc3RydWN0b3JfYm9keVthcmd1bWVudHMubGVuZ3RoXTtpZih2b2lkIDA9PT1lKXRocm93IG5ldyB1ZSgiVHJpZWQgdG8gaW52b2tlIGN0b3Igb2YgIitsKyIgd2l0aCBpbnZhbGlkIG51bWJlciBvZiBwYXJhbWV0ZXJzICgiK2FyZ3VtZW50cy5sZW5ndGgrIikgLSBleHBlY3RlZCAoIitPYmplY3Qua2V5cyhtLmNvbnN0cnVjdG9yX2JvZHkpLnRvU3RyaW5nKCkrIikgcGFyYW1ldGVycyBpbnN0ZWFkISIpO3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pKSxjPU9iamVjdC5jcmVhdGUobyx7Y29uc3RydWN0b3I6e3ZhbHVlOnV9fSk7dS5wcm90b3R5cGU9Yzt2YXIgZCx5LG09bmV3IENlKGwsdSxjLHAsbixpLHMsZiksZz1uZXcgV2UobCxtLCEwLCExLCExKSx2PW5ldyBXZShsKyIqIixtLCExLCExLCExKSx3PW5ldyBXZShsKyIgY29uc3QqIixtLCExLCEwLCExKTtyZXR1cm4gJGVbZV09e3BvaW50ZXJUeXBlOnYsY29uc3RQb2ludGVyVHlwZTp3fSxkPWgseT11LHQuaGFzT3duUHJvcGVydHkoZCl8fGZlKCJSZXBsYWNpbmcgbm9uZXhpc3RhbnQgcHVibGljIHN5bWJvbCIpLHRbZF0ub3ZlcmxvYWRUYWJsZSx0W2RdPXksdFtkXS5hcmdDb3VudD11bmRlZmluZWQsW2csdix3XX0pKX0sZjpmdW5jdGlvbihlLHQscixuLGEsbyl7dD4wfHxWKCJBc3NlcnRpb24gZmFpbGVkOiB1bmRlZmluZWQiKTt2YXIgaT1VZSh0LHIpO2E9SWUobixhKTt2YXIgdT1bb10scz1bXTtsZShbXSxbZV0sKGZ1bmN0aW9uKGUpe3ZhciByPSJjb25zdHJ1Y3RvciAiKyhlPWVbMF0pLm5hbWU7aWYodm9pZCAwPT09ZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keSYmKGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHk9W10pLHZvaWQgMCE9PWUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbdC0xXSl0aHJvdyBuZXcgdWUoIkNhbm5vdCByZWdpc3RlciBtdWx0aXBsZSBjb25zdHJ1Y3RvcnMgd2l0aCBpZGVudGljYWwgbnVtYmVyIG9mIHBhcmFtZXRlcnMgKCIrKHQtMSkrIikgZm9yIGNsYXNzICciK2UubmFtZSsiJyEgT3ZlcmxvYWQgcmVzb2x1dGlvbiBpcyBjdXJyZW50bHkgb25seSBwZXJmb3JtZWQgdXNpbmcgdGhlIHBhcmFtZXRlciBjb3VudCwgbm90IGFjdHVhbCB0eXBlIGluZm8hIik7cmV0dXJuIGUucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbdC0xXT1mdW5jdGlvbigpe1llKCJDYW5ub3QgY29uc3RydWN0ICIrZS5uYW1lKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLGkpfSxsZShbXSxpLChmdW5jdGlvbihuKXtyZXR1cm4gZS5yZWdpc3RlcmVkQ2xhc3MuY29uc3RydWN0b3JfYm9keVt0LTFdPWZ1bmN0aW9uKCl7YXJndW1lbnRzLmxlbmd0aCE9PXQtMSYmc2UocisiIGNhbGxlZCB3aXRoICIrYXJndW1lbnRzLmxlbmd0aCsiIGFyZ3VtZW50cywgZXhwZWN0ZWQgIisodC0xKSkscy5sZW5ndGg9MCx1Lmxlbmd0aD10O2Zvcih2YXIgZT0xO2U8dDsrK2UpdVtlXT1uW2VdLnRvV2lyZVR5cGUocyxhcmd1bWVudHNbZS0xXSk7dmFyIG89YS5hcHBseShudWxsLHUpO3JldHVybiB4ZShzKSxuWzBdLmZyb21XaXJlVHlwZShvKX0sW119KSksW119KSl9LGE6ZnVuY3Rpb24oZSx0LHIsbixhLG8saSx1KXt2YXIgcz1VZShyLG4pO3Q9ZWUodCksbz1JZShhLG8pLGxlKFtdLFtlXSwoZnVuY3Rpb24oZSl7dmFyIG49KGU9ZVswXSkubmFtZSsiLiIrdDtmdW5jdGlvbiBhKCl7WWUoIkNhbm5vdCBjYWxsICIrbisiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixzKX11JiZlLnJlZ2lzdGVyZWRDbGFzcy5wdXJlVmlydHVhbEZ1bmN0aW9ucy5wdXNoKHQpO3ZhciBjPWUucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLGY9Y1t0XTtyZXR1cm4gdm9pZCAwPT09Znx8dm9pZCAwPT09Zi5vdmVybG9hZFRhYmxlJiZmLmNsYXNzTmFtZSE9PWUubmFtZSYmZi5hcmdDb3VudD09PXItMj8oYS5hcmdDb3VudD1yLTIsYS5jbGFzc05hbWU9ZS5uYW1lLGNbdF09YSk6KF9lKGMsdCxuKSxjW3RdLm92ZXJsb2FkVGFibGVbci0yXT1hKSxsZShbXSxzLChmdW5jdGlvbihhKXt2YXIgdT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBvPXQubGVuZ3RoO288MiYmc2UoImFyZ1R5cGVzIGFycmF5IHNpemUgbWlzbWF0Y2ghIE11c3QgYXQgbGVhc3QgZ2V0IHJldHVybiB2YWx1ZSBhbmQgJ3RoaXMnIHR5cGVzISIpO2Zvcih2YXIgaT1udWxsIT09dFsxXSYmbnVsbCE9PXIsdT0hMSxzPTE7czx0Lmxlbmd0aDsrK3MpaWYobnVsbCE9PXRbc10mJnZvaWQgMD09PXRbc10uZGVzdHJ1Y3RvckZ1bmN0aW9uKXt1PSEwO2JyZWFrfXZhciBjPSJ2b2lkIiE9PXRbMF0ubmFtZSxmPSIiLGw9IiI7Zm9yKHM9MDtzPG8tMjsrK3MpZis9KDAhPT1zPyIsICI6IiIpKyJhcmciK3MsbCs9KDAhPT1zPyIsICI6IiIpKyJhcmciK3MrIldpcmVkIjt2YXIgZD0icmV0dXJuIGZ1bmN0aW9uICIrYWUoZSkrIigiK2YrIikge1xuaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09ICIrKG8tMikrIikge1xudGhyb3dCaW5kaW5nRXJyb3IoJ2Z1bmN0aW9uICIrZSsiIGNhbGxlZCB3aXRoICcgKyBhcmd1bWVudHMubGVuZ3RoICsgJyBhcmd1bWVudHMsIGV4cGVjdGVkICIrKG8tMikrIiBhcmdzIScpO1xufVxuIjt1JiYoZCs9InZhciBkZXN0cnVjdG9ycyA9IFtdO1xuIik7dmFyIHA9dT8iZGVzdHJ1Y3RvcnMiOiJudWxsIixoPVsidGhyb3dCaW5kaW5nRXJyb3IiLCJpbnZva2VyIiwiZm4iLCJydW5EZXN0cnVjdG9ycyIsInJldFR5cGUiLCJjbGFzc1BhcmFtIl0seT1bc2UsbixhLHhlLHRbMF0sdFsxXV07Zm9yKGkmJihkKz0idmFyIHRoaXNXaXJlZCA9IGNsYXNzUGFyYW0udG9XaXJlVHlwZSgiK3ArIiwgdGhpcyk7XG4iKSxzPTA7czxvLTI7KytzKWQrPSJ2YXIgYXJnIitzKyJXaXJlZCA9IGFyZ1R5cGUiK3MrIi50b1dpcmVUeXBlKCIrcCsiLCBhcmciK3MrIik7IC8vICIrdFtzKzJdLm5hbWUrIlxuIixoLnB1c2goImFyZ1R5cGUiK3MpLHkucHVzaCh0W3MrMl0pO2lmKGkmJihsPSJ0aGlzV2lyZWQiKyhsLmxlbmd0aD4wPyIsICI6IiIpK2wpLGQrPShjPyJ2YXIgcnYgPSAiOiIiKSsiaW52b2tlcihmbiIrKGwubGVuZ3RoPjA/IiwgIjoiIikrbCsiKTtcbiIsdSlkKz0icnVuRGVzdHJ1Y3RvcnMoZGVzdHJ1Y3RvcnMpO1xuIjtlbHNlIGZvcihzPWk/MToyO3M8dC5sZW5ndGg7KytzKXt2YXIgbT0xPT09cz8idGhpc1dpcmVkIjoiYXJnIisocy0yKSsiV2lyZWQiO251bGwhPT10W3NdLmRlc3RydWN0b3JGdW5jdGlvbiYmKGQrPW0rIl9kdG9yKCIrbSsiKTsgLy8gIit0W3NdLm5hbWUrIlxuIixoLnB1c2gobSsiX2R0b3IiKSx5LnB1c2godFtzXS5kZXN0cnVjdG9yRnVuY3Rpb24pKX1yZXR1cm4gYyYmKGQrPSJ2YXIgcmV0ID0gcmV0VHlwZS5mcm9tV2lyZVR5cGUocnYpO1xucmV0dXJuIHJldDtcbiIpLGQrPSJ9XG4iLGgucHVzaChkKSxmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJuZXdfIGNhbGxlZCB3aXRoIGNvbnN0cnVjdG9yIHR5cGUgIit0eXBlb2YgZSsiIHdoaWNoIGlzIG5vdCBhIGZ1bmN0aW9uIik7dmFyIHI9b2UoZS5uYW1lfHwidW5rbm93bkZ1bmN0aW9uTmFtZSIsKGZ1bmN0aW9uKCl7fSkpO3IucHJvdG90eXBlPWUucHJvdG90eXBlO3ZhciBuPW5ldyByLGE9ZS5hcHBseShuLHQpO3JldHVybiBhIGluc3RhbmNlb2YgT2JqZWN0P2E6bn0oRnVuY3Rpb24saCkuYXBwbHkobnVsbCx5KX0obixhLGUsbyxpKTtyZXR1cm4gdm9pZCAwPT09Y1t0XS5vdmVybG9hZFRhYmxlPyh1LmFyZ0NvdW50PXItMixjW3RdPXUpOmNbdF0ub3ZlcmxvYWRUYWJsZVtyLTJdPXUsW119KSksW119KSl9LHA6ZnVuY3Rpb24oZSx0LHIsbixhLG8saSx1LHMsYyl7dD1lZSh0KSxhPUllKG4sYSksbGUoW10sW2VdLChmdW5jdGlvbihlKXt2YXIgbj0oZT1lWzBdKS5uYW1lKyIuIit0LGY9e2dldDpmdW5jdGlvbigpe1llKCJDYW5ub3QgYWNjZXNzICIrbisiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixbcixpXSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfTtyZXR1cm4gZi5zZXQ9cz9mdW5jdGlvbigpe1llKCJDYW5ub3QgYWNjZXNzICIrbisiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIixbcixpXSl9OmZ1bmN0aW9uKGUpe3NlKG4rIiBpcyBhIHJlYWQtb25seSBwcm9wZXJ0eSIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUsdCxmKSxsZShbXSxzP1tyLGldOltyXSwoZnVuY3Rpb24ocil7dmFyIGk9clswXSxmPXtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1IZSh0aGlzLGUsbisiIGdldHRlciIpO3JldHVybiBpLmZyb21XaXJlVHlwZShhKG8sdCkpfSxlbnVtZXJhYmxlOiEwfTtpZihzKXtzPUllKHUscyk7dmFyIGw9clsxXTtmLnNldD1mdW5jdGlvbih0KXt2YXIgcj1IZSh0aGlzLGUsbisiIHNldHRlciIpLGE9W107cyhjLHIsbC50b1dpcmVUeXBlKGEsdCkpLHhlKGEpfX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHQsZiksW119KSksW119KSl9LHg6ZnVuY3Rpb24oZSx0KXtkZShlLHtuYW1lOnQ9ZWUodCksZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKGUpe3ZhciB0PXplW2VdLnZhbHVlO3JldHVybiBOZShlKSx0fSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEJlKHQpfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOlNlLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9LGw6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPUsocik7ZGUoZSx7bmFtZTp0PWVlKHQpLGZyb21XaXJlVHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gZX0sdG9XaXJlVHlwZTpmdW5jdGlvbihlLHQpe2lmKCJudW1iZXIiIT10eXBlb2YgdCYmImJvb2xlYW4iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCAiJytWZSh0KSsnIiB0byAnK3RoaXMubmFtZSk7cmV0dXJuIHR9LGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6ZnVuY3Rpb24oZSx0KXtzd2l0Y2godCl7Y2FzZSAyOnJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUoaFtlPj4yXSl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKHlbZT4+M10pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZmxvYXQgdHlwZTogIitlKX19KHQsbiksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX0sZTpmdW5jdGlvbihlLHQscixuLGEpe3Q9ZWUodCksLTE9PT1hJiYoYT00Mjk0OTY3Mjk1KTt2YXIgbz1LKHIpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9O2lmKDA9PT1uKXt2YXIgdT0zMi04KnI7aT1mdW5jdGlvbihlKXtyZXR1cm4gZTw8dT4+PnV9fXZhciBoPS0xIT10LmluZGV4T2YoInVuc2lnbmVkIik7ZGUoZSx7bmFtZTp0LGZyb21XaXJlVHlwZTppLHRvV2lyZVR5cGU6ZnVuY3Rpb24oZSxyKXtpZigibnVtYmVyIiE9dHlwZW9mIHImJiJib29sZWFuIiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgIicrVmUocikrJyIgdG8gJyt0aGlzLm5hbWUpO2lmKHI8bnx8cj5hKXRocm93IG5ldyBUeXBlRXJyb3IoJ1Bhc3NpbmcgYSBudW1iZXIgIicrVmUocikrJyIgZnJvbSBKUyBzaWRlIHRvIEMvQysrIHNpZGUgdG8gYW4gYXJndW1lbnQgb2YgdHlwZSAiJyt0KyciLCB3aGljaCBpcyBvdXRzaWRlIHRoZSB2YWxpZCByYW5nZSBbJytuKyIsICIrYSsiXSEiKTtyZXR1cm4gaD9yPj4+MDowfHJ9LGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6ZnVuY3Rpb24oZSx0LHIpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHI/ZnVuY3Rpb24oZSl7cmV0dXJuIHNbZV19OmZ1bmN0aW9uKGUpe3JldHVybiBjW2VdfTtjYXNlIDE6cmV0dXJuIHI/ZnVuY3Rpb24oZSl7cmV0dXJuIGZbZT4+MV19OmZ1bmN0aW9uKGUpe3JldHVybiBsW2U+PjFdfTtjYXNlIDI6cmV0dXJuIHI/ZnVuY3Rpb24oZSl7cmV0dXJuIGRbZT4+Ml19OmZ1bmN0aW9uKGUpe3JldHVybiBwW2U+PjJdfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gaW50ZWdlciB0eXBlOiAiK2UpfX0odCxvLDAhPT1uKSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfSxkOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1bSW50OEFycmF5LFVpbnQ4QXJyYXksSW50MTZBcnJheSxVaW50MTZBcnJheSxJbnQzMkFycmF5LFVpbnQzMkFycmF5LEZsb2F0MzJBcnJheSxGbG9hdDY0QXJyYXldW3RdO2Z1bmN0aW9uIGEoZSl7dmFyIHQ9cCxyPXRbZT4+PTJdLGE9dFtlKzFdO3JldHVybiBuZXcgbih1LGEscil9ZGUoZSx7bmFtZTpyPWVlKHIpLGZyb21XaXJlVHlwZTphLGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6YX0se2lnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnM6ITB9KX0sbTpmdW5jdGlvbihlLHQpe3ZhciByPSJzdGQ6OnN0cmluZyI9PT0odD1lZSh0KSk7ZGUoZSx7bmFtZTp0LGZyb21XaXJlVHlwZTpmdW5jdGlvbihlKXt2YXIgdCxuPXBbZT4+Ml07aWYocilmb3IodmFyIGE9ZSs0LG89MDtvPD1uOysrbyl7dmFyIGk9ZSs0K287aWYobz09bnx8MD09Y1tpXSl7dmFyIHU9UChhLGktYSk7dm9pZCAwPT09dD90PXU6KHQrPSJcMCIsdCs9dSksYT1pKzF9fWVsc2V7dmFyIHM9bmV3IEFycmF5KG4pO2ZvcihvPTA7bzxuOysrbylzW29dPVN0cmluZy5mcm9tQ2hhckNvZGUoY1tlKzQrb10pO3Q9cy5qb2luKCIiKX1yZXR1cm4gb3QoZSksdH0sdG9XaXJlVHlwZTpmdW5jdGlvbihlLHQpe3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKHQ9bmV3IFVpbnQ4QXJyYXkodCkpO3ZhciBuPSJzdHJpbmciPT10eXBlb2YgdDtufHx0IGluc3RhbmNlb2YgVWludDhBcnJheXx8dCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5fHx0IGluc3RhbmNlb2YgSW50OEFycmF5fHxzZSgiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBzdGQ6OnN0cmluZyIpO3ZhciBhPShyJiZuP2Z1bmN0aW9uKCl7cmV0dXJuIEEodCl9OmZ1bmN0aW9uKCl7cmV0dXJuIHQubGVuZ3RofSkoKSxvPW50KDQrYSsxKTtpZihwW28+PjJdPWEsciYmbilEKHQsYyxvKzQsYSsxKTtlbHNlIGlmKG4pZm9yKHZhciBpPTA7aTxhOysraSl7dmFyIHU9dC5jaGFyQ29kZUF0KGkpO3U+MjU1JiYob3Qobyksc2UoIlN0cmluZyBoYXMgVVRGLTE2IGNvZGUgdW5pdHMgdGhhdCBkbyBub3QgZml0IGluIDggYml0cyIpKSxjW28rNCtpXT11fWVsc2UgZm9yKGk9MDtpPGE7KytpKWNbbys0K2ldPXRbaV07cmV0dXJuIG51bGwhPT1lJiZlLnB1c2gob3Qsbyksb30sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpTZSxkZXN0cnVjdG9yRnVuY3Rpb246ZnVuY3Rpb24oZSl7b3QoZSl9fSl9LGk6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGEsbyxpLHU7cj1lZShyKSwyPT09dD8obj1TLGE9RixpPU0sbz1mdW5jdGlvbigpe3JldHVybiBsfSx1PTEpOjQ9PT10JiYobj1FLGE9VyxpPUksbz1mdW5jdGlvbigpe3JldHVybiBwfSx1PTIpLGRlKGUse25hbWU6cixmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oZSl7Zm9yKHZhciByLGE9cFtlPj4yXSxpPW8oKSxzPWUrNCxjPTA7Yzw9YTsrK2Mpe3ZhciBmPWUrNCtjKnQ7aWYoYz09YXx8MD09aVtmPj51XSl7dmFyIGw9bihzLGYtcyk7dm9pZCAwPT09cj9yPWw6KHIrPSJcMCIscis9bCkscz1mK3R9fXJldHVybiBvdChlKSxyfSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGUsbil7InN0cmluZyIhPXR5cGVvZiBuJiZzZSgiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBDKysgc3RyaW5nIHR5cGUgIityKTt2YXIgbz1pKG4pLHM9bnQoNCtvK3QpO3JldHVybiBwW3M+PjJdPW8+PnUsYShuLHMrNCxvK3QpLG51bGwhPT1lJiZlLnB1c2gob3Qscyksc30sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpTZSxkZXN0cnVjdG9yRnVuY3Rpb246ZnVuY3Rpb24oZSl7b3QoZSl9fSl9LHo6ZnVuY3Rpb24oZSx0KXtkZShlLHtpc1ZvaWQ6ITAsbmFtZTp0PWVlKHQpLGFyZ1BhY2tBZHZhbmNlOjAsZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKCl7fSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGUsdCl7fX0pfSxuOk5lLG86ZnVuY3Rpb24oZSl7ZT40JiYoemVbZV0ucmVmY291bnQrPTEpfSxoOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbjtyZXR1cm4gQmUoKHZvaWQgMD09PShuPXJlW3I9ZV0pJiZzZSgiX2VtdmFsX3Rha2VfdmFsdWUgaGFzIHVua25vd24gdHlwZSAiK1JlKHIpKSxlPW4pLnJlYWRWYWx1ZUZyb21Qb2ludGVyKHQpKX0sazpmdW5jdGlvbigpe1YoKX0sdjpmdW5jdGlvbihlLHQpe3ZhciByO2lmKDA9PT1lKXI9RGF0ZS5ub3coKTtlbHNle2lmKDEhPT1lJiY0IT09ZSlyZXR1cm4gZFtydCgpPj4yXT0yOCwtMTtyPWcoKX1yZXR1cm4gZFt0Pj4yXT1yLzFlM3wwLGRbdCs0Pj4yXT1yJTFlMyoxZTZ8MCwwfSx0OmZ1bmN0aW9uKGUsdCxyKXtjLmNvcHlXaXRoaW4oZSx0LHQrcil9LHU6ZnVuY3Rpb24oZSl7VigiT09NIil9LHE6ZnVuY3Rpb24oZSl7WigpO3ZhciB0PW5ldyBEYXRlKGRbZSsyMD4+Ml0rMTkwMCxkW2UrMTY+PjJdLGRbZSsxMj4+Ml0sZFtlKzg+PjJdLGRbZSs0Pj4yXSxkW2U+PjJdLDApLHI9ZFtlKzMyPj4yXSxuPXQuZ2V0VGltZXpvbmVPZmZzZXQoKSxhPW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDEpLG89bmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxpPWEuZ2V0VGltZXpvbmVPZmZzZXQoKSx1PU1hdGgubWluKGksbyk7aWYocjwwKWRbZSszMj4+Ml09TnVtYmVyKG8hPWkmJnU9PW4pO2Vsc2UgaWYocj4wIT0odT09bikpe3ZhciBzPU1hdGgubWF4KGksbyksYz1yPjA/dTpzO3Quc2V0VGltZSh0LmdldFRpbWUoKSs2ZTQqKGMtbikpfWRbZSsyND4+Ml09dC5nZXREYXkoKTt2YXIgZj0odC5nZXRUaW1lKCktYS5nZXRUaW1lKCkpLzg2NGU1fDA7cmV0dXJuIGRbZSsyOD4+Ml09ZixkW2U+PjJdPXQuZ2V0U2Vjb25kcygpLGRbZSs0Pj4yXT10LmdldE1pbnV0ZXMoKSxkW2UrOD4+Ml09dC5nZXRIb3VycygpLGRbZSsxMj4+Ml09dC5nZXREYXRlKCksZFtlKzE2Pj4yXT10LmdldE1vbnRoKCksdC5nZXRUaW1lKCkvMWUzfDB9LHM6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGEsbyxpPWRbbis0MD4+Ml0sdT17dG1fc2VjOmRbbj4+Ml0sdG1fbWluOmRbbis0Pj4yXSx0bV9ob3VyOmRbbis4Pj4yXSx0bV9tZGF5OmRbbisxMj4+Ml0sdG1fbW9uOmRbbisxNj4+Ml0sdG1feWVhcjpkW24rMjA+PjJdLHRtX3dkYXk6ZFtuKzI0Pj4yXSx0bV95ZGF5OmRbbisyOD4+Ml0sdG1faXNkc3Q6ZFtuKzMyPj4yXSx0bV9nbXRvZmY6ZFtuKzM2Pj4yXSx0bV96b25lOmk/UChpKToiIn0sYz1QKHIpLGY9eyIlYyI6IiVhICViICVkICVIOiVNOiVTICVZIiwiJUQiOiIlbS8lZC8leSIsIiVGIjoiJVktJW0tJWQiLCIlaCI6IiViIiwiJXIiOiIlSTolTTolUyAlcCIsIiVSIjoiJUg6JU0iLCIlVCI6IiVIOiVNOiVTIiwiJXgiOiIlbS8lZC8leSIsIiVYIjoiJUg6JU06JVMiLCIlRWMiOiIlYyIsIiVFQyI6IiVDIiwiJUV4IjoiJW0vJWQvJXkiLCIlRVgiOiIlSDolTTolUyIsIiVFeSI6IiV5IiwiJUVZIjoiJVkiLCIlT2QiOiIlZCIsIiVPZSI6IiVlIiwiJU9IIjoiJUgiLCIlT0kiOiIlSSIsIiVPbSI6IiVtIiwiJU9NIjoiJU0iLCIlT1MiOiIlUyIsIiVPdSI6IiV1IiwiJU9VIjoiJVUiLCIlT1YiOiIlViIsIiVPdyI6IiV3IiwiJU9XIjoiJVciLCIlT3kiOiIleSJ9O2Zvcih2YXIgbCBpbiBmKWM9Yy5yZXBsYWNlKG5ldyBSZWdFeHAobCwiZyIpLGZbbF0pO3ZhciBwPVsiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiXSxoPVsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXTtmdW5jdGlvbiB5KGUsdCxyKXtmb3IodmFyIG49Im51bWJlciI9PXR5cGVvZiBlP2UudG9TdHJpbmcoKTplfHwiIjtuLmxlbmd0aDx0OyluPXJbMF0rbjtyZXR1cm4gbn1mdW5jdGlvbiBtKGUsdCl7cmV0dXJuIHkoZSx0LCIwIil9ZnVuY3Rpb24gZyhlLHQpe3ZhciByO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGU8MD8tMTplPjA/MTowfXJldHVybiAwPT09KHI9bihlLmdldEZ1bGxZZWFyKCktdC5nZXRGdWxsWWVhcigpKSkmJjA9PT0ocj1uKGUuZ2V0TW9udGgoKS10LmdldE1vbnRoKCkpKSYmKHI9bihlLmdldERhdGUoKS10LmdldERhdGUoKSkpLHJ9ZnVuY3Rpb24gdihlKXtzd2l0Y2goZS5nZXREYXkoKSl7Y2FzZSAwOnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCktMSwxMSwyOSk7Y2FzZSAxOnJldHVybiBlO2Nhc2UgMjpyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDAsMyk7Y2FzZSAzOnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksMCwyKTtjYXNlIDQ6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2UgNTpyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLTEsMTEsMzEpO2Nhc2UgNjpyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLTEsMTEsMzApfX1mdW5jdGlvbiB3KGUpe3ZhciB0PVhlKG5ldyBEYXRlKGUudG1feWVhcisxOTAwLDAsMSksZS50bV95ZGF5KSxyPW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDQpLG49bmV3IERhdGUodC5nZXRGdWxsWWVhcigpKzEsMCw0KSxhPXYociksbz12KG4pO3JldHVybiAwPj1nKGEsdCk/MD49ZyhvLHQpP3QuZ2V0RnVsbFllYXIoKSsxOnQuZ2V0RnVsbFllYXIoKTp0LmdldEZ1bGxZZWFyKCktMX12YXIgYj17IiVhIjpmdW5jdGlvbihlKXtyZXR1cm4gcFtlLnRtX3dkYXldLnN1YnN0cmluZygwLDMpfSwiJUEiOmZ1bmN0aW9uKGUpe3JldHVybiBwW2UudG1fd2RheV19LCIlYiI6ZnVuY3Rpb24oZSl7cmV0dXJuIGhbZS50bV9tb25dLnN1YnN0cmluZygwLDMpfSwiJUIiOmZ1bmN0aW9uKGUpe3JldHVybiBoW2UudG1fbW9uXX0sIiVDIjpmdW5jdGlvbihlKXtyZXR1cm4gbSgoZS50bV95ZWFyKzE5MDApLzEwMHwwLDIpfSwiJWQiOmZ1bmN0aW9uKGUpe3JldHVybiBtKGUudG1fbWRheSwyKX0sIiVlIjpmdW5jdGlvbihlKXtyZXR1cm4geShlLnRtX21kYXksMiwiICIpfSwiJWciOmZ1bmN0aW9uKGUpe3JldHVybiB3KGUpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpfSwiJUciOmZ1bmN0aW9uKGUpe3JldHVybiB3KGUpfSwiJUgiOmZ1bmN0aW9uKGUpe3JldHVybiBtKGUudG1faG91ciwyKX0sIiVJIjpmdW5jdGlvbihlKXt2YXIgdD1lLnRtX2hvdXI7cmV0dXJuIDA9PXQ/dD0xMjp0PjEyJiYodC09MTIpLG0odCwyKX0sIiVqIjpmdW5jdGlvbihlKXtyZXR1cm4gbShlLnRtX21kYXkrSmUoTGUoZS50bV95ZWFyKzE5MDApP0dlOnFlLGUudG1fbW9uLTEpLDMpfSwiJW0iOmZ1bmN0aW9uKGUpe3JldHVybiBtKGUudG1fbW9uKzEsMil9LCIlTSI6ZnVuY3Rpb24oZSl7cmV0dXJuIG0oZS50bV9taW4sMil9LCIlbiI6ZnVuY3Rpb24oKXtyZXR1cm4iXG4ifSwiJXAiOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRtX2hvdXI+PTAmJmUudG1faG91cjwxMj8iQU0iOiJQTSJ9LCIlUyI6ZnVuY3Rpb24oZSl7cmV0dXJuIG0oZS50bV9zZWMsMil9LCIldCI6ZnVuY3Rpb24oKXtyZXR1cm4iXHQifSwiJXUiOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRtX3dkYXl8fDd9LCIlVSI6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGUoZS50bV95ZWFyKzE5MDAsMCwxKSxyPTA9PT10LmdldERheSgpP3Q6WGUodCw3LXQuZ2V0RGF5KCkpLG49bmV3IERhdGUoZS50bV95ZWFyKzE5MDAsZS50bV9tb24sZS50bV9tZGF5KTtpZigwPmcocixuKSl7dmFyIGE9SmUoTGUobi5nZXRGdWxsWWVhcigpKT9HZTpxZSxuLmdldE1vbnRoKCktMSktMzE7cmV0dXJuIG0oTWF0aC5jZWlsKCgzMS1yLmdldERhdGUoKSthK24uZ2V0RGF0ZSgpKS83KSwyKX1yZXR1cm4gMD09PWcocix0KT8iMDEiOiIwMCJ9LCIlViI6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGUoZS50bV95ZWFyKzE5MDAsMCw0KSxyPW5ldyBEYXRlKGUudG1feWVhcisxOTAxLDAsNCksbj12KHQpLGE9dihyKSxvPVhlKG5ldyBEYXRlKGUudG1feWVhcisxOTAwLDAsMSksZS50bV95ZGF5KTtyZXR1cm4gMD5nKG8sbik/IjUzIjowPj1nKGEsbyk/IjAxIjptKE1hdGguY2VpbCgobi5nZXRGdWxsWWVhcigpPGUudG1feWVhcisxOTAwP2UudG1feWRheSszMi1uLmdldERhdGUoKTplLnRtX3lkYXkrMS1uLmdldERhdGUoKSkvNyksMil9LCIldyI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG1fd2RheX0sIiVXIjpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGF0ZShlLnRtX3llYXIsMCwxKSxyPTE9PT10LmdldERheSgpP3Q6WGUodCwwPT09dC5nZXREYXkoKT8xOjctdC5nZXREYXkoKSsxKSxuPW5ldyBEYXRlKGUudG1feWVhcisxOTAwLGUudG1fbW9uLGUudG1fbWRheSk7aWYoMD5nKHIsbikpe3ZhciBhPUplKExlKG4uZ2V0RnVsbFllYXIoKSk/R2U6cWUsbi5nZXRNb250aCgpLTEpLTMxO3JldHVybiBtKE1hdGguY2VpbCgoMzEtci5nZXREYXRlKCkrYStuLmdldERhdGUoKSkvNyksMil9cmV0dXJuIDA9PT1nKHIsdCk/IjAxIjoiMDAifSwiJXkiOmZ1bmN0aW9uKGUpe3JldHVybihlLnRtX3llYXIrMTkwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlWSI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG1feWVhcisxOTAwfSwiJXoiOmZ1bmN0aW9uKGUpe3ZhciB0PWUudG1fZ210b2ZmO3JldHVybih0Pj0wPyIrIjoiLSIpK1N0cmluZygiMDAwMCIrKHQ9KHQ9TWF0aC5hYnModCkvNjApLzYwKjEwMCt0JTYwKSkuc2xpY2UoLTQpfSwiJVoiOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRtX3pvbmV9LCIlJSI6ZnVuY3Rpb24oKXtyZXR1cm4iJSJ9fTtmb3IodmFyIGwgaW4gYiljLmluZGV4T2YobCk+PTAmJihjPWMucmVwbGFjZShuZXcgUmVnRXhwKGwsImciKSxiW2xdKHUpKSk7dmFyIFQ9S2UoYywhMSk7cmV0dXJuIFQubGVuZ3RoPnQ/MDooYT1ULG89ZSxzLnNldChhLG8pLFQubGVuZ3RoLTEpfSxyOmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49UCh0KSxhPSJcXCFAIyReJiooKSs9LVtdL3t9fDo8Pj8sLiIsbz0wLGk9YS5sZW5ndGg7bzxpOysrbyluPW4ucmVwbGFjZShuZXcgUmVnRXhwKCJcXCIrYVtvXSwiZyIpLCJcXCIrYVtvXSk7dmFyIHU9eyIlQSI6IiVhIiwiJUIiOiIlYiIsIiVjIjoiJWEgJWIgJWQgJUg6JU06JVMgJVkiLCIlRCI6IiVtXFwvJWRcXC8leSIsIiVlIjoiJWQiLCIlRiI6IiVZLSVtLSVkIiwiJWgiOiIlYiIsIiVSIjoiJUhcXDolTSIsIiVyIjoiJUlcXDolTVxcOiVTXFxzJXAiLCIlVCI6IiVIXFw6JU1cXDolUyIsIiV4IjoiJW1cXC8lZFxcLyg/OiV5fCVZKSIsIiVYIjoiJUhcXDolTVxcOiVTIn07Zm9yKHZhciBzIGluIHUpbj1uLnJlcGxhY2Uocyx1W3NdKTt2YXIgYz17IiVhIjoiKD86U3VuKD86ZGF5KT8pfCg/Ok1vbig/OmRheSk/KXwoPzpUdWUoPzpzZGF5KT8pfCg/OldlZCg/Om5lc2RheSk/KXwoPzpUaHUoPzpyc2RheSk/KXwoPzpGcmkoPzpkYXkpPyl8KD86U2F0KD86dXJkYXkpPykiLCIlYiI6Iig/Okphbig/OnVhcnkpPyl8KD86RmViKD86cnVhcnkpPyl8KD86TWFyKD86Y2gpPyl8KD86QXByKD86aWwpPyl8TWF5fCg/Okp1big/OmUpPyl8KD86SnVsKD86eSk/KXwoPzpBdWcoPzp1c3QpPyl8KD86U2VwKD86dGVtYmVyKT8pfCg/Ok9jdCg/Om9iZXIpPyl8KD86Tm92KD86ZW1iZXIpPyl8KD86RGVjKD86ZW1iZXIpPykiLCIlQyI6IlxcZFxcZCIsIiVkIjoiMFsxLTldfFsxLTldKD8hXFxkKXwxXFxkfDJcXGR8MzB8MzEiLCIlSCI6IlxcZCg/IVxcZCl8WzAsMV1cXGR8MjB8MjF8MjJ8MjMiLCIlSSI6IlxcZCg/IVxcZCl8MFxcZHwxMHwxMXwxMiIsIiVqIjoiMDBbMS05XXwwP1sxLTldKD8hXFxkKXwwP1sxLTldXFxkKD8hXFxkKXxbMSwyXVxcZFxcZHwzWzAtNl1cXGQiLCIlbSI6IjBbMS05XXxbMS05XSg/IVxcZCl8MTB8MTF8MTIiLCIlTSI6IjBcXGR8XFxkKD8hXFxkKXxbMS01XVxcZCIsIiVuIjoiXFxzIiwiJXAiOiJBTXxhbXxQTXxwbXxBXFwuTVxcLnxhXFwubVxcLnxQXFwuTVxcLnxwXFwubVxcLiIsIiVTIjoiMFxcZHxcXGQoPyFcXGQpfFsxLTVdXFxkfDYwIiwiJVUiOiIwXFxkfFxcZCg/IVxcZCl8WzEtNF1cXGR8NTB8NTF8NTJ8NTMiLCIlVyI6IjBcXGR8XFxkKD8hXFxkKXxbMS00XVxcZHw1MHw1MXw1Mnw1MyIsIiV3IjoiWzAtNl0iLCIleSI6IlxcZFxcZCIsIiVZIjoiXFxkXFxkXFxkXFxkIiwiJSUiOiIlIiwiJXQiOiJcXHMifTtmb3IodmFyIGYgaW4gYyluPW4ucmVwbGFjZShmLCIoIitmK2NbZl0rIikiKTt2YXIgbD1bXTtmb3Iobz1uLmluZGV4T2YoIiUiKTtvPj0wO289bi5pbmRleE9mKCIlIikpbC5wdXNoKG5bbysxXSksbj1uLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFwlIituW28rMV0sImciKSwiIik7dmFyIHA9bmV3IFJlZ0V4cCgiXiIrbiwiaSIpLmV4ZWMoUChlKSk7aWYocCl7dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIGV8fGlzTmFOKGUpP3Q6ZT49dD9lPD1yP2U6cjp0fXJldHVybnt5ZWFyOmUoZFtyKzIwPj4yXSsxOTAwLDE5NzAsOTk5OSksbW9udGg6ZShkW3IrMTY+PjJdLDAsMTEpLGRheTplKGRbcisxMj4+Ml0sMSwzMSksaG91cjplKGRbcis4Pj4yXSwwLDIzKSxtaW46ZShkW3IrND4+Ml0sMCw1OSksc2VjOmUoZFtyPj4yXSwwLDU5KX19KCkseT1mdW5jdGlvbihlKXt2YXIgdD1sLmluZGV4T2YoZSk7aWYodD49MClyZXR1cm4gcFt0KzFdfTtpZigoXz15KCJTIikpJiYoaC5zZWM9WmUoXykpLChfPXkoIk0iKSkmJihoLm1pbj1aZShfKSksXz15KCJIIikpaC5ob3VyPVplKF8pO2Vsc2UgaWYoXz15KCJJIikpe3ZhciBtPVplKF8pOyhfPXkoInAiKSkmJihtKz0iUCI9PT1fLnRvVXBwZXJDYXNlKClbMF0/MTI6MCksaC5ob3VyPW19aWYoXz15KCJZIikpaC55ZWFyPVplKF8pO2Vsc2UgaWYoXz15KCJ5Iikpe3ZhciBnPVplKF8pOyhfPXkoIkMiKSk/Zys9MTAwKlplKF8pOmcrPWc8Njk/MmUzOjE5MDAsaC55ZWFyPWd9aWYoKF89eSgibSIpKT9oLm1vbnRoPVplKF8pLTE6KF89eSgiYiIpKSYmKGgubW9udGg9e0pBTjowLEZFQjoxLE1BUjoyLEFQUjozLE1BWTo0LEpVTjo1LEpVTDo2LEFVRzo3LFNFUDo4LE9DVDo5LE5PVjoxMCxERUM6MTF9W18uc3Vic3RyaW5nKDAsMykudG9VcHBlckNhc2UoKV18fDApLF89eSgiZCIpKWguZGF5PVplKF8pO2Vsc2UgaWYoXz15KCJqIikpZm9yKHZhciB2PVplKF8pLHc9TGUoaC55ZWFyKSxiPTA7YjwxMjsrK2Ipe3ZhciBUPUplKHc/R2U6cWUsYi0xKTt2PD1UKyh3P0dlOnFlKVtiXSYmKGguZGF5PXYtVCl9ZWxzZSBpZihfPXkoImEiKSl7dmFyICQ9Xy5zdWJzdHJpbmcoMCwzKS50b1VwcGVyQ2FzZSgpO2lmKF89eSgiVSIpKXt2YXIgXyxDPXtTVU46MCxNT046MSxUVUU6MixXRUQ6MyxUSFU6NCxGUkk6NSxTQVQ6Nn1bJF0sRD1aZShfKTtBPTA9PT0oTz1uZXcgRGF0ZShoLnllYXIsMCwxKSkuZ2V0RGF5KCk/WGUoTyxDKzcqKEQtMSkpOlhlKE8sNy1PLmdldERheSgpK0MrNyooRC0xKSksaC5kYXk9QS5nZXREYXRlKCksaC5tb250aD1BLmdldE1vbnRoKCl9ZWxzZSBpZihfPXkoIlciKSl7dmFyIEEsTztDPXtNT046MCxUVUU6MSxXRUQ6MixUSFU6MyxGUkk6NCxTQVQ6NSxTVU46Nn1bJF0sRD1aZShfKSxBPTE9PT0oTz1uZXcgRGF0ZShoLnllYXIsMCwxKSkuZ2V0RGF5KCk/WGUoTyxDKzcqKEQtMSkpOlhlKE8sNy1PLmdldERheSgpKzErQys3KihELTEpKSxoLmRheT1BLmdldERhdGUoKSxoLm1vbnRoPUEuZ2V0TW9udGgoKX19dmFyIFM9bmV3IERhdGUoaC55ZWFyLGgubW9udGgsaC5kYXksaC5ob3VyLGgubWluLGguc2VjLDApO3JldHVybiBkW3I+PjJdPVMuZ2V0U2Vjb25kcygpLGRbcis0Pj4yXT1TLmdldE1pbnV0ZXMoKSxkW3IrOD4+Ml09Uy5nZXRIb3VycygpLGRbcisxMj4+Ml09Uy5nZXREYXRlKCksZFtyKzE2Pj4yXT1TLmdldE1vbnRoKCksZFtyKzIwPj4yXT1TLmdldEZ1bGxZZWFyKCktMTkwMCxkW3IrMjQ+PjJdPVMuZ2V0RGF5KCksZFtyKzI4Pj4yXT1KZShMZShTLmdldEZ1bGxZZWFyKCkpP0dlOnFlLFMuZ2V0TW9udGgoKS0xKStTLmdldERhdGUoKS0xLGRbciszMj4+Ml09MCxlK0tlKHBbMF0pLmxlbmd0aC0xfXJldHVybiAwfSxqOmZ1bmN0aW9uKGUpe3ZhciB0PURhdGUubm93KCkvMWUzfDA7cmV0dXJuIGUmJihkW2U+PjJdPXQpLHR9fSxldD1mdW5jdGlvbigpe3ZhciBlPXthOlFlfTtmdW5jdGlvbiByKGUscil7dmFyIG4sYT1lLmV4cG9ydHM7dC5hc209YSx1PW49dC5hc20uQS5idWZmZXIsdC5IRUFQOD1zPW5ldyBJbnQ4QXJyYXkobiksdC5IRUFQMTY9Zj1uZXcgSW50MTZBcnJheShuKSx0LkhFQVAzMj1kPW5ldyBJbnQzMkFycmF5KG4pLHQuSEVBUFU4PWM9bmV3IFVpbnQ4QXJyYXkobiksdC5IRUFQVTE2PWw9bmV3IFVpbnQxNkFycmF5KG4pLHQuSEVBUFUzMj1wPW5ldyBVaW50MzJBcnJheShuKSx0LkhFQVBGMzI9aD1uZXcgRmxvYXQzMkFycmF5KG4pLHQuSEVBUEY2ND15PW5ldyBGbG9hdDY0QXJyYXkobiksbT10LmFzbS5DLGZ1bmN0aW9uKGUpe2lmKHotLSx0Lm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJnQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyh6KSwwPT16JiYobnVsbCE9PU4mJihjbGVhckludGVydmFsKE4pLE49bnVsbCksQikpe3ZhciByPUI7Qj1udWxsLHIoKX19KCl9aWYoeisrLHQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmdC5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKHopLHQuaW5zdGFudGlhdGVXYXNtKXRyeXtyZXR1cm4gdC5pbnN0YW50aWF0ZVdhc20oZSxyKX1jYXRjaChlKXtyZXR1cm4gJCgiTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogIitlKSwhMX12YXIgbj1mdW5jdGlvbihlLHQpe3RyeXthPWZ1bmN0aW9uKGUpe3RyeXtpZihlPT1HJiZpKXJldHVybiBuZXcgVWludDhBcnJheShpKTt0aHJvdyJzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZDogeW91IGNhbiBwcmVsb2FkIGl0IHRvIE1vZHVsZVsnd2FzbUJpbmFyeSddIG1hbnVhbGx5LCBvciBlbWNjLnB5IHdpbGwgZG8gdGhhdCBmb3IgeW91IHdoZW4gZ2VuZXJhdGluZyBIVE1MIChidXQgbm90IEpTKSJ9Y2F0Y2goZSl7VihlKX19KGUpLG49bmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShhKSxyPW5ldyBXZWJBc3NlbWJseS5JbnN0YW5jZShuLHQpfWNhdGNoKGUpe3ZhciByLG4sYSxvPWUudG9TdHJpbmcoKTt0aHJvdyAkKCJmYWlsZWQgdG8gY29tcGlsZSB3YXNtIG1vZHVsZTogIitvKSwoby5pbmRleE9mKCJpbXBvcnRlZCBNZW1vcnkiKT49MHx8by5pbmRleE9mKCJtZW1vcnkgaW1wb3J0Iik+PTApJiYkKCJNZW1vcnkgc2l6ZSBpbmNvbXBhdGliaWxpdHkgaXNzdWVzIG1heSBiZSBkdWUgdG8gY2hhbmdpbmcgSU5JVElBTF9NRU1PUlkgYXQgcnVudGltZSB0byBzb21ldGhpbmcgdG9vIGxhcmdlLiBVc2UgQUxMT1dfTUVNT1JZX0dST1dUSCB0byBhbGxvdyBhbnkgc2l6ZSBtZW1vcnkgKGFuZCBhbHNvIG1ha2Ugc3VyZSBub3QgdG8gc2V0IElOSVRJQUxfTUVNT1JZIGF0IHJ1bnRpbWUgdG8gc29tZXRoaW5nIHNtYWxsZXIgdGhhbiBpdCB3YXMgYXQgY29tcGlsZSB0aW1lKS4iKSxlfXJldHVybltyLG5dfShHLGUpO3JldHVybiByKG5bMF0sblsxXSksdC5hc219KCksdHQ9dC5fX193YXNtX2NhbGxfY3RvcnM9ZXQuQixydD10Ll9fX2Vycm5vX2xvY2F0aW9uPWV0LkQsbnQ9dC5fbWFsbG9jPWV0LkUsYXQ9dC5fX19nZXRUeXBlTmFtZT1ldC5GO3QuX19fZW1iaW5kX3JlZ2lzdGVyX25hdGl2ZV9hbmRfYnVpbHRpbl90eXBlcz1ldC5HO3ZhciBvdD10Ll9mcmVlPWV0LkgsaXQ9dC5fX2dldF90em5hbWU9ZXQuSSx1dD10Ll9fZ2V0X2RheWxpZ2h0PWV0Lkosc3Q9dC5fX2dldF90aW1lem9uZT1ldC5LO2Z1bmN0aW9uIGN0KGUpe2Z1bmN0aW9uIHIoKXshdiYmKHY9ITAsdC5jYWxsZWRSdW49ITAsX3x8KHEoWSkscShVKSxuKHQpLHQub25SdW50aW1lSW5pdGlhbGl6ZWQmJnQub25SdW50aW1lSW5pdGlhbGl6ZWQoKSxmdW5jdGlvbigpe2lmKHQucG9zdFJ1bilmb3IoImZ1bmN0aW9uIj09dHlwZW9mIHQucG9zdFJ1biYmKHQucG9zdFJ1bj1bdC5wb3N0UnVuXSk7dC5wb3N0UnVuLmxlbmd0aDspaih0LnBvc3RSdW4uc2hpZnQoKSk7cSh4KX0oKSkpfWU9ZXx8YiwhKHo+MCkmJihmdW5jdGlvbigpe2lmKHQucHJlUnVuKWZvcigiZnVuY3Rpb24iPT10eXBlb2YgdC5wcmVSdW4mJih0LnByZVJ1bj1bdC5wcmVSdW5dKTt0LnByZVJ1bi5sZW5ndGg7KUgodC5wcmVSdW4uc2hpZnQoKSk7cShSKX0oKSx6PjB8fCh0LnNldFN0YXR1cz8odC5zZXRTdGF0dXMoIlJ1bm5pbmcuLi4iKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5zZXRTdGF0dXMoIiIpfSksMSkscigpfSksMSkpOnIoKSkpfWlmKEI9ZnVuY3Rpb24gZSgpe3Z8fGN0KCksdnx8KEI9ZSl9LHQucnVuPWN0LHQucHJlSW5pdClmb3IoImZ1bmN0aW9uIj09dHlwZW9mIHQucHJlSW5pdCYmKHQucHJlSW5pdD1bdC5wcmVJbml0XSk7dC5wcmVJbml0Lmxlbmd0aD4wOyl0LnByZUluaXQucG9wKCkoKTtyZXR1cm4gY3QoKSx0fSk7bGV0IHI9bnVsbDtzZWxmLm9ubWVzc2FnZT1mdW5jdGlvbihlKXtzd2l0Y2goZS5kYXRhLmNtZCl7Y2FzZSJwcmVJbml0IjooYXN5bmMgZT0+e2xldCBuPWF3YWl0KGF3YWl0IGZldGNoKGUuYnVuZGxlUGF0aCsiL0ZQaGlTZWxwaElEVG9rZW5pemVyV2FzbS53YXNtIikpLmFycmF5QnVmZmVyKCk7cj1hd2FpdCB0KHt3YXNtQmluYXJ5Om59KSxzZWxmLnBvc3RNZXNzYWdlKHtjbWQ6InByZUluaXQifSl9KShlLmRhdGEpO2JyZWFrO2Nhc2UiZ2V0SW50ZXJuYWxMaWNlbnNlIjooYXN5bmMgZT0+e2xldCB0PW5ldyByLlNlbHBoSUREb2N1bWVudFJhd0RhdGE7dC5zZXRMaWNlbnNlSGV4KGUudG9rZW4udG9VcHBlckNhc2UoKSk7bGV0IG49dC5nZXRMaWNlbnNlU3RhdHVzKCksYT10LmdldExpY2Vuc2VEb2N1bWVudCgpLG89dC5nZXRMaWNlbnNlRW5naW5lVHlwZSgpO3NlbGYucG9zdE1lc3NhZ2Uoe2NtZDoiZ2V0SW50ZXJuYWxMaWNlbnNlIix0b2tlbjphLGVuZ2luZVR5cGU6byxzdGF0dXM6bn0pfSkoZS5kYXRhKTticmVhaztjYXNlImRlc3Ryb3kiOihhc3luYygpPT57W3JdLmZvckVhY2goKGU9PntudWxsIT09ZSYmdm9pZCAwIT09ZS5kZWxldGUmJmUuZGVsZXRlKCl9KSksY2xvc2UoKX0pKGUuZGF0YSl9fTs=\")],{type:\"text/javascript\"}))),ye));return i.postMessage({cmd:\"preInit\",bundlePath:e}),new Promise((e=>{i.onmessage=l=>{\"preInit\"===l.data.cmd&&(t.worker=i,e())}}))}}static async getInternalLicense(e,t){return await Ce.__checkWorker(e),Ce.worker.postMessage({cmd:\"getInternalLicense\",token:t}),new Promise((e=>{Ce.worker.onmessage=t=>{\"getInternalLicense\"===t.data.cmd&&e({token:t.data.token,engineType:t.data.engineType})}}))}static destroyWorker(){null!==Ce.worker&&(Ce.worker.postMessage({cmd:\"destroy\"}),Ce.worker=null)}}const Ne={};Ne.SelphID=e,Ne.SelphID.RecorderType={Local:0,Remote:1},Ne.SelphID.ConfigurationManager=class{constructor(){this.container=null,this.language=\"en\",this.dpiList=[163,326,489],this.cameraWidth=1920,this.cameraHeight=1080,this.cameraId=null,this.showLog=!1,this.bundlePath=\"\",this.resourcesPath=this.bundlePath+\"/FPhi.Widget.Resources\",this.accessibility=!1,this.accessibleElements=[\"button\",\"buttonImage\"],this.onExtractionFinish=null,this.onUserCancel=null,this.onExceptionCaptured=null,this.onExtractionTimeout=null,this.onModuleLoaded=null,this.onTrackStatus=null,this.mode=e.Mode.Full,this.captureMode=e.CaptureMode.DoubleSide,this.license=\"\",this.askSimpleMode=!0,this.previewCapture=!0,this.blurredThreshold=.1,this.cameraOverflow=!1,this.forceLandscape=!1,this.canvasHD=!1,this.cropFactor=1,this.initialTip=!1,this.captureTimeout=10,this.captureRetries=3,this.graphPath=this.bundlePath+\"/graph.xml\",this.imageFormat=\"image/png\",this.imageQuality=.95,this.externalCamera=!1,this.videoRecord=!1,this.videoRecordRate=3,this.videoRecordScale=.5,this.videoRecordType=e.RecorderType.Local,this.startSimpleMode=!1,this.cameraMirror=!0,this.documentType=e.DocumentType.IDCard,this.scanMode=e.ScanMode.Search,this.specificData=\"ES\"}setContainer(e){this.container=e}getContainer(){return this.container}setLanguage(e){this.language=e}getLanguage(){return this.language}setDpiList(e){this.dpiList=e}getDpiList(){return this.dpiList}setResourcesPath(e){this.resourcesPath=e}getResourcesPath(){return this.resourcesPath}setBundlePath(e){this.bundlePath=e,this.graphPath=this.bundlePath+\"/graph.xml\",this.resourcesPath=this.bundlePath+\"/FPhi.Widget.Resources\"}getBundlePath(){return this.bundlePath}setGraphPath(e){this.graphPath=e}getGraphPath(){return this.graphPath}setCameraWidth(e){this.cameraWidth=e}getCameraWidth(){return this.cameraWidth}setCameraHeight(e){this.cameraHeight=e}getCameraHeight(){return this.cameraHeight}setOnExtractionFinish(e){this.onExtractionFinish=e}getOnExtractionFinish(){return this.onExtractionFinish}setOnUserCancel(e){this.onUserCancel=e}getOnUserCancel(){return this.onUserCancel}setOnExceptionCaptured(e){this.onExceptionCaptured=e}getOnExceptionCaptured(){return this.onExceptionCaptured}setOnExtractionTimeout(e){this.onExtractionTimeout=e}getOnExtractionTimeout(){return this.onExtractionTimeout}setOnModuleLoaded(e){this.onModuleLoaded=e}getOnModuleLoaded(){return this.onModuleLoaded}setOnTrackStatus(e){this.onTrackStatus=e}getOnTrackStatus(){return this.onTrackStatus}setMode(e){this.mode=e}getMode(){return this.mode}setAskSimpleMode(e){this.askSimpleMode=e}getAskSimpleMode(){return this.askSimpleMode}setPreviewCapture(e){this.previewCapture=e}getPreviewCapture(){return this.previewCapture}setDocumentAspectRatio(e){this.documentAspectRatio=e}getDocumentAspectRatio(){return this.documentAspectRatio}setCropFactor(e){this.cropFactor=e,this.cropFactor<1&&(this.cropFactor=1)}getCropFactor(){return this.cropFactor}setForceLandscape(e){this.forceLandscape=e}getForceLandscape(){return this.forceLandscape}setCanvasHD(e){this.canvasHD=e}getCanvasHD(){return this.canvasHD}setCaptureTimeout(e){this.captureTimeout=e}getCaptureTimeout(){return this.captureTimeout}setCaptureRetries(e){this.captureRetries=e}getCaptureRetries(){return this.captureRetries}setImageFormat(e){this.imageFormat=e}getImageFormat(){return this.imageFormat}setImageQuality(e){this.imageQuality=e}getImageQuality(){return this.imageQuality}setCameraId(e){this.cameraId=e}getCameraId(){return this.cameraId}setInitialTip(e){this.initialTip=e}getInitialTip(){return this.initialTip}setVideoRecord(e){this.videoRecord=e}getVideoRecord(){return this.videoRecord}setVideoRecordRate(e){this.videoRecordRate=e}getVideoRecordRate(){return this.videoRecordRate}setVideoRecordScale(e){this.videoRecordScale=e}getVideoRecordScale(){return this.videoRecordScale}setVideoRecordType(e){this.videoRecordType=e}getVideoRecordType(){return this.videoRecordType}setShowLog(e){this.showLog=e}getShowLog(){return this.showLog}setStartSimpleMode(e){this.startSimpleMode=e}getStartSimpleMode(){return this.startSimpleMode}setAccessibility(e){this.accessibility=e}getAccessibility(){return this.accessibility}setAccessibleElements(e){this.accessibleElements=e}getAccessibleElements(){return this.accessibleElements}setDocumentType(e){this.documentType=e}getDocumentType(){return this.documentType}setScanMode(e){this.scanMode=e}getScanMode(){return this.scanMode}setSpecificData(e){this.specificData=e}getSpecificData(){return this.specificData}setCameraOverflow(e){this.cameraOverflow=e}getCameraOverflow(){return this.cameraOverflow}setCaptureMode(e){this.captureMode=e}getCaptureMode(){return this.captureMode}setLicense(e){this.license=e}getLicense(){return this.license}getBlurredThreshold(){return this.blurredThreshold}setBlurredThreshold(e){this.blurredThreshold=e}setExternalCamera(e){this.externalCamera=e}getExternalCamera(){return this.externalCamera}setCameraMirror(e){this.cameraMirror=e}getCameraMirror(){return this.cameraMirror}},Ne.SelphID.SimpleMode=class{constructor(e){this.cm=e,this.path=this.isPathAbsolute(this.cm.getBundlePath())?this.cm.getBundlePath():this.getScriptPath()+this.cm.getBundlePath(),this.baseURL=this.isPathAbsolute(this.cm.getResourcesPath())?this.cm.getResourcesPath():this.getScriptPath()+this.cm.getResourcesPath(),this.devicePixelRatio=window.devicePixelRatio,!1===e.getCanvasHD()&&(this.devicePixelRatio=1),this.secondsWidget=0,this.secondsState=0}OnResourceManagerStatus(e,t){t&&(e.rmReady||(e.rmReady=!0,e.CheckDependencies(e)))}CheckDependencies(e){if(1==e.rmReady&&void 0!==e.drawer){var t=new CustomEvent(\"FPhi.SelphID.ModuleLoaded.event\");e.cm.getContainer().dispatchEvent(t);var i=this.canvas;switch(null!=i&&(i.style.display=\"inline-block\"),e.drawer.rm=e.rm,e.canvas,e.drawer.setCanvasSize(e.cameraContainer.offsetWidth,e.cameraContainer.offsetHeight),e.cm.getMode()){case d.SelphID.Mode.Full:case d.SelphID.Mode.Front:e.newState(d.SelphID.SimpleModeStates.InfoFront);break;default:e.newState(d.SelphID.SimpleModeStates.InfoBack)}}}start(){this.onTrackStatus=this.cm.getOnTrackStatus(),this.divContainer=this.cm.getContainer(),this.onCanvasResizeContext=this.onCanvasResize.bind(this),window.addEventListener(\"resize\",this.onCanvasResizeContext,!1),this.cameraContainer=document.createElement(\"div\"),this.cameraContainer.id=\"cameraContainer\",this.cameraContainer.style.overflow=\"hidden\",this.cameraContainer.style.position=\"relative\",this.cameraContainer.style.width=this.cm.getContainer().offsetWidth+\"px\",this.cameraContainer.style.height=this.cm.getContainer().offsetHeight+\"px\",this.cm.getContainer().appendChild(this.cameraContainer);var e=document.createElement(\"canvas\");e.id=\"display\",e.style=\"position:absolute; top:0px; left:0px; zIndex:1;\",this.cameraContainer.appendChild(e),e.width=this.cameraContainer.offsetWidth*this.devicePixelRatio,e.height=this.cameraContainer.offsetHeight*this.devicePixelRatio,e.style.width=this.cameraContainer.offsetWidth+\"px\",e.style.height=this.cameraContainer.offsetHeight+\"px\",e.onclick=this.canvasOnClick.bind(this),e.addEventListener(\"mousemove\",this.canvasOnMove.bind(this),!1),this.canvas=e;let t=document.createElement(\"input\");t.type=\"file\",t.accept=\"image/*\",t.capture=\"environment\",t.style=\"visibility:hidden\",t.addEventListener(\"change\",this.fileCaptureEvent.bind(this)),this.cm.getContainer().appendChild(t),this.inputFromDevice=t,this.cm.getContainer().addEventListener(\"FPhi.SelphID.Finish.event\",this.cm.getOnExtractionFinish(),!0),this.cm.getContainer().addEventListener(\"FPhi.SelphID.UserCancel.event\",this.cm.getOnUserCancel(),!0),this.cm.getContainer().addEventListener(\"FPhi.SelphID.ModuleLoaded.event\",this.cm.getOnModuleLoaded(),!0),this.cm.getContainer().addEventListener(\"FPhi.SelphID.TrackStatus.event\",this.onTrackStatus,!0),this.rm=new a(this.baseURL,this.cm.getLanguage(),this,this.OnResourceManagerStatus,this.cm.getDpiList(),window.devicePixelRatio,1),this.widgetTime=performance.now(),this.drawer=new s({mode:this.cm.getMode(),preview:this.cm.getPreviewCapture(),documentAspectRatio:85.6/53.98}),this.CheckDependencies(this)}stop(){this.cm.getContainer().removeChild(this.cameraContainer),this.cameraContainer=null,this.onCanvasResizeContext&&(window.removeEventListener(\"resize\",this.onCanvasResizeContext,!1),this.onCanvasResizeContext=void 0),null!=this.rm&&(this.rm.caller=null,this.rm=null),null!=this.drawer&&(this.drawer=null),this.cm.getContainer().removeEventListener(\"FPhi.SelphID.Finish.event\",this.onExtractionFinish,!0),this.cm.getContainer().removeEventListener(\"FPhi.SelphID.UserCancel.event\",this.onUserCancel,!0),this.cm.getContainer().removeEventListener(\"FPhi.SelphID.ModuleLoaded.event\",this.onModuleLoaded,!0),this.cm.getContainer().removeEventListener(\"FPhi.SelphID.TrackStatus.event\",this.onTrackStatus,!0)}newState(e){if(this.inputFromDevice.value=\"\",this.stateTime=performance.now(),this.secondsWidget=(this.actualTime-this.widgetTime)/1e3,this.secondsState=(this.actualTime-this.stateTime)/1e3,this.state=e,this.resourceParent=this.drawer.getResourceIdForState(d.SelphID.SimpleModeStatesStr[this.state]),this.elements=null,null!=this.resourceParent&&(this.elements=this.rm.getElements(this.resourceParent,this.drawer.landscape)),null!=this.onTrackStatus&&this.divContainer){var t=new CustomEvent(\"FPhi.SelphID.TrackStatus.event\",{detail:{code:d.SelphID.TrackStatus.ChangeState,timeStamp:this.secondsWidget,data:d.SelphID.SimpleModeStatesStr[this.state]}});this.divContainer.dispatchEvent(t)}this.draw(this)}async finish(){var e=null,t=null;this.frontImage&&(e=await this.convertImage(this.frontImage,this.cm.getImageFormat(),this.cm.getImageQuality())),this.backImage&&(t=await this.convertImage(this.backImage,this.cm.getImageFormat(),this.cm.getImageQuality()));var i={images:{backDocument:t.src||null,frontDocument:e.src||null},simpleModeOutput:1},l=new CustomEvent(\"FPhi.SelphID.Finish.event\",{detail:i});this.cm.getContainer().dispatchEvent(l),this.stop()}rotateImage(e,t,i){return new Promise(((l,a)=>{let n=document.createElement(\"canvas\");n.width=e.height,n.height=e.width;let s=n.getContext(\"2d\");s.save(),s.translate(n.width/2,n.height/2),s.rotate(-Math.PI/2),s.drawImage(e,-e.width/2,-e.height/2),s.restore();let d=document.createElement(\"img\");d.onload=()=>{l(d)},d.src=n.toDataURL(t,i)}))}convertImage(e,t,i){return new Promise(((l,a)=>{let n=document.createElement(\"canvas\");n.width=e.width,n.height=e.height,n.getContext(\"2d\").drawImage(e,0,0);let s=document.createElement(\"img\");s.onload=()=>{l(s)},s.src=n.toDataURL(t,i)}))}fileCaptureEvent(e){let t=new FileReader;t.onload=e=>{switch(this.state){case d.SelphID.SimpleModeStates.InfoFront:this.previewImage=document.createElement(\"img\"),this.previewImage.src=e.target.result,this.frontImage=this.previewImage,this.newState(d.SelphID.SimpleModeStates.PreviewFront);break;case d.SelphID.SimpleModeStates.InfoBack:this.previewImage=document.createElement(\"img\"),this.previewImage.src=e.target.result,this.backImage=this.previewImage,this.newState(d.SelphID.SimpleModeStates.PreviewBack)}},t.readAsDataURL(e.target.files[0])}getLayoutFromXML(e,t,i,l,a){let n=\"LEFT\",s=\"TOP\",d=i,c=!1;if(this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"width\")){null==d&&(d={});var h=this.rm.getSetupFloat(e,t,this.drawer.landscape,\"width\");d.width=h<=1?h*l:h,c=!0}if(this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"height\")){null==d&&(d={});var o=this.rm.getSetupFloat(e,t,this.drawer.landscape,\"height\");d.height=o<=1?o*a:o,c=!0}if(this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"xAnchor\")&&(n=this.rm.getSetupAlign(e,t,this.drawer.landscape,\"xAnchor\")),this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"yAnchor\")&&(s=this.rm.getSetupAlign(e,t,this.drawer.landscape,\"yAnchor\")),this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"x\")){null==d&&(d={});var r=this.rm.getSetupFloat(e,t,this.drawer.landscape,\"x\");d.x=r<=1&&r>=-1?r*l:r,\"CENTER\"==n?d.x=l/2-d.width/2+d.x:\"RIGHT\"==n&&(d.x=l-d.width+d.x),c=!0}if(this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"y\")){null==d&&(d={});var m=this.rm.getSetupFloat(e,t,this.drawer.landscape,\"y\");d.y=m<=1&&m>=-1?m*a:m,\"CENTER\"==s?d.y=a/2-d.height/2+d.y:\"BOTTOM\"==s&&(d.y=a-d.height+d.y),c=!0}return d}draw(e){if(null!=e.drawer){e.actualTime=performance.now(),e.secondsWidget=(e.actualTime-e.widgetTime)/1e3,e.secondsState=(e.actualTime-e.stateTime)/1e3;var t=e.canvas.getContext(\"2d\",{alpha:!0}),i=t.canvas.width,l=t.canvas.height;if(t.clearRect(0,0,i,l),this.canvasWidth=i,this.canvasHeight=l,t.save(),t.scale(e.devicePixelRatio,e.devicePixelRatio),null!=e.elements){var a={contour:[!1,!1,!1,!1]};a.previewImage=e.previewImage,a.forceLandscape=e.cm.getForceLandscape(),a.state=d.SelphID.SimpleModeStatesStr[e.state];for(var n=0;n<e.elements.length;n++)if(\"button\"!=e.elements[n].type&&\"buttonImage\"!=e.elements[n].type||0!=e.interactible){var s=e.drawer.getLayout(t,e.resourceParent,e.elements[n].id,e.elements[n].type,e.secondsWidget,e.secondsState,\"\",a);if(null!=s&&(s=e.getLayoutFromXML(e.resourceParent,e.elements[n].id,s,i,l)),null!=s){e.elements[n].layout=s;var c=e.elements[n].mode,h=!1;if(null!=c){for(var o=c.split(\"|\"),r=0;r<o.length;r++)if(\"Normal\"==o[r]){h=!0;break}}else h=!0;1==h&&e.drawer.draw(t,s,e.resourceParent,e.elements[n].id,e.elements[n].type,e.secondsWidget,e.secondsState,e.cm.getMode(),a)}}}t.restore(),setTimeout(e.draw,0,e)}}onCanvasResize(){var e=this.canvas;e.getContext(\"2d\",{alpha:!0}),this.cameraContainer.style.width=this.cm.getContainer().offsetWidth+\"px\",this.cameraContainer.style.height=this.cm.getContainer().offsetHeight+\"px\",e.width=this.cameraContainer.offsetWidth*this.devicePixelRatio,e.height=this.cameraContainer.offsetHeight*this.devicePixelRatio,e.style.width=this.cameraContainer.offsetWidth+\"px\",e.style.height=this.cameraContainer.offsetHeight+\"px\",this.drawer.setCanvasSize(this.cameraContainer.offsetWidth,this.cameraContainer.offsetHeight),this.elements=this.rm.getElements(this.resourceParent,this.drawer.landscape)}canvasOnMove(e){if(null!=this.elements)for(var t=this.elements.length-1;t>=0;t--)if(null!=this.elements[t].layout&&e.offsetX>=this.elements[t].layout.x&&e.offsetX<this.elements[t].layout.x+this.elements[t].layout.width&&e.offsetY>=this.elements[t].layout.y&&e.offsetY<this.elements[t].layout.y+this.elements[t].layout.height){this.drawer.onMouseMove(e.target,this.elements[t].layout,this.resourceParent,this.elements[t].id,this.elements[t].type);break}}async canvasOnClick(e){if(null==this.elements)return;let t=null;for(var i=this.elements.length-1;i>=0;i--){let a=e.offsetX,n=e.offsetY;if(null!=this.elements[i].layout&&a>=this.elements[i].layout.x&&a<this.elements[i].layout.x+this.elements[i].layout.width&&n>=this.elements[i].layout.y&&n<this.elements[i].layout.y+this.elements[i].layout.height){if(t=this.elements[i].id,\"button_start\"==t)this.inputFromDevice.click();else if(\"button_repeat\"==t)this.state==d.SelphID.SimpleModeStates.PreviewFront?this.newState(d.SelphID.SimpleModeStates.InfoFront):this.newState(d.SelphID.SimpleModeStates.InfoBack);else if(\"button_ok\"==t)this.state==d.SelphID.SimpleModeStates.PreviewFront&&this.cm.getMode()==d.SelphID.Mode.Full?this.newState(d.SelphID.SimpleModeStates.InfoBack):this.finish();else if(\"button_rotate\"==t)this.state==d.SelphID.SimpleModeStates.PreviewFront?(this.frontImage=await this.rotateImage(this.frontImage,this.cm.getImageFormat(),this.cm.getImageQuality()),this.previewImage=this.frontImage):(this.backImage=await this.rotateImage(this.backImage,this.cm.getImageFormat(),this.cm.getImageQuality()),this.previewImage=this.backImage);else if(\"button_exit\"==t){var l=new CustomEvent(\"FPhi.SelphID.UserCancel.event\");this.cm.getContainer().dispatchEvent(l),this.stop()}break}}}isPathAbsolute(e){return/^(?:\\/|.+:\\/\\/|http)/.test(e)}getScriptPath(){return String((new Error).stack).replace(/^Error.*\\n/,\"\").split(\"\\n\")[1].match(/http.*\\.js/)[0].split(\"/\").slice(0,-1).join(\"/\")+\"/\"}},Ne.SelphID.DocumentType={0:\"UNKNOWN\",1:\"NONE\",2:\"ID\",3:\"PASSPORT\",4:\"VISA\",5:\"GREEN_CARD\",6:\"DRIVING_LICENSE\",7:\"RESIDENT_ID\",8:\"SOCIAL_SECURITY_CARD\",9:\"HEALTH_INSURANCE_CARD\",10:\"TEMPORARY_RESIDENCE\"},Ne.ExceptionType={CameraError:0,ExtractorError:1,ControlNotInitializedError:2,ImageCropResizeError:3,UnexpectedCaptureError:4},Ne.SelphID.Widget=function(e){this.showLog=e.getShowLog(),this.version=\"4.1.1.178\",this.printLog(\"FPhi.SelphID.Widget version: \"+this.version+\" - enable showLog property to display detailed info.\"),this.cm=e,this.divContainer=this.cm.getContainer(),this.captureTimeout=this.cm.getCaptureTimeout(),this.captureRetries=this.cm.getCaptureRetries(),this.onExtractionFinish=this.cm.getOnExtractionFinish(),this.onUserCancel=this.cm.getOnUserCancel(),this.onExceptionCaptured=this.cm.getOnExceptionCaptured(),this.onExtractionTimeout=this.cm.getOnExtractionTimeout(),this.onModuleLoaded=this.cm.getOnModuleLoaded(),this.onTrackStatus=this.cm.getOnTrackStatus(),this.cameraReady=!1,this.contour=[!1,!1,!1,!1],this.cameraMustFlip=this.cm.getCameraMirror(),this.cameraFrontSide=!1,this.mode=this.cm.getMode(),this.status=Ne.SelphID.Mode.Full,this.blurredThreshold=this.cm.getBlurredThreshold(),this.preview=this.cm.getPreviewCapture(),this.graphPath=this.isPathAbsolute(this.cm.getGraphPath())?this.cm.getGraphPath():this.getScriptPath()+this.cm.getGraphPath(),this.cropFactor=this.cm.getCropFactor(),this.devicePixelRatio=window.devicePixelRatio,!1===this.cm.getCanvasHD()&&(this.devicePixelRatio=1),this.bundlePath=this.isPathAbsolute(this.cm.getBundlePath())?this.cm.getBundlePath():this.getScriptPath()+this.cm.getBundlePath(),this.showLog&&this.printLog(\"FPhi.SelphID.Widget: Serving from URL: \"+this.bundlePath),this.resourceParent=null,this.language=this.cm.getLanguage(),this.expectedExternalCamera=this.cm.getExternalCamera(),this.fontSizeFactor=this.canvasHeight/500,this.fpsTime=performance.now(),this.baseURL=this.isPathAbsolute(this.cm.getResourcesPath())?this.cm.getResourcesPath():this.getScriptPath()+this.cm.getResourcesPath(),this.showLog&&this.printLog(\"FPhi.SelphID.Widget: Serving resources from URL: \"+this.baseURL),this.dpiList=this.cm.getDpiList(),this.imageFormat=this.cm.getImageFormat(),this.imageQuality=this.cm.getImageQuality(),this.rmReady=!1,this.graphReady=!1,this.rm=new a(this.baseURL,this.language,this,this.OnResourceManagerStatus,this.dpiList,window.devicePixelRatio,this.canvasSizeFactor),this.graph=new t.k(this.graphPath,this.OnGraphReady.bind(this),this.OnGraphNewState.bind(this)),this.drawer=new s({mode:this.mode,preview:this.preview,documentAspectRatio:85.6/53.98,enableButtonCamera:!this.expectedExternalCamera}),this.divContainer.addEventListener(\"FPhi.SelphID.Finish.event\",this.onExtractionFinish,!0),this.divContainer.addEventListener(\"FPhi.SelphID.UserCancel.event\",this.onUserCancel,!0),this.divContainer.addEventListener(\"FPhi.SelphID.ExtractionTimeout.event\",this.onExtractionTimeout,!0),this.divContainer.addEventListener(\"FPhi.SelphID.ExceptionCaptured.event\",this.onExceptionCaptured,!0),this.divContainer.addEventListener(\"FPhi.SelphID.ModuleLoaded.event\",this.onModuleLoaded,!0),this.divContainer.addEventListener(\"FPhi.SelphID.TrackStatus.event\",this.onTrackStatus,!0)},Ne.SelphID.Widget.prototype={constructor:Ne.SelphID.Widget,language:\"es\",privateCanvas:null,extractor:null,extractorLiveness:null,extractorVersion:\"\",lastDetectResult:null,lastExtractionResult:null,lastExtractionResultWizard:null,actualTime:0,actualTimePrev:0,idContainer:null,divContainer:null,extractorContainer:null,videoSelectId:null,cameraContainer:null,cameraWidth:null,cameraHeight:null,cameraRotation:0,expectedExternalCamera:null,canvasWidth:void 0,canvasHeight:void 0,cameraStream:null,selectedSource:null,samplePeriod:0,blurredThreshold:0,debug:!1,interactible:!0,stopCameraStream:!0,globalTimeout:30,sceneTimeout:30,fps:0,fpse:0,fpsframes:0,fpseframes:0,fpsTime:null,fontSizeFactor:1,canvasSizeFactor:1,cameraList:[],graphPath:\"/graph.xml\",Start:async function(e){if(this.printLog(\"SelphId: Init process - Widget Web Internals starting\"),\"\"===this.cm.getLicense())return console.error(\"FPhi.SelphID.Widget: The Widget is not license correctly, stopping execution...\"),this.divContainer.dispatchEvent(new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\",{detail:{exceptionType:\"licenseError\",message:\"FPhi.SelphID.Widget: The Widget is not license correctly, stopping execution...\"}})),void this.Stop();let t=await Ce.getInternalLicense(this.bundlePath,this.cm.getLicense());if(-1===Xe.getAvailableEngines().findIndex((e=>t.engineType===e)))return console.error(\"FPhi.SelphID.Widget: The Widget license is not supported by this version, please contact support team!\"),this.divContainer.dispatchEvent(new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\",{detail:{exceptionType:\"licenseError\",message:\"FPhi.SelphID.Widget: The Widget license is not supported by this version, please contact support team!\"}})),void this.Stop();try{this.engine=Xe.generateInstance(t.engineType,{licenseKey:t.token,bundlePath:this.bundlePath,imageFormat:this.imageFormat,imageQuality:this.imageQuality,accessibility:this.accessibility,blurredThreshold:100*this.blurredThreshold}),this.engine.initializeEngine().then((()=>{this.engineLoaded=!0,this.CheckDependencies(this)}))}catch(e){return this.divContainer.dispatchEvent(new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\",{detail:{exceptionType:\"engineError\",message:\"FPhi.SelphID.Widget: \"+e.message}})),void this.Stop()}if(this.cameraContainer=document.createElement(\"div\"),this.cameraContainer.id=\"cameraContainer\",this.cameraContainer.style.overflow=\"hidden\",this.cameraContainer.style.position=\"relative\",this.cameraContainer.style.width=this.divContainer.offsetWidth+\"px\",this.cameraContainer.style.height=this.divContainer.offsetHeight+\"px\",this.divContainer.appendChild(this.cameraContainer),this.printLog(\"SelphId: Init process - Camera Container linked\"),this.checkCanvasDimensions(),this.gifWait=document.createElement(\"img\"),this.gifWait.style.display=\"none\",this.gifWaitOnLoadContext=this.onWaitingLoaded.bind(this),this.gifWait.addEventListener(\"load\",this.gifWaitOnLoadContext),this.gifWait.src=this.baseURL+\"/resources/163dpi/1_loading_selphID.gif\",this.cameraContainer.appendChild(this.gifWait),this.printLog(\"SelphId: Init process - Showing the loading animation\"),this.cropFactor<=0){let e=new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\",{detail:{message:\"Invalid value of CropFactor. Must be greather than 0.\",exceptionType:3}});this.divContainer.dispatchEvent(e),this.cropFactor=1}if(this.resizeFactor<=0){let e=new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\",{detail:{message:\"Invalid value of ResizeFactor. Must be greather than 0.\",exceptionType:3}});this.divContainer.dispatchEvent(e),this.resizeFactor=1}this.sceneTimeout<=0&&(this.sceneTimeout=0),window.location!==window.parent.location&&this.printLog(\"SelphId: widget running inside iframe.\");let i=document.createElement(\"canvas\");if(i.id=\"display\",i.style=\"position:absolute; top:0px; left:0px; zIndex:1;\",this.cameraContainer.appendChild(i),i.width=this.cameraContainer.offsetWidth*this.devicePixelRatio,i.height=this.cameraContainer.offsetHeight*this.devicePixelRatio,i.style.width=this.cameraContainer.offsetWidth+\"px\",i.style.height=this.cameraContainer.offsetHeight+\"px\",this.canvas=i,this.canvasRotated=document.createElement(\"canvas\"),this.canvasRotated.width=i.height*this.devicePixelRatio,this.canvasRotated.height=i.width*this.devicePixelRatio,this.onCanvasResizeContext=this.onCanvasResize.bind(this),window.addEventListener(\"resize\",this.onCanvasResizeContext,!1),this.printLog(\"SelphId: Init process - Canvas linked\"),this.initCamera(this.cameraContainer,this.cameraWidth,this.cameraHeight),console.log(e),null!=e){this.printLog(\"FPhi.Selphi.Widget: Detected external camera stream, using this...\"),this.stopCameraStream=!1,this.cameraStream=e,this.video.srcObject=e;const t=e.getVideoTracks()[0];this.cameraName=t.label,this.video.onloadedmetadata=this.videoLoaded.bind(this),this.video.play(),this.setCameraPosition(this.canvas,this.video)}else if(this.expectedExternalCamera)this.printLog(\"FPhi.SelphID.Widget: Entering into loading state until waits the external camera...\");else{this.printLog(\"FPhi.SelphID.Widget: No detected external camera stream, running own stream...\"),this.printLog(\"SelphId: Init process - Checked parameters are correctly\"),document.featurePolicy&&!1===document.featurePolicy.allowsFeature(\"camera\")&&(this.printLog(\"SelphId: Feature Policy issue: Camera feature is restricted in the actual environment. Check your server HTTP Headers.\"),this.printLog(\"https://developers.google.com/web/updates/2018/06/feature-policy#js\")),await this.grantVideoPermission(),this.printLog(\"SelphId: Init process - Checked camera permissions\"),this.cameras=await navigator.mediaDevices.enumerateDevices(),this.cameraCount=0,this.printLog(\"SelphId: Camera enumeration\");let e=[];for(const t of this.cameras)if(\"videoinput\"===t.kind){if(null==this.cm.getCameraId()){let i=await navigator.mediaDevices.getUserMedia({video:{deviceId:t.deviceId}});if(i.getVideoTracks().length>0&&\"function\"==typeof i.getVideoTracks()[0].getCapabilities){const l=i.getVideoTracks()[0].getCapabilities();\"environment\"==l.facingMode&&(l.focusDistance?.max<1e3?(e.push(l),this.printLog(\"SelphId: environment camera with id: \"+t.deviceId+\" - focusDistance: \"+JSON.stringify(l.focusDistance))):this.printLog(\"SelphId: ignoring environment (focusDistance) camera with id: \"+t.deviceId+\" - focusDistance: \"+JSON.stringify(l.focusDistance)))}i.getTracks().forEach((e=>{e.stop()}))}this.cameraCount++,this.printLog(\"SelphId: camera with id: \"+t.deviceId)}if(this.printLog(\"Environment cameras: \"+e.length),e.length>0){e.sort(((e,t)=>e.focusDistance?.max-t.focusDistance?.max));const t=Math.floor(e.length/2);this.forceCameraId=e[t].deviceId,this.printLog(\"SelphId: forced camera with id: \"+this.forceCameraId)}this.printLog(\"SelphId: \"+this.cameraCount+\" cameras found.\"),this.printLog(\"SelphId: Init process - Checked available cameras\"),this.selectedSource=null,this.setVideoInput(this),this.stopCameraStream=!0}this.widgetTime=performance.now(),this.stateTime=this.widgetTime,this.printLog(\"SelphId: Init process - Started Widget\")},StartManual:function(){this.selphIDSimpleMode=new Ne.SelphID.SimpleMode(this.cm),this.selphIDSimpleMode.start()},Stop:function(){null!==this.divContainer&&(this.onCanvasResizeContext&&(window.removeEventListener(\"resize\",this.onCanvasResizeContext,!1),this.onCanvasResizeContext=void 0),void 0!==this.onExtractionFinish&&null!==this.onExtractionFinish&&this.divContainer.removeEventListener(\"FPhi.SelphID.Finish.event\",this.onExtractionFinish,!0),void 0!==this.onUserCancel&&null!==this.onUserCancel&&this.divContainer.removeEventListener(\"FPhi.SelphID.UserCancel.event\",this.onUserCancel,!0),void 0!==this.onExtractionTimeout&&null!==this.onExtractionTimeout&&this.divContainer.removeEventListener(\"FPhi.SelphID.ExtractionTimeout.event\",this.onExtractionTimeout,!0),void 0!==this.onExceptionCaptured&&null!==this.onExceptionCaptured&&this.divContainer.removeEventListener(\"FPhi.SelphID.ExceptionCaptured.event\",this.onExceptionCaptured,!0),void 0!==this.onModuleLoaded&&null!==this.onModuleLoaded&&this.divContainer.removeEventListener(\"FPhi.SelphID.ModuleLoaded.event\",this.onModuleLoaded,!0),void 0!==this.onTrackStatus&&null!==this.onTrackStatus&&this.divContainer.removeEventListener(\"FPhi.SelphID.TrackStatus.event\",this.onTrackStatus,!0),null!==this.cameraContainer&&this.divContainer.removeChild(this.cameraContainer),this.divContainer=null,this.cameraContainer=null),null!==this.cameraStream&&(!0===this.stopCameraStream&&this.cameraStream.getVideoTracks()[0].stop(),this.video.pause()),null!==this.rm&&void 0!==this.rm&&(this.rm.caller=null,this.rm=null),null!==this.graph&&void 0!==this.graph&&(this.graph=null),null!==this.drawer&&void 0!==this.drawer&&(this.drawer=null),null!==this.rmScript&&void 0!==this.rmScript&&(this.rmScript.onreadystatechange=null,this.rmScript.onload=null,this.rmScript=null),null!==this.graphScript&&void 0!==this.graphScript&&(this.graphScript.onreadystatechange=null,this.graphScript.onload=null,this.graphScript=null),null!==this.drawerScript&&void 0!==this.drawerScript&&(this.drawerScript.onload=null,this.drawerScript=null),this.engine&&this.engine.finalizeEngine(),Ce.destroyWorker()},onWaitingLoaded:function(){let e=this.cameraContainer.offsetHeight/2-this.gifWait.height/2,t=this.cameraContainer.offsetWidth/2-this.gifWait.width/2;this.gifWait.style=\"position:absolute; top:\"+e+\"px; left:\"+t+\"px;\"},onCanvasResize:function(){let e=this.canvas,t=e.getContext(\"2d\",{alpha:!0}),i=this.video;this.cameraWidth=i.videoWidth,this.cameraHeight=i.videoHeight,0===this.cameraRotation||2===this.cameraRotation?(this.privateCanvas.width=this.cameraWidth,this.privateCanvas.height=this.cameraHeight):(this.privateCanvas.width=this.cameraHeight,this.privateCanvas.height=this.cameraWidth),this.imagesProcessed=0,this.cameraContainer.style.width=this.divContainer.offsetWidth+\"px\",this.cameraContainer.style.height=this.divContainer.offsetHeight+\"px\",e.width=this.cameraContainer.offsetWidth*this.devicePixelRatio,e.height=this.cameraContainer.offsetHeight*this.devicePixelRatio,e.style.width=this.cameraContainer.offsetWidth+\"px\",e.style.height=this.cameraContainer.offsetHeight+\"px\",this.canvasRotated.width=e.height,this.canvasRotated.height=e.width,e.width<e.height&&this.cm.forceLandscape?(this.drawer.setCanvasSize(this.cameraContainer.offsetHeight,this.cameraContainer.offsetWidth),this.elements=this.rm.getElements(this.resourceParent,!0)):(this.drawer.setCanvasSize(this.cameraContainer.offsetWidth,this.cameraContainer.offsetHeight),this.elements=this.rm.getElements(this.resourceParent,this.drawer.landscape)),this.checkCanvasDimensions(),this.startVideos(this),this.setCameraPosition(t,i)},checkCanvasDimensions:function(){this.cameraContainer.offsetWidth<this.cameraContainer.offsetHeight&&this.cm.forceLandscape?((this.cameraContainer.offsetWidth<400||this.cameraContainer.offsetHeight<550)&&this.printLog(\"Selphid: Warning!!! Minimum visual dimensions check failed. \"),this.printLog(\"Selphid: Actual widget size: \"+this.cameraContainer.offsetWidth+\"x\"+this.cameraContainer.offsetHeight),this.printLog(\"Selphid: Minimum widget size: 400x550\")):((this.cameraContainer.offsetWidth<550||this.cameraContainer.offsetHeight<400)&&this.printLog(\"Selphid: Warning!!! Minimum visual dimensions check failed. \"),this.printLog(\"Selphid: Actual widget size: \"+this.cameraContainer.offsetWidth+\"x\"+this.cameraContainer.offsetHeight),this.printLog(\"Selphid: Minimum widget size: 550x400\"))},printLog:function(e){this.showLog&&console.log(e)},onOrientationChange:function(){window.screen.orientation},GetAvailableCameras:function(){return navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(this.gotDevices).catch(this.handleCameraError):null},compareArray:function(e,t){if(!e)return!1;if(!t)return!1;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},setCameraPosition:function(e,t){let i=this.drawer.getCameraRect(e,this.cameraWidth,this.cameraHeight,this.cameraContainer.offsetWidth,this.cameraContainer.offsetHeight,this.resourceParent);if(0==this.cm.getCameraOverflow()){let t=this.drawer.getDocRectScreenSpace(this.cameraContainer.offsetWidth,this.cameraContainer.offsetHeight,0);i=this.drawer.getCameraRect(e,this.cameraWidth,this.cameraHeight,t.width,t.height,this.resourceParent),i.x+=t.x,i.y+=t.y,i.x*=1,i.y*=1,i.width+=.5,i.height+=.5}let l=\"0deg\";!0===this.cameraMustFlip&&(l=\"180deg\"),i.visible?t.style=\"position:absolute; top:\"+i.y+\"px; left:\"+i.x+\"px; width:\"+i.width+\"px; height:\"+i.height+\"px; transform:rotateY(\"+l+\"); zIndex:0;\":t.style=\"position:absolute; top:-10000px; left:0px; width:\"+i.width+\"px; height:\"+i.height+\"px; transform:rotateY(\"+l+\"); zIndex:0;\"},OnGraphNewState:async function(e){this.stateTime=performance.now();let t=this.canvas;this.secondsWidget=(this.actualTime-this.widgetTime)/1e3,this.secondsState=(this.actualTime-this.stateTime)/1e3,this.state=e,this.resourceParent=this.drawer.getResourceIdForState(e);let i=this.video;if(this.setCameraPosition(t.getContext(\"2d\",{alpha:!0}),i),\"UCNothing\"===this.state||void 0===this.state){this.actualTime=this.stateTime,this.widgetTime=this.stateTime;let e=this.canvas;null!=e&&(e.style.display=\"inline-block\"),this.video&&(this.video.style.display=\"inline-block\")}if(this.printLog(\"SelphId: state: \"+e),null!=this.elements)for(let e=0;e<this.elements.length;e++)null!=this.elements[e].videoPlayer&&(this.elements[e].videoPlayer.pause(),this.elements[e].videoPlayer.removeAttribute(\"src\"),this.elements[e].videoPlayer.removeEventListener(\"ended\",this.videoplayerEnded.bind(self),!1),this.elements[e].videoPlayer.load(),this.elements[e].videoPlayer=null);if(this.elements=null,null!=this.resourceParent&&(this.canvas.width<this.canvas.height&&this.cm.forceLandscape?this.elements=this.rm.getElements(this.resourceParent,!0):this.elements=this.rm.getElements(this.resourceParent,this.drawer.landscape),this.startVideos(this)),\"UCNothing\"===e)this.clockNewScenario=performance.now(),this.lastExtractionResult=null,this.privateImages=[],this.retries=0,this.status=Ne.SelphID.Mode.Front;else if(\"UCCapture\"===e)this.clockNewScenario=performance.now(),this.imagesProcessed=0,this.imageCaptured=!1,this.imageCapturedTime=0,this.previewImage=void 0,this.contour=[!1,!1,!1,!1],this.status===Ne.SelphID.Mode.Back?this.privateImages.length=1:this.privateImages=[];else if(\"UCCaptureCameraSwitch\"===e){let e=this;if(null!=this.cameraStream){let t=this.cameraStream.getVideoTracks()[0].getSettings().deviceId,l=await navigator.mediaDevices.enumerateDevices(),a=-1,n=-1;for(let e=0;e<l.length;e++)if(l[e].deviceId===t){a=e;break}for(let e=a+1;e<l.length;e++)if(\"videoinput\"===l[e].kind){n=e;break}if(-1===n)for(let e=0;e<l.length;e++)if(\"videoinput\"===l[e].kind){n=e;break}if(-1!==n&&n!==a){this.video.pause(),this.cameraStream.getVideoTracks().forEach((function(e){e.stop()})),this.cameraStream=null,this.video.srcObject=null;let t=this.cm.getCameraWidth(),a=this.cm.getCameraHeight(),s={video:{deviceId:l[n].deviceId,width:t,height:a},audio:!1};navigator.mediaDevices.getUserMedia(s).then((function(t){let a=t.getVideoTracks()[0].getSettings();a&&(e.cameraMustFlip=\"environment\"!==a.facingMode&&e.cm.getCameraMirror()),e.cameraStream=t,e.cameraId=e.cameraStream.getVideoTracks()[0].getSettings().deviceId,i.srcObject=t,e.switchTimeoutHandler=setTimeout((()=>{e.video.pause(),e.cameraStream.getVideoTracks().forEach((function(e){e.stop()})),this.retries=0,e.graph.sendMessage(\"retry\")}),5e3),i.play().then((()=>{e.printLog(\"Selphid: Camera switch success. New camera with id: \"+l[n].deviceId),clearTimeout(e.switchTimeoutHandler),e.setCameraPosition(e.canvas.getContext(\"2d\",{alpha:!0}),e.video),e.graph.sendMessage(\"cameraSwitched\")})).catch((t=>{e.printLog(\"Selphid: Camera switch unsuccess.\"),e.printLog(t),clearTimeout(e.switchTimeoutHandler),this.retries=0,e.graph.sendMessage(\"retry\")}))})).catch((function(t){e.printLog(\"SelphId: Fatal error camera switch...\"),e.printLog(t)}))}else this.printLog(\"SelphId: Camera switch aborted. Only 1 available camera.\"),this.graph.sendMessage(\"cameraSwitched\")}}else if(\"UCPreview\"===e)this.clockNewScenario=performance.now();else if(\"UCRepeat\"===e)this.imageCaptured=!1,this.status=Ne.SelphID.Mode.Front,this.retries=0,this.engine.cleanImageBuffer(Ne.SelphID.Mode.Front),this.graph.sendMessage(\"repeat\");else if(\"UCPreviewDecision\"===e)this.cm.getCaptureMode()===Ne.SelphID.CaptureMode.DoubleSide&&this.status===Ne.SelphID.Mode.Front?this.graph.sendMessage(\"Next\"):this.graph.sendMessage(\"Finish\");else if(\"UCFlip\"===e)this.status=Ne.SelphID.Mode.Back,this.retries=0;else if(\"UCCancelByUser\"===e){this.clockNewScenario=performance.now();let e=new CustomEvent(\"FPhi.SelphID.UserCancel.event\");this.divContainer.dispatchEvent(e),this.Stop()}else if(\"UCFinish\"===e){this.results.cameraId=this.cameraId,this.cm.getVideoRecord()&&(this.results.video=this.recordedVideo);let e=new CustomEvent(\"FPhi.SelphID.Finish.event\",{detail:this.results});this.divContainer.dispatchEvent(e),this.Stop()}else if(\"UCTimeout\"===e)this.divContainer.dispatchEvent(new CustomEvent(\"FPhi.SelphID.ExtractionTimeout.event\")),this.Stop();else if(\"UCErrors\"===e){let e={livenessMoveFails:this.livenessMoveActualFailedAttempts,livenessMoveHistory:this.livenessMoveHistory,livenessMoveStabilizedHistory:this.livenessMoveStabilizedStatusHistory,livenessMoveStabilizedStatus:this.livenessMoveLastStabilizedStatus};if(null!=this.lastExtractionResult&&null!=this.lastExtractionResult.sunGlassesScore&&(e.sunGlassesScore=this.lastExtractionResult.sunGlassesScore),this.logAllImages){let t=[];for(let e=0;e<this.privateImages.length;e++)void 0!==this.privateImages[e]&&t.push(this.getImgTag(this.privateImages[e],this.cropImage,this.cropFactor,this.imageFormat,this.imageQuality));e.images=t,e.timeStamp=this.privateLivenessResults}if(this.clockNewScenario=performance.now(),this.livenessDiagnostic<0)this.divContainer.dispatchEvent(new CustomEvent(\"FPhi.SelphID.ExtractionTimeout.event\",{detail:e}));else{e.livenessErrorType=this.livenessDiagnostic;let t=new CustomEvent(\"FPhi.SelphID.LivenessError.event\",{detail:e});this.divContainer.dispatchEvent(t)}}else if(\"UCWaitRecording\"===e){if(this.cm.getVideoRecord()){this.printLog(\"SelphId: generating movie\"),this.agProcessing=!0;let e=this;this.agProcessingFirst=performance.now(),this.recorder.generateVideo().then((function(t){e.recorderFinish=!0,e.recordedVideo=t}),(function(t){e.recorderFinish=!0,e.printLog(\"SelphId: Error generating video\")}))}}else\"UCJumpSimpleMode\"===e&&(this.Stop(),this.StartManual());if(this.divContainer){let t=new CustomEvent(\"FPhi.SelphID.TrackStatus.event\",{detail:{code:Ne.SelphID.TrackStatus.ChangeState,timeStamp:this.secondsWidget,data:e}});if(this.divContainer.dispatchEvent(t),this.cm.getAccessibility()&&void 0!==this.elements){let e=this.canvas.getContext(\"2d\",{alpha:!0});this.canvas.width<this.canvas.height&&this.cm.forceLandscape&&(e=this.canvasRotated.getContext(\"2d\",{alpha:!0}));let t=e.canvas.width,i=e.canvas.height,l={};l.state=this.state;let a=[];null===this.elements&&(this.elements=[]);for(let n=0;n<this.elements.length;n++)if(this.cm.getAccessibleElements().includes(this.elements[n].type)){let s=this.drawer.getLayout(e,this.resourceParent,this.elements[n].id,this.elements[n].type,this.secondsWidget,this.secondsState,\"Normal\",l);null!=s&&(s=this.getLayoutFromXML(this.resourceParent,this.elements[n].id,s,t,i)),null!=s&&a.push({id:this.elements[n].id,type:this.elements[n].type,x:s.x*this.devicePixelRatio,y:s.y*this.devicePixelRatio,width:s.width*this.devicePixelRatio,height:s.height*this.devicePixelRatio})}let n=new CustomEvent(\"FPhi.SelphID.TrackStatus.event\",{detail:{code:Ne.SelphID.TrackStatus.AccessibilityData,timeStamp:this.secondsWidget,data:a}});this.divContainer.dispatchEvent(n)}}null!=this.graph&&this.graph.sendMessage(\"SetStatusFinished\")},getImageData:function(e){let t=e.getContext(\"2d\",{alpha:!0}),i=e.height,l=e.width;return{width:l,height:i,pixels:t.getImageData(0,0,l,i),time:performance.now()}},getImgTag:function(e,t,i,l,a){let n=document.createElement(\"canvas\");n.width=e.width,n.height=e.height,n.getContext(\"2d\").putImageData(e.pixels,0,0);let s=document.createElement(\"canvas\");if(t&&void 0!==e.extractionResult&&void 0!==e.extractionResult.face){let t=e.extractionResult.face.width*i,l=e.extractionResult.face.height*i,a=e.extractionResult.face.x-(i-1)*e.extractionResult.face.width/2,d=e.extractionResult.face.y-(i-1)*e.extractionResult.face.height/2;a<0&&(t+=a,a=0),d<0&&(l+=d,d=0),a+t>=e.width&&(t=e.width-a),d+l>=e.height&&(l=e.height-d),s.width=t,s.height=l,s.getContext(\"2d\").drawImage(n,a,d,t,l,0,0,s.width,s.height)}else s.width=e.width,s.height=e.height,s.getContext(\"2d\").drawImage(n,0,0,s.width,s.height);let d=document.createElement(\"img\");return d.src=s.toDataURL(this.imageFormat,this.imageQuality),d},startVideos:function(e){if(null!=e.elements)for(let t=0;t<e.elements.length;t++)if(\"video\"===e.elements[t].type){let i=document.createElement(\"video\");i.hidden=!0,i.playsinline=!0,i.loop=!1,i.muted=!0,i.autoplay=!0,i.controls=!0,i.src=e.rm.getResourceUrlBase(e.rm.getSetupResourceId(e.resourceParent,e.elements[t].id,e.canvas.width<e.canvas.height,\"value\")),i.addEventListener(\"ended\",e.videoplayerEnded.bind(e),!1),i.setAttribute(\"playsinline\",\"\"),i.setAttribute(\"webkit-playsinline\",\"\"),i.play(),e.elements[t].videoPlayer=i,this.printLog(\"SelphId: start of video: \"+e.elements[t].id,e.elements[t])}},canvasOnMove:function(e){if(void 0!==this.elements)for(let t=this.elements.length-1;t>=0;t--)if(void 0!==this.elements[t].layout&&e.offsetX>=this.elements[t].layout.x&&e.offsetX<this.elements[t].layout.x+this.elements[t].layout.width&&e.offsetY>=this.elements[t].layout.y&&e.offsetY<this.elements[t].layout.y+this.elements[t].layout.height){this.drawer.onMouseMove(e.target,this.elements[t].layout,this.resourceParent,this.elements[t].id,this.elements[t].type);break}},routeClick:function(e,t){this.canvasOnClick({offsetX:e,offsetY:t})},canvasOnClick:function(e){if(\"UCErrors\"===this.state){if(e.offsetX,e.offsetY>this.canvasHeight-this.buttonHeight){let e;-1===this.livenessDiagnostic?(e=new CustomEvent(\"FPhi.SelphID.TimeoutErrorButtonClick.event\"),this.divContainer.dispatchEvent(e)):(e=new CustomEvent(\"FPhi.SelphID.LivenessErrorButtonClick.event\"),this.divContainer.dispatchEvent(e))}}else{if(void 0===this.elements)return;let t=null;for(let i=this.elements.length-1;i>=0;i--){let l=e.offsetX,a=e.offsetY;if(this.canvas.width<this.canvas.height&&this.cm.forceLandscape&&(l=e.offsetY,a=this.canvas.width/this.devicePixelRatio-e.offsetX),null!=this.elements[i].layout&&l>=this.elements[i].layout.x&&l<this.elements[i].layout.x+this.elements[i].layout.width&&a>=this.elements[i].layout.y&&a<this.elements[i].layout.y+this.elements[i].layout.height){t=this.elements[i].id;let e=new CustomEvent(\"FPhi.SelphID.TrackStatus.event\",{detail:{code:Ne.SelphID.TrackStatus.Tap,timeStamp:this.secondsWidget,data:t}});this.divContainer.dispatchEvent(e);let l=\"Click//\"+this.elements[i].id;this.graph.sendMessage(l);break}}}},initCamera:function(e,t,i){let l=this.canvas;if(!this.video){let t=document.createElement(\"video\");t.id=\"live\",t.setAttribute(\"playsinline\",\"\"),t.setAttribute(\"webkit-playsinline\",\"\"),t.setAttribute(\"autoplay\",\"\"),t.setAttribute(\"muted\",\"\"),t.style.display=\"none\",e.insertBefore(t,e.firstChild),this.video=t}l.imageSmoothingEnabled=!0,l&&(l.style.display=\"none\",l.onclick=this.canvasOnClick.bind(this),l.addEventListener(\"mousemove\",this.canvasOnMove.bind(this),!1),this.privateCanvas=document.createElement(\"canvas\"),0===this.cameraRotation||2===this.cameraRotation?(this.privateCanvas.width=t,this.privateCanvas.height=i):(this.privateCanvas.width=i,this.privateCanvas.height=t))},grantVideoPermission:async function(){try{let e={video:{width:640,height:480},audio:!1};(await navigator.mediaDevices.getUserMedia(e)).getTracks().forEach((e=>{e.stop()}))}catch(e){}},setVideoInput:function(e){e.canvas&&e.playDevice(e,e.cm.getCameraId())},playDevice:async function(e,t){let i=this.video;if(this.canvas.getContext(\"2d\",{alpha:!0}),window.stream&&window.stream.getTracks().forEach((e=>{e.stop()})),e.forceCameraId&&(t=e.forceCameraId),null!=t){let l={video:{deviceId:t,width:e.cm.getCameraWidth(),height:e.cm.getCameraHeight()},audio:!1};navigator.mediaDevices.getUserMedia(l).then((function(t){let l=t.getVideoTracks()[0].getSettings();l&&(e.cameraMustFlip=\"environment\"!==l.facingMode&&e.cm.getCameraMirror()),e.cameraStream=t,e.cameraId=e.cameraStream.getVideoTracks()[0].getSettings().deviceId,i.srcObject=t,i.addEventListener(\"loadedmetadata\",e.videoLoaded.bind(e),!1),i.play()})).catch((function(t){e.printLog(\"SelphId: Error open camera with id: \"+e.cm.getCameraId()),e.printLog(t),e.playDevice(e,null)}))}else{let t=e.cm.getCameraWidth(),l=e.cm.getCameraHeight(),a={video:{width:t,height:l,facingMode:{exact:!0===e.cameraFrontSide?\"user\":\"environment\"},zoom:1,focusMode:\"continuous\",exposureMode:\"continuous\"},audio:!1};navigator.mediaDevices.getUserMedia(a).then((function(t){let l=t.getVideoTracks()[0].getConstraints();l&&(e.cameraMustFlip=\"environment\"!==l.facingMode.exact&&e.cm.getCameraMirror()),e.cameraId=e.cameraStream.getVideoTracks()[0].getSettings().deviceId,i.srcObject=t,i.addEventListener(\"loadedmetadata\",e.videoLoaded.bind(e),!1),i.play()})).catch((function(a){let n={video:{width:t,height:l,facingMode:{exact:!0!==e.cameraFrontSide?\"user\":\"environment\"},zoom:1,focusMode:\"continuous\",exposureMode:\"continuous\"},audio:!1};e.cameraMustFlip=!0!==e.cameraFrontSide&&e.cm.getCameraMirror(),navigator.mediaDevices.getUserMedia(n).then((function(t){let l=t.getVideoTracks()[0].getConstraints();l&&(e.cameraMustFlip=\"environment\"!==l.facingMode.exact&&e.cm.getCameraMirror()),e.cameraStream=t,e.cameraId=e.cameraStream.getVideoTracks()[0].getSettings().deviceId,i.srcObject=t,i.addEventListener(\"loadedmetadata\",e.videoLoaded.bind(e),!1),i.play()})).catch((function(a){let n={video:{width:t,height:l,facingMode:\"environment\",zoom:1,focusMode:\"continuous\",exposureMode:\"continuous\"},audio:!1};navigator.mediaDevices.getUserMedia(n).then((function(t){e.cameraMustFlip=!(e.mobileCheck()|e.isIpadOS())&&e.cm.getCameraMirror(),e.cameraStream=t,e.cameraId=e.cameraStream.getVideoTracks()[0].getSettings().deviceId,i.srcObject=t,i.addEventListener(\"loadedmetadata\",e.videoLoaded.bind(e),!1),i.play()})).catch((function(t){console.log(t),e.printLog(\"SelphId: Camera error\");let i=new CustomEvent(\"FPhi.SelphID.ExceptionCaptured.event\",{detail:{message:\"Camera not found.\",exceptionType:0}});e.divContainer.dispatchEvent(i)}))}))}))}},handleRecorderDataAvailable:function(e){e.data&&e.data.size>0&&this.recordedBlobs.push(e.data)},handleRecorderOnStop:function(e){this.recorderFinish=!0},mobileCheck:function(){let e=!1;return function(t){(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},isIpadOS:function(){return navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)},gotDevices:function(e){let t=0;for(let i=0;i!==e.length;++i)\"videoinput\"===e[i].kind&&t++;this.cameraList=new Array(t);let i=0;for(let t=0;t!==e.length;++t){let l=e[t];if(\"videoinput\"===l.kind){let e=document.createElement(\"option\");e.value=l.deviceId,e.text=l.label,this.cameraList[i]=e,i++}}let l=new CustomEvent(\"FPhi.SelphID.Cameras.event\",{detail:{cameras:this.cameraList}});this.divContainer.dispatchEvent(l)},handleCameraError:function(e){},getLayoutFromXML:function(e,t,i,l,a){let n=\"LEFT\",s=\"TOP\",d=i,c=!1;if(this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"width\")){null==d&&(d={});let i=this.rm.getSetupFloat(e,t,this.drawer.landscape,\"width\");d.width=i<=1?i*l:i,c=!0}if(this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"height\")){null==d&&(d={});let i=this.rm.getSetupFloat(e,t,this.drawer.landscape,\"height\");d.height=i<=1?i*a:i,c=!0}if(this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"xAnchor\")&&(n=this.rm.getSetupAlign(e,t,this.drawer.landscape,\"xAnchor\")),this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"yAnchor\")&&(s=this.rm.getSetupAlign(e,t,this.drawer.landscape,\"yAnchor\")),this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"x\")){null==d&&(d={});let i=this.rm.getSetupFloat(e,t,this.drawer.landscape,\"x\");d.x=i<=1&&i>=-1?i*l:i,\"CENTER\"===n?d.x=l/2-d.width/2+d.x:\"RIGHT\"===n&&(d.x=l-d.width+d.x),c=!0}if(this.rm.isAttributeAvailable(e,t,this.drawer.landscape,\"y\")){null==d&&(d={});let i=this.rm.getSetupFloat(e,t,this.drawer.landscape,\"y\");d.y=i<=1&&i>=-1?i*a:i,\"CENTER\"===s?d.y=a/2-d.height/2+d.y:\"BOTTOM\"===s&&(d.y=a-d.height+d.y),c=!0}return d},draw:function(e,t){if(null==e.drawer)return;let i=e.canvas.getContext(\"2d\",{alpha:!0});e.canvas.width<e.canvas.height&&e.cm.forceLandscape&&(i=e.canvasRotated.getContext(\"2d\",{alpha:!0}));let l=i.canvas.width,a=i.canvas.height;i.clearRect(0,0,l,a),this.canvasWidth=l,this.canvasHeight=a,e.fpsframes++,e.actualTimePrev=e.actualTime,e.actualTime=performance.now();let n=(e.actualTime-e.fpsTime)/1e3;n>1&&(e.fps=e.fpsframes/n,e.fpseframes>0?e.fpse=e.fpseframes/n:e.fpse=0,e.fpsTime=e.actualTime,e.fpsframes=0,e.fpseframes=0);let s=\"Normal\";if(\"UCCaptureStatus\"===e.state&&!1===e.imageCaptured&&(s=\"Warning\"),e.iterateAutomata(e,t,i),e.secondsWidget=(e.actualTime-e.widgetTime)/1e3,e.secondsState=(e.actualTime-e.stateTime)/1e3,i.save(),i.scale(e.devicePixelRatio,e.devicePixelRatio),void 0!==e.elements&&null!==e.elements){let n={progress:0};n.state=e.state,n.contour=e.contour,n.status=e.status,n.previewImage=e.previewImage,n.forceLandscape=e.cm.getForceLandscape(),n.diagnostic=e.diagnostic,n.cameraOverflow=e.cm.getCameraOverflow();for(let d=0;d<e.elements.length;d++){if((\"button\"===e.elements[d].type||\"buttonImage\"===e.elements[d].type)&&!1===e.interactible)continue;let c=e.drawer.getLayout(i,e.resourceParent,e.elements[d].id,e.elements[d].type,e.secondsWidget,e.secondsState,s,n);if(null!=c&&(c=e.getLayoutFromXML(e.resourceParent,e.elements[d].id,c,l,a)),null!=c){e.elements[d].layout=c;let l=e.elements[d].mode,a=!1;if(null!=l){let e=l.split(\"|\");for(let t=0;t<e.length;t++)if(e[t]===s){a=!0;break}}else a=!0;if(!0===a){if(\"video\"===e.elements[d].type)n.player=e.elements[d].videoPlayer;else if(\"camera\"===e.elements[d].type){let i=e.privateCanvas.getContext(\"2d\");switch(i.save(),e.cameraRotation){case 0:i.drawImage(t,0,0,e.cameraWidth,e.cameraHeight);break;case 1:case 3:i.translate(e.cameraHeight/2,e.cameraWidth/2),i.rotate(Math.PI/2*e.cameraRotation),i.drawImage(t,-e.cameraWidth/2,-e.cameraHeight/2);break;case 2:i.translate(e.cameraWidth/2,e.cameraHeight/2),i.rotate(Math.PI/2*e.cameraRotation),i.drawImage(t,-e.cameraWidth/2,-e.cameraHeight/2)}switch(i.restore(),n.camera=e.privateCanvas,e.cameraRotation){case 0:case 2:n.width=e.cameraWidth,n.height=e.cameraHeight;break;default:n.width=e.cameraHeight,n.height=e.cameraWidth}n.cameraRotation=e.cameraRotation,n.cameraMustFlip=e.cameraMustFlip}e.cm.getAccessibility()&&e.cm.getAccessibleElements().includes(e.elements[d].type)||e.drawer.draw(i,c,e.resourceParent,e.elements[d].id,e.elements[d].type,e.secondsWidget,e.secondsState,s,n)}}}}else if(\"UCErrors\"===e.state){i.fillStyle=\"white\",i.fillRect(0,0,l,a);let t=e.livenessErrorString,n=15*e.fontSizeFactor,s=e.rm.getSetupResourceId(\"facephi-widget-conf\",\"\",\"font_warning_message\");i.font=n+\"px '\"+s+\"'\",i.fillStyle=\"black\";let d=t.split(\"\\n\");for(let t=0;t<d.length;t++){let a=i.measureText(d[t]),s=330*e.canvasSizeFactor+n*t;i.fillText(d[t],l/2-a.width/2,s)}let c=e.livenessErrorImage,h=e.scaleRect({width:c.width,height:c.height},{x:.03*l,y:.378*a,width:.94*l,height:.1*a},!0);i.drawImage(c,h.x,h.y,h.width,h.height),e.drawButton(e,i,{x:0,y:a-e.buttonHeight,width:l,height:e.buttonHeight},\"Results\",\"button_finish\"),e.secondsState}else\"UCTimeout\"===e.state&&(i.fillStyle=\"white\",i.fillRect(0,0,l,a));if(e.debug){let t=4;if(i.fillStyle=\"#ff000044\",i.fillRect(0,51,250,320),i.lineWidth=1,i.strokeStyle=\"#ff000088\",i.strokeRect(0,51,250,320),i.font=\"14px Verdana\",e.drawBorderedText(i,\"Version\"+e.extractorVersion,3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"Preview: \"+e.preview,3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"State: \"+e.state,3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"FPS: \"+e.fps.toFixed(2),3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"FPS Extractor: \"+e.fpse.toFixed(2),3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"Camera size: \"+e.cameraWidth+\"x\"+e.cameraHeight+\" px\",3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"Canvas size: \"+l+\"x\"+a+\" px\",3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"Camera rotation: \"+e.cameraRotation,3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"WidgetTime: \"+e.secondsWidget.toFixed(2),3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"StateTime: \"+e.secondsState.toFixed(2),3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"Operating mode: \"+s,3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"Internal status: \"+e.detectionStatus?.internalStatus,3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"Detection status: \"+Z[e.detectionStatus?.status],3,20*t,\"black\",\"white\"),t++,e.drawBorderedText(i,\"Glare detection: \"+e.detectionStatus?.glare,3,20*t,\"black\",\"white\"),t++,e.docRect){let t=l/e.devicePixelRatio/4,a=t/e.cameraWidth,n=e.cameraHeight*a;i.drawImage(e.privateCanvas,0,0,e.cameraWidth,e.cameraHeight,l/e.devicePixelRatio-t-5,55,t,n)}}if(i.restore(),e.canvas.width<e.canvas.height&&e.cm.forceLandscape){let t=e.canvas.getContext(\"2d\",{alpha:!0});t.clearRect(0,0,t.canvas.width,t.canvas.height),t.save(),t.translate(t.canvas.width/2,t.canvas.height/2),t.rotate(Math.PI/2),t.drawImage(e.canvasRotated,-t.canvas.height/2,-t.canvas.width/2),t.restore()}setTimeout(e.draw,e.samplePeriod,e,t)},drawBorderedText:function(e,t,i,l,a,n){e.fillStyle=a,e.fillText(t,i,l),e.fillStyle=n,e.fillText(t,i-1,l-2)},openFullScreen:function(e){let t;e.requestFullscreen?t=e.requestFullscreen():e.mozRequestFullScreen?t=e.mozRequestFullScreen():e.webkitRequestFullscreen?t=e.webkitRequestFullscreen():e.msRequestFullscreen&&(t=e.msRequestFullscreen()),t.catch((function(e){}))},iterateAutomata:function(e,t,i){if(!1!==e.cameraReady){if(\"UCNothing\"===e.state)e.workerWorking=!1,e.graph.sendMessage(\"SetMode//0,0,0,\"+(!0===e.cm.getInitialTip()?\"1\":\"0\"));else if(\"UCCapture\"===e.state){if(0==e.workerWorking)if(!0===e.imageCaptured&&e.secondsWidget-e.imageCapturedTime>1||e.secondsState>e.captureTimeout&&e.captureTimeout>0)e.graph.sendMessage(\"CaptureFinish\");else{let l=e.privateCanvas.getContext(\"2d\");switch(l.save(),e.cameraRotation){case 0:l.drawImage(t,0,0,e.cameraWidth,e.cameraHeight);break;case 1:case 3:l.translate(e.cameraHeight/2,e.cameraWidth/2),l.rotate(Math.PI/2*e.cameraRotation),l.drawImage(t,-e.cameraWidth/2,-e.cameraHeight/2);break;case 2:l.translate(e.cameraWidth/2,e.cameraHeight/2),l.rotate(Math.PI/2*e.cameraRotation),l.drawImage(t,-e.cameraWidth/2,-e.cameraHeight/2)}if(l.restore(),e.canvas.width<e.canvas.height&&e.cm.forceLandscape){let t=e.drawer.getDocRectScreenSpace(i.canvas.width,i.canvas.height),l={x:i.canvas.height-(t.y+t.height),y:t.x,width:t.height,height:t.width};e.docRect=e.drawer.fromScreenToCamera(i,e.cameraWidth,e.cameraHeight,i.canvas.height,i.canvas.width,e.cameraMustFlip,l)}else e.docRect=e.drawer.getDocRect(i,e.cameraWidth,e.cameraHeight,e.cameraContainer.offsetWidth,e.cameraContainer.offsetHeight,e.cameraMustFlip);e.docRect.x-=(1.2*e.docRect.width-e.docRect.width)/2,e.docRect.y-=(1.2*e.docRect.height-e.docRect.height)/2,e.docRect.width*=1.2,e.docRect.height*=1.2,e.docRect.x+e.docRect.width>e.cameraWidth&&(e.docRect.width=e.cameraWidth-e.docRect.x),e.docRect.y+e.docRect.height>e.cameraHeight&&(e.docRect.height=e.cameraHeight-e.docRect.y),e.fpseframes++,e.workerWorking=!0,this.engine.detectImage(e.privateCanvas,e.status).then((t=>{e.detectionStatus=t.detectionStatus,e.results=t,e.diagnostic=t.detectionStatus.status,e.cm.getCaptureMode()==Ne.SelphID.CaptureMode.SingleSide||e.status===Ne.SelphID.Mode.Front&&e.cm.getCaptureMode()===Ne.SelphID.CaptureMode.DoubleSide?0===t.diagnostic&&null!==t.images.frontDocument&&null!==t.images.frontDocument.rawImage&&(e.previewImage=e.getImg(t.imagesRaw.frontDocument),e.imageCaptured=!0):e.status===Ne.SelphID.Mode.Back&&0===t.diagnostic&&null!==t.images&&null!==t.images.backDocument&&null!==t.images.backDocument.rawImage&&(e.previewImage=e.getImg(t.imagesRaw.backDocument),e.imageCaptured=!0),e.workerWorking=!1}),(t=>{console.error(t),e.workerWorking=!1}))}}else\"UCCaptureStatus\"===e.state?e.secondsState>1.5&&(!0===this.imageCaptured?this.preview?this.graph.sendMessage(\"Preview\"):this.cm.getCaptureMode()===Ne.SelphID.CaptureMode.DoubleSide&&this.status===Ne.SelphID.Mode.Front?this.graph.sendMessage(\"Next\"):this.graph.sendMessage(\"Finish\"):(this.retries++,this.retries>=this.captureRetries&&this.captureRetries>0&&!1===this.debug?this.cm.getAskSimpleMode()?this.graph.sendMessage(\"TimeoutPreview\"):this.graph.sendMessage(\"Timeout\"):this.graph.sendMessage(\"Fail\"))):\"UCPreview\"===e.state||(\"UCFlip\"===e.state?e.secondsState>1&&e.graph.sendMessage(\"Timer\"):\"UCWaitRecording\"===e.state&&(e.cm.getVideoRecord()?e.recorderFinish&&e.graph.sendMessage(\"Finish\"):e.graph.sendMessage(\"Finish\")));if(e.cm.getVideoRecord()&&e.recorder.isReady()){e.privateRecordCanvasContext.drawImage(t,0,0,e.privateRecordCanvas.width,e.privateRecordCanvas.height);let i=e.privateRecordCanvasContext.getImageData(0,0,e.privateRecordCanvas.width,e.privateRecordCanvas.height);e.recorder.addFrame(i)}}},getImg:function(e){let t=new ImageData(e.data,e.width,e.height,{colorSpace:e.colorSpace}),i=document.createElement(\"canvas\");i.width=e.width,i.height=e.height,i.getContext(\"2d\").putImageData(t,0,0);const l=i.toDataURL();let a=document.createElement(\"img\");return a.src=l,a},getVideoSources:function(e){let t=null;navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then((function(i){let l=i.filter((function(e){return\"video\"===e.kind})).map((function(e,t){return e.id}));t=l[0],e.setVideoInput(e)})):MediaStreamTrack.getSources((function(i){let l=i.filter((function(e){return\"video\"===e.kind})).map((function(e,t){return e.id}));t=l[0],e.setVideoInput(e)})),null==t&&e.printLog(\"selectedSource==null\")},isPathAbsolute:function(e){return/^(?:\\/|.+:\\/\\/|http)/.test(e)},getScriptPath:function(){return String((new Error).stack).replace(/^Error.*\\n/,\"\").split(\"\\n\")[1].match(/http.*\\.js/)[0].split(\"/\").slice(0,-1).join(\"/\")+\"/\"},OnResourceManagerStatus:function(e,t){null!==e&&t&&(e.rmReady=!0,e.CheckDependencies(e))},OnGraphReady:function(e){this.graphReady=!0,this.CheckDependencies(this)},CheckDependencies:async function(e){if(!0===e.rmReady&&void 0!==e.drawer&&!0===e.graphReady&&!0===e.cameraReady&&1==e.engineLoaded&&\"UCNothing\"!==e.graph.state){let t=e.canvas;null!=t&&(t.style.display=\"none\");let i=new CustomEvent(\"FPhi.SelphID.ModuleLoaded.event\",{detail:{cameraWidth:e.cameraWidth,cameraHeight:e.cameraHeight}});this.divContainer.dispatchEvent(i),e.drawer.rm=e.rm,e.drawer.cameraCount=e.cameraCount;let l=e.canvas;e.canvas.width<e.canvas.height&&e.cm.forceLandscape?(e.drawer.setCanvasSize(e.cameraContainer.offsetHeight,e.cameraContainer.offsetWidth),l=e.canvasRotated):e.drawer.setCanvasSize(e.cameraContainer.offsetWidth,e.cameraContainer.offsetHeight),e.graph.setInitialState(\"UCNothing\"),l.getContext(\"2d\",{alpha:!0}),e.draw(e,e.video),e.cameraContainer.removeChild(e.gifWait)}},videoLoaded:function(e){let t=!0;!0===this.cameraReady&&(t=!1),this.cameraWidth=e.target.videoWidth,this.cameraHeight=e.target.videoHeight,0===this.cameraRotation||2===this.cameraRotation?(this.privateCanvas.width=this.cameraWidth,this.privateCanvas.height=this.cameraHeight):(this.privateCanvas.width=this.cameraHeight,this.privateCanvas.height=this.cameraWidth),this.cameraReady=!0,this.video,this.canvas.getContext(\"2d\",{alpha:!0});let i=document.createElement(\"canvas\");if(i.width=this.cameraWidth,i.height=this.cameraHeight,this.workerCanvas=i,this.workerCanvasContext=i.getContext(\"2d\").getImageData(0,0,this.cameraWidth,this.cameraHeight),this.cm.getVideoRecord()){switch(this.printLog(\"Selphi: Video recording enabled...\"),this.videoRecordWidth=this.cameraWidth*this.cm.getVideoRecordScale(),this.videoRecordHeight=this.cameraHeight*this.cm.getVideoRecordScale(),this.cm.getVideoRecordType()){case Ne.SelphID.RecorderType.Local:this.recorder=new h(this.cameraWidth*this.cm.getVideoRecordScale(),this.cameraHeight*this.cm.getVideoRecordScale(),this.cm.getVideoRecordRate(),this.bundlePath);break;case Ne.SelphID.RecorderType.Remote:this.recorder=new r(this.cameraWidth*this.cm.getVideoRecordScale(),this.cameraHeight*this.cm.getVideoRecordScale(),this.cm.getVideoRecordRate(),this.bundlePath)}this.privateRecordCanvas=document.createElement(\"canvas\"),this.privateRecordCanvas.width=this.videoRecordWidth,this.privateRecordCanvas.height=this.videoRecordHeight,this.privateRecordCanvasContext=this.privateRecordCanvas.getContext(\"2d\")}t&&this.CheckDependencies(this)},videoFrame:function(e){this.canvasVideoPlayer.getContext(\"2d\").drawImage(e.target,0,0)},videoplayerEnded:function(e){\"UCWizardCompleted\"===this.state?this.graph.sendMessage(\"VideoFinished\"):e.target.play()}},Ne.SelphID.CheckCapabilities=async function(){let e={};return e.video_devices=await(await navigator.mediaDevices.enumerateDevices()).filter((e=>\"videoinput\"==e.kind)).length>0,e.wasm=(()=>{try{if(\"object\"==typeof WebAssembly&&\"function\"==typeof WebAssembly.instantiate){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1})(),e.wasm_pthreads=!1,!0===e.wasm&&\"function\"==typeof SharedArrayBuffer&&(e.wasm_pthreads=!0),e},Ne.SelphID.Component=I,customElements.define(\"facephi-selphid\",Ne.SelphID.Component)})();var a=l.l;export{a as FPhi};"],"mappings":"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"},"metadata":{},"sourceType":"module"}